(self["webpackChunk_devicefarmer_stf"] = self["webpackChunk_devicefarmer_stf"] || []).push([[3],[
/* 0 */,
/* 1 */,
/* 2 */,
/* 3 */,
/* 4 */,
/* 5 */,
/* 6 */,
/* 7 */,
/* 8 */,
/* 9 */,
/* 10 */
/***/ ((module, exports, __webpack_require__) => {

var __WEBPACK_AMD_DEFINE_RESULT__;/*! 
 * angular-hotkeys v1.7.0
 * https://chieffancypants.github.io/angular-hotkeys
 * Copyright (c) 2016 Wes Cruver
 * License: MIT
 */
/*
 * angular-hotkeys
 *
 * Automatic keyboard shortcuts for your angular apps
 *
 * (c) 2016 Wes Cruver
 * License: MIT
 */

(function() {

  'use strict';

  angular.module('cfp.hotkeys', []).provider('hotkeys', ['$injector', function($injector) {

    /**
     * Configurable setting to disable the cheatsheet entirely
     * @type {Boolean}
     */
    this.includeCheatSheet = true;

    /**
     * Configurable setting to disable ngRoute hooks
     * @type {Boolean}
     */
    this.useNgRoute = $injector.has('ngViewDirective');

    /**
     * Configurable setting for the cheat sheet title
     * @type {String}
     */

    this.templateTitle = 'Keyboard Shortcuts:';

    /**
     * Configurable settings for the cheat sheet header and footer.  Both are HTML, and the header
     * overrides the normal title if specified.
     * @type {String}
     */
    this.templateHeader = null;
    this.templateFooter = null;

    /**
     * Cheat sheet template in the event you want to totally customize it.
     * @type {String}
     */
    this.template = '<div class="cfp-hotkeys-container fade" ng-class="{in: helpVisible}" style="display: none;"><div class="cfp-hotkeys">' +
                      '<h4 class="cfp-hotkeys-title" ng-if="!header">{{ title }}</h4>' +
                      '<div ng-bind-html="header" ng-if="header"></div>' +
                      '<table><tbody>' +
                        '<tr ng-repeat="hotkey in hotkeys | filter:{ description: \'!$$undefined$$\' }">' +
                          '<td class="cfp-hotkeys-keys">' +
                            '<span ng-repeat="key in hotkey.format() track by $index" class="cfp-hotkeys-key">{{ key }}</span>' +
                          '</td>' +
                          '<td class="cfp-hotkeys-text">{{ hotkey.description }}</td>' +
                        '</tr>' +
                      '</tbody></table>' +
                      '<div ng-bind-html="footer" ng-if="footer"></div>' +
                      '<div class="cfp-hotkeys-close" ng-click="toggleCheatSheet()">&#215;</div>' +
                    '</div></div>';

    /**
     * Configurable setting for the cheat sheet hotkey
     * @type {String}
     */
    this.cheatSheetHotkey = '?';

    /**
     * Configurable setting for the cheat sheet description
     * @type {String}
     */
    this.cheatSheetDescription = 'Show / hide this help menu';

    this.$get = ['$rootElement', '$rootScope', '$compile', '$window', '$document', function ($rootElement, $rootScope, $compile, $window, $document) {

      var mouseTrapEnabled = true;

      function pause() {
        mouseTrapEnabled = false;
      }

      function unpause() {
        mouseTrapEnabled = true;
      }

      // monkeypatch Mousetrap's stopCallback() function
      // this version doesn't return true when the element is an INPUT, SELECT, or TEXTAREA
      // (instead we will perform this check per-key in the _add() method)
      Mousetrap.prototype.stopCallback = function(event, element) {
        if (!mouseTrapEnabled) {
          return true;
        }

        // if the element has the class "mousetrap" then no need to stop
        if ((' ' + element.className + ' ').indexOf(' mousetrap ') > -1) {
          return false;
        }

        return (element.contentEditable && element.contentEditable == 'true');
      };

      /**
       * Convert strings like cmd into symbols like ⌘
       * @param  {String} combo Key combination, e.g. 'mod+f'
       * @return {String}       The key combination with symbols
       */
      function symbolize (combo) {
        var map = {
          command   : '\u2318',     // ⌘
          shift     : '\u21E7',     // ⇧
          left      : '\u2190',     // ←
          right     : '\u2192',     // →
          up        : '\u2191',     // ↑
          down      : '\u2193',     // ↓
          'return'  : '\u23CE',     // ⏎
          backspace : '\u232B'      // ⌫
        };
        combo = combo.split('+');

        for (var i = 0; i < combo.length; i++) {
          // try to resolve command / ctrl based on OS:
          if (combo[i] === 'mod') {
            if ($window.navigator && $window.navigator.platform.indexOf('Mac') >=0 ) {
              combo[i] = 'command';
            } else {
              combo[i] = 'ctrl';
            }
          }

          combo[i] = map[combo[i]] || combo[i];
        }

        return combo.join(' + ');
      }

      /**
       * Hotkey object used internally for consistency
       *
       * @param {array}    combo       The keycombo. it's an array to support multiple combos
       * @param {String}   description Description for the keycombo
       * @param {Function} callback    function to execute when keycombo pressed
       * @param {string}   action      the type of event to listen for (for mousetrap)
       * @param {array}    allowIn     an array of tag names to allow this combo in ('INPUT', 'SELECT', and/or 'TEXTAREA')
       * @param {Boolean}  persistent  Whether the hotkey persists navigation events
       */
      function Hotkey (combo, description, callback, action, allowIn, persistent) {
        // TODO: Check that the values are sane because we could
        // be trying to instantiate a new Hotkey with outside dev's
        // supplied values

        this.combo = combo instanceof Array ? combo : [combo];
        this.description = description;
        this.callback = callback;
        this.action = action;
        this.allowIn = allowIn;
        this.persistent = persistent;
        this._formated = null;
      }

      /**
       * Helper method to format (symbolize) the key combo for display
       *
       * @return {[Array]} An array of the key combination sequence
       *   for example: "command+g c i" becomes ["⌘ + g", "c", "i"]
       *
       */
      Hotkey.prototype.format = function() {
        if (this._formated === null) {
          // Don't show all the possible key combos, just the first one.  Not sure
          // of usecase here, so open a ticket if my assumptions are wrong
          var combo = this.combo[0];

          var sequence = combo.split(/[\s]/);
          for (var i = 0; i < sequence.length; i++) {
            sequence[i] = symbolize(sequence[i]);
          }
          this._formated = sequence;
        }

        return this._formated;
      };

      /**
       * A new scope used internally for the cheatsheet
       * @type {$rootScope.Scope}
       */
      var scope = $rootScope.$new();

      /**
       * Holds an array of Hotkey objects currently bound
       * @type {Array}
       */
      scope.hotkeys = [];

      /**
       * Contains the state of the help's visibility
       * @type {Boolean}
       */
      scope.helpVisible = false;

      /**
       * Holds the title string for the help menu
       * @type {String}
       */
      scope.title = this.templateTitle;

      /**
       * Holds the header HTML for the help menu
       * @type {String}
       */
      scope.header = this.templateHeader;

      /**
       * Holds the footer HTML for the help menu
       * @type {String}
       */
      scope.footer = this.templateFooter;

      /**
       * Expose toggleCheatSheet to hotkeys scope so we can call it using
       * ng-click from the template
       * @type {function}
       */
      scope.toggleCheatSheet = toggleCheatSheet;


      /**
       * Holds references to the different scopes that have bound hotkeys
       * attached.  This is useful to catch when the scopes are `$destroy`d and
       * then automatically unbind the hotkey.
       *
       * @type {Object}
       */
      var boundScopes = {};

      if (this.useNgRoute) {
        $rootScope.$on('$routeChangeSuccess', function (event, route) {
          purgeHotkeys();

          if (route && route.hotkeys) {
            angular.forEach(route.hotkeys, function (hotkey) {
              // a string was given, which implies this is a function that is to be
              // $eval()'d within that controller's scope
              // TODO: hotkey here is super confusing.  sometimes a function (that gets turned into an array), sometimes a string
              var callback = hotkey[2];
              if (typeof(callback) === 'string' || callback instanceof String) {
                hotkey[2] = [callback, route];
              }

              // todo: perform check to make sure not already defined:
              // this came from a route, so it's likely not meant to be persistent
              hotkey[5] = false;
              _add.apply(this, hotkey);
            });
          }
        });
      }



      // Auto-create a help menu:
      if (this.includeCheatSheet) {
        var document = $document[0];
        var element = $rootElement[0];
        var helpMenu = angular.element(this.template);
        _add(this.cheatSheetHotkey, this.cheatSheetDescription, toggleCheatSheet);

        // If $rootElement is document or documentElement, then body must be used
        if (element === document || element === document.documentElement) {
          element = document.body;
        }

        angular.element(element).append($compile(helpMenu)(scope));
      }


      /**
       * Purges all non-persistent hotkeys (such as those defined in routes)
       *
       * Without this, the same hotkey would get recreated everytime
       * the route is accessed.
       */
      function purgeHotkeys() {
        var i = scope.hotkeys.length;
        while (i--) {
          var hotkey = scope.hotkeys[i];
          if (hotkey && !hotkey.persistent) {
            _del(hotkey);
          }
        }
      }

      /**
       * Toggles the help menu element's visiblity
       */
      var previousEsc = false;

      function toggleCheatSheet() {
        scope.helpVisible = !scope.helpVisible;

        // Bind to esc to remove the cheat sheet.  Ideally, this would be done
        // as a directive in the template, but that would create a nasty
        // circular dependency issue that I don't feel like sorting out.
        if (scope.helpVisible) {
          previousEsc = _get('esc');
          _del('esc');

          // Here's an odd way to do this: we're going to use the original
          // description of the hotkey on the cheat sheet so that it shows up.
          // without it, no entry for esc will ever show up (#22)
          _add('esc', previousEsc.description, toggleCheatSheet, null, ['INPUT', 'SELECT', 'TEXTAREA']);
        } else {
          _del('esc');

          // restore the previously bound ESC key
          if (previousEsc !== false) {
            _add(previousEsc);
          }
        }
      }

      /**
       * Creates a new Hotkey and creates the Mousetrap binding
       *
       * @param {string}   combo       mousetrap key binding
       * @param {string}   description description for the help menu
       * @param {Function} callback    method to call when key is pressed
       * @param {string}   action      the type of event to listen for (for mousetrap)
       * @param {array}    allowIn     an array of tag names to allow this combo in ('INPUT', 'SELECT', and/or 'TEXTAREA')
       * @param {boolean}  persistent  if true, the binding is preserved upon route changes
       */
      function _add (combo, description, callback, action, allowIn, persistent) {

        // used to save original callback for "allowIn" wrapping:
        var _callback;

        // these elements are prevented by the default Mousetrap.stopCallback():
        var preventIn = ['INPUT', 'SELECT', 'TEXTAREA'];

        // Determine if object format was given:
        var objType = Object.prototype.toString.call(combo);

        if (objType === '[object Object]') {
          description = combo.description;
          callback    = combo.callback;
          action      = combo.action;
          persistent  = combo.persistent;
          allowIn     = combo.allowIn;
          combo       = combo.combo;
        }

        // no duplicates please
        _del(combo);

        // description is optional:
        if (description instanceof Function) {
          action = callback;
          callback = description;
          description = '$$undefined$$';
        } else if (angular.isUndefined(description)) {
          description = '$$undefined$$';
        }

        // any items added through the public API are for controllers
        // that persist through navigation, and thus undefined should mean
        // true in this case.
        if (persistent === undefined) {
          persistent = true;
        }
        // if callback is defined, then wrap it in a function
        // that checks if the event originated from a form element.
        // the function blocks the callback from executing unless the element is specified
        // in allowIn (emulates Mousetrap.stopCallback() on a per-key level)
        if (typeof callback === 'function') {

          // save the original callback
          _callback = callback;

          // make sure allowIn is an array
          if (!(allowIn instanceof Array)) {
            allowIn = [];
          }

          // remove anything from preventIn that's present in allowIn
          var index;
          for (var i=0; i < allowIn.length; i++) {
            allowIn[i] = allowIn[i].toUpperCase();
            index = preventIn.indexOf(allowIn[i]);
            if (index !== -1) {
              preventIn.splice(index, 1);
            }
          }

          // create the new wrapper callback
          callback = function(event) {
            var shouldExecute = true;

            // if the callback is executed directly `hotkey.get('w').callback()`
            // there will be no event, so just execute the callback.
            if (event) {
              var target = event.target || event.srcElement; // srcElement is IE only
              var nodeName = target.nodeName.toUpperCase();

              // check if the input has a mousetrap class, and skip checking preventIn if so
              if ((' ' + target.className + ' ').indexOf(' mousetrap ') > -1) {
                shouldExecute = true;
              } else {
                // don't execute callback if the event was fired from inside an element listed in preventIn
                for (var i=0; i<preventIn.length; i++) {
                  if (preventIn[i] === nodeName) {
                    shouldExecute = false;
                    break;
                  }
                }
              }
            }

            if (shouldExecute) {
              wrapApply(_callback.apply(this, arguments));
            }
          };
        }

        if (typeof(action) === 'string') {
          Mousetrap.bind(combo, wrapApply(callback), action);
        } else {
          Mousetrap.bind(combo, wrapApply(callback));
        }

        var hotkey = new Hotkey(combo, description, callback, action, allowIn, persistent);
        scope.hotkeys.push(hotkey);
        return hotkey;
      }

      /**
       * delete and unbind a Hotkey
       *
       * @param  {mixed} hotkey   Either the bound key or an instance of Hotkey
       * @return {boolean}        true if successful
       */
      function _del (hotkey) {
        var combo = (hotkey instanceof Hotkey) ? hotkey.combo : hotkey;

        Mousetrap.unbind(combo);

        if (angular.isArray(combo)) {
          var retStatus = true;
          var i = combo.length;
          while (i--) {
            retStatus = _del(combo[i]) && retStatus;
          }
          return retStatus;
        } else {
          var index = scope.hotkeys.indexOf(_get(combo));

          if (index > -1) {
            // if the combo has other combos bound, don't unbind the whole thing, just the one combo:
            if (scope.hotkeys[index].combo.length > 1) {
              scope.hotkeys[index].combo.splice(scope.hotkeys[index].combo.indexOf(combo), 1);
            } else {

              // remove hotkey from bound scopes
              angular.forEach(boundScopes, function (boundScope) {
                var scopeIndex = boundScope.indexOf(scope.hotkeys[index]);
                if (scopeIndex !== -1) {
                    boundScope.splice(scopeIndex, 1);
                }
              });

              scope.hotkeys.splice(index, 1);
            }
            return true;
          }
        }

        return false;

      }

      /**
       * Get a Hotkey object by key binding
       *
       * @param  {[string]} [combo]  the key the Hotkey is bound to. Returns all key bindings if no key is passed
       * @return {Hotkey}          The Hotkey object
       */
      function _get (combo) {

        if (!combo) {
          return scope.hotkeys;
        }

        var hotkey;

        for (var i = 0; i < scope.hotkeys.length; i++) {
          hotkey = scope.hotkeys[i];

          if (hotkey.combo.indexOf(combo) > -1) {
            return hotkey;
          }
        }

        return false;
      }

      /**
       * Binds the hotkey to a particular scope.  Useful if the scope is
       * destroyed, we can automatically destroy the hotkey binding.
       *
       * @param  {Object} scope The scope to bind to
       */
      function bindTo (scope) {
        // Only initialize once to allow multiple calls for same scope.
        if (!(scope.$id in boundScopes)) {

          // Add the scope to the list of bound scopes
          boundScopes[scope.$id] = [];

          scope.$on('$destroy', function () {
            var i = boundScopes[scope.$id].length;
            while (i--) {
              _del(boundScopes[scope.$id].pop());
            }
          });
        }
        // return an object with an add function so we can keep track of the
        // hotkeys and their scope that we added via this chaining method
        return {
          add: function (args) {
            var hotkey;

            if (arguments.length > 1) {
              hotkey = _add.apply(this, arguments);
            } else {
              hotkey = _add(args);
            }

            boundScopes[scope.$id].push(hotkey);
            return this;
          }
        };
      }

      /**
       * All callbacks sent to Mousetrap are wrapped using this function
       * so that we can force a $scope.$apply()
       *
       * @param  {Function} callback [description]
       * @return {[type]}            [description]
       */
      function wrapApply (callback) {
        // return mousetrap a function to call
        return function (event, combo) {

          // if this is an array, it means we provided a route object
          // because the scope wasn't available yet, so rewrap the callback
          // now that the scope is available:
          if (callback instanceof Array) {
            var funcString = callback[0];
            var route = callback[1];
            callback = function (event) {
              route.scope.$eval(funcString);
            };
          }

          // this takes place outside angular, so we'll have to call
          // $apply() to make sure angular's digest happens
          $rootScope.$apply(function() {
            // call the original hotkey callback with the keyboard event
            callback(event, _get(combo));
          });
        };
      }

      var publicApi = {
        add                   : _add,
        del                   : _del,
        get                   : _get,
        bindTo                : bindTo,
        template              : this.template,
        toggleCheatSheet      : toggleCheatSheet,
        includeCheatSheet     : this.includeCheatSheet,
        cheatSheetHotkey      : this.cheatSheetHotkey,
        cheatSheetDescription : this.cheatSheetDescription,
        useNgRoute            : this.useNgRoute,
        purgeHotkeys          : purgeHotkeys,
        templateTitle         : this.templateTitle,
        pause                 : pause,
        unpause               : unpause
      };

      return publicApi;

    }];


  }])

  .directive('hotkey', ['hotkeys', function (hotkeys) {
    return {
      restrict: 'A',
      link: function (scope, el, attrs) {
        var keys = [],
            allowIn;

        angular.forEach(scope.$eval(attrs.hotkey), function (func, hotkey) {
          // split and trim the hotkeys string into array
          allowIn = typeof attrs.hotkeyAllowIn === "string" ? attrs.hotkeyAllowIn.split(/[\s,]+/) : [];

          keys.push(hotkey);

          hotkeys.add({
            combo: hotkey,
            description: attrs.hotkeyDescription,
            callback: func,
            action: attrs.hotkeyAction,
            allowIn: allowIn
          });
        });

        // remove the hotkey if the directive is destroyed:
        el.bind('$destroy', function() {
          angular.forEach(keys, hotkeys.del);
        });
      }
    };
  }])

  .run(['hotkeys', function(hotkeys) {
    // force hotkeys to run by injecting it. Without this, hotkeys only runs
    // when a controller or something else asks for it via DI.
  }]);

})();

/*global define:false */
/**
 * Copyright 2015 Craig Campbell
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * Mousetrap is a simple keyboard shortcut library for Javascript with
 * no external dependencies
 *
 * @version 1.5.2
 * @url craig.is/killing/mice
 */
(function(window, document, undefined) {

    /**
     * mapping of special keycodes to their corresponding keys
     *
     * everything in this dictionary cannot use keypress events
     * so it has to be here to map to the correct keycodes for
     * keyup/keydown events
     *
     * @type {Object}
     */
    var _MAP = {
        8: 'backspace',
        9: 'tab',
        13: 'enter',
        16: 'shift',
        17: 'ctrl',
        18: 'alt',
        20: 'capslock',
        27: 'esc',
        32: 'space',
        33: 'pageup',
        34: 'pagedown',
        35: 'end',
        36: 'home',
        37: 'left',
        38: 'up',
        39: 'right',
        40: 'down',
        45: 'ins',
        46: 'del',
        91: 'meta',
        93: 'meta',
        224: 'meta'
    };

    /**
     * mapping for special characters so they can support
     *
     * this dictionary is only used incase you want to bind a
     * keyup or keydown event to one of these keys
     *
     * @type {Object}
     */
    var _KEYCODE_MAP = {
        106: '*',
        107: '+',
        109: '-',
        110: '.',
        111 : '/',
        186: ';',
        187: '=',
        188: ',',
        189: '-',
        190: '.',
        191: '/',
        192: '`',
        219: '[',
        220: '\\',
        221: ']',
        222: '\''
    };

    /**
     * this is a mapping of keys that require shift on a US keypad
     * back to the non shift equivelents
     *
     * this is so you can use keyup events with these keys
     *
     * note that this will only work reliably on US keyboards
     *
     * @type {Object}
     */
    var _SHIFT_MAP = {
        '~': '`',
        '!': '1',
        '@': '2',
        '#': '3',
        '$': '4',
        '%': '5',
        '^': '6',
        '&': '7',
        '*': '8',
        '(': '9',
        ')': '0',
        '_': '-',
        '+': '=',
        ':': ';',
        '\"': '\'',
        '<': ',',
        '>': '.',
        '?': '/',
        '|': '\\'
    };

    /**
     * this is a list of special strings you can use to map
     * to modifier keys when you specify your keyboard shortcuts
     *
     * @type {Object}
     */
    var _SPECIAL_ALIASES = {
        'option': 'alt',
        'command': 'meta',
        'return': 'enter',
        'escape': 'esc',
        'plus': '+',
        'mod': /Mac|iPod|iPhone|iPad/.test(navigator.platform) ? 'meta' : 'ctrl'
    };

    /**
     * variable to store the flipped version of _MAP from above
     * needed to check if we should use keypress or not when no action
     * is specified
     *
     * @type {Object|undefined}
     */
    var _REVERSE_MAP;

    /**
     * loop through the f keys, f1 to f19 and add them to the map
     * programatically
     */
    for (var i = 1; i < 20; ++i) {
        _MAP[111 + i] = 'f' + i;
    }

    /**
     * loop through to map numbers on the numeric keypad
     */
    for (i = 0; i <= 9; ++i) {
        _MAP[i + 96] = i;
    }

    /**
     * cross browser add event method
     *
     * @param {Element|HTMLDocument} object
     * @param {string} type
     * @param {Function} callback
     * @returns void
     */
    function _addEvent(object, type, callback) {
        if (object.addEventListener) {
            object.addEventListener(type, callback, false);
            return;
        }

        object.attachEvent('on' + type, callback);
    }

    /**
     * takes the event and returns the key character
     *
     * @param {Event} e
     * @return {string}
     */
    function _characterFromEvent(e) {

        // for keypress events we should return the character as is
        if (e.type == 'keypress') {
            var character = String.fromCharCode(e.which);

            // if the shift key is not pressed then it is safe to assume
            // that we want the character to be lowercase.  this means if
            // you accidentally have caps lock on then your key bindings
            // will continue to work
            //
            // the only side effect that might not be desired is if you
            // bind something like 'A' cause you want to trigger an
            // event when capital A is pressed caps lock will no longer
            // trigger the event.  shift+a will though.
            if (!e.shiftKey) {
                character = character.toLowerCase();
            }

            return character;
        }

        // for non keypress events the special maps are needed
        if (_MAP[e.which]) {
            return _MAP[e.which];
        }

        if (_KEYCODE_MAP[e.which]) {
            return _KEYCODE_MAP[e.which];
        }

        // if it is not in the special map

        // with keydown and keyup events the character seems to always
        // come in as an uppercase character whether you are pressing shift
        // or not.  we should make sure it is always lowercase for comparisons
        return String.fromCharCode(e.which).toLowerCase();
    }

    /**
     * checks if two arrays are equal
     *
     * @param {Array} modifiers1
     * @param {Array} modifiers2
     * @returns {boolean}
     */
    function _modifiersMatch(modifiers1, modifiers2) {
        return modifiers1.sort().join(',') === modifiers2.sort().join(',');
    }

    /**
     * takes a key event and figures out what the modifiers are
     *
     * @param {Event} e
     * @returns {Array}
     */
    function _eventModifiers(e) {
        var modifiers = [];

        if (e.shiftKey) {
            modifiers.push('shift');
        }

        if (e.altKey) {
            modifiers.push('alt');
        }

        if (e.ctrlKey) {
            modifiers.push('ctrl');
        }

        if (e.metaKey) {
            modifiers.push('meta');
        }

        return modifiers;
    }

    /**
     * prevents default for this event
     *
     * @param {Event} e
     * @returns void
     */
    function _preventDefault(e) {
        if (e.preventDefault) {
            e.preventDefault();
            return;
        }

        e.returnValue = false;
    }

    /**
     * stops propogation for this event
     *
     * @param {Event} e
     * @returns void
     */
    function _stopPropagation(e) {
        if (e.stopPropagation) {
            e.stopPropagation();
            return;
        }

        e.cancelBubble = true;
    }

    /**
     * determines if the keycode specified is a modifier key or not
     *
     * @param {string} key
     * @returns {boolean}
     */
    function _isModifier(key) {
        return key == 'shift' || key == 'ctrl' || key == 'alt' || key == 'meta';
    }

    /**
     * reverses the map lookup so that we can look for specific keys
     * to see what can and can't use keypress
     *
     * @return {Object}
     */
    function _getReverseMap() {
        if (!_REVERSE_MAP) {
            _REVERSE_MAP = {};
            for (var key in _MAP) {

                // pull out the numeric keypad from here cause keypress should
                // be able to detect the keys from the character
                if (key > 95 && key < 112) {
                    continue;
                }

                if (_MAP.hasOwnProperty(key)) {
                    _REVERSE_MAP[_MAP[key]] = key;
                }
            }
        }
        return _REVERSE_MAP;
    }

    /**
     * picks the best action based on the key combination
     *
     * @param {string} key - character for key
     * @param {Array} modifiers
     * @param {string=} action passed in
     */
    function _pickBestAction(key, modifiers, action) {

        // if no action was picked in we should try to pick the one
        // that we think would work best for this key
        if (!action) {
            action = _getReverseMap()[key] ? 'keydown' : 'keypress';
        }

        // modifier keys don't work as expected with keypress,
        // switch to keydown
        if (action == 'keypress' && modifiers.length) {
            action = 'keydown';
        }

        return action;
    }

    /**
     * Converts from a string key combination to an array
     *
     * @param  {string} combination like "command+shift+l"
     * @return {Array}
     */
    function _keysFromString(combination) {
        if (combination === '+') {
            return ['+'];
        }

        combination = combination.replace(/\+{2}/g, '+plus');
        return combination.split('+');
    }

    /**
     * Gets info for a specific key combination
     *
     * @param  {string} combination key combination ("command+s" or "a" or "*")
     * @param  {string=} action
     * @returns {Object}
     */
    function _getKeyInfo(combination, action) {
        var keys;
        var key;
        var i;
        var modifiers = [];

        // take the keys from this pattern and figure out what the actual
        // pattern is all about
        keys = _keysFromString(combination);

        for (i = 0; i < keys.length; ++i) {
            key = keys[i];

            // normalize key names
            if (_SPECIAL_ALIASES[key]) {
                key = _SPECIAL_ALIASES[key];
            }

            // if this is not a keypress event then we should
            // be smart about using shift keys
            // this will only work for US keyboards however
            if (action && action != 'keypress' && _SHIFT_MAP[key]) {
                key = _SHIFT_MAP[key];
                modifiers.push('shift');
            }

            // if this key is a modifier then add it to the list of modifiers
            if (_isModifier(key)) {
                modifiers.push(key);
            }
        }

        // depending on what the key combination is
        // we will try to pick the best event for it
        action = _pickBestAction(key, modifiers, action);

        return {
            key: key,
            modifiers: modifiers,
            action: action
        };
    }

    function _belongsTo(element, ancestor) {
        if (element === document) {
            return false;
        }

        if (element === ancestor) {
            return true;
        }

        return _belongsTo(element.parentNode, ancestor);
    }

    function Mousetrap(targetElement) {
        var self = this;

        targetElement = targetElement || document;

        if (!(self instanceof Mousetrap)) {
            return new Mousetrap(targetElement);
        }

        /**
         * element to attach key events to
         *
         * @type {Element}
         */
        self.target = targetElement;

        /**
         * a list of all the callbacks setup via Mousetrap.bind()
         *
         * @type {Object}
         */
        self._callbacks = {};

        /**
         * direct map of string combinations to callbacks used for trigger()
         *
         * @type {Object}
         */
        self._directMap = {};

        /**
         * keeps track of what level each sequence is at since multiple
         * sequences can start out with the same sequence
         *
         * @type {Object}
         */
        var _sequenceLevels = {};

        /**
         * variable to store the setTimeout call
         *
         * @type {null|number}
         */
        var _resetTimer;

        /**
         * temporary state where we will ignore the next keyup
         *
         * @type {boolean|string}
         */
        var _ignoreNextKeyup = false;

        /**
         * temporary state where we will ignore the next keypress
         *
         * @type {boolean}
         */
        var _ignoreNextKeypress = false;

        /**
         * are we currently inside of a sequence?
         * type of action ("keyup" or "keydown" or "keypress") or false
         *
         * @type {boolean|string}
         */
        var _nextExpectedAction = false;

        /**
         * resets all sequence counters except for the ones passed in
         *
         * @param {Object} doNotReset
         * @returns void
         */
        function _resetSequences(doNotReset) {
            doNotReset = doNotReset || {};

            var activeSequences = false,
                key;

            for (key in _sequenceLevels) {
                if (doNotReset[key]) {
                    activeSequences = true;
                    continue;
                }
                _sequenceLevels[key] = 0;
            }

            if (!activeSequences) {
                _nextExpectedAction = false;
            }
        }

        /**
         * finds all callbacks that match based on the keycode, modifiers,
         * and action
         *
         * @param {string} character
         * @param {Array} modifiers
         * @param {Event|Object} e
         * @param {string=} sequenceName - name of the sequence we are looking for
         * @param {string=} combination
         * @param {number=} level
         * @returns {Array}
         */
        function _getMatches(character, modifiers, e, sequenceName, combination, level) {
            var i;
            var callback;
            var matches = [];
            var action = e.type;

            // if there are no events related to this keycode
            if (!self._callbacks[character]) {
                return [];
            }

            // if a modifier key is coming up on its own we should allow it
            if (action == 'keyup' && _isModifier(character)) {
                modifiers = [character];
            }

            // loop through all callbacks for the key that was pressed
            // and see if any of them match
            for (i = 0; i < self._callbacks[character].length; ++i) {
                callback = self._callbacks[character][i];

                // if a sequence name is not specified, but this is a sequence at
                // the wrong level then move onto the next match
                if (!sequenceName && callback.seq && _sequenceLevels[callback.seq] != callback.level) {
                    continue;
                }

                // if the action we are looking for doesn't match the action we got
                // then we should keep going
                if (action != callback.action) {
                    continue;
                }

                // if this is a keypress event and the meta key and control key
                // are not pressed that means that we need to only look at the
                // character, otherwise check the modifiers as well
                //
                // chrome will not fire a keypress if meta or control is down
                // safari will fire a keypress if meta or meta+shift is down
                // firefox will fire a keypress if meta or control is down
                if ((action == 'keypress' && !e.metaKey && !e.ctrlKey) || _modifiersMatch(modifiers, callback.modifiers)) {

                    // when you bind a combination or sequence a second time it
                    // should overwrite the first one.  if a sequenceName or
                    // combination is specified in this call it does just that
                    //
                    // @todo make deleting its own method?
                    var deleteCombo = !sequenceName && callback.combo == combination;
                    var deleteSequence = sequenceName && callback.seq == sequenceName && callback.level == level;
                    if (deleteCombo || deleteSequence) {
                        self._callbacks[character].splice(i, 1);
                    }

                    matches.push(callback);
                }
            }

            return matches;
        }

        /**
         * actually calls the callback function
         *
         * if your callback function returns false this will use the jquery
         * convention - prevent default and stop propogation on the event
         *
         * @param {Function} callback
         * @param {Event} e
         * @returns void
         */
        function _fireCallback(callback, e, combo, sequence) {

            // if this event should not happen stop here
            if (self.stopCallback(e, e.target || e.srcElement, combo, sequence)) {
                return;
            }

            if (callback(e, combo) === false) {
                _preventDefault(e);
                _stopPropagation(e);
            }
        }

        /**
         * handles a character key event
         *
         * @param {string} character
         * @param {Array} modifiers
         * @param {Event} e
         * @returns void
         */
        self._handleKey = function(character, modifiers, e) {
            var callbacks = _getMatches(character, modifiers, e);
            var i;
            var doNotReset = {};
            var maxLevel = 0;
            var processedSequenceCallback = false;

            // Calculate the maxLevel for sequences so we can only execute the longest callback sequence
            for (i = 0; i < callbacks.length; ++i) {
                if (callbacks[i].seq) {
                    maxLevel = Math.max(maxLevel, callbacks[i].level);
                }
            }

            // loop through matching callbacks for this key event
            for (i = 0; i < callbacks.length; ++i) {

                // fire for all sequence callbacks
                // this is because if for example you have multiple sequences
                // bound such as "g i" and "g t" they both need to fire the
                // callback for matching g cause otherwise you can only ever
                // match the first one
                if (callbacks[i].seq) {

                    // only fire callbacks for the maxLevel to prevent
                    // subsequences from also firing
                    //
                    // for example 'a option b' should not cause 'option b' to fire
                    // even though 'option b' is part of the other sequence
                    //
                    // any sequences that do not match here will be discarded
                    // below by the _resetSequences call
                    if (callbacks[i].level != maxLevel) {
                        continue;
                    }

                    processedSequenceCallback = true;

                    // keep a list of which sequences were matches for later
                    doNotReset[callbacks[i].seq] = 1;
                    _fireCallback(callbacks[i].callback, e, callbacks[i].combo, callbacks[i].seq);
                    continue;
                }

                // if there were no sequence matches but we are still here
                // that means this is a regular match so we should fire that
                if (!processedSequenceCallback) {
                    _fireCallback(callbacks[i].callback, e, callbacks[i].combo);
                }
            }

            // if the key you pressed matches the type of sequence without
            // being a modifier (ie "keyup" or "keypress") then we should
            // reset all sequences that were not matched by this event
            //
            // this is so, for example, if you have the sequence "h a t" and you
            // type "h e a r t" it does not match.  in this case the "e" will
            // cause the sequence to reset
            //
            // modifier keys are ignored because you can have a sequence
            // that contains modifiers such as "enter ctrl+space" and in most
            // cases the modifier key will be pressed before the next key
            //
            // also if you have a sequence such as "ctrl+b a" then pressing the
            // "b" key will trigger a "keypress" and a "keydown"
            //
            // the "keydown" is expected when there is a modifier, but the
            // "keypress" ends up matching the _nextExpectedAction since it occurs
            // after and that causes the sequence to reset
            //
            // we ignore keypresses in a sequence that directly follow a keydown
            // for the same character
            var ignoreThisKeypress = e.type == 'keypress' && _ignoreNextKeypress;
            if (e.type == _nextExpectedAction && !_isModifier(character) && !ignoreThisKeypress) {
                _resetSequences(doNotReset);
            }

            _ignoreNextKeypress = processedSequenceCallback && e.type == 'keydown';
        };

        /**
         * handles a keydown event
         *
         * @param {Event} e
         * @returns void
         */
        function _handleKeyEvent(e) {

            // normalize e.which for key events
            // @see http://stackoverflow.com/questions/4285627/javascript-keycode-vs-charcode-utter-confusion
            if (typeof e.which !== 'number') {
                e.which = e.keyCode;
            }

            var character = _characterFromEvent(e);

            // no character found then stop
            if (!character) {
                return;
            }

            // need to use === for the character check because the character can be 0
            if (e.type == 'keyup' && _ignoreNextKeyup === character) {
                _ignoreNextKeyup = false;
                return;
            }

            self.handleKey(character, _eventModifiers(e), e);
        }

        /**
         * called to set a 1 second timeout on the specified sequence
         *
         * this is so after each key press in the sequence you have 1 second
         * to press the next key before you have to start over
         *
         * @returns void
         */
        function _resetSequenceTimer() {
            clearTimeout(_resetTimer);
            _resetTimer = setTimeout(_resetSequences, 1000);
        }

        /**
         * binds a key sequence to an event
         *
         * @param {string} combo - combo specified in bind call
         * @param {Array} keys
         * @param {Function} callback
         * @param {string=} action
         * @returns void
         */
        function _bindSequence(combo, keys, callback, action) {

            // start off by adding a sequence level record for this combination
            // and setting the level to 0
            _sequenceLevels[combo] = 0;

            /**
             * callback to increase the sequence level for this sequence and reset
             * all other sequences that were active
             *
             * @param {string} nextAction
             * @returns {Function}
             */
            function _increaseSequence(nextAction) {
                return function() {
                    _nextExpectedAction = nextAction;
                    ++_sequenceLevels[combo];
                    _resetSequenceTimer();
                };
            }

            /**
             * wraps the specified callback inside of another function in order
             * to reset all sequence counters as soon as this sequence is done
             *
             * @param {Event} e
             * @returns void
             */
            function _callbackAndReset(e) {
                _fireCallback(callback, e, combo);

                // we should ignore the next key up if the action is key down
                // or keypress.  this is so if you finish a sequence and
                // release the key the final key will not trigger a keyup
                if (action !== 'keyup') {
                    _ignoreNextKeyup = _characterFromEvent(e);
                }

                // weird race condition if a sequence ends with the key
                // another sequence begins with
                setTimeout(_resetSequences, 10);
            }

            // loop through keys one at a time and bind the appropriate callback
            // function.  for any key leading up to the final one it should
            // increase the sequence. after the final, it should reset all sequences
            //
            // if an action is specified in the original bind call then that will
            // be used throughout.  otherwise we will pass the action that the
            // next key in the sequence should match.  this allows a sequence
            // to mix and match keypress and keydown events depending on which
            // ones are better suited to the key provided
            for (var i = 0; i < keys.length; ++i) {
                var isFinal = i + 1 === keys.length;
                var wrappedCallback = isFinal ? _callbackAndReset : _increaseSequence(action || _getKeyInfo(keys[i + 1]).action);
                _bindSingle(keys[i], wrappedCallback, action, combo, i);
            }
        }

        /**
         * binds a single keyboard combination
         *
         * @param {string} combination
         * @param {Function} callback
         * @param {string=} action
         * @param {string=} sequenceName - name of sequence if part of sequence
         * @param {number=} level - what part of the sequence the command is
         * @returns void
         */
        function _bindSingle(combination, callback, action, sequenceName, level) {

            // store a direct mapped reference for use with Mousetrap.trigger
            self._directMap[combination + ':' + action] = callback;

            // make sure multiple spaces in a row become a single space
            combination = combination.replace(/\s+/g, ' ');

            var sequence = combination.split(' ');
            var info;

            // if this pattern is a sequence of keys then run through this method
            // to reprocess each pattern one key at a time
            if (sequence.length > 1) {
                _bindSequence(combination, sequence, callback, action);
                return;
            }

            info = _getKeyInfo(combination, action);

            // make sure to initialize array if this is the first time
            // a callback is added for this key
            self._callbacks[info.key] = self._callbacks[info.key] || [];

            // remove an existing match if there is one
            _getMatches(info.key, info.modifiers, {type: info.action}, sequenceName, combination, level);

            // add this call back to the array
            // if it is a sequence put it at the beginning
            // if not put it at the end
            //
            // this is important because the way these are processed expects
            // the sequence ones to come first
            self._callbacks[info.key][sequenceName ? 'unshift' : 'push']({
                callback: callback,
                modifiers: info.modifiers,
                action: info.action,
                seq: sequenceName,
                level: level,
                combo: combination
            });
        }

        /**
         * binds multiple combinations to the same callback
         *
         * @param {Array} combinations
         * @param {Function} callback
         * @param {string|undefined} action
         * @returns void
         */
        self._bindMultiple = function(combinations, callback, action) {
            for (var i = 0; i < combinations.length; ++i) {
                _bindSingle(combinations[i], callback, action);
            }
        };

        // start!
        _addEvent(targetElement, 'keypress', _handleKeyEvent);
        _addEvent(targetElement, 'keydown', _handleKeyEvent);
        _addEvent(targetElement, 'keyup', _handleKeyEvent);
    }

    /**
     * binds an event to mousetrap
     *
     * can be a single key, a combination of keys separated with +,
     * an array of keys, or a sequence of keys separated by spaces
     *
     * be sure to list the modifier keys first to make sure that the
     * correct key ends up getting bound (the last key in the pattern)
     *
     * @param {string|Array} keys
     * @param {Function} callback
     * @param {string=} action - 'keypress', 'keydown', or 'keyup'
     * @returns void
     */
    Mousetrap.prototype.bind = function(keys, callback, action) {
        var self = this;
        keys = keys instanceof Array ? keys : [keys];
        self._bindMultiple.call(self, keys, callback, action);
        return self;
    };

    /**
     * unbinds an event to mousetrap
     *
     * the unbinding sets the callback function of the specified key combo
     * to an empty function and deletes the corresponding key in the
     * _directMap dict.
     *
     * TODO: actually remove this from the _callbacks dictionary instead
     * of binding an empty function
     *
     * the keycombo+action has to be exactly the same as
     * it was defined in the bind method
     *
     * @param {string|Array} keys
     * @param {string} action
     * @returns void
     */
    Mousetrap.prototype.unbind = function(keys, action) {
        var self = this;
        return self.bind.call(self, keys, function() {}, action);
    };

    /**
     * triggers an event that has already been bound
     *
     * @param {string} keys
     * @param {string=} action
     * @returns void
     */
    Mousetrap.prototype.trigger = function(keys, action) {
        var self = this;
        if (self._directMap[keys + ':' + action]) {
            self._directMap[keys + ':' + action]({}, keys);
        }
        return self;
    };

    /**
     * resets the library back to its initial state.  this is useful
     * if you want to clear out the current keyboard shortcuts and bind
     * new ones - for example if you switch to another page
     *
     * @returns void
     */
    Mousetrap.prototype.reset = function() {
        var self = this;
        self._callbacks = {};
        self._directMap = {};
        return self;
    };

    /**
     * should we stop this event before firing off callbacks
     *
     * @param {Event} e
     * @param {Element} element
     * @return {boolean}
     */
    Mousetrap.prototype.stopCallback = function(e, element) {
        var self = this;

        // if the element has the class "mousetrap" then no need to stop
        if ((' ' + element.className + ' ').indexOf(' mousetrap ') > -1) {
            return false;
        }

        if (_belongsTo(element, self.target)) {
            return false;
        }

        // stop for input, select, and textarea
        return element.tagName == 'INPUT' || element.tagName == 'SELECT' || element.tagName == 'TEXTAREA' || element.isContentEditable;
    };

    /**
     * exposes _handleKey publicly so it can be overwritten by extensions
     */
    Mousetrap.prototype.handleKey = function() {
        var self = this;
        return self._handleKey.apply(self, arguments);
    };

    /**
     * Init the global mousetrap functions
     *
     * This method is needed to allow the global mousetrap functions to work
     * now that mousetrap is a constructor function.
     */
    Mousetrap.init = function() {
        var documentMousetrap = Mousetrap(document);
        for (var method in documentMousetrap) {
            if (method.charAt(0) !== '_') {
                Mousetrap[method] = (function(method) {
                    return function() {
                        return documentMousetrap[method].apply(documentMousetrap, arguments);
                    };
                } (method));
            }
        }
    };

    Mousetrap.init();

    // expose mousetrap to the global object
    window.Mousetrap = Mousetrap;

    // expose as a common js module
    if ( true && module.exports) {
        module.exports = Mousetrap;
    }

    // expose mousetrap as an AMD module
    if (true) {
        !(__WEBPACK_AMD_DEFINE_RESULT__ = (function() {
            return Mousetrap;
        }).call(exports, __webpack_require__, exports, module),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
    }
}) (window, document);


/***/ }),
/* 11 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

__webpack_require__(12)

__webpack_require__(13)
__webpack_require__(22)
__webpack_require__(24)

module.exports = angular.module('layout', [
  (__webpack_require__(26).name),
  (__webpack_require__(30).name),
  (__webpack_require__(34).name),
  (__webpack_require__(35).name),
  (__webpack_require__(36).name),
  (__webpack_require__(132).name),
  (__webpack_require__(87).name),
  (__webpack_require__(27).name)
])
  .config(['$uibTooltipProvider', function($uibTooltipProvider) {
    $uibTooltipProvider.options({
      appendToBody: true,
      animation: false
    })
  }])
  .controller('LayoutCtrl', __webpack_require__(178))


/***/ }),
/* 12 */,
/* 13 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14);
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(15);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(17);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(18);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(19);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_cursor_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(20);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_cursor_css__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_cjs_js_cursor_css__WEBPACK_IMPORTED_MODULE_6__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_css_loader_dist_cjs_js_cursor_css__WEBPACK_IMPORTED_MODULE_6__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_css_loader_dist_cjs_js_cursor_css__WEBPACK_IMPORTED_MODULE_6__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()((_node_modules_css_loader_dist_cjs_js_cursor_css__WEBPACK_IMPORTED_MODULE_6___default()), options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((_node_modules_css_loader_dist_cjs_js_cursor_css__WEBPACK_IMPORTED_MODULE_6___default()) && (_node_modules_css_loader_dist_cjs_js_cursor_css__WEBPACK_IMPORTED_MODULE_6___default().locals) ? (_node_modules_css_loader_dist_cjs_js_cursor_css__WEBPACK_IMPORTED_MODULE_6___default().locals) : undefined);


/***/ }),
/* 14 */,
/* 15 */,
/* 16 */,
/* 17 */,
/* 18 */,
/* 19 */,
/* 20 */
/***/ ((module, exports, __webpack_require__) => {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(21);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.id, "/**\n    Hand pointer\n*/\n.pointer,\n.movement-area-image {\n    cursor: pointer;\n}\n\n/**\n    Default cursor\n*/\n.cursor,\n.console-message-text,\nuib-tab-heading {\n    cursor: default;\n}\n\n/**\n    Text unselectable\n*/\n.unselectable,\nuib-tab-heading {\n    -webkit-touch-callout: none;\n    -webkit-user-select: none;\n    -khtml-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n}\n\n/**\n    Text selectable\n*/\n.selectable {\n    -webkit-touch-callout: default;\n    -webkit-user-select: auto;\n    -khtml-user-select: auto;\n    -moz-user-select: text;\n    -ms-user-select: auto;\n    user-select: auto;\n}\n", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 21 */,
/* 22 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14);
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(15);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(17);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(18);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(19);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_small_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(23);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_small_css__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_cjs_js_small_css__WEBPACK_IMPORTED_MODULE_6__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_css_loader_dist_cjs_js_small_css__WEBPACK_IMPORTED_MODULE_6__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_css_loader_dist_cjs_js_small_css__WEBPACK_IMPORTED_MODULE_6__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()((_node_modules_css_loader_dist_cjs_js_small_css__WEBPACK_IMPORTED_MODULE_6___default()), options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((_node_modules_css_loader_dist_cjs_js_small_css__WEBPACK_IMPORTED_MODULE_6___default()) && (_node_modules_css_loader_dist_cjs_js_small_css__WEBPACK_IMPORTED_MODULE_6___default().locals) ? (_node_modules_css_loader_dist_cjs_js_small_css__WEBPACK_IMPORTED_MODULE_6___default().locals) : undefined);


/***/ }),
/* 23 */
/***/ ((module, exports, __webpack_require__) => {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(21);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.id, ".row {\n    margin: 0 5px;\n}\n\n.row + .row {\n    margin-top: 5px;\n}\n\n.nav-tabs > li > a {\n    padding: 5px 10px;\n    margin-right: 0;\n}\n\n.nav-tabs {\n    margin-top: 0;\n}\n\n[class*=\"col-sm\"],\n[class*=\"col-md\"],\n[class*=\"col-lg\"],\n[class*=\"col-xs\"] {\n    margin-bottom: 10px;\n}\n\n\n.row [class^=\"col-\"] {\n    padding: 0 5px;\n}\n\n.btn .btn-xs span {\n    font-size: 12px;\n}\n\n.btn i+span,\n.btn span+span{\n    margin-left: 5px;\n}\n\n.heading > i + span {\n    font-size: 14px;\n}\n\na uib-tab-heading {\n    font-size: 13px;\n}\n\na uib-tab-heading i + span {\n    margin-left: 5px;\n}\n\ntable.table .btn {\n    margin: 0;\n}\n", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 24 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14);
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(15);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(17);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(18);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(19);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_stf_styles_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(25);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_stf_styles_css__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_cjs_js_stf_styles_css__WEBPACK_IMPORTED_MODULE_6__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_css_loader_dist_cjs_js_stf_styles_css__WEBPACK_IMPORTED_MODULE_6__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_css_loader_dist_cjs_js_stf_styles_css__WEBPACK_IMPORTED_MODULE_6__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()((_node_modules_css_loader_dist_cjs_js_stf_styles_css__WEBPACK_IMPORTED_MODULE_6___default()), options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((_node_modules_css_loader_dist_cjs_js_stf_styles_css__WEBPACK_IMPORTED_MODULE_6___default()) && (_node_modules_css_loader_dist_cjs_js_stf_styles_css__WEBPACK_IMPORTED_MODULE_6___default().locals) ? (_node_modules_css_loader_dist_cjs_js_stf_styles_css__WEBPACK_IMPORTED_MODULE_6___default().locals) : undefined);


/***/ }),
/* 25 */
/***/ ((module, exports, __webpack_require__) => {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(21);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.id, ".page-container {\n  padding: 0 30px;\n  margin: 0 auto;\n}\n\n.stf-container {\n  margin-right: auto;\n  margin-left: auto;\n  padding-left: 15px;\n  padding-right: 15px;\n}\n\n.accordion-body.in:hover {\n  overflow: visible;\n}\n\n.button-spacer {\n  display: inline-block;\n  width: 24px;\n  height: 12px;\n}\n\n/* Overflow */\n\n.overflow-x {\n  overflow-x: auto;\n}\n\n.overflow-y {\n  overflow-y: auto;\n}\n\n.overflow-auto {\n  overflow: auto;\n}\n\n/* Fix btn-group */\n.btn-group.pull-right {\n  margin-right: 10px;\n}\n\n/**\n    Accelerate\n*/\n.force-gpu {\n  -webkit-transform: translateZ(0);\n  -moz-transform: translateZ(0);\n  -ms-transform: translateZ(0);\n  -o-transform: translateZ(0);\n  transform: translateZ(0);\n  -webkit-backface-visibility: hidden;\n  -moz-backface-visibility: hidden;\n  -ms-backface-visibility: hidden;\n  backface-visibility: hidden;\n  -webkit-perspective: 1000;\n  -moz-perspective: 1000;\n  -ms-perspective: 1000;\n  perspective: 1000;\n}\n\n/**\nColors for awesome fonts\n*/\n.text-status-on {\n  color: green;\n  text-shadow: 0 0 4px rgba(8, 208, 0, 0.3);\n}\n\n.text-status-off {\n  color: lightgrey;\n}\n\n.text-status-error {\n  color: red;\n}\n\n.text-status-waiting {\n  color: #ffcc66;\n}\n\n.text-status-inuse {\n  color: blue;\n}\n\n/**\n   ACE editor\n*/\n\n.stf-ace-editor {\n  height: 150px;\n}\n\n.ace_editor_wrapper {\n  position: relative;\n  height: 180px;\n}\n\n.ace_editor {\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n}\n\n/* Nothing to show */\n\n.nothing-to-show {\n  color: #b7b7b7;\n  min-height: 130px;\n  text-align: center;\n}\n\n.nothing-to-show p {\n  font-size: 20px;\n}\n\n/**\n    General styles\n*/\n.vertical-center {\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  -webkit-box-pack: center;\n  -webkit-box-align: center;\n  display: -moz-box;\n  -moz-box-orient: vertical;\n  -moz-box-pack: center;\n  -moz-box-align: center;\n  display: box;\n  box-orient: vertical;\n  box-pack: center;\n  box-align: center;\n}\n\n/* Screenshots */\n\nul.screenshots-icon-view {\n  list-style-type: none;\n  font-family: 'HelveticaNeue-UltraLight', Helvetica, Arial, sans-serif;\n}\n\nul.screenshots-icon-view li {\n  float: left;\n  clear: none;\n  margin: 8px;\n}\n\n/* Progress */\n.value-next-to-progress {\n  float: left;\n  margin-right: 10px;\n}\n\n.table-progress {\n  margin-bottom: 0;\n}\n\n/* Icons */\n\n.icon-fixed {\n  width: 150px !important;\n}\n\n/* Cookies */\n\nul.cookies-list {\n  list-style-type: none;\n}\n\n/* Login */\n\n.login-bg {\n  background: #8a6073;\n  background: -moz-linear-gradient(top, #8a6073 0%, #c68779 24%, #637476 57%, #4c7b7d 79%, #658e7d 94%, #6c8c77 97%);\n  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #8a6073), color-stop(24%, #c68779), color-stop(57%, #637476), color-stop(79%, #4c7b7d), color-stop(94%, #658e7d), color-stop(97%, #6c8c77));\n  background: -webkit-linear-gradient(top, #8a6073 0%, #c68779 24%, #637476 57%, #4c7b7d 79%, #658e7d 94%, #6c8c77 97%);\n  background: -o-linear-gradient(top, #8a6073 0%, #c68779 24%, #637476 57%, #4c7b7d 79%, #658e7d 94%, #6c8c77 97%);\n  background: -ms-linear-gradient(top, #8a6073 0%, #c68779 24%, #637476 57%, #4c7b7d 79%, #658e7d 94%, #6c8c77 97%);\n  background: linear-gradient(to bottom, #8a6073 0%, #c68779 24%, #637476 57%, #4c7b7d 79%, #658e7d 94%, #6c8c77 97%);\n  filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#8a6073', endColorstr='#6c8c77', GradientType=0);\n}\n\n/* d3 lines */\nsvg {\n  font: 10px sans-serif;\n}\n\n.line {\n  fill: none;\n  stroke: steelblue;\n  stroke-width: 1.5px;\n}\n\n.axis path,\n.axis line {\n  fill: none;\n  stroke: #000;\n  shape-rendering: crispEdges;\n}\n\n/* Interact Control */\n\n.interact-sidebar {\n  width: 280px;\n}\n\n/* Movement Area */\n.movement-area-container {\n  width: 100%;\n  height: 100%;\n}\n\n.movement-area-image {\n  width: 100%;\n  height: 100%;\n  background-size: contain;\n  background-color: #444;\n  background-repeat: no-repeat;\n  background-position: 50% 50%;\n  position: relative;\n}\n\n.interact-control .btn-toolbar .btn {\n  min-width: 41px;\n}\n\n/* Height */\n.as-table {\n  display: table;\n}\n\n.as-row {\n  display: table-row;\n}\n\n.as-cell {\n  display: table-cell;\n}\n\n.fill-height {\n  height: 100%;\n}\n\n.fill-width {\n  width: 100%;\n}\n\n.fill-auto {\n  height: auto;\n}\n\n.special-keys-buttons button {\n  width: 40px;\n}\n\n.special-keys-buttons .btn-xs button {\n  width: 36px;\n}\n\n.special-keys-dpad-buttons button {\n  width: 40px;\n}\n\n/*\n    Drawer\n*/\n.stf-drawer {\n  background: #ddd;\n\n}\n\n.stf-drawer-bar {\n  background: #aaa;\n}\n\n.stf-drawer-docked-down .stf-drawer-bar {\n  width: 100%;\n  height: 2px;\n  cursor: ns-resize;\n}\n\n.stf-drawer-docked-right .stf-drawer-bar {\n  width: 2px;\n  height: 100%;\n  cursor: ew-resize;\n}\n\n.stf-drawer-docked {\n  opacity: 0.9;\n  z-index: 5000;\n}\n\n.stf-drawer-floating {\n\n}\n\n.stf-drawer-docked-down {\n  width: 100%;\n  height: 300px;\n  bottom: 0;\n  position: absolute;\n}\n\n.stf-drawer-docked-right {\n  width: 300px;\n  height: 100%;\n  right: 0;\n  position: absolute;\n}\n\n.stf-drawer-buttons {\n  text-align: right;\n}\n\n/* For nine-bootstrap */\n\n.btn [class^=\"fa\"],\n.btn [class*=\"fa\"] {\n  margin-right: 0 !important;\n}\n\n.interact-control .navbar {\n  height: auto !important;\n}\n\n.interact-control .navbar-brand {\n  padding: 8px 15px;\n}\n\n.interact-control .btn-group {\n  margin: 0;\n}\n\n/* Make text input on tables be 100% */\n.table td input[type=\"number\"],\n.table td input[type=\"text\"] {\n  width: 100%;\n}\n\n/* Re-reset the table alignment */\n.ng-table th {\n  text-align: left;\n}\n\n.remote-control {\n  background: #888;\n  width: 100%;\n  height: 100%;\n}\n\n.stf-feedback > li > a {\n  font-size: 14px;\n}\n\n.stf-nav-web-native-button {\n  margin-top: 8px !important;\n}\n\na.active {\n  color: #007aff !important;\n}\n\n.weinre-window {\n  z-index: 10;\n  position: absolute;\n  top: 31px;\n  bottom: 3px;\n  left: 0;\n  right: 0;\n}\n\n/* Hide datalist for non-supporting browsers */\ndatalist {\n  display: none;\n}\n\n/* Make auto-fill controls white instead of the default yellow */\ninput:-webkit-autofill,\ntextarea:-webkit-autofill,\nselect:-webkit-autofill {\n  -webkit-box-shadow: 0 0 0 200px white inset !important;\n  box-shadow: 0 0 0 200px white inset !important;\n}\n\n/* Remove transition for input text */\ninput {\n  -webkit-transition: none !important;\n  transition: none !important;\n}\n\n/* Transparent border for buttons */\n.transparent-border {\n  border: 1px solid transparent;\n}\n\n/* Bootstrap close button is misaligned for some reason */\n.alert-dismissable .close,\n.alert-dismissible .close {\n  right: auto;\n}\n\n/* Reset alert margin */\n.alert {\n  margin-bottom: 0;\n}\n\n\n/* Form */\n\ntextarea.form-control[disabled],\ntextarea.form-control[readonly],\nfieldset[disabled] textarea.form-control,\ninput[type=\"text\"].form-control[disabled],\ninput[type=\"text\"].form-control[readonly],\nfieldset[disabled] input[type=\"text\"].form-control\n{\n  cursor: text;\n}\n\n", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 26 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = angular.module('stf.landscape', [
  (__webpack_require__(27).name)
])
  .directive('landscape', __webpack_require__(29))


/***/ }),
/* 27 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = angular.module('stf.browser-info', [

])
  .factory('BrowserInfo', __webpack_require__(28))


/***/ }),
/* 28 */
/***/ ((module) => {

// NOTE: Most of the detection stuff is from Modernizr 3.0
module.exports = function BrowserInfoServiceFactory() {
  var service = {}

  function createElement() {
    return document.createElement.apply(document, arguments)
  }

  function addTest(key, test) {
    service[key] = (typeof test == 'function') ? test() : test
  }

  addTest('touch', function() {
    return ('ontouchstart' in window) || window.DocumentTouch &&
    document instanceof window.DocumentTouch
  })

  addTest('retina', function() {
    var mediaQuery = '(-webkit-min-device-pixel-ratio: 1.5), ' +
      '(min--moz-device-pixel-ratio: 1.5), (-o-min-device-pixel-ratio: 3/2), ' +
      '(min-resolution: 1.5dppx)'
    if (window.devicePixelRatio > 1) {
      return true
    }
    return !!(window.matchMedia && window.matchMedia(mediaQuery).matches)
  })

  addTest('small', function() {
    var windowWidth = window.screen.width < window.outerWidth ?
      window.screen.width : window.outerWidth
    return windowWidth < 800
  })

  addTest('os', function() {
    var ua = navigator.userAgent
    if (ua.match(/Android/i)) {
      return 'android'
    }
    else if (ua.match(/iPhone|iPad|iPod/i)) {
      return 'ios'
    }
    else {
      return 'pc'
    }
  })

  addTest('mobile', function() {
    return !!(service.small && service.touch && (service.os !== 'pc'))
  })

  addTest('webgl', function() {
    var canvas = createElement('canvas')
    if ('supportsContext' in canvas) {
      return canvas.supportsContext('webgl') ||
      canvas.supportsContext('experimental-webgl')
    }
    return !!window.WebGLRenderingContext
  })

  addTest('ua', navigator.userAgent)

  addTest('devicemotion', 'DeviceMotionEvent' in window)

  addTest('deviceorientation', 'DeviceOrientationEvent' in window)

  return service
}


/***/ }),
/* 29 */
/***/ ((module) => {

module.exports =
  function landscapeDirective(BrowserInfo, $document, $window) {
    return {
      restrict: 'A',
      link: function(scope) {
        var body = angular.element($document[0].body)

        if (typeof $window.orientation !== 'undefined') {
          if ($window.orientation !== 0) {
            rotateGuest(false)
          }
        }

        function rotateGuest(portrait) {
          if (portrait) {
            body.addClass('guest-portrait')
            body.removeClass('guest-landscape')

            scope.$broadcast('guest-portrait')
          } else {
            body.addClass('guest-landscape')
            body.removeClass('guest-portrait')

            scope.$broadcast('guest-landscape')

            $window.scrollTo(0, 0)
          }
        }

        function guestDisplayRotated() {
          var isPortrait = (window.innerHeight > window.innerWidth)
          rotateGuest(isPortrait)
        }

        if (BrowserInfo.deviceorientation) {
          window.addEventListener('orientationchange', guestDisplayRotated,
            true)
        }

        function off() {
          if (BrowserInfo.deviceorientation) {
            window.removeEventListener('orientationchange',
              guestDisplayRotated)
          }
        }

        scope.$on('$destroy', off)
      }
    }
  }


/***/ }),
/* 30 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

__webpack_require__(31)

module.exports = angular.module('stf.basic-mode', [
])
  .directive('basicMode', __webpack_require__(33))


/***/ }),
/* 31 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14);
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(15);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(17);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(18);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(19);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_basic_mode_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(32);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_basic_mode_css__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_cjs_js_basic_mode_css__WEBPACK_IMPORTED_MODULE_6__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_css_loader_dist_cjs_js_basic_mode_css__WEBPACK_IMPORTED_MODULE_6__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_css_loader_dist_cjs_js_basic_mode_css__WEBPACK_IMPORTED_MODULE_6__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()((_node_modules_css_loader_dist_cjs_js_basic_mode_css__WEBPACK_IMPORTED_MODULE_6___default()), options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((_node_modules_css_loader_dist_cjs_js_basic_mode_css__WEBPACK_IMPORTED_MODULE_6___default()) && (_node_modules_css_loader_dist_cjs_js_basic_mode_css__WEBPACK_IMPORTED_MODULE_6___default().locals) ? (_node_modules_css_loader_dist_cjs_js_basic_mode_css__WEBPACK_IMPORTED_MODULE_6___default().locals) : undefined);


/***/ }),
/* 32 */
/***/ ((module, exports, __webpack_require__) => {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(21);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.id, ".basic-mode .devices-icon-view {\n  padding: 0;\n}\n\n.basic-mode .devices-icon-view li {\n  margin: 3px;\n}\n\n.basic-mode .stf-vnc-bottom .btn-primary:hover,\n.basic-mode .stf-vnc-bottom .btn-primary.active {\n  background: #007aff;\n  color: #fff;\n}\n\n.basic-mode .stf-menu .stf-top-bar {\n  overflow: hidden;\n}\n\n.basic-mode .basic-remote-control {\n  width: 100%;\n}\n\n.basic-mode .stf-device-list .device-search {\n  width: 16em;\n}\n\n.guest-landscape .basic-mode .stf-vnc-bottom {\n  display: none;\n}\n\n.guest-landscape .basic-mode .pane-top-bar {\n  display: none;\n}\n\n.guest-landscape .basic-mode .pane-center {\n  top: 0 !important;\n}\n\n.guest-landscape .basic-mode .fill-height {\n  width: 100%;\n}\n", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 33 */
/***/ ((module) => {

module.exports = function basicModeDirective($rootScope, BrowserInfo) {
  return {
    restrict: 'AE',
    link: function(scope, element) {
      $rootScope.basicMode = !!BrowserInfo.mobile
      if ($rootScope.basicMode) {
        element.addClass('basic-mode')
      }

      if (BrowserInfo.mobile) {
        element.addClass('mobile')
      }
    }
  }
}


/***/ }),
/* 34 */,
/* 35 */
/***/ (function() {

(function() {
  var module = angular.module("fa.directive.borderLayout", []);

  var faDragged = false; // Fix dragging on toggle

  module.factory("paneManager", function() {
    return {
      panes: {},
      get: function(paneId) {
        return this.panes[paneId];
      },
      set: function(paneId, pane) {
        return this.panes[paneId] = pane;
      },
      remove: function(paneId) {
        return delete this.panes[paneId];
      }
    };
  });

  module.directive("faPane", [
    "$window", "$rootScope", "paneManager", function($window, $rootScope, paneManager) {

      var Region = (function() {
        function Region(width, height, top, right, bottom, left) {
          this.width = width != null ? width : 0;
          this.height = height != null ? height : 0;
          this.top = top != null ? top : 0;
          this.right = right != null ? right : 0;
          this.bottom = bottom != null ? bottom : 0;
          this.left = left != null ? left : 0;
        }

        Region.prototype.clone = function() {
          return new Region(this.width, this.height, this.top, this.right, this.bottom, this.left);
        };

        Region.prototype.calculateSize = function(orientation, target) {
          var matches, terms;

          if (target == null) {
            target = 0;
          }

          var total = this.getSize(orientation);
          var available = this.getAvailableSize(orientation);

          if (angular.isNumber(target)) {
            if (target >= 1) {
              return Math.round(target);
            }
            if (target >= 0) {
              return Math.round(target * total);
            }
            return 0;
          }

          // Kill whitespace
          target = target.replace(/\s+/mg, "");

          // Allow for complex sizes, e.g.: 50% - 4px
          if ((terms = target.split("-")).length > 1) {
            return this.calculateSize(orientation, terms.shift()) - this.calculateSize(orientation, terms.join("+"));
          }
          if ((terms = target.split("+")).length > 1) {
            return this.calculateSize(orientation, terms.shift()) + this.calculateSize(orientation, terms.join("+"));
          }

          if (matches = target.match(/^(\d+)(?:px)?$/)) {
            return parseInt(matches[1], 10);
          }
          if (matches = target.match(/^(\d+(?:\.\d+)?)&$/)) {
            return Math.round(available * parseFloat(matches[1]) / 100);
          }
          if (matches = target.match(/^(\d+(?:\.\d+)?)%$/)) {
            return Math.round(total * parseFloat(matches[1]) / 100);
          }

          throw new Error("Unsupported size: " + target);
        };

        Region.prototype.consume = function(anchor, size) {
          var style;

          if (size == null) {
            size = 0;
          }

          switch (anchor) {
            case "north":
              style = {
                top: "" + this.top + "px",
                right: "" + this.right + "px",
                bottom: "auto",
                left: "" + this.left + "px",
                height: "" + size + "px",
                width: "auto"
              };
              this.top += size;
              break;
            case "east":
              style = {
                top: "" + this.top + "px",
                right: "" + this.right + "px",
                bottom: "" + this.bottom + "px",
                left: "auto",
                width: "" + size + "px",
                height: "auto"
              };
              this.right += size;
              break;
            case "south":
              style = {
                top: "auto",
                right: "" + this.right + "px",
                bottom: "" + this.bottom + "px",
                left: "" + this.left + "px",
                height: "" + size + "px",
                width: "auto"
              };
              this.bottom += size;
              break;
            case "west":
              style = {
                top: "" + this.top + "px",
                right: "auto",
                bottom: "" + this.bottom + "px",
                left: "" + this.left + "px",
                width: "" + size + "px",
                height: "auto"
              };
              this.left += size;
          }

          if (size === 0) {
            style.display = "none";
          }

          return style;
        };

        Region.prototype.getInnerRegion = function() {
          return new Region(this.width - this.right - this.left, this.height - this.top - this.bottom);
        };

        Region.prototype.getSize = function(orientation) {
          switch (orientation) {
            case "vertical":
              return this.height;
            case "horizontal":
              return this.width;
          }
        };

        Region.prototype.getAvailableSize = function(orientation) {
          switch (orientation) {
            case "vertical":
              return this.height - this.top - this.bottom;
            case "horizontal":
              return this.width - this.right - this.left;
          }
        };

        Region.prototype.toString = function() {
          return "{" + this.top + ", " + this.right + ", " + this.bottom + ", " +
            this.left + "}, {" + this.width + ", " + this.height + "}";
        };

        return Region;
      })();

      var getOrientation = function(anchor) {
        switch (anchor) {
          case "north":
          case "south":
            return "vertical";
          case "east":
          case "west":
            return "horizontal";
        }
      };

      var getScrollerStyle = function(anchor, size) {
        var style = {
          top: 0,
          right: 0,
          bottom: 0,
          left: 0
        };

        if (size) {
          switch (anchor) {
            case "north":
              style.bottom = "auto";
              style.height = "" + size + "px";
              break;
            case "east":
              style.left = "auto";
              style.width = "" + size + "px";
              break;
            case "south":
              style.top = "auto";
              style.height = "" + size + "px";
              break;
            case "west":
              style.right = "auto";
              style.width = "" + size + "px";
          }
        }

        return style;
      };

      var getHandleStyle = function(anchor, region, handleSize) {
        switch (anchor) {
          case "north":
            return {
              height: region.calculateSize('vertical', handleSize) + "px",
              right: 0,
              left: 0,
              bottom: 0
            };
          case "south":
            return {
              height: region.calculateSize('vertical', handleSize) + "px",
              right: 0,
              left: 0,
              top: 0
            };
          case "east":
            return {
              width: region.calculateSize('horizontal', handleSize) + "px",
              top: 0,
              bottom: 0,
              left: 0
            };
          case "west":
            return {
              width: region.calculateSize('horizontal', handleSize) + "px",
              top: 0,
              bottom: 0,
              right: 0
            };
        }
      };

      var generateSerialId = (function() {
        var counter = 0;

        var fun = function() {
          return counter++;
        };

        fun.peek = function() {
          return counter;
        };

        return fun;
      })();

      // BEGIN DIRECTIVE DECLARATION
      return {
        restrict: "A",
        replace: true,
        require: "faPane",
        priority: 1,
        transclude: "element",
        scope: {
          anchor: "@paneAnchor",
          paneId: "@faPane",
          size: "@paneSize",
          min: "@paneMin",
          max: "@paneMax",
          handle: "@paneHandle",
          closed: "=paneClosed",
          order: "@paneOrder",
          noToggle: "@paneNoToggle"
        },
        template:
          '<div class="fa-pane pane-{{$pane.id}}">' +
            '<div class="fa-pane-overlay"></div>' +
            '<div class="fa-pane-handle" fa-pane-resizer>' +
              '<div ng-if="!$pane.noToggle" class="fa-pane-toggle" ng-click="$pane.toggle()"></div>' +
            '</div>' +
          '</div>',
        controllerAs: "$pane",
        controller: function() {
          var $pane = this;

          return angular.extend(this, {
            children: [],
            closed: false,
            noToggle: false,
            max: Number.MAX_VALUE,
            min: 0,
            // Schedule a re-flow later in the digest cycle, but do not reflow
            // more than necessary
            $scheduleReflow: function() {
              if ($pane.parent) {
                return $pane.parent.$scheduleReflow();
              } else if (!$pane.$reflowScheduled) {
                $pane.$reflowScheduled = true;

                return $rootScope.$evalAsync(function() {
                  if ($pane.$reflowScheduled) {
                    $pane.reflow();
                  }

                  return $pane.$reflowScheduled = false;
                });
              }
            },
            $onStartResize: function() {
              if ($pane.$parent) {
                return $pane.parent.$containerEl.addClass("fa-pane-resizing");
              } else {
                return $pane.$containerEl.addClass("fa-pane-resizing");
              }
            },
            $onStopResize: function() {
              if ($pane.$parent) {
                return $pane.parent.$containerEl.removeClass("fa-pane-resizing");
              } else {
                return $pane.$containerEl.removeClass("fa-pane-resizing");
              }
            },
            getOptions: function() {
              return {
                anchor: this.anchor,
                targetSize: this.targetSize,
                size: this.size,
                min: this.min,
                max: this.max,
                order: this.order || 0,
                handle: {
                  open: this.handleSizeOpen || 0,
                  closed: this.handleSizeClosed || 0
                },
                noToggle: !!this.noToggle,
                closed: this.closed
              };
            },
            setOptions: function(options) {
              if (options == null) {
                options = {};
              }
              if (options.anchor != null) {
                this.setAnchor(options.anchor);
              }
              if (options.size != null) {
                this.setTargetSize(options.size);
              }
              if (options.min != null) {
                this.setMinSize(options.min);
              }
              if (options.max != null) {
                this.setMaxSize(options.max);
              }
              if (options.handle != null) {
                this.setHandleSize(options.handle);
              }
              if (options.order != null) {
                this.setOrder(options.order);
              }
              if (options.noToggle != null) {
                this.setNoToggle(options.noToggle);
              }
              if (options.closed != null) {
                return this.toggle(!options.closed);
              }
            },
            setAnchor: function(anchor) {
              this.anchor = anchor;

              return this.$scheduleReflow();
            },
            setTargetSize: function(targetSize) {
              this.targetSize = targetSize;

              return this.$scheduleReflow();
            },
            setMinSize: function(min) {
              this.min = min;

              return this.$scheduleReflow();
            },
            setMaxSize: function(max) {
              this.max = max;

              return this.$scheduleReflow();
            },
            setOrder: function(order) {
              this.order = order;

              return this.$scheduleReflow();
            },
            setNoToggle: function(noToggle) {
              this.noToggle = noToggle;

              return this.$scheduleReflow();
            },
            setHandleSize: function(handleSize) {
              if ((handleSize != null ? handleSize.open : void 0) ||
                (handleSize != null ? handleSize.closed : void 0)) {

                this.handleSizeOpen = parseInt(handleSize.open, 10) || 0;
                this.handleSizeClosed = parseInt(handleSize.closed, 10) || 0;
              } else {
                this.handleSizeOpen = this.handleSizeClosed = parseInt(handleSize, 10);
              }

              return this.$scheduleReflow();
            },
            addChild: function(child) {
              child.parent = $pane;
              this.children.push(child);

              if (this.children.length) {
                $pane.$containerEl.addClass("fa-pane-parent");
              }

              return $pane.$scheduleReflow();
            },
            getOrientation: function() {
              return getOrientation($pane.anchor);
            },
            onHandleDown: function() {
              return $pane.$containerEl.addClass("active");
            },
            onHandleUp: function() {
              $pane.$containerEl.removeClass("active");

              return $pane.$scheduleReflow();
            },
            removeChild: function(child) {
              var idx;

              if (!(0 > (idx = this.children.indexOf(child)))) {
                this.children.splice(idx, 1);
              }

              if (!this.children.length) {
                $pane.$containerEl.removeClass("fa-pane-parent");
              }

              return $pane.$scheduleReflow();
            },
            reflow: function(region) {
              var width = $pane.$containerEl[0].offsetWidth;
              var height = $pane.$containerEl[0].offsetHeight;

              region || (region = new Region(width, height));

              var _ref = $pane.anchor;
              if (_ref === "north" || _ref === "east" || _ref === "south" || _ref === "west") {

                $pane.$containerEl.removeClass("fa-pane-orientation-vertical");
                $pane.$containerEl.removeClass("fa-pane-orientation-horizontal");

                var orientation = getOrientation($pane.anchor);

                $pane.$containerEl.addClass("fa-pane-orientation-" + orientation);

                var handleSize = region.calculateSize(orientation, !$pane.closed &&
                $pane.handleSizeOpen || $pane.handleSizeClosed);

                var size = handleSize;
                if (!$pane.closed) {
                  size = region.calculateSize(orientation, !$pane.closed && $pane.targetSize || handleSize);

                  size = Math.min(size, region.calculateSize(orientation, $pane.max));
                  size = Math.max(size, region.calculateSize(orientation, $pane.min));
                  size = Math.min(size, region.getAvailableSize(orientation));
                  size = Math.max(size, handleSize);
                }

                this.size = size;

                var styleContainer = region.consume($pane.anchor, size);
                var styleScroller = getScrollerStyle($pane.anchor, size - handleSize);
                var styleHandle = getHandleStyle($pane.anchor, region, handleSize);

                $pane.$containerEl.attr("style", "").css(styleContainer);
                $pane.$overlayEl.attr("style", "").css(styleScroller);
                $pane.$handleEl.attr("style", "").css(styleHandle);
                $pane.$scrollerEl.attr("style", "").css(styleScroller);

              } else {
                $pane.$containerEl.css({
                  top: region.top + "px",
                  right: region.right + "px",
                  bottom: region.bottom + "px",
                  left: region.left + "px",
                  width: "auto",
                  height: "auto"
                });
              }

              $pane.$region = region.clone();
              $pane.reflowChildren(region.getInnerRegion());

              $rootScope.$broadcast("fa-pane-resize", $pane);
            },
            reflowChildren: function(region) {
              region || (region = $pane.$region);

              $pane.children.sort(function(a, b) {
                return a.order - b.order;
              });

              var results = [];

              for (var i = 0; i < $pane.children.length; i++) {
                var child = $pane.children[i];
                results.push(child.reflow(region));
              }

              return results;
            },
            resize: function(size) {
              if (size == null) {
                size = $pane.targetSize;
              }

              $pane.targetSize = size;
              $pane.parent.reflowChildren($pane.parent.$region.getInnerRegion());

              if (size !== $pane.size) {
                return $pane.$containerEl.addClass("fa-pane-constrained");
              } else {
                return $pane.$containerEl.removeClass("fa-pane-constrained");
              }
            },
            toggle: function(open) {
              // Fix for dragging on toggle
              if (faDragged) {
                faDragged = false;
                return $pane;
              }

              if (open == null) {
                open = !!$pane.closed;
              }

              $pane.closed = !open;

              var reflow = function() {
                if ($pane.parent) {
                  return $pane.parent.$scheduleReflow();
                } else {
                  return $pane.$scheduleReflow();
                }
              };

              if ($pane.closed) {
                $pane.$containerEl.addClass("fa-pane-closed");
              } else {
                $pane.$containerEl.removeClass("fa-pane-closed");
              }

              return reflow();
            }
          });
        },
        compile: function($el, $attrs, $transclude) {
          // Tool used to force elements into their compile order
          var serialId = generateSerialId();

          return function($scope, $el, $attrs, $pane) {
            var $directiveScope = $scope.$parent.$new();
            $directiveScope.$pane = $scope.$pane = $pane;

            var $transcludeScope = $directiveScope.$new();

            if ($pane.order == null) {
              $pane.order = serialId;
            }

            $pane.id = $attrs.faPane;

            $pane.$isolateScope = $scope;
            $pane.$directiveScope = $directiveScope;
            $pane.$transcludeScope = $transcludeScope;

            return $transclude($transcludeScope, function(clone) {
              clone.addClass("fa-pane-scroller");

              $el.append(clone);

              $pane.$containerEl = $el;
              $pane.$overlayEl = $el.children().eq(0);
              $pane.$handleEl = $el.children().eq(1);
              $pane.$scrollerEl = $el.children().eq(2);

              $scope.$watch("anchor", function(anchor) {
                return $pane.setAnchor(anchor);
              });

              $scope.$watch("size", function(targetSize) {
                return $pane.setTargetSize(targetSize);
              });

              $scope.$watch("closed", function(closed) {
                return $pane.toggle(!closed);
              });

              $scope.$watch("min", function(min) {
                return $pane.setMinSize(min != null ? min : 0);
              });

              $scope.$watch("max", function(max) {
                return $pane.setMaxSize(max != null ? max : Number.MAX_VALUE);
              });

              $scope.$watch("order", function(order) {
                return $pane.setOrder(order);
              });

              $scope.$watch("noToggle", function(noToggle) {
                return $pane.setNoToggle(!!noToggle);
              });

              $scope.$watch("paneId", function(paneId, prevPaneId) {
                if (prevPaneId) {
                  paneManager.remove(prevPaneId);
                }

                paneManager.set(paneId, $pane);

                return $pane.id = paneId;
              });

              $scope.$watch("handle", function(handle) {
                return $pane.setHandleSize(handle);
              });

              $scope.$watch($attrs.paneHandleObj, (function(handle) {
                if (handle) {
                  return $pane.setHandleSize(handle);
                }
              }), true);

              $pane.$directiveScope.$on("fa-pane-attach", function(e, child) {
                if (child !== $pane) {

                 e.stopPropagation();
                  return $pane.addChild(child);
                }
              });

              $pane.$directiveScope.$on("fa-pane-detach", function(e, child) {
                if (child !== $pane) {
                  e.stopPropagation();
                  return $pane.removeChild(child);
                }
              });

              $window.addEventListener("resize", function(e) {
                e.stopPropagation();
                return $pane.$scheduleReflow();
              });

              $pane.$directiveScope.$on("$stateChangeSuccess", function() {
                return $pane.$scheduleReflow();
              });

              $pane.$directiveScope.$emit("fa-pane-attach", $pane);

              return $pane.$directiveScope.$on("$destroy", function() {
                return $pane.$directiveScope.$emit("fa-pane-detach", $pane);
              });
            });
          };
        }
      };
    }
  ]);

  module.directive("faPaneToggle", [
    "paneManager", function(paneManager) {
      return {
        link: function($scope, $el, $attrs) {
          return $attrs.$observe("faPaneToggle", function(paneId) {});
        }
      };
    }
  ]);

  module.directive("faPaneResizer", [
    "$window", function($window) {

      var throttle = function(delay, fn) {
        var throttled = false;

        return function() {
          if (throttled) {
            return;
          }
          throttled = true;

          setTimeout(function() {
            return throttled = false;
          }, delay);

          return fn.call.apply(fn, [this].concat([].slice.call(arguments)));
        };
      };

      return {
        restrict: "A",
        //require: "^faPane",
        link: function($scope, $element, $attrs, $pane) {
          // return unless $pane
          $pane || ($pane = $scope.$pane);

          var el = $element[0];

          var clickRadius = 5;
          var clickTime = 300;

          $scope.$watch((function() {
            return $pane.getOrientation();
          }), function(orientation) {
            $element.removeClass("vertical");
            $element.removeClass("horizontal");

            switch (orientation) {
              case "vertical":
                return $element.addClass("vertical");
              case "horizontal":
                return $element.addClass("horizontal");
            }
          });

          return el.addEventListener("mousedown", function(e) {
            if (e.button !== 0) {
              return;
            }

            var anchor = $pane.anchor;
            var coord;
            if (anchor === "north" || anchor === "south") {
              coord = "screenY";
            } else if (anchor === "west" || anchor === "east") {
              coord = "screenX";
            }

            var scale;
            if (anchor === "north" || anchor === "west") {
              scale = 1;
            } else if (anchor === "south" || anchor === "east") {
              scale = -1;
            }

            var startPos = {
              x: e.screenX,
              y: e.screenY
            };
            var startCoord = e[coord];
            var startSize = $pane.size;
            var startTime = Date.now();

            //pane.onHandleDown();

            // Not sure if this really adds value, but added for compatibility
            el.unselectable = "on";
            el.onselectstart = function() {
              return false;
            };
            el.style.userSelect = el.style.MozUserSelect = "none";

            // Null out the event to re-use e and prevent memory leaks
            //e.setCapture();
            e.preventDefault();
            e.defaultPrevented = true;
            e = null;

            var handleMouseMove = function(e) {
              faDragged = true; // Fix for dragging on toggle

              $pane.$onStartResize();

              // Inside Angular's digest, determine the ideal size of the element
              // according to movements then determine if those movements have been
              // constrained by boundaries, other panes or min/max clauses
              $scope.$apply(function() {
                var targetSize = startSize + scale * (e[coord] - startCoord);

                return $pane.resize(targetSize);
              });

              // Null out the event in case of memory leaks
              //e.setCapture();
              e.preventDefault();
              e.defaultPrevented = true;
              return e = null;
            };

            var handleMouseUp;
            handleMouseUp = function(e) {
              var displacementSq = Math.pow(e.screenX - startPos.x, 2) +
                                   Math.pow(e.screenY - startPos.y, 2);
              var timeElapsed = Date.now() - startTime;

              $window.removeEventListener("mousemove", handleMouseMoveThrottled, true);
              $window.removeEventListener("mouseup", handleMouseUp, true);

              var cleanup = function() {
                $pane.$onStopResize();

                // Null out the event in case of memory leaks
                //e.releaseCapture();
                e.preventDefault();
                e.defaultPrevented = true;
                return e = null;
              };

              if (displacementSq <= Math.pow(clickRadius, 2) && timeElapsed <= clickTime) {
                cleanup();
                return;
              }

              // In case the mouse is released at the end of a throttle period
              handleMouseMove(e);

              return cleanup();
            };

            // Prevent the reflow logic from happening too often
            var handleMouseMoveThrottled = throttle(10, handleMouseMove);

            $window.addEventListener("mouseup", handleMouseUp, true);
            return $window.addEventListener("mousemove", handleMouseMoveThrottled, true);
          });
        }
      };
    }
  ]);

}).call(this);


/***/ }),
/* 36 */,
/* 37 */,
/* 38 */,
/* 39 */,
/* 40 */,
/* 41 */,
/* 42 */,
/* 43 */,
/* 44 */,
/* 45 */,
/* 46 */,
/* 47 */,
/* 48 */,
/* 49 */,
/* 50 */,
/* 51 */,
/* 52 */,
/* 53 */,
/* 54 */,
/* 55 */,
/* 56 */,
/* 57 */,
/* 58 */,
/* 59 */,
/* 60 */,
/* 61 */,
/* 62 */,
/* 63 */,
/* 64 */,
/* 65 */,
/* 66 */,
/* 67 */,
/* 68 */,
/* 69 */,
/* 70 */,
/* 71 */,
/* 72 */,
/* 73 */,
/* 74 */,
/* 75 */,
/* 76 */,
/* 77 */,
/* 78 */,
/* 79 */,
/* 80 */,
/* 81 */,
/* 82 */,
/* 83 */,
/* 84 */,
/* 85 */,
/* 86 */,
/* 87 */,
/* 88 */,
/* 89 */,
/* 90 */,
/* 91 */,
/* 92 */,
/* 93 */,
/* 94 */,
/* 95 */,
/* 96 */,
/* 97 */,
/* 98 */,
/* 99 */,
/* 100 */,
/* 101 */,
/* 102 */,
/* 103 */,
/* 104 */,
/* 105 */,
/* 106 */,
/* 107 */,
/* 108 */,
/* 109 */,
/* 110 */,
/* 111 */,
/* 112 */,
/* 113 */,
/* 114 */,
/* 115 */,
/* 116 */,
/* 117 */,
/* 118 */,
/* 119 */,
/* 120 */,
/* 121 */,
/* 122 */,
/* 123 */,
/* 124 */,
/* 125 */,
/* 126 */,
/* 127 */,
/* 128 */,
/* 129 */,
/* 130 */,
/* 131 */,
/* 132 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = angular.module('stf/socket/socket-state', [
  (__webpack_require__(133).name),
  (__webpack_require__(44).name),
  (__webpack_require__(67).name),
  (__webpack_require__(173).name),
  (__webpack_require__(87).name)
])
  .directive('socketState', __webpack_require__(176))
  .config([
    '$provide', function($provide) {
      return $provide.decorator('$rootScope', [
        '$delegate', function($delegate) {
          $delegate.safeApply = function(fn) {
            var phase = $delegate.$$phase
            if (phase === '$apply' || phase === '$digest') {
              if (fn && typeof fn === 'function') {
                fn()
              }
            } else {
              $delegate.$apply(fn)
            }
          }
          return $delegate
        }
      ])
    }
  ])


/***/ }),
/* 133 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = angular.module('stf.socket', [
  //TODO: Refactor version update out to its own Ctrl
  (__webpack_require__(134).name),
  (__webpack_require__(90).name)
])
  .factory('socket', __webpack_require__(136))


/***/ }),
/* 134 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = angular.module('stf.app-state', [
])
  .provider('AppState', __webpack_require__(135))


/***/ }),
/* 135 */
/***/ ((module) => {

module.exports = function AppStateProvider() {
  var values = {
    config: {
      websocketUrl: ''
    },
    user: {
      settings: {}
    },
    device: {
      platform: ''
    }
  }

  /* global GLOBAL_APPSTATE:false */
  if (typeof GLOBAL_APPSTATE !== 'undefined') {
    values = angular.extend(values, GLOBAL_APPSTATE)
  }

  return {
    set: function(constants) {
      angular.extend(values, constants)
    },
    $get: function() {
      return values
    }
  }
}


/***/ }),
/* 136 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/**
* Copyright © 2024 contains code contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0
**/

var io = (__webpack_require__(137).io)

module.exports = function SocketFactory(
  $rootScope
, VersionUpdateService
, AppState
) {
  var websocketUrl = AppState.config.websocketUrl || ''
  var socket = io(websocketUrl, {
    reconnection: false, transports: ['websocket']
  })

  socket.scoped = function($scope) {
    var listeners = []

    $scope.$on('$destroy', function() {
      listeners.forEach(function(listener) {
        socket.removeListener(listener.event, listener.handler)
      })
    })

    return {
      on: function(event, handler) {
        listeners.push({
          event: event, handler: handler
        })
        socket.on(event, handler)
        return this
      }
    }
  }

  socket.on('outdated', function() {
    VersionUpdateService.open()
  })

  socket.on('socket.ip', function(ip) {
    $rootScope.safeApply(function() {
      socket.ip = ip
    })
  })

  return socket
}


/***/ }),
/* 137 */,
/* 138 */,
/* 139 */,
/* 140 */,
/* 141 */,
/* 142 */,
/* 143 */,
/* 144 */,
/* 145 */,
/* 146 */,
/* 147 */,
/* 148 */,
/* 149 */,
/* 150 */,
/* 151 */,
/* 152 */,
/* 153 */,
/* 154 */,
/* 155 */,
/* 156 */,
/* 157 */,
/* 158 */,
/* 159 */,
/* 160 */,
/* 161 */,
/* 162 */,
/* 163 */,
/* 164 */,
/* 165 */,
/* 166 */,
/* 167 */,
/* 168 */,
/* 169 */,
/* 170 */,
/* 171 */,
/* 172 */,
/* 173 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = angular.module('stf.refresh-page', [])
  .directive('refreshPage', __webpack_require__(174))


/***/ }),
/* 174 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = function refreshPageDirective($window) {
  return {
    restrict: 'E',
    replace: true,
    scope: {
    },
    template: __webpack_require__(175),
    link: function(scope) {
      scope.reloadWindow = function() {
        $window.location.reload()
      }
    }
  }
}


/***/ }),
/* 175 */
/***/ ((module) => {

module.exports = "<button ng-click=\"reloadWindow()\" class=\"btn btn-sm btn-primary-outline\"><i class=\"fa fa-refresh\"></i><span translate=\"translate\">Refresh</span></button>"

/***/ }),
/* 176 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = function SocketStateDirectiveFactory(
  socket
, growl
, gettext
, $filter
, SocketDisconnectedService
, $window
) {
  return {
    restrict: 'EA',
    template: __webpack_require__(177),
    link: function(scope) {
      var hasFailedOnce = false

      function setState(state) {
        switch (state) {
        case 'connect':
          if (hasFailedOnce) {
            growl.success('<h4>WebSocket</h4>' + $filter('translate')(
              gettext('Connected successfully.')) +
            '<refresh-page></refresh-page>', {ttl: 2000})
          }
          break
        case 'disconnect':
          SocketDisconnectedService.open(
            gettext('Socket connection was lost'))
          break
        case 'connect_error':
        case 'error':
          SocketDisconnectedService.open(
            gettext('Error'))
          break
        case 'reconnect_failed':
          SocketDisconnectedService.open(
            gettext('Error while reconnecting'))
          break
        case 'reconnect':
          growl.success('<h4>WebSocket</h4>' + $filter('translate')(
            gettext('Reconnected successfully.')), {ttl: -1})
          break
        }

        scope.safeApply(function() {
          scope.socketState = state
        })
      }

      var socketListeners = {
        connect: function() {
          setState('connect')
        }
      , disconnect: function() {
          setState('disconnect')
          hasFailedOnce = true
        }
      , error: function() {
          setState('error')
          hasFailedOnce = true
        }
      , connect_error: function() {
          setState('connect_error')
          hasFailedOnce = true
        }
      , reconnect_error: function() {
          setState('reconnect_error')
          hasFailedOnce = true
        }
      , reconnect_failed: function() {
          setState('reconnect_failed')
          hasFailedOnce = true
        }
      , reconnect: function() {
          setState('reconnect')
          hasFailedOnce = true
        }
      }

      Object.keys(socketListeners).forEach(function(event) {
        socket.on(event, socketListeners[event])
      })

      function unloadListener() {
        // On at least Firefox, the socket connection will close
        // before the page unloads, causing the "socket disconnected"
        // message to display on every unload. To prevent that from
        // happening, let's unbind all the listeners when it's time.
        Object.keys(socketListeners).forEach(function(event) {
          socket.removeListener(event, socketListeners[event])
        })
      }

      $window.addEventListener('beforeunload', unloadListener, false)

      scope.$on('$destroy', function() {
        $window.removeEventListener('beforeunload', unloadListener, false)
      })
    }
  }
}


/***/ }),
/* 177 */
/***/ ((module) => {

module.exports = ""

/***/ }),
/* 178 */
/***/ ((module) => {

module.exports =
  function LayoutCtrl(LanguageService, $rootScope, hotkeys, $filter, gettext) {
    LanguageService.updateLanguage()

    function toggleAdminMode() {
      var enabled = $filter('translate')(gettext('Admin mode has been enabled.'))
      var disabled = $filter('translate')(gettext('Admin mode has been disabled.'))

      $rootScope.adminMode = !$rootScope.adminMode

      alert($rootScope.adminMode ? enabled : disabled)
    }

    hotkeys.add({
      combo: 'up up down down left right left right enter',
      callback: toggleAdminMode
    })
  }


/***/ }),
/* 179 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

__webpack_require__(180)

module.exports = angular.module('device-list', [
  (__webpack_require__(182).name),
  (__webpack_require__(184).name),
  (__webpack_require__(194).name),
  (__webpack_require__(206).name),
  (__webpack_require__(36).name),
  (__webpack_require__(210).name),
  (__webpack_require__(212).name),
  (__webpack_require__(214).name),
  (__webpack_require__(219).name),
  (__webpack_require__(225).name),
  (__webpack_require__(251).name),
  (__webpack_require__(256).name),
  (__webpack_require__(259).name)
])
  .config(['$routeProvider', function($routeProvider) {
    $routeProvider
      .when('/devices', {
        template: __webpack_require__(262),
        controller: 'DeviceListCtrl'
      })
  }])
  .run(function(editableOptions) {
    // bootstrap3 theme for xeditables
    editableOptions.theme = 'bs3'
  })
  .controller('DeviceListCtrl', __webpack_require__(263))


/***/ }),
/* 180 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14);
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(15);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(17);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(18);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(19);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_device_list_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(181);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_device_list_css__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_cjs_js_device_list_css__WEBPACK_IMPORTED_MODULE_6__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_css_loader_dist_cjs_js_device_list_css__WEBPACK_IMPORTED_MODULE_6__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_css_loader_dist_cjs_js_device_list_css__WEBPACK_IMPORTED_MODULE_6__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()((_node_modules_css_loader_dist_cjs_js_device_list_css__WEBPACK_IMPORTED_MODULE_6___default()), options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((_node_modules_css_loader_dist_cjs_js_device_list_css__WEBPACK_IMPORTED_MODULE_6___default()) && (_node_modules_css_loader_dist_cjs_js_device_list_css__WEBPACK_IMPORTED_MODULE_6___default().locals) ? (_node_modules_css_loader_dist_cjs_js_device_list_css__WEBPACK_IMPORTED_MODULE_6___default().locals) : undefined);


/***/ }),
/* 181 */
/***/ ((module, exports, __webpack_require__) => {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(21);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.id, ".device-list {\n  color: deepskyblue;\n}\n\n.stf-device-list .filtering-buttons {\n  position: absolute;\n  top: 10px;\n  right: 20px;\n}\n\n.stf-device-list .device-not-usable {\n  color: #bbb\n}\n\n.stf-device-list .device-not-usable img {\n  opacity: 0.8;\n}\n\n.stf-device-list .device-not-usable .btn {\n  cursor: not-allowed;\n}\n\n.stf-device-list .devices-not-available {\n  background: #f6f6f6;\n}\n\n.stf-device-list .line {\n  height: 1px;\n  width: 100%;\n  border-bottom: 1px solid #e2e2e2;\n  margin: 0;\n}\n\n.stf-device-list .device-status {\n  margin-top: 4px;\n}\n\nimg.device-icon-smallest {\n  width: 12px;\n  margin-right: 6px;\n}\n\n.stf-device-list .device-small-image {\n  margin-right: 8px;\n  width: 13px;\n  display: inline-block;\n}\n\n.stf-device-list .device-small-image img {\n  height: 20px;\n  min-width: 10px;\n  max-width: 100%;\n}\n\n.stf-device-list .device-browser-list img {\n  width: 18px;\n  height: 18px;\n  margin-right: 3px;\n}\n\n.device-list-active-tabs.ng-enter {\n  -webkit-transition: 250ms;\n  transition: 250ms;\n  opacity: 0;\n}\n\n.device-list-active-tabs.ng-enter-active {\n  opacity: 1;\n}\n\n.stf-device-list .device-product-name-unusable {\n  color: inherit;\n}\n\n.stf-device-list .device-product-name-using {\n  border-bottom: 1px solid; /* leaving out the color inherits text color */\n}\n\n.stf-device-list .device-note {\n}\n\n.stf-device-list .device-note-edit {\n  margin-left: 15px;\n  visibility: hidden;\n}\n\n.stf-device-list .device-note:hover .device-note-edit {\n  visibility: visible;\n}\n", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 182 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

__webpack_require__(183);
module.exports = 'xeditable';


/***/ }),
/* 183 */
/***/ (() => {

/*!
angular-xeditable - 0.10.2
Edit-in-place for angular.js
Build date: 2019-11-01 
*/
/**
 * Angular-xeditable module
 *
 */
angular.module('xeditable', [])


/**
 * Default options.
 *
 * @namespace editable-options
 */
//todo: maybe better have editableDefaults, not options...
.value('editableOptions', {
  /**
   * Theme. Possible values `bs4`, `bs3`, `bs2`, `default`.
   * Default is `default`
   *
   * @var {string} theme
   * @memberOf editable-options
   */
  theme: 'default',
  /**
   * icon_set. Possible values `font-awesome`, `default`.
   * Default is `default`
   *
   * @var {string} icon set
   * @memberOf editable-options
   */
  icon_set: 'default',
  /**
   * Whether to show buttons for single editable element.
   * Possible values `right`, `no`.
   * Default is `right`
   *
   * @var {string} buttons
   * @memberOf editable-options
   */
  buttons: 'right',
  /**
   * Default value for `blur` attribute of single editable element.
   * Can be `cancel|submit|ignore`.
   * Default is `cancel`
   *
   * @var {string} blurElem
   * @memberOf editable-options
   */
  blurElem: 'cancel',
  /**
   * Default value for `blur` attribute of editable form.
   * Can be `cancel|submit|ignore`.
   * Default is `ignore`.
   *
   * @var {string} blurForm
   * @memberOf editable-options
   */
  blurForm: 'ignore',
  /**
   * How input elements get activated. Possible values: `focus|select|none`.
   * Default is `focus`
   *
   * @var {string} activate
   * @memberOf editable-options
   */
  activate: 'focus',
  /**
   * Whether to disable x-editable. Can be overloaded on each element.
   * Default is `false`
   *
   * @var {boolean} isDisabled
   * @memberOf editable-options
   */
   isDisabled: false,

  /**
   * Event, on which the edit mode gets activated.
   * Can be any event.
   * Default is `click`
   *
   * @var {string} activationEvent
   * @memberOf editable-options
   */
  activationEvent: 'click',

  /**
   * The default title of the submit button.
   * Default is `Submit`
   *
   * @var {string} submitButtonTitle
   * @memberOf editable-options
   */
  submitButtonTitle: 'Submit',

  /**
   * The default aria label of the submit button.
   * Default is `Submit`
   *
   * @var {string} submitButtonAriaLabel
   * @memberOf editable-options
   */
  submitButtonAriaLabel: 'Submit',

  /**
   * The default title of the cancel button.
   * Default is `Cancel`
   *
   * @var {string} cancelButtonTitle
   * @memberOf editable-options
   */
  cancelButtonTitle: 'Cancel',

  /**
   * The default aria label of the cancel button.
   * Default is `Cancel`
   *
   * @var {string} cancelButtonAriaLabel
   * @memberOf editable-options
   */
  cancelButtonAriaLabel: 'Cancel',

  /**
   * The default title of the clear button.
   * Default is `Clear`
   *
   * @var {string} clearButtonTitle
   * @memberOf editable-options
   */
  clearButtonTitle: 'Clear',

  /**
   * The default aria label of the clear button.
   * Default is `Clear`
   *
   * @var {string} clearButtonAriaLabel
   * @memberOf editable-options
   */
  clearButtonAriaLabel: 'Clear',

  /**
   * Whether to display the clear button.
   * Default is `false`
   *
   * @var {boolean} displayClearButton
   * @memberOf editable-options
   */
  displayClearButton: false
});

/*
 Angular-ui bootstrap datepicker
 http://angular-ui.github.io/bootstrap/#/datepicker
 */
angular.module('xeditable').directive('editableBsdate', ['editableDirectiveFactory', '$injector', '$parse',
    function(editableDirectiveFactory, $injector, $parse) {

        // Constants from Angular-ui bootstrap datepicker
        var uibDatepickerConfig = $injector.get('uibDatepickerConfig');
        var uibDatepickerPopupConfig = $injector.get('uibDatepickerPopupConfig');

        var popupAttrNames = [
            ['eIsOpen', 'is-open'],
            ['eDateDisabled', 'date-disabled'],
            ['eDatepickerPopup', 'uib-datepicker-popup'],
            ['eShowButtonBar', 'show-button-bar'],
            ['eCurrentText', 'current-text'],
            ['eClearText', 'clear-text'],
            ['eCloseText', 'close-text'],
            ['eCloseOnDateSelection', 'close-on-date-selection'],
            ['eDatepickerAppendToBody', 'datepicker-append-to-body'],
            ['eOnOpenFocus', 'on-open-focus'],
            ['eName', 'name'],
            ['eDateDisabled', 'date-disabled'],
            ['eAltInputFormats', 'alt-input-formats'],
            ['eDatepickerTemplateUrl', 'datepicker-template-url']
        ];

        var dateOptionsNames = [
            ['eFormatDay', 'formatDay'],
            ['eFormatMonth', 'formatMonth'],
            ['eFormatYear', 'formatYear'],
            ['eFormatDayHeader', 'formatDayHeader'],
            ['eFormatDayTitle', 'formatDayTitle'],
            ['eFormatMonthTitle', 'formatMonthTitle'],
            ['eMaxMode', 'maxMode'],
            ['eMinMode', 'minMode'],
            ['eDatepickerMode', 'datepickerMode']
        ];

        return editableDirectiveFactory({
            directiveName: 'editableBsdate',
            inputTpl: '<div></div>',
            render: function() {
                /** This basically renders a datepicker as in the example shown in
                 **  http://angular-ui.github.io/bootstrap/#/datepicker
                 **  The attributes are all the same as in the bootstrap-ui datepicker with e- as prefix
                 **/
                this.parent.render.call(this);

                var attrs = this.attrs;
                var scope = this.scope;

                var inputDatePicker = angular.element('<input type="text" class="form-control" ng-model="$parent.$data"/>');

                inputDatePicker.attr('uib-datepicker-popup', attrs.eDatepickerPopupXEditable || uibDatepickerPopupConfig.datepickerPopup );
                inputDatePicker.attr('year-range', attrs.eYearRange || 20);
                inputDatePicker.attr('ng-readonly', attrs.eReadonly || false);

                for (var i = popupAttrNames.length - 1; i >= 0; i--) {
                    var popupAttr = attrs[popupAttrNames[i][0]];
                    if (typeof popupAttr !== 'undefined') {
                        inputDatePicker.attr(popupAttrNames[i][1], popupAttr);
                    }
                }

                if (attrs.eNgChange) {
                    inputDatePicker.attr('ng-change', attrs.eNgChange);
                    this.inputEl.removeAttr('ng-change');
                }

                if (attrs.eStyle) {
                    inputDatePicker.attr('style', attrs.eStyle);
                    this.inputEl.removeAttr('style');
                }

                var dateOptions = {
                    maxDate: scope.$eval(attrs.eMaxDate) || uibDatepickerConfig.maxDate,
                    minDate: scope.$eval(attrs.eMinDate) || uibDatepickerConfig.minDate,
                    showWeeks: attrs.eShowWeeks ? attrs.eShowWeeks.toLowerCase() === 'true' : uibDatepickerConfig.showWeeks,
                    startingDay: attrs.eStartingDay || 0,
                    initDate: scope.$eval(attrs.eInitDate) || new Date()
                };

                if (attrs.eDatepickerOptions) {
                    var eDatepickerOptions = $parse(attrs.eDatepickerOptions)(scope);
                    angular.extend(dateOptions, eDatepickerOptions);
                }

                for (var z = dateOptionsNames.length - 1; z >= 0; z--) {
                    var doAttr = attrs[dateOptionsNames[z][0]];
                    if (typeof doAttr !== 'undefined') {
                        dateOptions[dateOptionsNames[z][1]] = doAttr;
                    }
                }

                scope.dateOptions = dateOptions;

                var showCalendarButton = angular.isDefined(attrs.eShowCalendarButton) ? attrs.eShowCalendarButton : "true";

                //See if calendar button should be displayed
                if (showCalendarButton === "true") {
                    var buttonDatePicker = angular.element('<button type="button" class="' +
                                            this.theme.calendarButtonClass + '"><i class="' +
                                            this.icon_set.calendar + '"></i></button>');
                    var buttonWrapper = angular.element('<span class="' + this.theme.buttonGroupAppendClass+ '"></span>');

                    buttonDatePicker.attr('ng-click', attrs.eNgClick);

                    buttonWrapper.append(buttonDatePicker);

                    this.inputEl.append(buttonWrapper);
                } else {
                    //If no calendar button, display calendar popup on click of input field
                    inputDatePicker.attr('ng-click', attrs.eNgClick);
                }

                inputDatePicker.attr('datepicker-options', "dateOptions");

                this.inputEl.prepend(inputDatePicker);

                this.inputEl.removeAttr('class');
                this.inputEl.removeAttr('ng-click');
                this.inputEl.removeAttr('is-open');
                this.inputEl.removeAttr('init-date');
                this.inputEl.removeAttr('datepicker-popup');
                this.inputEl.removeAttr('required');
                this.inputEl.removeAttr('ng-model');
                this.inputEl.removeAttr('date-picker-append-to-body');
                this.inputEl.removeAttr('name');
                this.inputEl.attr('class','input-group');
            },
            autosubmit: function() {
                var self = this;
                self.inputEl.bind('change', function() {
                    setTimeout(function() {
                        self.scope.$apply(function() {
                            self.scope.$form.$submit();
                        });
                    }, 500);
                });

                self.inputEl.bind('keydown', function(e) {
                    //submit on tab
                    if (e.keyCode === 9 && self.editorEl.attr('blur') === 'submit') {
                        self.scope.$apply(function() {
                            self.scope.$form.$submit();
                        });
                    }
                });
            }
    });
}]);

/*
Angular-ui bootstrap editable timepicker
http://angular-ui.github.io/bootstrap/#/timepicker
*/
angular.module('xeditable').directive('editableBstime', ['editableDirectiveFactory',
  function(editableDirectiveFactory) {
    return editableDirectiveFactory({
      directiveName: 'editableBstime',
      inputTpl: '<div uib-timepicker></div>',
      render: function() {
        this.parent.render.call(this);

        // timepicker can't update model when ng-model set directly to it
        // see: https://github.com/angular-ui/bootstrap/issues/1141
        // so we wrap it into DIV
        var div = angular.element('<div class="well well-small" style="display:inline-block;"></div>');

        // move ng-model to wrapping div
        div.attr('ng-model', this.inputEl.attr('ng-model'));
        this.inputEl.removeAttr('ng-model');

        // move ng-change to wrapping div
        if(this.attrs.eNgChange) {
          div.attr('ng-change', this.inputEl.attr('ng-change'));
          this.inputEl.removeAttr('ng-change');
        }

        // wrap
        this.inputEl.wrap(div);
      }
    });
}]);
//checkbox
angular.module('xeditable').directive('editableCheckbox', ['editableDirectiveFactory',
  function(editableDirectiveFactory) {
    return editableDirectiveFactory({
      directiveName: 'editableCheckbox',
      inputTpl: '<input type="checkbox">',
      render: function() {
        this.parent.render.call(this);
        this.inputEl.wrap('<label></label>');
        
        if (this.attrs.eTitle) {
          this.inputEl.parent().append('<span>' + this.attrs.eTitle + '</span>');
       }
      },
      autosubmit: function() {
        var self = this;
        self.inputEl.bind('change', function() {
          setTimeout(function() {
            self.scope.$apply(function() {
              self.scope.$form.$submit();
            });
          }, 500);
        });
      }
    });
}]);

// checklist
angular.module('xeditable').directive('editableChecklist', [
  'editableDirectiveFactory',
  'editableNgOptionsParser',
  function(editableDirectiveFactory, editableNgOptionsParser) {
    return editableDirectiveFactory({
      directiveName: 'editableChecklist',
      inputTpl: '<span></span>',
      useCopy: true,
      render: function() {
        this.parent.render.call(this);
        var parsed = editableNgOptionsParser(this.attrs.eNgOptions);
        var ngChangeHtml = '';
        var ngChecklistComparatorHtml = '';
        var ngDisabled = '';

        if (this.attrs.eNgChange) {
          ngChangeHtml = ' ng-change="' +  this.attrs.eNgChange + '"';
        }

        if (this.attrs.eChecklistComparator) {
          ngChecklistComparatorHtml = ' checklist-comparator="' +  this.attrs.eChecklistComparator + '"';
        }

        if(this.attrs.eNgDisabled){
          ngDisabled = ' ng-disabled="' + this.attrs.eNgDisabled+'"';
        }
        
        var html = '<label ng-repeat="'+parsed.ngRepeat+'">'+
          '<input type="checkbox" checklist-model="$parent.$parent.$data" checklist-value="'+parsed.locals.valueFn+'"' +
            ngChangeHtml + ngChecklistComparatorHtml + ngDisabled+'>'+
          '<span ng-bind="'+parsed.locals.displayFn+'"></span></label>';

        this.inputEl.removeAttr('ng-model');
        this.inputEl.removeAttr('ng-options');
        this.inputEl.removeAttr('ng-change');
        this.inputEl.removeAttr('checklist-comparator');
        this.inputEl.html(html);
      }
    });
}]);

angular.module('xeditable').directive('editableCombodate', ['editableDirectiveFactory', 'editableCombodate',
  function(editableDirectiveFactory, editableCombodate) {
    return editableDirectiveFactory({
      directiveName: 'editableCombodate',
      inputTpl: '<input type="text">',
      render: function() {
        this.parent.render.call(this);

        var options = {
          value: new Date(this.scope.$data)
        };
        var self = this;
        angular.forEach(["format", "template", "minYear", "maxYear", "yearDescending", "minuteStep", "secondStep", "firstItem", "errorClass", "customClass", "roundTime", "smartDays"], function(name) {

          var attrName = "e" + name.charAt(0).toUpperCase() + name.slice(1);

          if (attrName in self.attrs) {
            if (name == "minYear" || name == "maxYear" || name == "minuteStep" || name == "secondStep") {
              options[name] = parseInt(self.attrs[attrName], 10);
            } else {
              options[name] = self.attrs[attrName];
            }
          }
        });

        var combodate = editableCombodate.getInstance(this.inputEl, options);
        combodate.$widget.find('select').bind('change', function(e) {
          self.scope.$data = combodate.getValue() ?
              moment(combodate.getValue(), combodate.options.format).toDate().toISOString() : null;
        }).change();
      }
    });
  }
]);
/*
Input types: text|password|email|tel|number|url|search|color|date|datetime|datetime-local|time|month|week|file
*/

(function() {

  var camelCase = function(dashDelimitedString) {
    return dashDelimitedString.toLowerCase().replace(/-(.)/g, function(match, word) {
      return word.toUpperCase();
    });
  };

  var types = 'text|password|email|tel|number|url|search|color|date|datetime|datetime-local|time|month|week|file'.split('|');

  //todo: datalist

  // generate directives
  angular.forEach(types, function(type) {
    var directiveName = camelCase('editable' + '-' + type);
    angular.module('xeditable').directive(directiveName, ['editableDirectiveFactory',
      function(editableDirectiveFactory) {
        return editableDirectiveFactory({
          directiveName: directiveName,
          inputTpl: '<input type="'+type+'">',
          render: function() {
            this.parent.render.call(this);

            var attrs = this.attrs;
            var scope = this.scope;

            //Add bootstrap simple input groups
            if (attrs.eInputgroupleft || attrs.eInputgroupright) {
              this.inputEl.wrap('<div class="input-group"></div>');

              if (attrs.eInputgroupleft) {
                var inputGroupLeft = angular.element('<span class="input-group-addon" data-ng-bind="' + attrs.eInputgroupleft + '"></span>');
                this.inputEl.parent().prepend(inputGroupLeft);
              }

              if (attrs.eInputgroupright) {
                var inputGroupRight = angular.element('<span class="input-group-addon" data-ng-bind="' + attrs.eInputgroupright + '"></span>');
                this.inputEl.parent().append(inputGroupRight);
              }
            }

            // Add label to the input
            if (attrs.eLabel) {
              var label = angular.element('<label>' + attrs.eLabel + '</label>');
              if (attrs.eInputgroupleft || attrs.eInputgroupright) {
                this.inputEl.parent().parent().prepend(label);
              } else {
                this.inputEl.parent().prepend(label);
              }
            }

            // Add classes to the form
            if (attrs.eFormclass) {
              this.editorEl.addClass(attrs.eFormclass);
              this.inputEl.removeAttr('formclass');
            }
          },
          autosubmit: function() {
            var self = this;
            self.inputEl.bind('keydown', function(e) {
                //submit on tab
                if (e.keyCode === 9 && self.editorEl.attr('blur') === 'submit') {
                    self.scope.$apply(function() {
                        self.scope.$form.$submit();
                    });
                }
            });
          }
        });
    }]);
  });

  //`range` is bit specific
  angular.module('xeditable').directive('editableRange', ['editableDirectiveFactory', '$interpolate',
    function(editableDirectiveFactory, $interpolate) {
      return editableDirectiveFactory({
        directiveName: 'editableRange',
        inputTpl: '<input type="range" id="range" name="range">',
        render: function() {
          this.parent.render.call(this);
          this.inputEl.after('<output>' + $interpolate.startSymbol() + '$data' + $interpolate.endSymbol()  + '</output>');
        }
      });
  }]);

}());


/*
 Tags input directive for AngularJS
 https://github.com/mbenford/ngTagsInput
 */
angular.module('xeditable').directive('editableTagsInput', ['editableDirectiveFactory', 'editableUtils',
  function(editableDirectiveFactory, editableUtils) {
    var dir = editableDirectiveFactory({
        directiveName: 'editableTagsInput',
        inputTpl: '<tags-input></tags-input>',
        useCopy: true,
        render: function () {
            this.parent.render.call(this);
            this.inputEl.append(editableUtils.rename('auto-complete', this.attrs.$autoCompleteElement));
            this.inputEl.removeAttr('ng-model');
            this.inputEl.attr('ng-model', '$parent.$data');
        }
    });

    var linkOrg = dir.link;

    dir.link = function (scope, el, attrs, ctrl) {
        var autoCompleteEl = el.find('editable-tags-input-auto-complete');

        attrs.$autoCompleteElement = autoCompleteEl.clone();

        autoCompleteEl.remove();

        return linkOrg(scope, el, attrs, ctrl);
    };

    return dir;
}]);
// radiolist
angular.module('xeditable').directive('editableRadiolist', [
  'editableDirectiveFactory',
  'editableNgOptionsParser',
  '$interpolate',
  function(editableDirectiveFactory, editableNgOptionsParser, $interpolate) {
    return editableDirectiveFactory({
      directiveName: 'editableRadiolist',
      inputTpl: '<span></span>',
      render: function() {
        this.parent.render.call(this);
        var parsed = editableNgOptionsParser(this.attrs.eNgOptions),
            ngChangeHtml = '',
            ngNameHtml = '',
            ngValueFn = isNaN(parsed.locals.valueFn) ? "'" + parsed.locals.valueFn + "'" : parsed.locals.valueFn,
            ngDisabled = this.attrs.eNgDisabled ? this.attrs.eNgDisabled : false;

        if (this.attrs.eNgChange) {
          ngChangeHtml = ' ng-change="' +  this.attrs.eNgChange + '"';
        }

        if (this.attrs.eName) {
            ngNameHtml = ' name="' +  this.attrs.eName + '"';
        }

        var html = '<label data-ng-repeat="'+parsed.ngRepeat+'">'+
          '<input type="radio" data-ng-disabled="::' +
            ngDisabled +
            '" data-ng-model="$parent.$parent.$data" data-ng-value="' + $interpolate.startSymbol() +
            '::' + ngValueFn + $interpolate.endSymbol() +'"' +
            ngChangeHtml + ngNameHtml + '>'+
          '<span data-ng-bind="::'+parsed.locals.displayFn+'"></span></label>';

        this.inputEl.removeAttr('ng-model');
        this.inputEl.removeAttr('ng-options');
        this.inputEl.removeAttr('ng-change');
        this.inputEl.html(html);
      },
      autosubmit: function() {
        var self = this;
        self.inputEl.bind('change', function() {
          setTimeout(function() {
            self.scope.$apply(function() {
              self.scope.$form.$submit();
            });
          }, 500);
        });
      }
    });
}]);

//select
angular.module('xeditable').directive('editableSelect', ['editableDirectiveFactory',
  function(editableDirectiveFactory) {
    return editableDirectiveFactory({
      directiveName: 'editableSelect',
      inputTpl: '<select></select>',
      render: function() {
        this.parent.render.call(this);

        if (this.attrs.ePlaceholder) {
          var placeholder = angular.element('<option value="">' + this.attrs.ePlaceholder + '</option>');
          this.inputEl.append(placeholder);
        }
      },
      autosubmit: function() {
        var self = this;

        if (!self.attrs.hasOwnProperty("eMultiple")) {
          self.inputEl.bind('change', function () {
            self.scope.$apply(function () {
                self.scope.$form.$submit();
            });
          });
        }
      }
    });
}]);
//textarea
angular.module('xeditable').directive('editableTextarea', ['editableDirectiveFactory',
  function(editableDirectiveFactory) {
    return editableDirectiveFactory({
      directiveName: 'editableTextarea',
      inputTpl: '<textarea></textarea>',
      render: function() {
          this.parent.render.call(this);

          // Add classes to the form
          if (this.attrs.eFormclass) {
              this.editorEl.addClass(this.attrs.eFormclass);
              this.inputEl.removeAttr('formclass');
          }
      },
      addListeners: function() {
        var self = this;
        self.parent.addListeners.call(self);
        // submit textarea by ctrl+enter even with buttons
        if (self.single && self.buttons !== 'no') {
          self.autosubmit();
        }
      },
      autosubmit: function() {
        var self = this;
        self.inputEl.bind('keydown', function(e) {
          if (self.attrs.submitOnEnter) {
            if (e.keyCode === 13 && !e.shiftKey) {
              self.scope.$apply(function() {
                self.scope.$form.$submit();
              });
            }
          } else if ((e.ctrlKey || e.metaKey) && (e.keyCode === 13) || 
                (e.keyCode === 9 && self.editorEl.attr('blur') === 'submit')) {
            self.scope.$apply(function() {
              self.scope.$form.$submit();
            });
          }
        });
      }
    });
}]);

/*
 jQuery UI Datepicker for AngularJS
 https://github.com/angular-ui/ui-date
 */
angular.module('xeditable').directive('editableUidate', ['editableDirectiveFactory',
    function(editableDirectiveFactory) {
        return editableDirectiveFactory({
            directiveName: 'editableUidate',
            inputTpl: '<input class="form-control" />',
            render: function() {
                this.parent.render.call(this);
                this.inputEl.attr('ui-date', this.attrs.eUiDate);
                this.inputEl.attr('placeholder', this.attrs.ePlaceholder);
            }
        });
}]);

/*
 AngularJS-native version of Select2 and Selectize
 https://github.com/angular-ui/ui-select
 */
angular.module('xeditable').directive('editableUiSelect',['editableDirectiveFactory', 'editableUtils',
    function(editableDirectiveFactory, editableUtils) {
        var dir = editableDirectiveFactory({
            directiveName: 'editableUiSelect',
            inputTpl: '<ui-select></ui-select>',
            render: function () {
                this.parent.render.call(this);
                this.inputEl.append(editableUtils.rename('ui-select-match', this.attrs.$matchElement));
                this.inputEl.append(editableUtils.rename('ui-select-choices', this.attrs.$choicesElement));
                this.inputEl.removeAttr('ng-model');
                this.inputEl.attr('ng-model', '$parent.$parent.$data');
            },
            autosubmit: function() {
                var self = this;
                self.inputEl.bind('change', function() {
                    setTimeout(function() {
                        self.scope.$apply(function() {
                            self.scope.$form.$submit();
                        });
                    }, 500);
                });

                self.inputEl.bind('keydown', function(e) {
                    //submit on tab
                    if (e.keyCode === 9 && self.editorEl.attr('blur') === 'submit') {
                        self.scope.$apply(function() {
                            self.scope.$form.$submit();
                        });
                    }
                });
            }
        });

        var linkOrg = dir.link;

        dir.link = function (scope, el, attrs, ctrl) {
            var matchEl = el.find('editable-ui-select-match');
            var choicesEl = el.find('editable-ui-select-choices');

            attrs.$matchElement = matchEl.clone();
            attrs.$choicesElement = choicesEl.clone();

            matchEl.remove();
            choicesEl.remove();

            return linkOrg(scope, el, attrs, ctrl);
        };

        return dir;
    }]);
/**
 * EditableController class.
 * Attached to element with `editable-xxx` directive.
 *
 * @namespace editable-element
 */
/*
TODO: this file should be refactored to work more clear without closures!
*/
angular.module('xeditable').factory('editableController',
  ['$q', 'editableUtils',
    function ($q, editableUtils) {

      //EditableController function
      EditableController.$inject = ['$scope', '$attrs', '$element', '$parse', 'editableThemes', 'editableIcons', 'editableOptions', '$rootScope', '$compile', '$q', '$sce', '$templateCache'];
      function EditableController($scope, $attrs, $element, $parse, editableThemes, editableIcons, editableOptions, $rootScope, $compile, $q, $sce, $templateCache) {
        var valueGetter;

        //if control is disabled - it does not participate in waiting process
        var inWaiting;

        var self = this;

        self.scope = $scope;
        self.elem = $element;
        self.attrs = $attrs;
        self.inputEl = null;
        self.editorEl = null;
        self.single = true;
        self.error = '';
        self.theme = editableThemes[$attrs.editableTheme] || editableThemes[editableOptions.theme] || editableThemes['default'];
        self.parent = {};

        //will be undefined if icon_set is default and theme is default
        var theme_name = $attrs.editableTheme || editableOptions.theme || 'default';
        // The theme_name will not be correct if the theme set in options is unavailable
        // However, in that case an undefined icon_set is not that bad...
        var icon_set_option = $attrs.editableIconSet || editableOptions.icon_set;
        self.icon_set = icon_set_option === 'default' ? editableIcons.default[theme_name] : editableIcons.external[icon_set_option];

        //to be overwritten by directive
        self.inputTpl = '';
        self.directiveName = '';

        // with majority of controls copy is not needed, but..
        // copy MUST NOT be used for `select-multiple` with objects as items
        // copy MUST be used for `checklist`
        self.useCopy = false;

        //runtime (defaults)
        self.single = null;

        /**
         * Attributes defined with `e-*` prefix automatically transferred from original element to
         * control.
         * For example, if you set `<span editable-text="user.name" e-style="width: 100px"`>
         * then input will appear as `<input style="width: 100px">`.
         * See [demo](#text-customize).
         *
         * @var {any|attribute} e-*
         * @memberOf editable-element
         */

        /**
         * Whether to show ok/cancel buttons. Values: `right|no`.
         * If set to `no` control automatically submitted when value changed.
         * If control is part of form buttons will never be shown.
         *
         * @var {string|attribute} buttons
         * @memberOf editable-element
         */
        self.buttons = 'right';

        /**
         * Whether to show the editable element in a ui-bootstrap popover. Values: `true|false`.
         *
         * @var {boolean|attribute} popover
         * @memberOf editable-element
         */
        self.popover = false;

        /**
         * Action when control losses focus. Values: `cancel|submit|ignore`.
         * Has sense only for single editable element.
         * Otherwise, if control is part of form - you should set `blur` of form, not of individual element.
         *
         * @var {string|attribute} blur
         * @memberOf editable-element
         */
        // no real `blur` property as it is transferred to editable form


        /**
         * Listen to Mouse Down event instead of click: `true|false`.
         * Has sense only for single editable element.
         *
         * @var {string|attribute} usemousedown
         * @memberOf editable-element
         */

        //init
        self.init = function (single) {
          self.single = single;

          self.name = $attrs.eName || $attrs[self.directiveName];
          /*
          if(!$attrs[directiveName] && !$attrs.eNgModel && ($attrs.eValue === undefined)) {
            throw 'You should provide value for `'+directiveName+'` or `e-value` in editable element!';
          }
          */
          if ($attrs[self.directiveName]) {
            valueGetter = $parse($attrs[self.directiveName]);
          } else {
            throw 'You should provide value for `' + self.directiveName + '` in editable element!';
          }

          // settings for single and non-single
          if (!self.single) {
            // hide buttons for non-single
            self.buttons = 'no';
          } else {
            self.buttons = self.attrs.buttons || editableOptions.buttons;
          }

          //if name defined --> watch changes and update $data in form
          if ($attrs.eName) {
            self.scope.$watch('$data', function (newVal) {
              self.scope.$form.$data[$attrs.eName] = newVal;
            });
          }

          /**
           * Called when control is shown.
           * See [demo](#select-remote).
           *
           * @var {method|attribute} onshow
           * @memberOf editable-element
           */
          if ($attrs.onshow) {
            self.onshow = function () {
              return self.catchError($parse($attrs.onshow)($scope));
            };
          }

          /**
           * Called when control is hidden after both save or cancel.
           *
           * @var {method|attribute} onhide
           * @memberOf editable-element
           */
          if ($attrs.onhide) {
            self.onhide = function () {
              return $parse($attrs.onhide)($scope);
            };
          }

          /**
           * Called when control is cancelled.
           *
           * @var {method|attribute} oncancel
           * @memberOf editable-element
           */
          if ($attrs.oncancel) {
            self.oncancel = function () {
              return $parse($attrs.oncancel)($scope);
            };
          }

          /**
           * Called during submit before value is saved to model.
           * See [demo](#onbeforesave).
           *
           * @var {method|attribute} onbeforesave
           * @memberOf editable-element
           */
          if ($attrs.onbeforesave) {
            self.onbeforesave = function () {
              return self.catchError($parse($attrs.onbeforesave)($scope));
            };
          }

          /**
           * Called during submit after value is saved to model.
           * See [demo](#onaftersave).
           *
           * @var {method|attribute} onaftersave
           * @memberOf editable-element
           */
          if ($attrs.onaftersave) {
            self.onaftersave = function () {
              return self.catchError($parse($attrs.onaftersave)($scope));
            };
          }

          if ($attrs.popover) {
            self.popover = self.attrs.popover;
          }

          // watch change of model to update editable element
          // now only add/remove `editable-empty` class.
          // Initially this method called with newVal = undefined, oldVal = undefined
          // so no need initially call handleEmpty() explicitly
          $scope.$parent.$watch($attrs[self.directiveName], function (newVal, oldVal) {
            self.setLocalValue();
            self.handleEmpty();
          });
        };

        self.render = function () {
          var theme = self.theme;

          //build input
          self.inputEl = angular.element(self.inputTpl);

          //build controls
          self.controlsEl = angular.element(theme.controlsTpl);
          self.controlsEl.append(self.inputEl);

          //build buttons
          if (self.buttons !== 'no') {
            self.buttonsEl = angular.element(theme.buttonsTpl);
            self.submitEl = angular.element(theme.submitTpl);
            self.resetEl = angular.element(theme.resetTpl);
            self.cancelEl = angular.element(theme.cancelTpl);
            self.submitEl.attr('title', editableOptions.submitButtonTitle);
            self.submitEl.attr('aria-label', editableOptions.submitButtonAriaLabel);
            self.cancelEl.attr('title', editableOptions.cancelButtonTitle);
            self.cancelEl.attr('aria-label', editableOptions.cancelButtonAriaLabel);
            self.resetEl.attr('title', editableOptions.clearButtonTitle);
            self.resetEl.attr('aria-label', editableOptions.clearButtonAriaLabel);

            if (self.icon_set) {
              self.submitEl.find('span').addClass(self.icon_set.ok);
              self.cancelEl.find('span').addClass(self.icon_set.cancel);
              self.resetEl.find('span').addClass(self.icon_set.clear);
            }

            self.buttonsEl.append(self.submitEl).append(self.cancelEl);

            if (editableOptions.displayClearButton) {
              self.buttonsEl.append(self.resetEl);
            }

            self.controlsEl.append(self.buttonsEl);

            self.inputEl.addClass('editable-has-buttons');
          }

          //build error
          self.errorEl = angular.element(theme.errorTpl);
          self.controlsEl.append(self.errorEl);

          //build editor
          self.editorEl = angular.element(self.single ? theme.formTpl : theme.noformTpl);
          self.editorEl.append(self.controlsEl);

          // transfer `e-*|data-e-*|x-e-*` attributes
          for (var k in $attrs.$attr) {
            if (k.length <= 1) {
              continue;
            }
            var transferAttr = false;
            var nextLetter = k.substring(1, 2);

            // if starts with `e` + uppercase letter
            if (k.substring(0, 1) === 'e' && nextLetter === nextLetter.toUpperCase()) {
              transferAttr = k.substring(1); // cut `e`
            } else {
              continue;
            }

            // exclude `form` and `ng-submit`,
            if (transferAttr === 'Form' || transferAttr === 'NgSubmit') {
              continue;
            }

            var firstLetter = transferAttr.substring(0, 1);
            var secondLetter = transferAttr.substring(1, 2);

            // convert back to lowercase style
            if (secondLetter === secondLetter.toUpperCase() &&
              firstLetter === firstLetter.toUpperCase()) {
              transferAttr = firstLetter.toLowerCase() + '-' + editableUtils.camelToDash(transferAttr.substring(1));
            } else {
              transferAttr = firstLetter.toLowerCase() + editableUtils.camelToDash(transferAttr.substring(1));
            }

            // workaround for attributes without value (e.g. `multiple = "multiple"`)
            // except for 'e-value'
            var attrValue = (transferAttr !== 'value' && $attrs[k] === '') ? transferAttr : $attrs[k];

            // set attributes to input
            self.inputEl.attr(transferAttr, attrValue);
          }

          self.inputEl.addClass('editable-input');
          self.inputEl.attr('ng-model', '$parent.$data');

          // add directiveName class to editor, e.g. `editable-text`
          self.editorEl.addClass(editableUtils.camelToDash(self.directiveName));

          if (self.single) {
            self.editorEl.attr('editable-form', '$form');
            // transfer `blur` to form
            self.editorEl.attr('blur', self.attrs.blur || editableOptions.blurElem);
          }

          //apply `postrender` method of theme
          if (angular.isFunction(theme.postrender)) {
            theme.postrender.call(self);
          }

        };

        // with majority of controls copy is not needed, but..
        // copy MUST NOT be used for `select-multiple` with objects as items
        // copy MUST be used for `checklist`
        self.setLocalValue = function () {
          self.scope.$data = self.useCopy ?
            angular.copy(valueGetter($scope.$parent)) :
            valueGetter($scope.$parent);
        };

        // reference of the scope to use for $compile
        var newScope = null;
        //show
        self.show = function () {
          // set value of scope.$data
          self.setLocalValue();

          /*
          Originally render() was inside init() method, but some directives polluting editorEl,
          so it is broken on second opening.
          Cloning is not a solution as jqLite can not clone with event handler's.
          */
          self.render();

          // insert into DOM
          $element.after(self.editorEl);

          // compile (needed to attach ng-* events from markup)
          newScope = $scope.$new();
          $compile(self.editorEl)(newScope);

          // attach listeners (`escape`, autosubmit, etc)
          self.addListeners();

          // hide element
          $element.addClass('editable-hide');

          if (self.popover) {
            var wrapper = angular.element('<div></div>');
            wrapper.append(self.editorEl);
            self.editorEl = wrapper;
            $templateCache.put('popover.html', self.editorEl[0].outerHTML);
          }

          // onshow
          return self.onshow();
        };

        //hide
        self.hide = function () {

          // destroy the scope to prevent memory leak
          newScope.$destroy();

          self.controlsEl.remove();
          self.editorEl.remove();
          $element.removeClass('editable-hide');

          if (self.popover) {
            $templateCache.remove('popover.html');
          }

          // onhide
          return self.onhide();
        };

        // cancel
        self.cancel = function () {
          // oncancel
          self.oncancel();
          // don't call hide() here as it called in form's code
        };

        /*
        Called after show to attach listeners
        */
        self.addListeners = function () {
          // bind keyup for `escape`
          self.inputEl.bind('keyup', function (e) {
            if (!self.single) {
              return;
            }

            // todo: move this to editable-form!
            switch (e.keyCode) {
              // hide on `escape` press
              case 27:
                self.scope.$apply(function () {
                  self.scope.$form.$cancel();
                });
                break;
            }
          });

          // autosubmit when `no buttons`
          if (self.single && self.buttons === 'no') {
            self.autosubmit();
          }

          // click - mark element as clicked to exclude in document click handler
          self.editorEl.bind('click', function (e) {
            // ignore right/middle button click
            if (e.which && e.which !== 1) {
              return;
            }

            if (self.scope.$form.$visible) {
              self.scope.$form._clicked = true;
            }
          });
        };

        // setWaiting
        self.setWaiting = function (value) {
          if (value) {
            // participate in waiting only if not disabled
            inWaiting = !self.inputEl.attr('disabled') &&
              !self.inputEl.attr('ng-disabled') &&
              !self.inputEl.attr('ng-enabled');
            if (inWaiting) {
              self.inputEl.attr('disabled', 'disabled');
              if (self.buttonsEl) {
                self.buttonsEl.find('button').attr('disabled', 'disabled');
              }
            }
          } else {
            if (inWaiting) {
              self.inputEl.removeAttr('disabled');
              if (self.buttonsEl) {
                self.buttonsEl.find('button').removeAttr('disabled');
              }
            }
          }
        };

        self.activate = function (start, end) {
          setTimeout(function () {
            var el = self.inputEl[0];

            if (editableOptions.activate === 'focus' && el.focus) {
              if (start !== undefined && start !== "" && el.setSelectionRange) {
                end = end || start;
                el.onfocus = function () {
                  setTimeout(function () {
                    try {
                      this.setSelectionRange(start, end);
                    } catch (e) {
                      //do nothing, this input doesn't support setSelectionRange
                    }
                  }.bind(this));
                };
              }

              if (self.directiveName == 'editableRadiolist' || self.directiveName == 'editableChecklist' ||
                self.directiveName == 'editableBsdate' || self.directiveName == 'editableTagsInput') {
                //Set focus to first pristine element in the list
                el.querySelector('.ng-pristine').focus();
              } else {
                el.focus();
              }
            } else if (editableOptions.activate === 'select') {
              if (el.select) {
                el.select();
              } else if (el.focus) {
                el.focus();
              }
            }
          }, 0);
        };

        self.setError = function (msg) {
          if (!angular.isObject(msg)) {
            $scope.$error = $sce.trustAsHtml(msg);
            self.error = msg;
          }
        };

        /*
        Checks that result is string or promise returned string and shows it as error message
        Applied to onshow, onbeforesave, onaftersave
        */
        self.catchError = function (result, noPromise) {
          if (angular.isObject(result) && noPromise !== true) {
            $q.when(result).then(
              //success and fail handlers are equal
              angular.bind(this, function (r) {
                this.catchError(r, true);
              }),
              angular.bind(this, function (r) {
                this.catchError(r, true);
              })
            );
            //check $http error
          } else if (noPromise && angular.isObject(result) && result.status &&
            (result.status !== 200) && result.data && angular.isString(result.data)) {
            this.setError(result.data);
            //set result to string: to let form know that there was error
            result = result.data;
          } else if (angular.isString(result)) {
            this.setError(result);
          }
          return result;
        };

        self.save = function () {
          valueGetter.assign($scope.$parent,
            self.useCopy ? angular.copy(self.scope.$data) : self.scope.$data);

          // no need to call handleEmpty here as we are watching change of model value
          // self.handleEmpty();
        };

        /*
        attach/detach `editable-empty` class to element
        */
        self.handleEmpty = function () {
          var val = valueGetter($scope.$parent);
          var isEmpty = val === null || val === undefined || val === "" || (angular.isArray(val) && val.length === 0);
          $element.toggleClass('editable-empty', isEmpty);
        };

        /*
        Called when `buttons = "no"` to submit automatically
        */
        self.autosubmit = angular.noop;

        self.onshow = angular.noop;
        self.onhide = angular.noop;
        self.oncancel = angular.noop;
        self.onbeforesave = angular.noop;
        self.onaftersave = angular.noop;
      }

      return EditableController;
    }]);

/*
editableFactory is used to generate editable directives (see `/directives` folder)
Inside it does several things:
- detect form for editable element. Form may be one of three types:
  1. autogenerated form (for single editable elements)
  2. wrapper form (element wrapped by <form> tag)
  3. linked form (element has `e-form` attribute pointing to existing form)

- attach editableController to element

Depends on: editableController, editableFormFactory
*/
angular.module('xeditable').factory('editableDirectiveFactory',
['$parse', '$compile', 'editableThemes', '$rootScope', '$document', 'editableController', 'editableFormController', 'editableOptions',
function($parse, $compile, editableThemes, $rootScope, $document, editableController, editableFormController, editableOptions) {

  //directive object
  return function(overwrites) {
    return {
      restrict: 'A',
      scope: true,
      require: [overwrites.directiveName, '?^form'],
      controller: editableController,
      link: function(scope, elem, attrs, ctrl) {
        // editable controller
        var eCtrl = ctrl[0];

        // form controller
        var eFormCtrl;

        // this variable indicates is element is bound to some existing form,
        // or it's single element who's form will be generated automatically
        // By default consider single element without any linked form.ß
        var hasForm = false;

        // element wrapped by form
        if (ctrl[1]) {
          eFormCtrl = ctrl[1];
          hasForm = attrs.eSingle === undefined;
        } else if (attrs.eForm) { // element not wrapped by <form>, but we have `e-form` attr
          var getter = $parse(attrs.eForm)(scope);
          if (getter) { // form exists in scope (above), e.g. editable column
            eFormCtrl = getter;
            hasForm = true;
          } else if (elem && typeof elem.parents === "function" && elem.parents().last().find('form[name="'+attrs.eForm+'"]').length) { // form exists below or not exist at all: check document.forms
            // form is below and not processed yet
            eFormCtrl = null;
            hasForm = true;
          } else {
            // form exists below or not exist at all: check document.forms
            for (var i=0; i<$document[0].forms.length;i++) {
              if ($document[0].forms[i].name === attrs.eForm) {
                // form is below and not processed yet
                eFormCtrl = null;
                hasForm = true;
                break;
              }
            }
          }
        }

        /*
        if(hasForm && !attrs.eName) {
          throw 'You should provide `e-name` for editable element inside form!';
        }
        */

        //check for `editable-form` attr in form
        /*
        if(eFormCtrl && ) {
          throw 'You should provide `e-name` for editable element inside form!';
        }
        */

        // store original props to `parent` before merge
        angular.forEach(overwrites, function(v, k) {
          if(eCtrl[k] !== undefined) {
            eCtrl.parent[k] = eCtrl[k];
          }
        });

        // merge overwrites to base editable controller
        angular.extend(eCtrl, overwrites);

        // x-editable can be disabled using editableOption or edit-disabled attribute
        var is_disabled = function() {
          return angular.isDefined(attrs.editDisabled) ?
            scope.$eval(attrs.editDisabled) :
            editableOptions.isDisabled;
        };

        // init editable ctrl
        eCtrl.init(!hasForm);

        // publich editable controller as `$editable` to be referenced in html
        scope.$editable = eCtrl;

        // add `editable` class to element
        elem.addClass('editable');

        // hasForm
        if(hasForm) {
          if(eFormCtrl) {
            scope.$form = eFormCtrl;
            if(!scope.$form.$addEditable) {
              throw 'Form with editable elements should have `editable-form` attribute.';
            }
            scope.$form.$addEditable(eCtrl);
          } else {
            // future form (below): add editable controller to buffer and add to form later
            $rootScope.$$editableBuffer = $rootScope.$$editableBuffer || {};
            $rootScope.$$editableBuffer[attrs.eForm] = $rootScope.$$editableBuffer[attrs.eForm] || [];
            $rootScope.$$editableBuffer[attrs.eForm].push(eCtrl);
            scope.$form = null; //will be re-assigned later
          }
        // !hasForm
        } else {
          // create editableform controller
          scope.$form = editableFormController();
          // add self to editable controller
          scope.$form.$addEditable(eCtrl);

          // if `e-form` provided, publish local $form in scope
          if(attrs.eForm) {
            ($parse(attrs.eForm).assign || angular.noop)(scope.$parent, scope.$form);
          }

          // bind click - if no external form defined
          if(!attrs.eForm || attrs.eClickable) {
            elem.addClass('editable-click');
            elem.bind(editableOptions.activationEvent, function(e) {
              e.preventDefault();
              e.editable = eCtrl;
              if(!is_disabled()) {
                scope.$apply(function(){
                  scope.$form.$show();
                });
              }
            });
          }
        }

      }
    };
  };
}]);

/*
Returns editableForm controller
*/
angular.module('xeditable').factory('editableFormController',
  ['$parse', '$document', '$rootScope', 'editablePromiseCollection', 'editableUtils', 'editableOptions',
    function ($parse, $document, $rootScope, editablePromiseCollection, editableUtils, editableOptions) {

      // array of opened editable forms
      var shown = [];

      //Check if the child element correspond or is a descendant of the parent element
      var isSelfOrDescendant = function (parent, child) {
        if (child === parent || (editableOptions.activationEvent === "focus" && child === parent.parentNode)) {
          return true;
        }

        var node = child.parentNode;

        while (node !== null) {
          if (node === parent) {
            return true;
          }
          node = node.parentNode;
        }
        return false;
      };

      //Check if it is a real blur : if the click event appear on a shown editable elem, this is not a blur.
      var isBlur = function (shown, event) {
        var isBlur = true;

        var editables = shown.$editables;
        angular.forEach(editables, function (v) {
          var element = v.editorEl[0];
          if (isSelfOrDescendant(element, event.target))
            isBlur = false;

        });
        return isBlur;
      };

      var clickHandler = function (e) {
        // ignore right/middle button click
        if (e.which && e.which !== 1) {
          return;
        }

        var toCancel = [];
        var toSubmit = [];
        for (var i = 0; i < shown.length; i++) {
          // console.log("in for", shown[i]);
          // exclude clicked
          if (shown[i]._clicked) {
            shown[i]._clicked = false;
            continue;
          }

          // exclude waiting
          if (shown[i].$waiting) {
            continue;
          }

          if (shown[i]._blur === 'cancel' && isBlur(shown[i], e)) {
            toCancel.push(shown[i]);
          }

          if (shown[i]._blur === 'submit' && isBlur(shown[i], e)) {
            toSubmit.push(shown[i]);
          }
        }

        if (toCancel.length || toSubmit.length) {
          $rootScope.$apply(function () {
            angular.forEach(toCancel, function (v) { v.$cancel(); });
            angular.forEach(toSubmit, function (v) { v.$submit(); });
          });
        }
      };



      $rootScope.$on('closeEdit', function () {
        for (var i = 0; i < shown.length; i++) {
          shown[i].$hide();
        }
      });

      var base = {
        $addEditable: function (editable) {
          //console.log('add editable', editable.elem, editable.elem.bind);
          this.$editables.push(editable);

          //'on' is not supported in angular 1.0.8
          editable.elem.bind('$destroy', angular.bind(this, this.$removeEditable, editable));

          //bind editable's local $form to self (if not bound yet, below form)
          if (!editable.scope.$form) {
            editable.scope.$form = this;
          }

          //if form already shown - call show() of new editable
          if (this.$visible) {
            editable.catchError(editable.show());
          }
          editable.catchError(editable.setWaiting(this.$waiting));
        },

        $removeEditable: function (editable) {
          //arrayRemove
          for (var i = 0; i < this.$editables.length; i++) {
            if (this.$editables[i] === editable) {
              this.$editables.splice(i, 1);
              return;
            }
          }
        },

        /**
         * Shows form with editable controls.
         *
         * @method $show()
         * @memberOf editable-form
         */
        $show: function () {
          if (this.$visible) {
            return;
          }

          this.$visible = true;

          var pc = editablePromiseCollection();

          //own show
          pc.when(this.$onshow());

          //clear errors
          this.$setError(null, '');

          //children show
          angular.forEach(this.$editables, function (editable) {
            pc.when(editable.show());
          });

          //wait promises and activate
          pc.then({
            onWait: angular.bind(this, this.$setWaiting),
            onTrue: angular.bind(this, this.$activate),
            onFalse: angular.bind(this, this.$activate),
            onString: angular.bind(this, this.$activate)
          });

          // add to internal list of shown forms
          // setTimeout needed to prevent closing right after opening (e.g. when trigger by button)
          setTimeout(angular.bind(this, function () {
            // clear `clicked` to get ready for clicks on visible form
            this._clicked = false;
            if (editableUtils.indexOf(shown, this) === -1) {
              shown.push(this);
            }
          }), 0);
        },

        /**
         * Sets focus on form field specified by `name`.<br/>
         * When trying to set the focus on a form field of a new row in the editable table, the `$activate` call needs to be wrapped in a `$timeout` call so that the form is rendered before the `$activate` function is called.
         *
         * @method $activate(name)
         * @param {string} name name of field
         * @memberOf editable-form
         */
        $activate: function (name) {
          var i,
            selectionStart,
            selectionEnd;
          if (this.$editables.length) {
            //activate by name
            if (angular.isString(name)) {
              for (i = 0; i < this.$editables.length; i++) {
                if (this.$editables[i].name === name) {
                  this.$editables[i].activate();
                  return;
                }
              }
            }

            //try activate error field
            for (i = 0; i < this.$editables.length; i++) {
              if (this.$editables[i].error) {
                this.$editables[i].activate();
                return;
              }
            }


            // bind click to body: cancel|submit|ignore forms
            if (this.$editables[0].attrs.usemousedown === "true") {
              $document.bind('mousedown', clickHandler);
            } else {
              $document.bind('click', clickHandler);
            }

            //by default activate first field
            selectionStart = this.$editables[0].elem[0].selectionStart ?
              this.$editables[0].elem[0].selectionStart :
              this.$editables[0].elem[0].text ? this.$editables[0].elem[0].text.length :
                this.$editables[0].elem[0].innerHTML ? this.$editables[0].elem[0].innerHTML.length : 0;
            selectionEnd = this.$editables[0].elem[0].selectionEnd ?
              this.$editables[0].elem[0].selectionEnd :
              this.$editables[0].elem[0].text ? this.$editables[0].elem[0].text.length :
                this.$editables[0].elem[0].innerHTML ? this.$editables[0].elem[0].innerHTML.length : 0;
            this.$editables[0].activate(selectionStart, selectionEnd);
          }
        },

        /**
         * Hides form with editable controls without saving.
         *
         * @method $hide()
         * @memberOf editable-form
         */
        $hide: function () {
          if (!this.$visible) {
            return;
          }
          this.$visible = false;
          // self hide
          this.$onhide();
          // children's hide
          angular.forEach(this.$editables, function (editable) {
            editable.hide();
          });

          // remove from internal list of shown forms
          editableUtils.arrayRemove(shown, this);
        },

        /**
         * Triggers `oncancel` event and calls `$hide()`.
         *
         * @method $cancel()
         * @memberOf editable-form
         */
        $cancel: function () {
          if (!this.$visible) {
            return;
          }
          // self cancel
          this.$oncancel();
          // children's cancel
          angular.forEach(this.$editables, function (editable) {
            editable.cancel();
          });
          // self hide
          this.$hide();
        },

        $setWaiting: function (value) {
          this.$waiting = !!value;
          // we can't just set $waiting variable and use it via ng-disabled in children
          // because in editable-row form is not accessible
          angular.forEach(this.$editables, function (editable) {
            editable.setWaiting(!!value);
          });
        },

        /**
         * Shows error message for particular field.
         *
         * @method $setError(name, msg)
         * @param {string} name name of field
         * @param {string} msg error message
         * @memberOf editable-form
         */
        $setError: function (name, msg) {
          angular.forEach(this.$editables, function (editable) {
            if (!name || editable.name === name) {
              editable.setError(msg);
            }
          });
        },

        $submit: function () {
          if (this.$waiting) {
            return;
          }

          //clear errors
          this.$setError(null, '');

          //children onbeforesave
          var pc = editablePromiseCollection();
          angular.forEach(this.$editables, function (editable) {
            pc.when(editable.onbeforesave());
          });

          /*
          onbeforesave result:
          - true/undefined: save data and close form
          - false: close form without saving
          - string: keep form open and show error
          */
          pc.then({
            onWait: angular.bind(this, this.$setWaiting),
            onTrue: angular.bind(this, checkSelf, true),
            onFalse: angular.bind(this, checkSelf, false),
            onString: angular.bind(this, this.$activate)
          });

          //save
          function checkSelf(childrenTrue) {
            var pc = editablePromiseCollection();
            pc.when(this.$onbeforesave());
            pc.then({
              onWait: angular.bind(this, this.$setWaiting),
              onTrue: childrenTrue ? angular.bind(this, this.$save) : angular.bind(this, this.$hide),
              onFalse: angular.bind(this, this.$hide),
              onString: angular.bind(this, this.$activate)
            });
          }
        },

        $save: function () {
          // write model for each editable
          angular.forEach(this.$editables, function (editable) {
            editable.save();
          });

          //call onaftersave of self and children
          var pc = editablePromiseCollection();
          pc.when(this.$onaftersave());
          angular.forEach(this.$editables, function (editable) {
            pc.when(editable.onaftersave());
          });

          /*
          onaftersave result:
          - true/undefined/false: just close form
          - string: keep form open and show error
          */
          pc.then({
            onWait: angular.bind(this, this.$setWaiting),
            onTrue: angular.bind(this, this.$hide),
            onFalse: angular.bind(this, this.$hide),
            onString: angular.bind(this, this.$activate)
          });
        },

        $onshow: angular.noop,
        $oncancel: angular.noop,
        $onhide: angular.noop,
        $onbeforesave: angular.noop,
        $onaftersave: angular.noop
      };

      return function () {
        return angular.extend({
          $editables: [],
          /**
           * Form visibility flag.
           *
           * @var {bool} $visible
           * @memberOf editable-form
           */
          $visible: false,
          /**
           * Form waiting flag. It becomes `true` when form is loading or saving data.
           *
           * @var {bool} $waiting
           * @memberOf editable-form
           */
          $waiting: false,
          $data: {},
          _clicked: false,
          _blur: null
        }, base);
      };
    }]);

/**
 * EditableForm directive. Should be defined in <form> containing editable controls.  
 * It add some usefull methods to form variable exposed to scope by `name="myform"` attribute.
 *
 * @namespace editable-form
 */
angular.module('xeditable').directive('editableForm',
  ['$rootScope', '$parse', 'editableFormController', 'editableOptions',
  function($rootScope, $parse, editableFormController, editableOptions) {
    return {
      restrict: 'A',
      require: ['form'],
      //require: ['form', 'editableForm'],
      //controller: EditableFormController,
      compile: function() {
        return {
          pre: function(scope, elem, attrs, ctrl) {
            var form = ctrl[0];
            var eForm;

            //if `editableForm` has value - publish smartly under this value
            //this is required only for single editor form that is created and removed
            if(attrs.editableForm) {
              if(scope[attrs.editableForm] && scope[attrs.editableForm].$show) {
                eForm = scope[attrs.editableForm];
                angular.extend(form, eForm);
              } else {
                eForm = editableFormController();
                scope[attrs.editableForm] = eForm;
                angular.extend(eForm, form);
              }
            } else { //just merge to form and publish if form has name
              eForm = editableFormController();
              angular.extend(form, eForm);
            }

            //read editables from buffer (that appeared before FORM tag)
            var buf = $rootScope.$$editableBuffer;
            var name = form.$name;
            if(name && buf && buf[name]) {
              angular.forEach(buf[name], function(editable) {
                eForm.$addEditable(editable);
              });
              delete buf[name];
            }
          },
          post: function(scope, elem, attrs, ctrl) {
            var eForm;

            if(attrs.editableForm && scope[attrs.editableForm] && scope[attrs.editableForm].$show) {
              eForm = scope[attrs.editableForm];
            } else {
              eForm = ctrl[0];
            }

            /**
             * Called when form is shown.
             * 
             * @var {method|attribute} onshow 
             * @memberOf editable-form
             */
            if(attrs.onshow) {
              eForm.$onshow = angular.bind(eForm, $parse(attrs.onshow), scope);
            }

            /**
             * Called when form hides after both save or cancel.
             * 
             * @var {method|attribute} onhide 
             * @memberOf editable-form
             */
            if(attrs.onhide) {
              eForm.$onhide = angular.bind(eForm, $parse(attrs.onhide), scope);
            }

            /**
             * Called when form is cancelled.
             * 
             * @var {method|attribute} oncancel
             * @memberOf editable-form
             */
            if(attrs.oncancel) {
              eForm.$oncancel = angular.bind(eForm, $parse(attrs.oncancel), scope);
            }

            /**
             * Whether form initially rendered in shown state.
             *
             * @var {bool|attribute} shown
             * @memberOf editable-form
             */
            if(attrs.shown && $parse(attrs.shown)(scope)) {
              eForm.$show();
            }

            /**
             * Action when form losses focus. Values: `cancel|submit|ignore`.
             * Default is `ignore`.
             * 
             * @var {string|attribute} blur
             * @memberOf editable-form
             */
            eForm._blur = attrs.blur || editableOptions.blurForm;

            // onbeforesave, onaftersave
            if(!attrs.ngSubmit && !attrs.submit) {
              /**
               * Called after all children `onbeforesave` callbacks but before saving form values
               * to model.  
               * If at least one children callback returns `non-string` - it will not not be called.  
               * See [editable-form demo](#editable-form) for details.
               * 
               * @var {method|attribute} onbeforesave
               * @memberOf editable-form
               * 
               */
              if(attrs.onbeforesave) {
                eForm.$onbeforesave = function() {
                  return $parse(attrs.onbeforesave)(scope, {$data: eForm.$data});
                };
              }

              /**
               * Called when form values are saved to model.  
               * See [editable-form demo](#editable-form) for details.
               * 
               * @var {method|attribute} onaftersave 
               * @memberOf editable-form
               * 
               */
              if(attrs.onaftersave) {
                eForm.$onaftersave = function() {
                  return $parse(attrs.onaftersave)(scope, {$data: eForm.$data});
                };
              }

              elem.bind('submit', function(event) {
                event.preventDefault();
                scope.$apply(function() {
                  eForm.$submit();
                });
              });
            }


            // click - mark form as clicked to exclude in document click handler
            elem.bind('click', function(e) {
              // ignore right/middle button click
              if (e.which && e.which !== 1) {
                return;
              }

              if (eForm.$visible) {
                eForm._clicked = true;
              }
            });   

          }
        };
      }
    };
}]);
/**
 * editablePromiseCollection
 *  
 * Collect results of function calls. Shows waiting if there are promises. 
 * Finally, applies callbacks if:
 * - onTrue(): all results are true and all promises resolved to true
 * - onFalse(): at least one result is false or promise resolved to false
 * - onString(): at least one result is string or promise rejected or promise resolved to string
 */

angular.module('xeditable').factory('editablePromiseCollection', ['$q', function($q) { 

  function promiseCollection() {
    return {
      promises: [],
      hasFalse: false,
      hasString: false,
      when: function(result, noPromise) {
        if (result === false) {
          this.hasFalse = true;
        } else if (!noPromise && angular.isObject(result)) {
          this.promises.push($q.when(result));
        } else if (angular.isString(result)){
          this.hasString = true;
        } else { //result === true || result === undefined || result === null
          return;
        }
      },
      //callbacks: onTrue, onFalse, onString
      then: function(callbacks) {
        callbacks = callbacks || {};
        var onTrue = callbacks.onTrue || angular.noop;
        var onFalse = callbacks.onFalse || angular.noop;
        var onString = callbacks.onString || angular.noop;
        var onWait = callbacks.onWait || angular.noop;

        var self = this;

        if (this.promises.length) {
          onWait(true);
          $q.all(this.promises).then(
            //all resolved       
            function(results) {
              onWait(false);
              //check all results via same `when` method (without checking promises)
              angular.forEach(results, function(result) {
                self.when(result, true);  
              });
              applyCallback();
            },
            //some rejected
            function(error) { 
              onWait(false);
              onString();
            }
            );
        } else {
          applyCallback();
        }

        function applyCallback() {
          if (!self.hasString && !self.hasFalse) {
            onTrue();
          } else if (!self.hasString && self.hasFalse) {
            onFalse();
          } else {
            onString();
          }
        }

      }
    };
  }

  return promiseCollection;

}]);

/**
 * editableUtils
 */
 angular.module('xeditable').factory('editableUtils', [function() {
  return {
    indexOf: function (array, obj) {
      if (array.indexOf) return array.indexOf(obj);

      for ( var i = 0; i < array.length; i++) {
        if (obj === array[i]) return i;
      }
      return -1;
    },

    arrayRemove: function (array, value) {
      var index = this.indexOf(array, value);
      if (index >= 0) {
        array.splice(index, 1);
      }
      return value;
    },

    // copy from https://github.com/angular/angular.js/blob/master/src/Angular.js
    camelToDash: function(str) {
      var SNAKE_CASE_REGEXP = /[A-Z]/g;
      return str.replace(SNAKE_CASE_REGEXP, function(letter, pos) {
        return (pos ? '-' : '') + letter.toLowerCase();
      });
    },

    dashToCamel: function(str) {
      var SPECIAL_CHARS_REGEXP = /([\:\-\_]+(.))/g;
      var MOZ_HACK_REGEXP = /^moz([A-Z])/;
      return str.
      replace(SPECIAL_CHARS_REGEXP, function(_, separator, letter, offset) {
        return offset ? letter.toUpperCase() : letter;
      }).
      replace(MOZ_HACK_REGEXP, 'Moz$1');
    },

    rename: function (tag, el) {
      if (el[0] && el[0].attributes) {
        var newEl = angular.element('<' + tag + '/>');
        newEl.html(el.html());
        var attrs = el[0].attributes;
        for (var i = 0; i < attrs.length; ++i) {
            newEl.attr(attrs.item(i).nodeName, attrs.item(i).value);
        }
        return newEl;
      }
    }
  };
}]);

/**
 * editableNgOptionsParser
 *
 * see: https://github.com/angular/angular.js/blob/master/src/ng/directive/select.js#L131
 */
 angular.module('xeditable').factory('editableNgOptionsParser', [function() {
  //0000111110000000000022220000000000000000000000333300000000000000444444444444444000000000555555555555555000000066666666666666600000000000000007777000000000000000000088888
  var NG_OPTIONS_REGEXP = /^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/;

  function parser(optionsExp) {
    var match;

    if (! (match = optionsExp.match(NG_OPTIONS_REGEXP))) {
      throw 'ng-options parse error';
    }

    var 
    displayFn = match[2] || match[1],
    valueName = match[4] || match[6],
    keyName = match[5],
    groupByFn = match[3] || '',
    valueFn = match[2] ? match[1] : valueName,
    valuesFn = match[7],
    track = match[8],
    trackFn = track ? match[8] : null;

    var ngRepeat;
    if (keyName === undefined) { // array
      ngRepeat = valueName + ' in ' + valuesFn;
      if (track !== undefined) {
        ngRepeat += ' track by '+trackFn;
      }
    } else { // object
      ngRepeat = '('+keyName+', '+valueName+') in '+valuesFn;
    }
    
    // group not supported yet
    return {
      ngRepeat: ngRepeat,
      locals: {
        valueName: valueName,
        keyName: keyName,
        valueFn: valueFn,
        displayFn: displayFn
      }
    };
  }

  return parser;
}]);

/**
 * editableCombodate
 *
 * angular version of https://github.com/vitalets/combodate
 */
angular.module('xeditable').factory('editableCombodate', [function() {
  function Combodate(element, options) {
    this.$element = angular.element(element);

    if(this.$element[0].nodeName != 'INPUT') {
      throw 'Combodate should be applied to INPUT element';
    }

    var currentYear = new Date().getFullYear();
    this.defaults = {
      //in this format value stored in original input
      format: 'YYYY-MM-DD HH:mm',
      //in this format items in dropdowns are displayed
      template: 'D / MMM / YYYY   H : mm',
      //initial value, can be `new Date()`
      value: null,
      minYear: 1970,
      maxYear: currentYear,
      yearDescending: true,
      minuteStep: 5,
      secondStep: 1,
      firstItem: 'empty', //'name', 'empty', 'none'
      errorClass: null,
      customClass: '',
      roundTime: true, // whether to round minutes and seconds if step > 1
      smartDays: true // whether days in combo depend on selected month: 31, 30, 28
    };

    this.options = angular.extend({}, this.defaults, options);
    this.init();
  }

  Combodate.prototype = {
    constructor: Combodate,
    init: function () {
      this.map = {
        //key   regexp    moment.method
        day:    ['D',    'date'], 
        month:  ['M',    'month'], 
        year:   ['Y',    'year'], 
        hour:   ['[Hh]', 'hours'],
        minute: ['m',    'minutes'], 
        second: ['s',    'seconds'],
        ampm:   ['[Aa]', ''] 
      };
      
      this.$widget = angular.element('<span class="combodate"></span>').html(this.getTemplate());
      
      this.initCombos();
      
      if (this.options.smartDays) {
        var combo = this;
        this.$widget.find('select').bind('change', function(e) {
          // update days count if month or year changes
          if (angular.element(e.target).hasClass('month') || angular.element(e.target).hasClass('year')) {
            combo.fillCombo('day');
          }
        });        
      }

      this.$widget.find('select').css('width', 'auto');

      // hide original input and insert widget                                       
      this.$element.css('display', 'none').after(this.$widget);
      
      // set initial value
      this.setValue(this.$element.val() || this.options.value);
    },
    
    /*
     Replace tokens in template with <select> elements 
     */         
     getTemplate: function() {
      var tpl = this.options.template;
      var customClass = this.options.customClass;

      //first pass
      angular.forEach(this.map, function(v, k) {
        v = v[0]; 
        var r = new RegExp(v+'+');
        var token = v.length > 1 ? v.substring(1, 2) : v;
        
        tpl = tpl.replace(r, '{'+token+'}');
      });

      //replace spaces with &nbsp;
      tpl = tpl.replace(/ /g, '&nbsp;');

      //second pass
      angular.forEach(this.map, function(v, k) {
        v = v[0];
        var token = v.length > 1 ? v.substring(1, 2) : v;

        tpl = tpl.replace('{'+token+'}', '<select class="'+k+' '+customClass+'"></select>');
      });   

      return tpl;
    },
    
    /*
     Initialize combos that presents in template 
     */        
     initCombos: function() {
      for (var k in this.map) {
        var c = this.$widget[0].querySelectorAll('.'+k);
        // set properties like this.$day, this.$month etc.
        this['$'+k] = c.length ? angular.element(c) : null;
        // fill with items
        this.fillCombo(k);
      }
    },

    /*
     Fill combo with items 
     */        
     fillCombo: function(k) {
      var $combo = this['$'+k];
      if (!$combo) {
        return;
      }

      // define method name to fill items, e.g `fillDays`
      var f = 'fill' + k.charAt(0).toUpperCase() + k.slice(1); 
      var items = this[f]();
      var value = $combo.val();

      $combo.html('');
      for(var i=0; i<items.length; i++) {
        $combo.append('<option value="'+items[i][0]+'">'+items[i][1]+'</option>');
      }

      $combo.val(value);
    },

    /*
     Initialize items of combos. Handles `firstItem` option 
     */
     fillCommon: function(key) {
      var values = [], relTime;

      if(this.options.firstItem === 'name') {
        //need both to support moment ver < 2 and  >= 2
        relTime = moment.relativeTime || moment.langData()._relativeTime; 
        var header = typeof relTime[key] === 'function' ? relTime[key](1, true, key, false) : relTime[key];
        //take last entry (see momentjs lang files structure) 
        header = header.split(' ').reverse()[0];                
        values.push(['', header]);
      } else if(this.options.firstItem === 'empty') {
        values.push(['', '']);
      }
      return values;
    },  


    /*
    fill day
    */
    fillDay: function() {
      var items = this.fillCommon('d'), name, i,
      twoDigit = this.options.template.indexOf('DD') !== -1,
      daysCount = 31;

      // detect days count (depends on month and year)
      // originally https://github.com/vitalets/combodate/pull/7
      if (this.options.smartDays && this.$month && this.$year) {
        var month = parseInt(this.$month.val(), 10);
        var year = parseInt(this.$year.val(), 10);

        if (!isNaN(month) && !isNaN(year)) {
          daysCount = moment([year, month]).daysInMonth();
        }
      }

      for (i = 1; i <= daysCount; i++) {
        name = twoDigit ? this.leadZero(i) : i;
        items.push([i, name]);
      }
      return items;
    },
    
    /*
    fill month
    */
    fillMonth: function() {
      var items = this.fillCommon('M'), name, i, 
      longNames = this.options.template.indexOf('MMMM') !== -1,
      shortNames = this.options.template.indexOf('MMM') !== -1,
      twoDigit = this.options.template.indexOf('MM') !== -1;

      for(i=0; i<=11; i++) {
        if(longNames) {
          //see https://github.com/timrwood/momentjs.com/pull/36
          name = moment().date(1).month(i).format('MMMM');
        } else if(shortNames) {
          name = moment().date(1).month(i).format('MMM');
        } else if(twoDigit) {
          name = this.leadZero(i+1);
        } else {
          name = i+1;
        }
        items.push([i, name]);
      } 
      return items;
    },
    
    /*
    fill year
    */
    fillYear: function() {
      var items = [], name, i, 
      longNames = this.options.template.indexOf('YYYY') !== -1;

      for(i=this.options.maxYear; i>=this.options.minYear; i--) {
        name = longNames ? i : (i+'').substring(2);
        items[this.options.yearDescending ? 'push' : 'unshift']([i, name]);
      }
      
      items = this.fillCommon('y').concat(items);
      
      return items;
    },
    
    /*
    fill hour
    */
    fillHour: function() {
      var items = this.fillCommon('h'), name, i,
      h12 = this.options.template.indexOf('h') !== -1,
      h24 = this.options.template.indexOf('H') !== -1,
      twoDigit = this.options.template.toLowerCase().indexOf('hh') !== -1,
      min = h12 ? 1 : 0, 
      max = h12 ? 12 : 23;

      for(i=min; i<=max; i++) {
        name = twoDigit ? this.leadZero(i) : i;
        items.push([i, name]);
      } 
      return items;
    },

    /*
    fill minute
    */
    fillMinute: function() {
      var items = this.fillCommon('m'), name, i,
      twoDigit = this.options.template.indexOf('mm') !== -1;

      for(i=0; i<=59; i+= this.options.minuteStep) {
        name = twoDigit ? this.leadZero(i) : i;
        items.push([i, name]);
      }
      return items;
    },
    
    /*
    fill second
    */
    fillSecond: function() {
      var items = this.fillCommon('s'), name, i,
      twoDigit = this.options.template.indexOf('ss') !== -1;

      for(i=0; i<=59; i+= this.options.secondStep) {
        name = twoDigit ? this.leadZero(i) : i;
        items.push([i, name]);
      }    
      return items;
    },
    
    /*
    fill ampm
    */
    fillAmpm: function() {
      var ampmL = this.options.template.indexOf('a') !== -1,
      ampmU = this.options.template.indexOf('A') !== -1,            
      items = [
      ['am', ampmL ? 'am' : 'AM'],
      ['pm', ampmL ? 'pm' : 'PM']
      ];
      return items;
    },

    /*
     Returns current date value from combos. 
     If format not specified - `options.format` used.
     If format = `null` - Moment object returned.
     */
     getValue: function(format) {
      var dt, values = {}, 
      that = this,
      notSelected = false;

      //getting selected values    
      angular.forEach(this.map, function(v, k) {
        if(k === 'ampm') {
          return;
        }
        var def = k === 'day' ? 1 : 0;

        values[k] = that['$'+k] ? parseInt(that['$'+k].val(), 10) : def; 
        
        if(isNaN(values[k])) {
         notSelected = true;
         return false; 
       }
     });
      
      //if at least one visible combo not selected - return empty string
      if(notSelected) {
       return '';
     }

      //convert hours 12h --> 24h 
      if(this.$ampm) {
        //12:00 pm --> 12:00 (24-h format, midday), 12:00 am --> 00:00 (24-h format, midnight, start of day)
        if(values.hour === 12) {
          values.hour = this.$ampm.val() === 'am' ? 0 : 12;                    
        } else {
          values.hour = this.$ampm.val() === 'am' ? values.hour : values.hour+12;
        }
      }
      
      dt = moment([values.year, values.month, values.day, values.hour, values.minute, values.second]);
      
      //highlight invalid date
      this.highlight(dt);

      format = format === undefined ? this.options.format : format;
      if(format === null) {
       return dt.isValid() ? dt : null; 
     } else {
       return dt.isValid() ? dt.format(format) : ''; 
     }
   },

   setValue: function(value) {
    if(!value) {
      return;
    }

      // parse in strict mode (third param `true`)
      var dt = typeof value === 'string' ? moment(value, this.options.format, true) : moment(value),
      that = this,
      values = {};
      
      //function to find nearest value in select options
      function getNearest($select, value) {
        var delta = {};
        angular.forEach($select.children('option'), function(opt, i){
          var optValue = angular.element(opt).attr('value');

          if(optValue === '') return;
          var distance = Math.abs(optValue - value); 
          if(typeof delta.distance === 'undefined' || distance < delta.distance) {
            delta = {value: optValue, distance: distance};
          } 
        }); 
        return delta.value;
      }
      
      if(dt.isValid()) {
        //read values from date object
        angular.forEach(this.map, function(v, k) {
          if(k === 'ampm') {
            return; 
          }
          values[k] = dt[v[1]]();
        });

        if(this.$ampm) {
          //12:00 pm --> 12:00 (24-h format, midday), 12:00 am --> 00:00 (24-h format, midnight, start of day)
          if(values.hour >= 12) {
            values.ampm = 'pm';
            if(values.hour > 12) {
              values.hour -= 12;
            }
          } else {
            values.ampm = 'am';
            if(values.hour === 0) {
              values.hour = 12;
            }
          }
        }

        angular.forEach(values, function(v, k) {
          //call val() for each existing combo, e.g. this.$hour.val()
          if(that['$'+k]) {

            if(k === 'minute' && that.options.minuteStep > 1 && that.options.roundTime) {
             v = getNearest(that['$'+k], v);
           }
           
           if(k === 'second' && that.options.secondStep > 1 && that.options.roundTime) {
             v = getNearest(that['$'+k], v);
           }                       
           
           that['$'+k].val(v);
         }
       });

        // update days count
        if (this.options.smartDays) {
          this.fillCombo('day');
        }

        this.$element.val(dt.format(this.options.format)).triggerHandler('change');
      }
    },
    
    /*
     highlight combos if date is invalid
     */
     highlight: function(dt) {
      if(!dt.isValid()) {
        if(this.options.errorClass) {
          this.$widget.addClass(this.options.errorClass);
        } else {
          //store original border color
          if(!this.borderColor) {
            this.borderColor = this.$widget.find('select').css('border-color'); 
          }
          this.$widget.find('select').css('border-color', 'red');
        }
      } else {
        if(this.options.errorClass) {
          this.$widget.removeClass(this.options.errorClass);
        } else {
          this.$widget.find('select').css('border-color', this.borderColor);
        }  
      }
    },
    
    leadZero: function(v) {
      return v <= 9 ? '0' + v : v; 
    },
    
    destroy: function() {
      this.$widget.remove();
      this.$element.removeData('combodate').show();
    }

  };

  return {
    getInstance: function(element, options) {
      return new Combodate(element, options);
    }
  };
}]);

/*
Editable icons:
- default
- font-awesome

*/
angular.module('xeditable').factory('editableIcons', function() {

  var icons = {
    //Icon-set to use, defaults to bootstrap icons
    default: {
      'bs2': {
        ok: 'icon-ok icon-white',
        cancel: 'icon-remove',
        clear: 'icon-trash',
        calendar: 'icon-calendar'
      },
      'bs3': {
        ok: 'glyphicon glyphicon-ok',
        cancel: 'glyphicon glyphicon-remove',
        clear: 'glyphicon glyphicon-trash',
        calendar: 'glyphicon glyphicon-calendar'
      },
      'bs4': {
        ok: 'fa fa-check',
        cancel: 'fa fa-times',
        clear: 'fa fa-trash',
        calendar: 'fa fa-calendar'
      }
    },
    external: {
      'font-awesome': {
        ok: 'fa fa-check',
        cancel: 'fa fa-times',
        clear: 'fa fa-trash',
        calendar: 'fa fa-calendar'
      }
    }
  };

  return icons;
});

/* jshint -W086 */
/*
Editable themes:
- default
- bootstrap 2
- bootstrap 3
- semantic-ui

Note: in postrender() `this` is instance of editableController
*/
angular.module('xeditable').factory('editableThemes', function() {
  var themes = {
    //default
    'default': {
      formTpl:      '<form class="editable-wrap"></form>',
      noformTpl:    '<span class="editable-wrap"></span>',
      controlsTpl:  '<span class="editable-controls"></span>',
      inputTpl:     '',
      errorTpl:     '<div class="editable-error" data-ng-if="$error" data-ng-bind-html="$error"></div>',
      buttonsTpl:   '<span class="editable-buttons"></span>',
      submitTpl:    '<button type="submit">save</button>',
      cancelTpl:    '<button type="button" ng-click="$form.$cancel()">cancel</button>',
      resetTpl:    '<button type="reset">clear</button>'
    },

    //bs2
    'bs2': {
      formTpl:     '<form class="form-inline editable-wrap" role="form"></form>',
      noformTpl:   '<span class="editable-wrap"></span>',
      controlsTpl: '<div class="editable-controls controls control-group" ng-class="{\'error\': $error}"></div>',
      inputTpl:    '',
      errorTpl:    '<div class="editable-error help-block" data-ng-if="$error" data-ng-bind-html="$error"></div>',
      buttonsTpl:  '<span class="editable-buttons"></span>',
      submitTpl:   '<button type="submit" class="btn btn-primary"><span></span></button>',
      cancelTpl:   '<button type="button" class="btn" ng-click="$form.$cancel()">'+
                      '<span></span>'+
                   '</button>',
      resetTpl:    '<button type="reset" class="btn btn-danger">clear</button>',
      calendarButtonClass: 'btn',
      buttonGroupAppendClass: 'input-append'
    },

    //bs3
    'bs3': {
      formTpl:     '<form class="form-inline editable-wrap" role="form"></form>',
      noformTpl:   '<span class="editable-wrap"></span>',
      controlsTpl: '<div class="editable-controls form-group" ng-class="{\'has-error\': $error}"></div>',
      inputTpl:    '',
      errorTpl:    '<div class="editable-error help-block" data-ng-if="$error" data-ng-bind-html="$error"></div>',
      buttonsTpl:  '<span class="editable-buttons"></span>',
      submitTpl:   '<button type="submit" class="btn btn-primary"><span></span></button>',
      cancelTpl:   '<button type="button" class="btn btn-default" ng-click="$form.$cancel()">'+
                     '<span></span>'+
                   '</button>',
      resetTpl:    '<button type="reset" class="btn btn-danger">clear</button>',

      //bs3 specific prop to change buttons class: btn-sm, btn-lg
      buttonsClass: '',
      //bs3 specific prop to change standard inputs class: input-sm, input-lg
      inputClass: '',
      calendarButtonClass: 'btn btn-default',
      buttonGroupAppendClass: 'input-group-btn',
      postrender: function() {
        //apply `form-control` class to std inputs
        switch(this.directiveName) {
          case 'editableText':
          case 'editableSelect':
          case 'editableTextarea':
          case 'editableEmail':
          case 'editableTel':
          case 'editableNumber':
          case 'editableUrl':
          case 'editableSearch':
          case 'editableDate':
          case 'editableDatetime':
          case 'editableBsdate':
          case 'editableTime':
          case 'editableMonth':
          case 'editableWeek':
          case 'editablePassword':
          case 'editableDatetimeLocal':
            this.inputEl.addClass('form-control');
            if(this.theme.inputClass) {
              // don`t apply `input-sm` and `input-lg` to select multiple
              // should be fixed in bs itself!
              if(this.inputEl.attr('multiple') &&
                (this.theme.inputClass === 'input-sm' || this.theme.inputClass === 'input-lg')) {
                  break;
              }
              this.inputEl.addClass(this.theme.inputClass);
            }
          break;
          case 'editableCheckbox':
              this.editorEl.addClass('checkbox');
        }

        //apply buttonsClass (bs3 specific!)
        if(this.buttonsEl && this.theme.buttonsClass) {
          this.buttonsEl.find('button').addClass(this.theme.buttonsClass);
        }
      }
    },

    //bs4
    'bs4': {
      formTpl:     '<form class="form-inline editable-wrap" role="form"></form>',
      noformTpl:   '<span class="editable-wrap"></span>',
      controlsTpl: '<div class="editable-controls form-group"></div>',
      inputTpl:    '',
      errorTpl:    '<div class="editable-error form-text invalid-feedback" data-ng-if="$error" data-ng-bind-html="$error"></div>',
      buttonsTpl:  '<span class="editable-buttons"></span>',
      submitTpl:   '<button type="submit" class="btn btn-primary"><span></span></button>',
      cancelTpl:   '<button type="button" class="btn btn-secondary" ng-click="$form.$cancel()">'+
                     '<span></span>'+
                   '</button>',
      resetTpl:    '<button type="reset" class="btn btn-danger">clear</button>',

      //bs4 specific prop to change buttons class: btn-sm, btn-lg
      buttonsClass: '',
      //bs4 specific prop to change standard inputs class: form-control-sm, form-control-lg
      inputClass: '',
      calendarButtonClass: 'btn btn-secondary',
      buttonGroupAppendClass: 'input-group-append',
      postrender: function() {
          //apply `form-control` class to std inputs
          switch(this.directiveName) {
              case 'editableText':
              case 'editableSelect':
              case 'editableTextarea':
              case 'editableEmail':
              case 'editableTel':
              case 'editableNumber':
              case 'editableUrl':
              case 'editableSearch':
              case 'editableDate':
              case 'editableDatetime':
              case 'editableBsdate':
              case 'editableTime':
              case 'editableMonth':
              case 'editableWeek':
              case 'editablePassword':
              case 'editableDatetimeLocal':
                  this.inputEl.addClass('form-control');
                  this.inputEl.attr('ng-class', "{'is-invalid': $error}");
                  if (this.theme.inputClass) {
                      // don`t apply `form-control-sm` and `form-control-lg` to select multiple
                      // should be fixed in bs itself!
                      if(this.inputEl.attr('multiple') &&
                          (this.theme.inputClass === 'form-control-sm' || this.theme.inputClass === 'form-control-lg')) {
                          break;
                      }
                      this.inputEl.addClass(this.theme.inputClass);
                  }
                  break;
              case 'editableCheckbox':
                  this.editorEl.addClass('form-check');
          }

          //apply buttonsClass (bs4 specific!)
          if(this.buttonsEl && this.theme.buttonsClass) {
              this.buttonsEl.find('button').addClass(this.theme.buttonsClass);
          }
        }
    },

    //semantic-ui
    'semantic': {
      formTpl:     '<form class="editable-wrap ui form" ng-class="{\'error\': $error}" role="form"></form>',
      noformTpl:   '<span class="editable-wrap"></span>',
      controlsTpl: '<div class="editable-controls ui fluid input" ng-class="{\'error\': $error}"></div>',
      inputTpl:    '',
      errorTpl:    '<div class="editable-error ui error message" data-ng-if="$error" data-ng-bind-html="$error"></div>',
      buttonsTpl:  '<span class="mini ui buttons"></span>',
      submitTpl:   '<button type="submit" class="ui primary button"><i class="ui check icon"></i></button>',
      cancelTpl:   '<button type="button" class="ui button" ng-click="$form.$cancel()">'+
                      '<i class="ui cancel icon"></i>'+
                   '</button>',
      resetTpl:    '<button type="reset" class="ui button">clear</button>'
    }
  };

  return themes;
});


/***/ }),
/* 184 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = angular.module('stf/device', [
  (__webpack_require__(185).name),
  (__webpack_require__(186).name)
])
  .factory('DeviceService', __webpack_require__(188))
  .factory('StateClassesService', __webpack_require__(193))


/***/ }),
/* 185 */
/***/ ((module) => {

module.exports = angular.module('stf.device-status', [])
  .filter('statusNameAction', function(gettext) {
    return function(text) {
      return {
        absent: gettext('Disconnected'),
        present: gettext('Connected'),
        offline: gettext('Offline'),
        unauthorized: gettext('Unauthorized'),
        preparing: gettext('Preparing'),
        ready: gettext('Ready'),
        using: gettext('Stop Using'),
        busy: gettext('Busy'),
        available: gettext('Use'),
        automation: gettext('Stop Automation')
      }[text] || gettext('Unknown')
    }
  })
  .filter('statusNamePassive', function(gettext) {
    return function(text) {
      return {
        absent: gettext('Disconnected'),
        present: gettext('Connected'),
        offline: gettext('Offline'),
        unauthorized: gettext('Unauthorized'),
        preparing: gettext('Preparing'),
        ready: gettext('Ready'),
        using: gettext('Using'),
        busy: gettext('Busy'),
        available: gettext('Available'),
        automation: gettext('Automating'),
      }[text] || gettext('Unknown')
    }
  })
 .filter('likelyLeaveReason', function(gettext) {
    return function(text) {
      return {
        ungroup_request: gettext('You (or someone else) kicked the device.'),
        owner_change: gettext('Someone stole your device.'),
        automatic_timeout: gettext('Device was kicked by automatic timeout.	'),
        device_absent: gettext('Device is not present anymore for some reason.'),
        status_change: gettext('Device is present but offline.')
      }[text] || gettext('Unknown reason.')
    }
  })
  .filter('batteryHealth', function(gettext) {
    return function(text) {
      return {
        cold: gettext('Cold'),
        good: gettext('Good'),
        dead: gettext('Dead'),
        over_voltage: gettext('Over Voltage'),
        overheat: gettext('Overheat'),
        unspecified_failure: gettext('Unspecified Failure')
      }[text] || gettext('-')
    }
  })
  .filter('batterySource', function(gettext) {
    return function(text) {
      return {
        ac: gettext('AC'),
        usb: gettext('USB'),
        wireless: gettext('Wireless')
      }[text] || gettext('-')
    }
  })
  .filter('batteryStatus', function(gettext) {
    return function(text) {
      return {
        charging: gettext('Charging'),
        discharging: gettext('Discharging'),
        full: gettext('Full'),
        not_charging: gettext('Not Charging')
      }[text] || gettext('-')
    }
  })
  .filter('displayDensity', function() {
    return function(text) {
      return {
        '0.5': 'LDPI', // (120 dpi)
        '1': 'MDPI', // (160 dpi)
        '1.5': 'HDPI', // (240 dpi)
        '2': 'XHDPI', // (320 dpi)
        '3': 'XXHDPI', // (480 dpi)
        '4': 'XXXHDPI' // (640 dpi)
      }[text] || text
    }
  })
  .filter('networkType', function(gettext) {
    return function(text) {
      return {
        bluetooth: gettext('Bluetooth'),
        dummy: gettext('Dummy'),
        ethernet: gettext('Ethernet'),
        mobile: gettext('Mobile'),
        mobile_dun: gettext('Mobile DUN'),
        mobile_hipri: gettext('Mobile High Priority'),
        mobile_mms: gettext('Mobile MMS'),
        mobile_supl: gettext('Mobile SUPL'),
        mobile_wifi: gettext('WiFi'),
        wimax: gettext('WiMAX')
      }[text] || text
    }
  })
  .filter('networkSubType', function(gettext) {
    return function(text) {
      return {
        mobile_wifi: gettext('WiFi')
      }[text] || text
    }
  })
  .filter('humanizedBool', function(gettext) {
    return function(text) {
      switch (text) {
        case true:
          return gettext('Yes')
        case false:
          return gettext('No')
        default:
          return gettext('-')
      }
    }
  })


/***/ }),
/* 186 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = angular.module('stf/device/enhance-device', [
  (__webpack_require__(134).name)
])
  .factory('EnhanceDeviceService', __webpack_require__(187))


/***/ }),
/* 187 */
/***/ ((module) => {

/**
* Copyright © 2019 contains code contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0
**/

module.exports = function EnhanceDeviceServiceFactory($filter, AppState) {
  var service = {}

  function setState(data) {
    // For convenience, formulate an aggregate state property that covers
    // every possible state.
    data.state = 'absent'
    if (data.present) {
      data.state = 'present'
      switch (data.status) {
        case 1:
          data.state = 'offline'
          break
        case 2:
          data.state = 'unauthorized'
          break
        case 3:
          data.state = 'preparing'
          if (data.ready) {
            data.state = 'ready'
            if (data.using) {
              if (data.usage === 'automation') {
                data.state = 'automation'
              }
              else {
                data.state = 'using'
              }
            }
            else {
              if (data.owner) {
                data.state = 'busy'
              }
              else {
                data.state = 'available'
              }
            }
          }
          break
      }
    }
  }

  function enhanceDevice(device) {
    device.enhancedName = device.marketName || device.name || device.model || device.serial
      || 'Unknown'
    device.enhancedModel = device.model || 'Unknown'
    device.enhancedImage120 = '/static/app/devices/icon/x120/' + (device.image || '_default.jpg')
    device.enhancedImage24 = '/static/app/devices/icon/x24/' + (device.image || '_default.jpg')
    device.enhancedStateAction = $filter('statusNameAction')(device.state)
    device.enhancedStatePassive = $filter('statusNamePassive')(device.state)
  }

  function enhanceDeviceDetails(device) {
    if (device.battery) {
      device.enhancedBatteryPercentage = (device.battery.level / device.battery.scale * 100) + '%'
      device.enhancedBatteryHealth = $filter('batteryHealth')(device.battery.health)
      device.enhancedBatterySource = $filter('batterySource')(device.battery.source)
      device.enhancedBatteryStatus = $filter('batteryStatus')(device.battery.status)
      device.enhancedBatteryTemp = device.battery.temp + '°C'
    }

    if (device.owner) {
      device.enhancedUserProfileUrl = enhanceUserProfileUrl(device.owner.email)
      device.enhancedUserName = device.owner.name || 'No name'
    }

    device.enhancedGroupOwnerProfileUrl = enhanceUserProfileUrl(device.group.owner.email)
  }

  function enhanceUserProfileUrl(email) {
    var url
    var userProfileUrl = (function() {
      if (AppState && AppState.config && AppState.config.userProfileUrl) {
        return AppState.config.userProfileUrl
      }
      return null
    })()

    if (userProfileUrl) {
      // Using RFC 6570 URI Template specification
      if (userProfileUrl && email) {
        url = userProfileUrl.indexOf('{user}') !== -1 ?
          userProfileUrl.replace('{user}', email) :
          userProfileUrl + email
      }
    } else if (email.indexOf('@') !== -1) {
      url = 'mailto:' + email
    } else {
      url = '/!#/user/' + email
    }
    return url
  }

  function enhanceDeviceAppState(device) {
    AppState.device.platform = device.platform
  }

  service.enhance = function(device) {
    setState(device)
    enhanceDevice(device)
    enhanceDeviceDetails(device)
    enhanceDeviceAppState(device)
  }

  return service
}


/***/ }),
/* 188 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/**
* Copyright © 2019-2024 contains code contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0
**/

var oboe = __webpack_require__(189)
var _ = __webpack_require__(190)
var EventEmitter = __webpack_require__(191)
let Promise = __webpack_require__(192)

module.exports = function DeviceServiceFactory($http, socket, EnhanceDeviceService, CommonService) {
  var deviceService = {}

  function Tracker($scope, options) {
    var devices = []
    var devicesBySerial = Object.create(null)
    var scopedSocket = socket.scoped($scope)
    var digestTimer, lastDigest

    $scope.$on('$destroy', function() {
      clearTimeout(digestTimer)
    })

    function digest() {
      // Not great. Consider something else
      if (!$scope.$$phase) {
        $scope.$digest()
      }

      lastDigest = Date.now()
      digestTimer = null
    }

    function notify(event) {
      if (!options.digest) {
        return
      }

      if (event.important) {
        // Handle important updates immediately.
        //digest()
        window.requestAnimationFrame(digest)
      }
      else {
        if (!digestTimer) {
          var delta = Date.now() - lastDigest
          if (delta > 1000) {
            // It's been a while since the last update, so let's just update
            // right now even though it's low priority.
            digest()
          }
          else {
            // It hasn't been long since the last update. Let's wait for a
            // while so that the UI doesn't get stressed out.
            digestTimer = setTimeout(digest, delta)
          }
        }
      }
    }

    function sync(data) {
      // usable IF device is physically present AND device is online AND
      // preparations are ready AND the device has no owner or we are the
      // owner
      data.usable = data.present && data.status === 3 && data.ready &&
        (!data.owner || data.using)

      // Make sure we don't mistakenly think we still have the device
      if (!data.usable || !data.owner) {
        data.using = false
      }

      EnhanceDeviceService.enhance(data)
    }

    function get(data) {
      return devices[devicesBySerial[data.serial]]
    }

    var insert = function insert(data) {
      devicesBySerial[data.serial] = devices.push(data) - 1
      sync(data)
      this.emit('add', data)
    }.bind(this)

    var modify = function modify(data, newData) {
      _.merge(data, newData, function(a, b) {
        // New Arrays overwrite old Arrays
        if (_.isArray(b)) {
          return b
        }
      })
      sync(data)
      this.emit('change', data)
    }.bind(this)

    var remove = function remove(data) {
      var index = devicesBySerial[data.serial]
      if (index >= 0) {
        devices.splice(index, 1)
        delete devicesBySerial[data.serial]
        for (var serial in devicesBySerial) {
          if (devicesBySerial[serial] > index) {
            devicesBySerial[serial]--
          }
        }
        sync(data)
        this.emit('remove', data)
      }
    }.bind(this)

    function fetch(data) {
      deviceService.load(data.serial)
        .then(function(device) {
          return changeListener({
            important: true
          , data: device
          })
        })
        .catch(function() {})
    }

    function addListener(event) {
      var device = get(event.data)
      if (device) {
        modify(device, event.data)
        notify(event)
      }
      else {
        if (options.filter(event.data)) {
          insert(event.data)
          notify(event)
        }
      }
    }

    function changeListener(event) {
      var device = get(event.data)
      if (device) {
        if (event.data.likelyLeaveReason === 'status_change' &&
            device.statusTimeStamp > event.data.statusTimeStamp) {
          return
        }
        modify(device, event.data)
        if (!options.filter(device)) {
          remove(device)
        }
        notify(event)
      }

      /** code removed to avoid to show forbidden devices in user view!
      else {
        if (options.filter(event.data)) {
          insert(event.data)
          // We've only got partial data
          fetch(event.data)
          notify(event)
        }
      }
      **/
    }

    scopedSocket.on('device.add', addListener)
    scopedSocket.on('device.remove', changeListener)
    scopedSocket.on('device.change', changeListener)

    this.add = function(device) {
      addListener({
        important: true
      , data: device
      })
    }

    this.devices = devices

    function addGroupDevicesListener(event) {
      return Promise.map(event.devices, function(serial) {
        return deviceService.load(serial).then(function(device) {
          return device
        })
      })
      .then(function(_devices) {
        _devices.forEach(function(device) {
          if (device && typeof devicesBySerial[device.serial] === 'undefined') {
            insert(device)
            notify(event)
          }
        })
      })
    }

    function removeGroupDevicesListener(event) {
      event.devices.forEach(function(serial) {
        if (typeof devicesBySerial[serial] !== 'undefined') {
          remove(devices[devicesBySerial[serial]])
          notify(event)
        }
      })
    }

    function updateGroupDeviceListener(event) {
      let device = get(event.data)
      if (device) {
        modify(device, event.data)
        notify(event)
      }
    }

    scopedSocket.on('device.addGroupDevices', addGroupDevicesListener)
    scopedSocket.on('device.removeGroupDevices', removeGroupDevicesListener)
    scopedSocket.on('device.updateGroupDevice', updateGroupDeviceListener)
  }

  Tracker.prototype = new EventEmitter()

  deviceService.trackAll = function($scope) {
    var tracker = new Tracker($scope, {
      filter: function() {
        return true
      }
    , digest: false
    })

    oboe(CommonService.getBaseUrl() + '/api/v1/devices')
      .node('devices[*]', function(device) {
        tracker.add(device)
      })

    return tracker
  }

  deviceService.trackGroup = function($scope) {
    var tracker = new Tracker($scope, {
      filter: function(device) {
        return device.using
      }
    , digest: true
    })

    oboe(CommonService.getBaseUrl() + '/api/v1/user/devices')
      .node('devices[*]', function(device) {
        tracker.add(device)
      })

    return tracker
  }

  deviceService.load = function(serial) {
    return $http.get('/api/v1/devices/' + serial)
      .then(function(response) {
        return response.data.device
      })
  }

  deviceService.get = function(serial, $scope) {
    var tracker = new Tracker($scope, {
      filter: function(device) {
        return device.serial === serial
      }
    , digest: true
    })

    return deviceService.load(serial)
      .then(function(device) {
        tracker.add(device)
        return device
      })
  }

  deviceService.updateNote = function(serial, note) {
    socket.emit('device.note', {
      serial: serial,
      note: note
    })
  }

  return deviceService
}


/***/ }),
/* 189 */,
/* 190 */,
/* 191 */,
/* 192 */,
/* 193 */
/***/ ((module) => {

module.exports = function StateClassesService() {
  var service = {}

  service.stateButton = function(state) {
    var stateClasses = {
      using: 'state-using btn-primary',
      busy: 'state-busy btn-warning',
      available: 'state-available btn-primary-outline',
      ready: 'state-ready btn-primary-outline',
      present: 'state-present btn-primary-outline',
      preparing: 'state-preparing btn-primary-outline btn-success-outline',
      unauthorized: 'state-unauthorized btn-danger-outline',
      offline: 'state-offline btn-warning-outline',
      automation: 'state-automation btn-info'
    }[state]
    if (typeof stateClasses === 'undefined') {
      stateClasses = 'btn-default-outline'
    }
    return stateClasses
  }

  service.stateColor = function(state) {
    var stateClasses = {
      using: 'state-using',
      busy: 'state-busy',
      available: 'state-available',
      ready: 'state-ready',
      present: 'state-present',
      preparing: 'state-preparing',
      unauthorized: 'state-unauthorized',
      offline: 'state-offline',
      automation: 'state-automation'
    }[state]
    if (typeof stateClasses === 'undefined') {
      stateClasses = ''
    }
    return stateClasses
  }

  return service
}


/***/ }),
/* 194 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = angular.module('stf/group', [
  (__webpack_require__(133).name),
  (__webpack_require__(195).name),
  (__webpack_require__(197).name)
])
  .factory('GroupService', __webpack_require__(205))


/***/ }),
/* 195 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = angular.module('stf/user', [
  (__webpack_require__(133).name),
  (__webpack_require__(36).name),
  (__webpack_require__(134).name)
])
  .factory('UserService', __webpack_require__(196))


/***/ }),
/* 196 */
/***/ ((module) => {

/**
* Copyright © 2019 contains code contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0
**/

module.exports = function UserServiceFactory(
  $rootScope
, $http
, socket
, AppState
, AddAdbKeyModalService
) {
  var UserService = {}

  var user = UserService.currentUser = AppState.user

  UserService.getUser = function() {
    return $http.get('/api/v1/user')
  }

  UserService.getAdbKeys = function() {
    return (user.adbKeys || (user.adbKeys = []))
  }

  UserService.addAdbKey = function(key) {
    socket.emit('user.keys.adb.add', key)
  }

  UserService.acceptAdbKey = function(key) {
    socket.emit('user.keys.adb.accept', key)
  }

  UserService.removeAdbKey = function(key) {
    socket.emit('user.keys.adb.remove', key)
  }

  socket.on('user.keys.adb.error', function(error) {
    $rootScope.$broadcast('user.keys.adb.error', error)
  })

  socket.on('user.keys.adb.added', function(key) {
    UserService.getAdbKeys().push(key)
    $rootScope.$broadcast('user.keys.adb.updated', user.adbKeys)
    $rootScope.safeApply()
  })

  socket.on('user.keys.adb.removed', function(key) {
    user.adbKeys = UserService.getAdbKeys().filter(function(someKey) {
      return someKey.fingerprint !== key.fingerprint
    })
    $rootScope.$broadcast('user.keys.adb.updated', user.adbKeys)
    $rootScope.safeApply()
  })

  socket.on('user.keys.adb.confirm', function(data) {
    AddAdbKeyModalService.open(data).then(function(result) {
      if (result) {
        UserService.acceptAdbKey(data)
      }
    })
  })

  return UserService
}


/***/ }),
/* 197 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = angular.module('stf/transaction', [
  (__webpack_require__(133).name)
])
  .constant('TransactionError', __webpack_require__(198))
  .factory('TransactionService', __webpack_require__(199))


/***/ }),
/* 198 */
/***/ ((module) => {

function TransactionError(result) {
  this.code = this.message = result.error
  this.name = 'TransactionError'
  Error.captureStackTrace(this, TransactionError)
}

TransactionError.prototype = Object.create(Error.prototype)
TransactionError.prototype.constructor = TransactionError

module.exports = TransactionError


/***/ }),
/* 199 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var Promise = __webpack_require__(192)
var uuid = __webpack_require__(200)

module.exports = function TransactionServiceFactory(socket, TransactionError) {
  var transactionService = {}

  function createChannel() {
    return 'tx.' + uuid.v4()
  }

  function MultiTargetTransaction(targets, options) {
    var pending = Object.create(null)
    var results = []
    var channel = createChannel()

    function doneListener(someChannel, data) {
      if (someChannel === channel) {
        pending[data.source].done(data)
      }
    }

    function progressListener(someChannel, data) {
      if (someChannel === channel) {
        pending[data.source].progress(data)
      }
    }

    function cancelListener(someChannel, data) {
      if (someChannel === channel) {
        Object.keys(pending).forEach(function(source) {
          pending[source].cancel(data)
        })
      }
    }

    socket.on('tx.done', doneListener)
    socket.on('tx.progress', progressListener)
    socket.on('tx.cancel', cancelListener)

    this.channel = channel
    this.results = results
    this.promise = Promise.settle(targets.map(function(target) {
        var result = new options.result(target)
        var pendingResult = new PendingTransactionResult(result)
        pending[options.id ? target[options.id] : target.id] = pendingResult
        results.push(result)
        return pendingResult.promise
      }))
      .finally(function() {
        socket.removeListener('tx.done', doneListener)
        socket.removeListener('tx.progress', progressListener)
        socket.removeListener('tx.cancel', cancelListener)
        socket.emit('tx.cleanup', channel)
      })
      .progressed(function() {
        return results
      })
      .then(function() {
        return results
      })
  }

  function SingleTargetTransaction(target, options) {
    var result = new options.result(target)
    var pending = new PendingTransactionResult(result)
    var channel = createChannel()

    function doneListener(someChannel, data) {
      if (someChannel === channel) {
        pending.done(data)
      }
    }

    function progressListener(someChannel, data) {
      if (someChannel === channel) {
        pending.progress(data)
      }
    }

    function cancelListener(someChannel, data) {
      if (someChannel === channel) {
        pending.cancel(data)
      }
    }

    socket.on('tx.done', doneListener)
    socket.on('tx.progress', progressListener)
    socket.on('tx.cancel', cancelListener)

    this.channel = channel
    this.result = result
    this.results = [result]
    this.promise = pending.promise
      .finally(function() {
        socket.removeListener('tx.done', doneListener)
        socket.removeListener('tx.progress', progressListener)
        socket.removeListener('tx.cancel', cancelListener)
        socket.emit('tx.cleanup', channel)
      })
      .progressed(function() {
        return result
      })
      .then(function() {
        return result
      })
  }

  function PendingTransactionResult(result) {
    var resolver = Promise.defer()
    var seq = 0
    var last = Infinity
    var unplaced = []

    function readQueue() {
      var message
      var foundAny = false

      while (seq <= last && (message = unplaced[seq])) {
        unplaced[seq] = undefined

        if (seq === last) {
          result.success = message.success

          if (message.body) {
            result.body = JSON.parse(message.body)
          }

          if (result.success) {
            if (message.data) {
              result.lastData = result.data[seq] = message.data
            }
            resolver.resolve(result)
          }
          else {
            result.lastData = result.error = message.data
            resolver.reject(new TransactionError(result))
          }

          return
        }
        else {
          if (message.progress) {
            result.progress = message.progress
          }
        }

        foundAny = true
        result.lastData = result.data[seq++] = message.data
      }

      if (foundAny) {
        resolver.progress(result)
      }
    }

    this.progress = function(message) {
      unplaced[message.seq] = message
      readQueue()
    }

    this.done = function(message) {
      last = message.seq
      unplaced[message.seq] = message
      readQueue()
    }

    this.cancel = function(message) {
      if (!result.settled) {
        last = message.seq = seq
        unplaced[message.seq] = message
        readQueue()
      }
    }

    this.result = result
    this.promise = resolver.promise.finally(function() {
      result.settled = true
      result.progress = 100
    })
  }

  function TransactionResult(source) {
    this.source = source
    this.settled = false
    this.success = false
    this.progress = 0
    this.error = null
    this.data = []
    this.lastData = null
    this.body = null
  }

  function DeviceTransactionResult(device) {
    TransactionResult.call(this, device)
    this.device = this.source
  }

  DeviceTransactionResult.prototype = Object.create(TransactionResult)
  DeviceTransactionResult.constructor = DeviceTransactionResult

  transactionService.create = function(target, options) {
    if (options && !options.result) {
      options.result = TransactionResult
    }

    if (Array.isArray(target)) {
      return new MultiTargetTransaction(target, options || {
        result: DeviceTransactionResult
      , id: 'serial'
      })
    }
    else {
      return new SingleTargetTransaction(target, options || {
        result: DeviceTransactionResult
      , id: 'serial'
      })
    }
  }

  transactionService.punch = function(channel) {
    var resolver = Promise.defer()

    function punchListener(someChannel) {
      if (channel === someChannel) {
        resolver.resolve(channel)
      }
    }

    socket.on('tx.punch', punchListener)
    socket.emit('tx.punch', channel)

    return resolver.promise
      .timeout(5000)
      .finally(function() {
        socket.removeListener('tx.punch', punchListener)
      })
  }

  return transactionService
}


/***/ }),
/* 200 */,
/* 201 */,
/* 202 */,
/* 203 */,
/* 204 */,
/* 205 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var Promise = __webpack_require__(192)

module.exports = function GroupServiceFactory(
  socket
, TransactionService
, TransactionError
) {
  var groupService = {
  }

  groupService.invite = function(device) {
    if (!device.usable) {
      return Promise.reject(new Error('Device is not usable'))
    }

    var tx = TransactionService.create(device)
    socket.emit('group.invite', device.channel, tx.channel, {
      requirements: {
        serial: {
          value: device.serial
        , match: 'exact'
        }
      }
    })
    return tx.promise
      .then(function(result) {
        return result.device
      })
      .catch(TransactionError, function() {
        throw new Error('Device refused to join the group')
      })
  }

  groupService.kick = function(device, force) {
    if (!force && !device.usable) {
      return Promise.reject(new Error('Device is not usable'))
    }

    var tx = TransactionService.create(device)
    socket.emit('group.kick', device.channel, tx.channel, {
      requirements: {
        serial: {
          value: device.serial
        , match: 'exact'
        }
      }
    })
    return tx.promise
      .then(function(result) {
        return result.device
      })
      .catch(TransactionError, function() {
        throw new Error('Device refused to join the group')
      })
  }

  return groupService
}


/***/ }),
/* 206 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = angular.module('stf/control', [
  (__webpack_require__(133).name),
  (__webpack_require__(197).name),
  (__webpack_require__(207).name)
])
  .factory('ControlService', __webpack_require__(209))


/***/ }),
/* 207 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = angular.module('stf.keycodes', [

])
  .factory('KeycodesMapped', function() {
    return __webpack_require__(208)
  })

// Not used for now:
//
//  .factory('KeycodesAndroid', function () {
//    return require('./android/index.json')
//  })
//  .factory('KeycodesJS', function () {
//    return require('./android/index.json')
//  })
//  .factory('KeycodesService', require('./keycodes-service'))


/***/ }),
/* 208 */
/***/ ((module) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"8":"del","9":"tab","13":"enter","20":"caps_lock","27":"escape","33":"page_up","34":"page_down","35":"move_end","36":"move_home","37":"dpad_left","38":"dpad_up","39":"dpad_right","40":"dpad_down","45":"insert","46":"forward_del","93":"menu","112":"f1","113":"f2","114":"f3","115":"f4","116":"f5","117":"f6","118":"f7","119":"f8","120":"f9","121":"f10","122":"f11","123":"f12","144":"num_lock"}');

/***/ }),
/* 209 */
/***/ ((module) => {

module.exports = function ControlServiceFactory(
  $upload
, $http
, socket
, TransactionService
, $rootScope
, gettext
, KeycodesMapped
) {
  var controlService = {
  }

  function ControlService(target, channel) {
    function sendOneWay(action, data) {
      socket.emit(action, channel, data)
    }

    function sendTwoWay(action, data) {
      var tx = TransactionService.create(target)
      socket.emit(action, channel, tx.channel, data)
      return tx.promise
    }

    function keySender(type, fixedKey) {
      return function(key) {
        if (typeof key === 'string') {
          sendOneWay(type, {
            key: key
          })
        }
        else {
          var mapped = fixedKey || KeycodesMapped[key]
          if (mapped) {
            sendOneWay(type, {
              key: mapped
            })
          }
        }
      }
    }

    this.gestureStart = function(seq) {
      sendOneWay('input.gestureStart', {
        seq: seq
      })
    }

    this.gestureStop = function(seq) {
      sendOneWay('input.gestureStop', {
        seq: seq
      })
    }

    this.touchDown = function(seq, contact, x, y, pressure) {
      sendOneWay('input.touchDown', {
        seq: seq
      , contact: contact
      , x: x
      , y: y
      , pressure: pressure
      })
    }

    this.touchMove = function(seq, contact, x, y, pressure) {
      sendOneWay('input.touchMove', {
        seq: seq
      , contact: contact
      , x: x
      , y: y
      , pressure: pressure
      })
    }

    this.touchUp = function(seq, contact) {
      sendOneWay('input.touchUp', {
        seq: seq
      , contact: contact
      })
    }

    this.touchCommit = function(seq) {
      sendOneWay('input.touchCommit', {
        seq: seq
      })
    }

    this.touchReset = function(seq) {
      sendOneWay('input.touchReset', {
        seq: seq
      })
    }

    this.keyDown = keySender('input.keyDown')
    this.keyUp = keySender('input.keyUp')
    this.keyPress = keySender('input.keyPress')

    this.home = keySender('input.keyPress', 'home')
    this.menu = keySender('input.keyPress', 'menu')
    this.back = keySender('input.keyPress', 'back')
    this.appSwitch = keySender('input.keyPress', 'app_switch')

    this.type = function(text) {
      return sendOneWay('input.type', {
        text: text
      })
    }

    this.paste = function(text) {
      return sendTwoWay('clipboard.paste', {
        text: text
      })
    }

    this.copy = function() {
      return sendTwoWay('clipboard.copy')
    }

    //@TODO: Refactor this please
    var that = this
    this.getClipboardContent = function() {
      that.copy().then(function(result) {
        $rootScope.safeApply(function() {
          if (result.success) {
            if (result.lastData) {
              that.clipboardContent = result.lastData
            } else {
              that.clipboardContent = gettext('No clipboard data')
            }
          } else {
            that.clipboardContent = gettext('Error while getting data')
          }
        })
      })
    }

    this.shell = function(command) {
      return sendTwoWay('shell.command', {
        command: command
      , timeout: 10000
      })
    }

    this.identify = function() {
      return sendTwoWay('device.identify')
    }

    this.install = function(options) {
      return sendTwoWay('device.install', options)
    }

    this.uninstall = function(pkg) {
      return sendTwoWay('device.uninstall', {
        packageName: pkg
      })
    }

    this.reboot = function() {
      return sendTwoWay('device.reboot')
    }

    this.rotate = function(rotation, lock) {
      return sendOneWay('display.rotate', {
        rotation: rotation,
        lock: lock
      })
    }

    this.testForward = function(forward) {
      return sendTwoWay('forward.test', {
        targetHost: forward.targetHost
      , targetPort: Number(forward.targetPort)
      })
    }

    this.createForward = function(forward) {
      return sendTwoWay('forward.create', {
        id: forward.id
      , devicePort: Number(forward.devicePort)
      , targetHost: forward.targetHost
      , targetPort: Number(forward.targetPort)
      })
    }

    this.removeForward = function(forward) {
      return sendTwoWay('forward.remove', {
        id: forward.id
      })
    }

    this.startLogcat = function(filters) {
      return sendTwoWay('logcat.start', {
        filters: filters
      })
    }

    this.stopLogcat = function() {
      return sendTwoWay('logcat.stop')
    }

    this.startRemoteConnect = function() {
      return sendTwoWay('connect.start')
    }

    this.stopRemoteConnect = function() {
      return sendTwoWay('connect.stop')
    }

    this.openBrowser = function(url, browser) {
      return sendTwoWay('browser.open', {
        url: url
      , browser: browser ? browser.id : null
      })
    }

    this.clearBrowser = function(browser) {
      return sendTwoWay('browser.clear', {
        browser: browser.id
      })
    }

    this.openStore = function() {
      return sendTwoWay('store.open')
    }

    this.screenshot = function() {
      return sendTwoWay('screen.capture')
    }

    this.fsretrieve = function(file) {
      return sendTwoWay('fs.retrieve', {
        file: file
      })
    }

    this.fslist = function(dir) {
      return sendTwoWay('fs.list', {
        dir: dir
      })
    }

    this.checkAccount = function(type, account) {
      return sendTwoWay('account.check', {
        type: type
      , account: account
      })
    }

    this.removeAccount = function(type, account) {
      return sendTwoWay('account.remove', {
        type: type
      , account: account
      })
    }

    this.addAccountMenu = function() {
      return sendTwoWay('account.addmenu')
    }

    this.addAccount = function(user, password) {
      return sendTwoWay('account.add', {
        user: user
      , password: password
      })
    }

    this.getAccounts = function(type) {
      return sendTwoWay('account.get', {
        type: type
      })
    }

    this.getSdStatus = function() {
      return sendTwoWay('sd.status')
    }

    this.setRingerMode = function(mode) {
      return sendTwoWay('ringer.set', {
        mode: mode
      })
    }

    this.getRingerMode = function() {
      return sendTwoWay('ringer.get')
    }

    this.setWifiEnabled = function(enabled) {
      return sendTwoWay('wifi.set', {
        enabled: enabled
      })
    }

    this.getWifiStatus = function() {
      return sendTwoWay('wifi.get')
    }

    this.setBluetoothEnabled = function(enabled) {
      return sendTwoWay('bluetooth.set', {
        enabled: enabled
      })
    }

    this.getBluetoothStatus = function() {
      return sendTwoWay('bluetooth.get')
    }

    this.cleanBluetoothBondedDevices = function() {
      return sendTwoWay('bluetooth.cleanBonds')
    }

    window.cc = this
  }

  controlService.create = function(target, channel) {
    return new ControlService(target, channel)
  }

  return controlService
}


/***/ }),
/* 210 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = angular.module('stf/settings', [
  (__webpack_require__(195).name),
  (__webpack_require__(133).name)
])
  .factory('SettingsService', __webpack_require__(211))


/***/ }),
/* 211 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _ = __webpack_require__(190)

module.exports = function SettingsServiceFactory(
  $rootScope
, UserService
, socket
) {
  var SettingsService = {}

  var settings = UserService.currentUser.settings || {}
  var syncListeners = []

  function createListener(object, options, monitor) {
    var source = options.source || options.target
    return function() {
      var value = object[options.target] = (source in settings) ?
        settings[source] :
        options.defaultValue

      if (monitor) {
        monitor(value)
      }
    }
  }

  function applyDelta(delta) {
    // TODO: This causes chaos
    $rootScope.safeApply(function() {
      _.merge(settings, delta, function(a, b) {
        // New Arrays overwrite old Arrays
        if (_.isArray(b)) {
          return b
        }
      })

      for (var i = 0, l = syncListeners.length; i < l; ++i) {
        syncListeners[i]()
      }
    })
  }

  SettingsService.update = function(delta) {
    socket.emit('user.settings.update', delta)
    applyDelta(delta)
  }

  SettingsService.get = function(key) {
    return settings[key]
  }

  SettingsService.set = function(key, value) {
    var delta = Object.create(null)
    delta[key] = value
    SettingsService.update(delta)
  }

  SettingsService.reset = function() {
    socket.emit('user.settings.reset')
    settings = {}
    applyDelta(null)
  }

  SettingsService.bind = function(scope, options) {
    function value(possibleValue, defaultValue) {
      return (typeof possibleValue !== 'undefined') ? possibleValue : defaultValue
    }

    var source = options.source || options.target
    var defaultValue = value(options.defaultValue, scope[options.target])

    scope.$watch(
      options.target
    , function(newValue, oldValue) {
        // Skip initial value.
        if (newValue !== oldValue) {
          var delta = Object.create(null)
          delta[source] = angular.copy(newValue)
          SettingsService.update(delta)
        }
      }
    , true
    )

    scope.$watch(
      function() {
        return settings[source]
      }
    , function(newValue, oldValue) {
        // Skip initial value. The new value might not be different if
        // settings were reset, for example. In that case we fall back
        // to the default value.
        if (newValue !== oldValue) {
          scope[options.target] = value(newValue, defaultValue)
        }
      }
    , true
    )

    scope[options.target] = value(settings[source], defaultValue)
  }

  SettingsService.sync = function(object, options, monitor) {
    var listener = createListener(object, options, monitor)
    listener() // Initialize
    return syncListeners.push(listener) - 1
  }

  SettingsService.unsync = function(id) {
    syncListeners.splice(id, 1)
  }

  socket.on('user.settings.update', applyDelta)

  return SettingsService
}


/***/ }),
/* 212 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/**
* Copyright © 2019 contains code contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0
**/

module.exports = angular.module('stf.device-list.column', [
  (__webpack_require__(9).name),
  (__webpack_require__(210).name),
  (__webpack_require__(134).name)
])
  .service('DeviceColumnService', __webpack_require__(213))


/***/ }),
/* 213 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/**
* Copyright © 2019 contains code contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0
**/

var _ = __webpack_require__(190)

var filterOps = {
  '<': function(a, filterValue) {
    return a !== null && a < filterValue
  }
, '<=': function(a, filterValue) {
    return a !== null && a <= filterValue
  }
, '>': function(a, filterValue) {
    return a !== null && a > filterValue
  }
, '>=': function(a, filterValue) {
    return a !== null && a >= filterValue
  }
, '=': function(a, filterValue) {
    return a !== null && a === filterValue
  }
}

module.exports = function DeviceColumnService($filter, gettext, SettingsService, AppState) {
  // Definitions for all possible values.
  return {
    state: DeviceStatusCell({
      title: gettext('Status')
    , value: function(device) {
        return $filter('translate')(device.enhancedStateAction)
      }
    })
  , group: TextCell({
      title: gettext('Group Name')
    , value: function(device) {
        return $filter('translate')(device.group.name)
      }
    })
  , groupSchedule: TextCell({
      title: gettext('Group Class')
    , value: function(device) {
        return $filter('translate')(device.group.class)
      }
    })
  , groupOwner: LinkCell({
      title: gettext('Group Owner')
    , target: '_blank'
    , value: function(device) {
        return $filter('translate')(device.group.owner.name)
      }
    , link: function(device) {
        return device.enhancedGroupOwnerProfileUrl
      }
    })
  , groupEndTime: TextCell({
      title: gettext('Group Expiration Date')
    , value: function(device) {
        return $filter('date')(device.group.lifeTime.stop, SettingsService.get('dateFormat'))
      }
    })
  , groupStartTime: TextCell({
      title: gettext('Group Starting Date')
    , value: function(device) {
        return $filter('date')(device.group.lifeTime.start, SettingsService.get('dateFormat'))
      }
    })
  , groupRepetitions: TextCell({
      title: gettext('Group Repetitions')
    , value: function(device) {
        return device.group.repetitions
      }
    })
  , groupOrigin: TextCell({
      title: gettext('Group Origin')
    , value: function(device) {
        return $filter('translate')(device.group.originName)
      }
    })
  , model: DeviceModelCell({
      title: gettext('Model')
    , value: function(device) {
        return device.model || device.serial
      }
    })
  , name: DeviceNameCell({
      title: gettext('Product')
    , value: function(device) {
        return device.name || device.model || device.serial
      }
    }, AppState.user.email)
  , operator: TextCell({
      title: gettext('Carrier')
    , value: function(device) {
        return device.operator || ''
      }
    })
  , releasedAt: DateCell({
      title: gettext('Released')
    , value: function(device) {
        return device.releasedAt ? new Date(device.releasedAt) : null
      }
    })
  , version: TextCell({
      title: gettext('OS')
    , value: function(device) {
        return device.version || ''
      }
    , compare: function(deviceA, deviceB) {
        var va = (deviceA.version || '0').split('.')
        var vb = (deviceB.version || '0').split('.')
        var la = va.length
        var lb = vb.length

        for (var i = 0, l = Math.max(la, lb); i < l; ++i) {
          var a = i < la ? parseInt(va[i], 10) : 0
          var b = i < lb ? parseInt(vb[i], 10) : 0
          var diff = a - b

          // One of the values might be something like 'M'. If so, do a string
          // comparison instead.
          if (isNaN(diff)) {
            diff = compareRespectCase(va[i], vb[i])
          }

          if (diff !== 0) {
            return diff
          }
        }

        return 0
      }
    , filter: function(device, filter) {
        var va = (device.version || '0').split('.')
        var vb = (filter.query || '0').split('.')
        var la = va.length
        var lb = vb.length
        var op = filterOps[filter.op || '=']

        // We have a single value and no operator or field. It matches
        // too easily, let's wait for a dot (e.g. '5.'). An example of a
        // bad match would be an unquoted query for 'Nexus 5', which targets
        // a very specific device but may easily match every Nexus device
        // as the two terms are handled separately.
        if (filter.op === null && filter.field === null && lb === 1) {
          return false
        }

        if (vb[lb - 1] === '') {
          // This means that the query is not complete yet, and we're
          // looking at something like "4.", which means that the last part
          // should be ignored.
          vb.pop()
          lb -= 1
        }

        for (var i = 0, l = Math.min(la, lb); i < l; ++i) {
          var a = parseInt(va[i], 10)
          var b = parseInt(vb[i], 10)

          // One of the values might be non-numeric, e.g. 'M'. In that case
          // filter by string value instead.
          if (isNaN(a) || isNaN(b)) {
            if (!op(va[i], vb[i])) {
              return false
            }
          }
          else {
            if (!op(a, b)) {
              return false
            }
          }
        }

        return true
      }
    })
  , network: TextCell({
      title: gettext('Network')
    , value: function(device) {
        if (!device.network) {
          return ''
        }

        if (!device.network.connected) {
          return ''
        }

        if (device.network.subtype) {
          return (device.network.type + ' (' + device.network.subtype + ')').toUpperCase()
        }

        return (device.network.type || '').toUpperCase()
      }
    })
  , display: TextCell({
      title: gettext('Screen')
    , defaultOrder: 'desc'
    , value: function(device) {
        return device.display && device.display.width
          ? device.display.width + 'x' + device.display.height
          : ''
      }
    , compare: function(deviceA, deviceB) {
        var va = deviceA.display && deviceA.display.width
          ? deviceA.display.width * deviceA.display.height
          : 0
        var vb = deviceB.display && deviceB.display.width
          ? deviceB.display.width * deviceB.display.height
          : 0
        return va - vb
      }
    })
  , browser: DeviceBrowserCell({
      title: gettext('Browser')
    , value: function(device) {
        return device.browser || {apps: []}
      }
    })
  , serial: TextCell({
      title: gettext('Serial')
    , value: function(device) {
        return device.serial || ''
      }
    })
  , manufacturer: TextCell({
      title: gettext('Manufacturer')
    , value: function(device) {
        return device.manufacturer || ''
      }
    })
  , marketName: TextCell({
    title: gettext('Market name')
    , value: function(device) {
      return device.marketName || ''
    }
  })
  , sdk: NumberCell({
      title: gettext('SDK')
    , defaultOrder: 'desc'
    , value: function(device) {
        return device.sdk
      }
    , format: function(value) {
        return value || ''
      }
    })
  , abi: TextCell({
      title: gettext('ABI')
    , value: function(device) {
        return device.abi || ''
      }
    })
  , cpuPlatform: TextCell({
      title: gettext('CPU Platform')
    , value: function(device) {
        return device.cpuPlatform || ''
      }
    })
  , openGLESVersion: TextCell({
      title: gettext('OpenGL ES version')
    , value: function(device) {
        return device.openGLESVersion || ''
      }
    })
  , phone: TextCell({
      title: gettext('Phone')
    , value: function(device) {
        return device.phone ? device.phone.phoneNumber : ''
      }
    })
  , imei: TextCell({
      title: gettext('Phone IMEI')
    , value: function(device) {
        return device.phone ? device.phone.imei : ''
      }
    })
  , imsi: TextCell({
      title: gettext('Phone IMSI')
    , value: function(device) {
        return device.phone ? device.phone.imsi : ''
      }
    })
  , iccid: TextCell({
      title: gettext('Phone ICCID')
    , value: function(device) {
        return device.phone ? device.phone.iccid : ''
      }
    })
  , batteryHealth: TextCell({
      title: gettext('Battery Health')
    , value: function(device) {
        return device.battery
          ? $filter('translate')(device.enhancedBatteryHealth)
          : ''
      }
    })
  , batterySource: TextCell({
      title: gettext('Battery Source')
    , value: function(device) {
        return device.battery
          ? $filter('translate')(device.enhancedBatterySource)
          : ''
      }
    })
  , batteryStatus: TextCell({
      title: gettext('Battery Status')
    , value: function(device) {
        return device.battery
          ? $filter('translate')(device.enhancedBatteryStatus)
          : ''
      }
    })
  , batteryLevel: NumberCell({
      title: gettext('Battery Level')
    , value: function(device) {
        return device.battery
          ? Math.floor(device.battery.level / device.battery.scale * 100)
          : null
      }
    , format: function(value) {
        return value === null ? '' : value + '%'
      }
    })
  , batteryTemp: NumberCell({
      title: gettext('Battery Temp')
    , value: function(device) {
        return device.battery ? device.battery.temp : null
      }
    , format: function(value) {
        return value === null ? '' : value + '°C'
      }
    })
  , provider: TextCell({
      title: gettext('Location')
    , value: function(device) {
        return device.provider ? device.provider.name : ''
      }
    })
  , notes: DeviceNoteCell({
      title: gettext('Notes')
    , value: function(device) {
        return device.notes || ''
      }
    })
  , owner: LinkCell({
      title: gettext('User')
    , target: '_blank'
    , value: function(device) {
        return device.owner ? device.owner.name : ''
      }
    , link: function(device) {
        return device.owner ? device.enhancedUserProfileUrl : ''
      }
    })
  }
}

function zeroPadTwoDigit(digit) {
  return digit < 10 ? '0' + digit : '' + digit
}

function compareIgnoreCase(a, b) {
/***** fix bug: cast to String for Safari compatibility ****/
  var la = (String(a) || '').toLowerCase()
  var lb = (String(b) || '').toLowerCase()
/***********************************************************/
  if (la === lb) {
    return 0
  }
  else {
    return la < lb ? -1 : 1
  }
}

function filterIgnoreCase(a, filterValue) {
/***** fix bug: cast to String for Safari compatibility ****/
  var va = (String(a) || '').toLowerCase()
  var vb = String(filterValue).toLowerCase()
/***********************************************************/
  return va.indexOf(vb) !== -1
}

function compareRespectCase(a, b) {
  if (a === b) {
    return 0
  }
  else {
    return a < b ? -1 : 1
  }
}


function TextCell(options) {
  return _.defaults(options, {
    title: options.title
  , defaultOrder: 'asc'
  , build: function() {
      var td = document.createElement('td')
      td.appendChild(document.createTextNode(''))
      return td
    }
  , update: function(td, item) {
      var t = td.firstChild
      t.nodeValue = options.value(item)
      return td
    }
  , compare: function(a, b) {
      return compareIgnoreCase(options.value(a), options.value(b))
    }
  , filter: function(item, filter) {
      return filterIgnoreCase(options.value(item), filter.query)
    }
  })
}

function NumberCell(options) {
  return _.defaults(options, {
    title: options.title
  , defaultOrder: 'asc'
  , build: function() {
      var td = document.createElement('td')
      td.appendChild(document.createTextNode(''))
      return td
    }
  , update: function(td, item) {
      var t = td.firstChild
      t.nodeValue = options.format(options.value(item))
      return td
    }
  , compare: function(a, b) {
      var va = options.value(a) || 0
      var vb = options.value(b) || 0
      return va - vb
    }
  , filter: (function() {
      return function(item, filter) {
        return filterOps[filter.op || '='](
          options.value(item)
        , Number(filter.query)
        )
      }
    })()
  })
}

function DateCell(options) {
  return _.defaults(options, {
    title: options.title
  , defaultOrder: 'desc'
  , build: function() {
      var td = document.createElement('td')
      td.appendChild(document.createTextNode(''))
      return td
    }
  , update: function(td, item) {
      var t = td.firstChild
      var date = options.value(item)
      if (date) {
        t.nodeValue = date.getFullYear()
          + '-'
          + zeroPadTwoDigit(date.getMonth() + 1)
          + '-'
          + zeroPadTwoDigit(date.getDate())
      }
      else {
        t.nodeValue = ''
      }
      return td
    }
  , compare: function(a, b) {
      var va = options.value(a) || 0
      var vb = options.value(b) || 0
      return va - vb
    }
  , filter: (function() {
      function dateNumber(d) {
        return d
          ? d.getFullYear() * 10000 + d.getMonth() * 100 + d.getDate()
          : 0
      }
      return function(item, filter) {
        var filterDate = new Date(filter.query)
        var va = dateNumber(options.value(item))
        var vb = dateNumber(filterDate)
        return filterOps[filter.op || '='](va, vb)
      }
    })()
  })
}

function LinkCell(options) {
  return _.defaults(options, {
    title: options.title
  , defaultOrder: 'asc'
  , build: function() {
      var td = document.createElement('td')
      var a = document.createElement('a')
      a.appendChild(document.createTextNode(''))
      td.appendChild(a)
      return td
    }
  , update: function(td, item) {
      var a = td.firstChild
      var t = a.firstChild
      var href = options.link(item)
      if (href) {
        a.setAttribute('href', href)
      }
      else {
        a.removeAttribute('href')
      }
      a.target = options.target || ''
      t.nodeValue = options.value(item)
      return td
    }
  , compare: function(a, b) {
      return compareIgnoreCase(options.value(a), options.value(b))
    }
  , filter: function(item, filter) {
      return filterIgnoreCase(options.value(item), filter.query)
    }
  })
}

function DeviceBrowserCell(options) {
  return _.defaults(options, {
    title: options.title
  , defaultOrder: 'asc'
  , build: function() {
      var td = document.createElement('td')
      var span = document.createElement('span')
      span.className = 'device-browser-list'
      td.appendChild(span)
      return td
    }
  , update: function(td, device) {
      var span = td.firstChild
      var browser = options.value(device)
      var apps = browser.apps.slice().sort(function(appA, appB) {
            return compareIgnoreCase(appA.name, appB.name)
          })

      for (var i = 0, l = apps.length; i < l; ++i) {
        var app = apps[i]
        var img = span.childNodes[i] || span.appendChild(document.createElement('img'))
        var src = '/static/app/browsers/icon/36x36/' + (app.type || '_default') + '.png'

        // Only change if necessary so that we don't trigger a download
        if (img.getAttribute('src') !== src) {
          img.setAttribute('src', src)
        }

        img.title = app.name + ' (' + app.developer + ')'
      }

      while (span.childNodes.length > browser.apps.length) {
        span.removeChild(span.lastChild)
      }

      return td
    }
  , compare: function(a, b) {
      return options.value(a).apps.length - options.value(b).apps.length
    }
  , filter: function(device, filter) {
      return options.value(device).apps.some(function(app) {
        return filterIgnoreCase(app.type, filter.query)
      })
    }
  })
}

function DeviceModelCell(options) {
  return _.defaults(options, {
    title: options.title
  , defaultOrder: 'asc'
  , build: function() {
      var td = document.createElement('td')
      var span = document.createElement('span')
      var image = document.createElement('img')
      span.className = 'device-small-image'
      image.className = 'device-small-image-img pointer'
      span.appendChild(image)
      td.appendChild(span)
      td.appendChild(document.createTextNode(''))
      return td
    }
  , update: function(td, device) {
      var span = td.firstChild
      var image = span.firstChild
      var t = span.nextSibling
      var src = '/static/app/devices/icon/x24/' +
            (device.image || '_default.jpg')

      // Only change if necessary so that we don't trigger a download
      if (image.getAttribute('src') !== src) {
        image.setAttribute('src', src)
      }

      t.nodeValue = options.value(device)

      return td
    }
  , compare: function(a, b) {
      return compareRespectCase(options.value(a), options.value(b))
    }
  , filter: function(device, filter) {
      return filterIgnoreCase(options.value(device), filter.query)
    }
  })
}

function DeviceNameCell(options, ownerEmail) {
  return _.defaults(options, {
    title: options.title
  , defaultOrder: 'asc'
  , build: function() {
      var td = document.createElement('td')
      var a = document.createElement('a')
      a.appendChild(document.createTextNode(''))
      td.appendChild(a)
      return td
    }
  , update: function(td, device) {
      var a = td.firstChild
      var t = a.firstChild

      if (device.using && device.owner.email === ownerEmail) {
        a.className = 'device-product-name-using'
        a.href = '#!/control/' + device.serial
      }
      else if (device.usable && !device.using) {
        a.className = 'device-product-name-usable'
        a.href = '#!/control/' + device.serial
      }
      else {
        a.className = 'device-product-name-unusable'
        a.removeAttribute('href')
      }

      t.nodeValue = options.value(device)

      return td
    }
  , compare: function(a, b) {
      return compareIgnoreCase(options.value(a), options.value(b))
    }
  , filter: function(device, filter) {
      return filterIgnoreCase(options.value(device), filter.query)
    }
  })
}

function DeviceStatusCell(options) {
  var stateClasses = {
    using: 'state-using btn-primary'
  , busy: 'state-busy btn-warning'
  , available: 'state-available btn-primary-outline'
  , ready: 'state-ready btn-primary-outline'
  , present: 'state-present btn-primary-outline'
  , preparing: 'state-preparing btn-primary-outline btn-success-outline'
  , unauthorized: 'state-unauthorized btn-danger-outline'
  , offline: 'state-offline btn-warning-outline'
  , automation: 'state-automation btn-info'
  }

  return _.defaults(options, {
    title: options.title
  , defaultOrder: 'asc'
  , build: function() {
      var td = document.createElement('td')
      var a = document.createElement('a')
      a.appendChild(document.createTextNode(''))
      td.appendChild(a)
      return td
    }
  , update: function(td, device) {
      var a = td.firstChild
      var t = a.firstChild

      a.className = 'btn btn-xs device-status ' +
        (stateClasses[device.state] || 'btn-default-outline')

      if (device.usable && !device.using) {
        a.href = '#!/control/' + device.serial
      }
      else {
        a.removeAttribute('href')
      }

      t.nodeValue = options.value(device)

      return td
    }
  , compare: (function() {
      var order = {
        using: 10
      , automation: 15
      , available: 20
      , busy: 30
      , ready: 40
      , preparing: 50
      , unauthorized: 60
      , offline: 70
      , present: 80
      , absent: 90
      }
      return function(deviceA, deviceB) {
        return order[deviceA.state] - order[deviceB.state]
      }
    })()
  , filter: function(device, filter) {
      return device.state === filter.query
    }
  })
}

function DeviceNoteCell(options) {
  return _.defaults(options, {
    title: options.title
  , defaultOrder: 'asc'
  , build: function() {
      var td = document.createElement('td')
      var span = document.createElement('span')
      var i = document.createElement('i')

      td.className = 'device-note'
      span.className = 'xeditable-wrapper'
      span.appendChild(document.createTextNode(''))

      i.className = 'device-note-edit fa fa-pencil pointer'

      td.appendChild(span)
      td.appendChild(i)

      return td
    }
  , update: function(td, item) {
      var span = td.firstChild
      var t = span.firstChild

      t.nodeValue = options.value(item)
      return td
    }
  , compare: function(a, b) {
      return compareIgnoreCase(options.value(a), options.value(b))
    }
  , filter: function(item, filter) {
      return filterIgnoreCase(options.value(item), filter.query)
    }
  })
}


/***/ }),
/* 214 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

__webpack_require__(215)

module.exports = angular.module('stf.device-list.details', [
  (__webpack_require__(184).name),
  (__webpack_require__(194).name),
  (__webpack_require__(36).name),
  (__webpack_require__(217).name),
  (__webpack_require__(212).name),
  (__webpack_require__(219).name)
])
  .directive('deviceListDetails', __webpack_require__(222))


/***/ }),
/* 215 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14);
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(15);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(17);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(18);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(19);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_device_list_details_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(216);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_device_list_details_css__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_cjs_js_device_list_details_css__WEBPACK_IMPORTED_MODULE_6__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_css_loader_dist_cjs_js_device_list_details_css__WEBPACK_IMPORTED_MODULE_6__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_css_loader_dist_cjs_js_device_list_details_css__WEBPACK_IMPORTED_MODULE_6__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()((_node_modules_css_loader_dist_cjs_js_device_list_details_css__WEBPACK_IMPORTED_MODULE_6___default()), options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((_node_modules_css_loader_dist_cjs_js_device_list_details_css__WEBPACK_IMPORTED_MODULE_6___default()) && (_node_modules_css_loader_dist_cjs_js_device_list_details_css__WEBPACK_IMPORTED_MODULE_6___default().locals) ? (_node_modules_css_loader_dist_cjs_js_device_list_details_css__WEBPACK_IMPORTED_MODULE_6___default().locals) : undefined);


/***/ }),
/* 216 */
/***/ ((module, exports, __webpack_require__) => {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(21);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.id, ".device-list-details-content table {\n  white-space: nowrap;\n}\n\n.device-list-details-content .device-list-product,\n.device-list-details-content .device-list-carrier {\n  white-space: normal;\n}\n\n.device-list-details-content .progress {\n  margin-bottom: 0 !important;\n  height: 17px !important;\n}\n\n.device-list-details-content .device-status.state-available {\n  font-weight: 600;\n}\n", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 217 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = angular.module('stf.admin-mode', [

])
  .directive('adminMode', __webpack_require__(218))


/***/ }),
/* 218 */
/***/ ((module) => {

module.exports = function adminModeDirective($rootScope, SettingsService) {
  return {
    restrict: 'AE',
    link: function() {
      SettingsService.bind($rootScope, {
        target: 'adminMode',
        defaultValue: false
      })
    }
  }
}


/***/ }),
/* 219 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = angular.module('stf.device-list.empty', [
])
  .directive('deviceListEmpty', __webpack_require__(220))


/***/ }),
/* 220 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = function DeviceListEmptyDirective() {
  return {
    restrict: 'E'
  , template: __webpack_require__(221)
  , scope: {
      tracker: '&tracker'
    }
  , link: function(scope) {
      var tracker = scope.tracker()

      scope.empty = !tracker.devices.length

      function update() {
        var oldEmpty = scope.empty
        var newEmpty = !tracker.devices.length

        if (oldEmpty !== newEmpty) {
          scope.safeApply(function() {
            scope.empty = newEmpty
          })
        }
      }

      tracker.on('add', update)
      tracker.on('change', update)
      tracker.on('remove', update)

      scope.$on('$destroy', function() {
        tracker.removeListener('add', update)
        tracker.removeListener('change', update)
        tracker.removeListener('remove', update)
      })
    }
  }
}


/***/ }),
/* 221 */
/***/ ((module) => {

module.exports = "<nothing-to-show message=\"{{&quot;No devices connected&quot;|translate}}\" icon=\"fa-sitemap\" ng-show=\"empty\"></nothing-to-show>"

/***/ }),
/* 222 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var patchArray = __webpack_require__(223)

module.exports = function DeviceListDetailsDirective(
  $filter
, $compile
, $rootScope
, gettext
, DeviceColumnService
, GroupService
, DeviceService
, LightboxImageService
, StandaloneService
, LogcatService
) {
  return {
    restrict: 'E'
  , template: __webpack_require__(224)
  , scope: {
      tracker: '&tracker'
    , columns: '&columns'
    , sort: '=sort'
    , filter: '&filter'
    }
  , link: function(scope, element) {
      var tracker = scope.tracker()
      var activeColumns = []
      var activeSorting = []
      var activeFilters = []
      var table = element.find('table')[0]
      var tbody = table.createTBody()
      var rows = tbody.rows
      var prefix = 'd' + Math.floor(Math.random() * 1000000) + '-'
      var mapping = Object.create(null)
      var childScopes = Object.create(null)


      function kickDevice(device, force) {
        LogcatService.allowClean = true
        if (Object.keys(LogcatService.deviceEntries).includes(device.serial)) {
          LogcatService.deviceEntries[device.serial].allowClean = true
        }
        $rootScope.LogcatService = LogcatService
        return GroupService.kick(device, force).catch(function(e) {
          alert($filter('translate')(gettext('Device cannot get kicked from the group')))
          throw new Error(e)
        })
      }

      function inviteDevice(device) {
        $rootScope.usedDevices.push(device.serial)
        return GroupService.invite(device).then(function() {
          scope.$digest()
        })
      }

      function checkDeviceStatus(e) {
        if (e.target.classList.contains('device-status')) {
          var id = e.target.parentNode.parentNode.id
          var device = mapping[id]

          if (e.altKey && device.state === 'available') {
            inviteDevice(device)
            e.preventDefault()
          }

          if (e.shiftKey && device.state === 'available') {
            StandaloneService.open(device)
            e.preventDefault()
          }

          if ($rootScope.adminMode && device.state === 'busy') {
            kickDevice(device, true)
            e.preventDefault()
          }
          else if (device.using) {
            kickDevice(device)
            e.preventDefault()
          }
        }
      }

      function checkDeviceSmallImage(e) {
        if (e.target.classList.contains('device-small-image-img')) {
          var id = e.target.parentNode.parentNode.parentNode.id
          var device = mapping[id]

          if (device.name && device.image) {
            var title = device.name
            var enhancedPhoto800 = '/static/app/devices/photo/x800/' + device.image
            LightboxImageService.open(title, enhancedPhoto800)
          }
        }
      }

      // On clicking device-note-edit icon
      // This function will create a new angular-xeditable span
      // inside xeditableWrapper and compile it with
      // new child scope.
      // Childscope will be destroyed when the editing will be over
      function checkDeviceNote(e) {
        if (e.target.classList.contains('device-note-edit')) {

          var i = e.target
          var id = i.parentNode.parentNode.id
          var device = mapping[id]
          var xeditableWrapper = i.parentNode.firstChild
          var xeditableSpan = document.createElement('span')
          var childScope = scope.$new()

          // Ref: http://vitalets.github.io/angular-xeditable/#text-btn
          xeditableSpan.setAttribute('editable-text', 'device.notes')
          xeditableSpan.setAttribute('onbeforesave', 'updateNote(id, device.serial, $data)')
          xeditableSpan.setAttribute('onCancel', 'onDeviceNoteCancel(id)')

          childScope.id = id
          childScope.device = device
          childScopes[id] = childScope

          $compile(xeditableSpan)(childScope)
          xeditableWrapper.appendChild(xeditableSpan)

          // Trigger click to open the form.
          angular.element(xeditableSpan).triggerHandler('click')
        }
      }

      function destroyXeditableNote(id) {
        var tr = tbody.children[id]
        for (var i = 0; i < tr.cells.length; i++) {
          var col = tr.cells[i]

          if (col.firstChild &&
              col.firstChild.nodeName.toLowerCase() === 'span' &&
              col.firstChild.classList.contains('xeditable-wrapper')) {

            var xeditableWrapper = col.firstChild
            var children = xeditableWrapper.children

            // Remove all childs under xeditablerWrapper
            for (var j = 0; j < children.length; j++) {
              xeditableWrapper.removeChild(children[j])
            }
          }
        }
        childScopes[id].$destroy()
      }

      scope.updateNote = function(id, serial, note) {
        DeviceService.updateNote(serial, note)
        destroyXeditableNote(id)
      }

      scope.onDeviceNoteCancel = function(id) {
        destroyXeditableNote(id)
      }

      element.on('click', function(e) {
        checkDeviceStatus(e)
        checkDeviceSmallImage(e)
        checkDeviceNote(e)
      })

      // Import column definitions
      scope.columnDefinitions = DeviceColumnService

      // Sorting
      scope.sortBy = function(column, multiple) {
        function findInSorting(sorting) {
          for (var i = 0, l = sorting.length; i < l; ++i) {
            if (sorting[i].name === column.name) {
              return sorting[i]
            }
          }
          return null
        }

        var swap = {
          asc: 'desc'
        , desc: 'asc'
        }

        var fixedMatch = findInSorting(scope.sort.fixed)
        if (fixedMatch) {
          fixedMatch.order = swap[fixedMatch.order]
          return
        }

        var userMatch = findInSorting(scope.sort.user)
        if (userMatch) {
          userMatch.order = swap[userMatch.order]
          if (!multiple) {
            scope.sort.user = [userMatch]
          }
        }
        else {
          if (!multiple) {
            scope.sort.user = []
          }
          scope.sort.user.push({
            name: column.name
          , order: scope.columnDefinitions[column.name].defaultOrder || 'asc'
          })
        }
      }

      // Watch for sorting changes
      scope.$watch(
        function() {
          return scope.sort
        }
      , function(newValue) {
          activeSorting = newValue.fixed.concat(newValue.user)
          scope.sortedColumns = Object.create(null)
          activeSorting.forEach(function(sort) {
            scope.sortedColumns[sort.name] = sort
          })
          sortAll()
        }
      , true
      )

      // Watch for column updates
      scope.$watch(
        function() {
          return scope.columns()
        }
      , function(newValue) {
          updateColumns(newValue)
        }
      , true
      )

      // Update now so that we don't have to wait for the scope watcher to
      // trigger.
      updateColumns(scope.columns())

      // Updates visible columns. This method doesn't necessarily have to be
      // the fastest because it shouldn't get called all the time.
      function updateColumns(columnSettings) {
        var newActiveColumns = []

        // Check what we're supposed to show now
        columnSettings.forEach(function(column) {
          if (column.selected) {
            newActiveColumns.push(column.name)
          }
        })

        // Figure out the patch
        var patch = patchArray(activeColumns, newActiveColumns)

        // Set up new active columns
        activeColumns = newActiveColumns

        return patchAll(patch)
      }

      // Updates filters on visible items.
      function updateFilters(filters) {
        activeFilters = filters
        return filterAll()
      }

      // Applies filterRow() to all rows.
      function filterAll() {
        for (var i = 0, l = rows.length; i < l; ++i) {
          filterRow(rows[i], mapping[rows[i].id])
        }
      }

      // Filters a row, perhaps removing it from view.
      function filterRow(row, device) {
        if (match(device)) {
          row.classList.remove('filter-out')
        }
        else {
          row.classList.add('filter-out')
        }
      }

      // Checks whether the device matches the currently active filters.
      function match(device) {
        for (var i = 0, l = activeFilters.length; i < l; ++i) {
          var filter = activeFilters[i]
          var column
          if (filter.field) {
            column = scope.columnDefinitions[filter.field]
            if (column && !column.filter(device, filter)) {
              return false
            }
          }
          else {
            var found = false
            for (var j = 0, k = activeColumns.length; j < k; ++j) {
              column = scope.columnDefinitions[activeColumns[j]]
              if (column && column.filter(device, filter)) {
                found = true
                break
              }
            }
            if (!found) {
              return false
            }
          }
        }
        return true
      }

      // Update now so we're up to date.
      updateFilters(scope.filter())

      // Watch for filter updates.
      scope.$watch(
        function() {
          return scope.filter()
        }
      , function(newValue) {
          updateFilters(newValue)
        }
      , true
      )

      // Calculates a DOM ID for the device. Should be consistent for the
      // same device within the same table, but unique among other tables.
      function calculateId(device) {
        return prefix + device.serial
      }

      // Compares two devices using the currently active sorting. Returns <0
      // if deviceA is smaller, >0 if deviceA is bigger, or 0 if equal.
      var compare = (function() {
        var mapping = {
          asc: 1
        , desc: -1
        }
        return function(deviceA, deviceB) {
          var diff

          // Find the first difference
          for (var i = 0, l = activeSorting.length; i < l; ++i) {
            var sort = activeSorting[i]
            diff = scope.columnDefinitions[sort.name].compare(deviceA, deviceB)
            if (diff !== 0) {
              diff *= mapping[sort.order]
              break
            }
          }

          return diff
        }
      })()

      // Creates a completely new row for the device. Means that this is
      // the first time we see the device.
      function createRow(device) {
        var id = calculateId(device)
        var tr = document.createElement('tr')
        var td

        tr.id = id

        if (!device.usable) {
          tr.classList.add('device-not-usable')
        }

        for (var i = 0, l = activeColumns.length; i < l; ++i) {
          td = scope.columnDefinitions[activeColumns[i]].build()
          scope.columnDefinitions[activeColumns[i]].update(td, device)
          tr.appendChild(td)
        }

        mapping[id] = device

        return tr
      }

      // Patches all rows.
      function patchAll(patch) {
        for (var i = 0, l = rows.length; i < l; ++i) {
          patchRow(rows[i], mapping[rows[i].id], patch)
        }
      }

      // Patches the given row by running the given patch operations in
      // order. The operations must take into account index changes caused
      // by previous operations.
      function patchRow(tr, device, patch) {
        for (var i = 0, l = patch.length; i < l; ++i) {
          var op = patch[i]
          switch (op[0]) {
          case 'insert':
            var col = scope.columnDefinitions[op[2]]
            tr.insertBefore(col.update(col.build(), device), tr.cells[op[1]])
            break
          case 'remove':
            tr.deleteCell(op[1])
            break
          case 'swap':
            tr.insertBefore(tr.cells[op[1]], tr.cells[op[2]])
            tr.insertBefore(tr.cells[op[2]], tr.cells[op[1]])
            break
          }
        }

        return tr
      }

      // Updates all the columns in the row. Note that the row must be in
      // the right format already (built with createRow() and patched with
      // patchRow() if necessary).
      function updateRow(tr, device) {
        var id = calculateId(device)

        tr.id = id

        if (!device.usable) {
          tr.classList.add('device-not-usable')
        }
        else {
          tr.classList.remove('device-not-usable')
        }

        for (var i = 0, l = activeColumns.length; i < l; ++i) {
          scope.columnDefinitions[activeColumns[i]].update(tr.cells[i], device)
        }

        return tr
      }

      // Inserts a row into the table into its correct position according to
      // current sorting.
      function insertRow(tr, deviceA) {
        return insertRowToSegment(tr, deviceA, 0, rows.length - 1)
      }

      // Inserts a row into a segment of the table into its correct position
      // according to current sorting. The value of `hi` is the index
      // of the last item in the segment, or -1 if none. The value of `lo`
      // is the index of the first item in the segment, or 0 if none.
      function insertRowToSegment(tr, deviceA, low, high) {
        var total = rows.length
        var lo = low
        var hi = high

        if (lo > hi) {
          // This means that `lo` refers to the first item of the next
          // segment (which may or may not exist), and we should put the
          // row before it.
          tbody.insertBefore(tr, lo < total ? rows[lo] : null)
        }
        else {
          var after = true
          var pivot = 0
          var deviceB

          while (lo <= hi) {
            pivot = ~~((lo + hi) / 2)
            deviceB = mapping[rows[pivot].id]

            var diff = compare(deviceA, deviceB)

            if (diff === 0) {
              after = true
              break
            }

            if (diff < 0) {
              hi = pivot - 1
              after = false
            }
            else {
              lo = pivot + 1
              after = true
            }
          }

          if (after) {
            tbody.insertBefore(tr, rows[pivot].nextSibling)
          }
          else {
            tbody.insertBefore(tr, rows[pivot])
          }
        }
      }

      // Compares a row to its siblings to see if it's still in the correct
      // position. Returns <0 if the device should actually go somewhere
      // before the previous row, >0 if it should go somewhere after the next
      // row, or 0 if the position is already correct.
      function compareRow(tr, device) {
        var prev = tr.previousSibling
        var next = tr.nextSibling
        var diff

        if (prev) {
          diff = compare(device, mapping[prev.id])
          if (diff < 0) {
            return diff
          }
        }

        if (next) {
          diff = compare(device, mapping[next.id])
          if (diff > 0) {
            return diff
          }
        }

        return 0
      }

      // Sort all rows.
      function sortAll() {
        // This could be improved by getting rid of the array copying. The
        // copy is made because rows can't be sorted directly.
        var sorted = [].slice.call(rows).sort(function(rowA, rowB) {
          return compare(mapping[rowA.id], mapping[rowB.id])
        })

        // Now, if we just append all the elements, they will be in the
        // correct order in the table.
        for (var i = 0, l = sorted.length; i < l; ++i) {
          tbody.appendChild(sorted[i])
        }
      }

      // Triggers when the tracker sees a device for the first time.
      function addListener(device) {
        var row = createRow(device)
        filterRow(row, device)
        insertRow(row, device)
      }

      // Triggers when the tracker notices that a device changed.
      function changeListener(device) {
        var id = calculateId(device)
        var tr = tbody.children[id]

        if (tr) {
          // First, update columns
          updateRow(tr, device)

          // Maybe the row is not sorted correctly anymore?
          var diff = compareRow(tr, device)

          if (diff < 0) {
            // Should go higher in the list
            insertRowToSegment(tr, device, 0, tr.rowIndex - 1)
          }
          else if (diff > 0) {
            // Should go lower in the list
            insertRowToSegment(tr, device, tr.rowIndex + 1, rows.length - 1)
          }
        }
      }

      // Triggers when a device is removed entirely from the tracker.
      function removeListener(device) {
        var id = calculateId(device)
        var tr = tbody.children[id]

        if (tr) {
          tbody.removeChild(tr)
        }

        delete mapping[id]
      }

      tracker.on('add', addListener)
      tracker.on('change', changeListener)
      tracker.on('remove', removeListener)

      // Maybe we're already late
      tracker.devices.forEach(addListener)

      scope.$on('$destroy', function() {
        tracker.removeListener('add', addListener)
        tracker.removeListener('change', changeListener)
        tracker.removeListener('remove', removeListener)
      })
    }
  }
}


/***/ }),
/* 223 */
/***/ ((module) => {

function existenceMap(array) {
  var map = Object.create(null)
  for (var i = 0, l = array.length; i < l; ++i) {
    map[array[i]] = 1
  }
  return map
}

// Returns a list of operations to transform array a into array b. May not
// return the optimal set of operations.
module.exports = function patchArray(a, b) {
  var ops = []

  var workA = [].concat(a)
  var inA = Object.create(null)
  var itemA, cursorA, itemB, cursorB

  var inB = existenceMap(b)
  var posB = Object.create(null)

  // First, check what was removed from a.
  for (cursorA = 0; cursorA < workA.length;) {
    itemA = workA[cursorA]

    // If b does not contain the item, surely it must have been removed.
    if (!inB[itemA]) {
      workA.splice(cursorA, 1)
      ops.push(['remove', cursorA])
    }
    // Otherwise, the item is still alive.
    else {
      inA[itemA] = true
      cursorA += 1
    }
  }

  // Then, check what was inserted into b.
  for (cursorB = 0; cursorB < b.length; ++cursorB) {
    itemB = b[cursorB]

    // If a does not contain the item, it must have been added.
    if (!inA[itemB]) {
      workA.splice(cursorB, 0, itemB)
      ops.push(['insert', cursorB, itemB])
    }

    posB[itemB] = cursorB
  }

  // At this point, workA contains the same items as b, but swaps may
  // be needed.
  for (cursorA = 0; cursorA < workA.length;) {
    itemA = workA[cursorA]
    var posInB = posB[itemA]

    if (posInB === cursorA) {
      cursorA += 1
    }
    else {
      var temp = workA[posInB]
      workA[posInB] = itemA
      workA[cursorA] = temp
      ops.push(['swap', cursorA, posInB])
    }
  }

  return ops
}


/***/ }),
/* 224 */
/***/ ((module) => {

module.exports = "<table class=\"table table-hover dataTable ng-table\"><thead><tr><th ng-repeat=\"column in columns() track by column.name\" ng-if=\"column.selected\" ng-class=\"[&quot;sort-&quot; + (sortedColumns[column.name].order || &quot;none&quot;)]\" ng-click=\"sortBy(column, $event.shiftKey)\" class=\"header sortable\"><div ng-bind=\"columnDefinitions[column.name].title | translate\"></div></th></tr></thead></table><device-list-empty tracker=\"tracker()\"></device-list-empty>"

/***/ }),
/* 225 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

__webpack_require__(226)

module.exports = angular.module('stf.device-list.icons', [
  (__webpack_require__(9).name),
  (__webpack_require__(194).name),
  (__webpack_require__(36).name),
  (__webpack_require__(212).name),
  (__webpack_require__(219).name),
  (__webpack_require__(228).name)
])
  .directive('deviceListIcons', __webpack_require__(249))


/***/ }),
/* 226 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14);
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(15);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(17);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(18);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(19);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_device_list_icons_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(227);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_device_list_icons_css__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_cjs_js_device_list_icons_css__WEBPACK_IMPORTED_MODULE_6__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_css_loader_dist_cjs_js_device_list_icons_css__WEBPACK_IMPORTED_MODULE_6__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_css_loader_dist_cjs_js_device_list_icons_css__WEBPACK_IMPORTED_MODULE_6__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()((_node_modules_css_loader_dist_cjs_js_device_list_icons_css__WEBPACK_IMPORTED_MODULE_6___default()), options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((_node_modules_css_loader_dist_cjs_js_device_list_icons_css__WEBPACK_IMPORTED_MODULE_6___default()) && (_node_modules_css_loader_dist_cjs_js_device_list_icons_css__WEBPACK_IMPORTED_MODULE_6___default().locals) ? (_node_modules_css_loader_dist_cjs_js_device_list_icons_css__WEBPACK_IMPORTED_MODULE_6___default().locals) : undefined);


/***/ }),
/* 227 */
/***/ ((module, exports, __webpack_require__) => {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(21);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.id, "ul.devices-icon-view {\n  margin: 0;\n  display: inline-block;\n  list-style-type: none;\n  font-family: 'HelveticaNeue-UltraLight', Helvetica, Arial, sans-serif;\n}\n\nul.devices-icon-view li {\n  width: 126px;\n  height: 170px;\n  background: white;\n  -webkit-border-radius: 8px;\n  -moz-border-radius: 8px;\n  border-radius: 8px;\n  border: 1px solid #e9e9e9;\n  float: left;\n  clear: none;\n  margin: 6px;\n  text-align: center;\n}\n\nul.devices-icon-view li:active {\n  -webkit-filter: brightness(95%);\n  filter: brightness(95%);\n}\n\n\nul.devices-icon-view li:hover {\n  background-color: #fcfcfc;\n}\n\nul.devices-icon-view li:hover .device-photo-small img {\n  -webkit-filter: brightness(120%);\n  filter: brightness(120%);\n}\n\nul.devices-icon-view .device-photo-small {\n  margin-top: 8px;\n  margin-bottom: 10px;\n}\n\nul.devices-icon-view .device-photo-small img {\n  width: auto;\n  height: 90px;\n  max-width: 95%; /* TODO: Fix this with a new container */\n}\n\nul.devices-icon-view .device-name-bigtext {\n  display: inline-block;\n  width: 80%;\n}\n\nul.devices-icon-view .device-name {\n  color: #3FA9F5;\n  font-size: 16px;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n}\n\nul.devices-icon-view .device-product {\n  font-size: 16px;\n  color: #555;\n}\n\nul.devices-icon-view .device-is-busy {\n  opacity: 0.6;\n  cursor: not-allowed;\n  /*-webkit-filter: grayscale(100%);*/\n  /*filter: grayscale(100%);*/\n}\n\nul.devices-icon-view .device-is-busy .btn {\n  cursor: not-allowed;\n}\n\nul.devices-icon-view .device-is-busy .device-photo-small img {\n  opacity: 0.5;\n}\n\nul.devices-icon-view .device-status.state-available {\n  display: none;\n}\n\nul.devices-icon-view .device-name.state-available {\n  white-space: normal;\n  max-height: 45px;\n}\n", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 228 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

__webpack_require__(229)

module.exports = angular.module('device-control.standalone', [
  (__webpack_require__(184).name),
  (__webpack_require__(206).name),
  (__webpack_require__(231).name),
  (__webpack_require__(210).name),
  (__webpack_require__(234).name)
])
  .run(['$templateCache', function($templateCache) {
    $templateCache.put('control-panes/device-control/standalone/standalone.pug',
      __webpack_require__(245)
    )
  }])
  .controller('StandaloneCtrl', __webpack_require__(246))
  .factory('StandaloneService', __webpack_require__(247))
  .directive('standalone', __webpack_require__(248))


/***/ }),
/* 229 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14);
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(15);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(17);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(18);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(19);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_standalone_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(230);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_standalone_css__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_cjs_js_standalone_css__WEBPACK_IMPORTED_MODULE_6__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_css_loader_dist_cjs_js_standalone_css__WEBPACK_IMPORTED_MODULE_6__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_css_loader_dist_cjs_js_standalone_css__WEBPACK_IMPORTED_MODULE_6__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()((_node_modules_css_loader_dist_cjs_js_standalone_css__WEBPACK_IMPORTED_MODULE_6___default()), options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((_node_modules_css_loader_dist_cjs_js_standalone_css__WEBPACK_IMPORTED_MODULE_6___default()) && (_node_modules_css_loader_dist_cjs_js_standalone_css__WEBPACK_IMPORTED_MODULE_6___default().locals) ? (_node_modules_css_loader_dist_cjs_js_standalone_css__WEBPACK_IMPORTED_MODULE_6___default().locals) : undefined);


/***/ }),
/* 230 */
/***/ ((module, exports, __webpack_require__) => {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(21);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.id, "", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 231 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

__webpack_require__(232)

module.exports = angular.module('stf/screen', [
  (__webpack_require__(234).name)
, (__webpack_require__(236).name)
, (__webpack_require__(238).name)
, (__webpack_require__(27).name)
, (__webpack_require__(51).name)
])
  .directive('deviceScreen', __webpack_require__(240))
  .controller('DeviceScreenCtrl', __webpack_require__(244))


/***/ }),
/* 232 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14);
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(15);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(17);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(18);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(19);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_screen_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(233);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_screen_css__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_cjs_js_screen_css__WEBPACK_IMPORTED_MODULE_6__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_css_loader_dist_cjs_js_screen_css__WEBPACK_IMPORTED_MODULE_6__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_css_loader_dist_cjs_js_screen_css__WEBPACK_IMPORTED_MODULE_6__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()((_node_modules_css_loader_dist_cjs_js_screen_css__WEBPACK_IMPORTED_MODULE_6___default()), options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((_node_modules_css_loader_dist_cjs_js_screen_css__WEBPACK_IMPORTED_MODULE_6___default()) && (_node_modules_css_loader_dist_cjs_js_screen_css__WEBPACK_IMPORTED_MODULE_6___default().locals) ? (_node_modules_css_loader_dist_cjs_js_screen_css__WEBPACK_IMPORTED_MODULE_6___default().locals) : undefined);


/***/ }),
/* 233 */
/***/ ((module, exports, __webpack_require__) => {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(21);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.id, ".screen-error {\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.7);\n  z-index: 100;\n  position: absolute;\n  /*pointer-events: none; */\n}\n\n.screen-error .nothing-to-show {\n  color: #eee;\n}\n\n.screen-error .screen-error-message {\n  position: relative;\n  top: 15%;\n  transform: translateY(-15%);\n  text-align: center;\n}\n\n.screen-error .screen-error-alert {\n  padding: 15px;\n  margin-bottom: 20px;\n  color: #ccc;\n}\n", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 234 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = angular.module('stf/scaling', [])
  .factory('ScalingService', __webpack_require__(235))


/***/ }),
/* 235 */
/***/ ((module) => {

module.exports = function ScalingServiceFactory() {
  var scalingService = {
  }

  scalingService.coordinator = function(realWidth, realHeight) {
    var realRatio = realWidth / realHeight

    /**
     * Rotation affects the screen as follows:
     *
     *                   0deg
     *                 |------|
     *                 | MENU |
     *                 |------|
     *            -->  |      |  --|
     *            |    |      |    v
     *                 |      |
     *                 |      |
     *                 |------|
     *        |----|-|          |-|----|
     *        |    |M|          | |    |
     *        |    |E|          | |    |
     *  90deg |    |N|          |U|    | 270deg
     *        |    |U|          |N|    |
     *        |    | |          |E|    |
     *        |    | |          |M|    |
     *        |----|-|          |-|----|
     *                 |------|
     *            ^    |      |    |
     *            |--  |      |  <--
     *                 |      |
     *                 |      |
     *                 |------|
     *                 | UNEM |
     *                 |------|
     *                  180deg
     *
     * Which leads to the following mapping:
     *
     * |--------------|------|---------|---------|---------|
     * |              | 0deg |  90deg  |  180deg |  270deg |
     * |--------------|------|---------|---------|---------|
     * | CSS rotate() | 0deg | -90deg  | -180deg |  90deg  |
     * | bounding w   |  w   |    h    |    w    |    h    |
     * | bounding h   |  h   |    w    |    h    |    w    |
     * | pos x        |  x   |   h-y   |   w-x   |    y    |
     * | pos y        |  y   |    x    |   h-y   |   h-x   |
     * |--------------|------|---------|---------|---------|
     */
    return {
      coords: function(boundingW, boundingH, relX, relY, rotation) {
        var w, h, x, y, ratio, scaledValue

        switch (rotation) {
        case 0:
          w = boundingW
          h = boundingH
          x = relX
          y = relY
          break
        case 90:
          w = boundingH
          h = boundingW
          x = boundingH - relY
          y = relX
          break
        case 180:
          w = boundingW
          h = boundingH
          x = boundingW - relX
          y = boundingH - relY
          break
        case 270:
          w = boundingH
          h = boundingW
          x = relY
          y = boundingW - relX
          break
        }

        ratio = w / h

        if (realRatio > ratio) {
          // covers the area horizontally
          scaledValue = w / realRatio

          // adjust y to start from the scaled top edge
          y -= (h - scaledValue) / 2

          // not touching the screen, but we want to trigger certain events
          // (like touchup) anyway, so let's do it on the edges.
          if (y < 0) {
            y = 0
          }
          else if (y > scaledValue) {
            y = scaledValue
          }

          // make sure x is within bounds too
          if (x < 0) {
            x = 0
          }
          else if (x > w) {
            x = w
          }

          h = scaledValue
        }
        else {
          // covers the area vertically
          scaledValue = h * realRatio

          // adjust x to start from the scaled left edge
          x -= (w - scaledValue) / 2

          // not touching the screen, but we want to trigger certain events
          // (like touchup) anyway, so let's do it on the edges.
          if (x < 0) {
            x = 0
          }
          else if (x > scaledValue) {
            x = scaledValue
          }

          // make sure y is within bounds too
          if (y < 0) {
            y = 0
          }
          else if (y > h) {
            y = h
          }

          w = scaledValue
        }

        return {
          xP: x / w
        , yP: y / h
        }
      }
    , size: function(sizeWidth, sizeHeight) {
        var width = sizeWidth
        var height = sizeHeight
        var ratio = width / height

        if (realRatio > ratio) {
          // covers the area horizontally

          if (width >= realWidth) {
            // don't go over max size
            width = realWidth
            height = realHeight
          }
          else {
            height = Math.floor(width / realRatio)
          }
        }
        else {
          // covers the area vertically

          if (height >= realHeight) {
            // don't go over max size
            height = realHeight
            width = realWidth
          }
          else {
            width = Math.floor(height * realRatio)
          }
        }

        return {
          width: width
        , height: height
        }
      }
    , projectedSize: function(boundingW, boundingH, rotation) {
        var w, h

        switch (rotation) {
        case 0:
        case 180:
          w = boundingW
          h = boundingH
          break
        case 90:
        case 270:
          w = boundingH
          h = boundingW
          break
        }

        var ratio = w / h

        if (realRatio > ratio) {
          // covers the area horizontally
          h = Math.floor(w / realRatio)
        }
        else {
          w = Math.floor(h * realRatio)
        }

        return {
          width: w
        , height: h
        }
      }
    }
  }

  return scalingService
}


/***/ }),
/* 236 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = angular.module('stf/util/vendor', [])
  .factory('VendorUtil', __webpack_require__(237))


/***/ }),
/* 237 */
/***/ ((module) => {

module.exports = function VendorUtilFactory() {
  var vendorUtil = {}

  vendorUtil.style = function(props) {
    var testee = document.createElement('span')
    for (var i = 0, l = props.length; i < l; ++i) {
      if (typeof testee.style[props[i]] !== 'undefined') {
        return props[i]
      }
    }
    return props[0]
  }

  return vendorUtil
}


/***/ }),
/* 238 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = angular.module('stf.page-visibility', [

])
  .factory('PageVisibilityService', __webpack_require__(239))


/***/ }),
/* 239 */
/***/ ((module) => {

module.exports = function PageVisibilityServiceFactory($rootScope) {
  var service = {
    hidden: false
  }

  function visibilityChangeListener() {
    service.hidden = document.hidden
    $rootScope.$broadcast('visibilitychange', service.hidden)
  }

  document.addEventListener(
    'visibilitychange'
  , visibilityChangeListener
  , false
  )

  return service
}


/***/ }),
/* 240 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _ = __webpack_require__(190)
var rotator = __webpack_require__(241)
var ImagePool = __webpack_require__(242)

module.exports = function DeviceScreenDirective(
  $document
, ScalingService
, VendorUtil
, PageVisibilityService
, $timeout
, $window
) {
  return {
    restrict: 'E'
  , template: __webpack_require__(243)
  , scope: {
      control: '&'
    , device: '&'
    }
  , link: function(scope, element) {
      var URL = window.URL || window.webkitURL
      var BLANK_IMG =
        'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=='
      var cssTransform = VendorUtil.style(['transform', 'webkitTransform'])

      var device = scope.device()
      var control = scope.control()

      var input = element.find('input')

      var screen = scope.screen = {
        rotation: 0
      , bounds: {
          x: 0
        , y: 0
        , w: 0
        , h: 0
        }
      }

      var scaler = ScalingService.coordinator(
        device.display.width
      , device.display.height
      )

      /**
       * SCREEN HANDLING
       *
       * This section should deal with updating the screen ONLY.
       */
      ;(function() {
        function stop() {
          try {
            ws.onerror = ws.onclose = ws.onmessage = ws.onopen = null
            ws.close()
            ws = null
          }
          catch (err) { /* noop */ }
        }

        var ws = new WebSocket(device.display.url)
        ws.binaryType = 'blob'

        ws.onerror = function errorListener() {
          // @todo Handle
        }

        ws.onclose = function closeListener() {
          // @todo Maybe handle
        }

        ws.onopen = function openListener() {
          checkEnabled()
        }

        var canvas = element.find('canvas')[0]
        var g = canvas.getContext('2d')
        var positioner = element.find('div')[0]

        function vendorBackingStorePixelRatio(g) {
          return g.webkitBackingStorePixelRatio ||
            g.mozBackingStorePixelRatio ||
            g.msBackingStorePixelRatio ||
            g.oBackingStorePixelRatio ||
            g.backingStorePixelRatio || 1
        }

        var devicePixelRatio = window.devicePixelRatio || 1
        var backingStoreRatio = vendorBackingStorePixelRatio(g)
        var frontBackRatio = devicePixelRatio / backingStoreRatio

        var options = {
          autoScaleForRetina: true
        , density: Math.max(1, Math.min(1.5, devicePixelRatio || 1))
        , minscale: 0.36
        }

        var adjustedBoundSize
        var cachedEnabled = false

        function updateBounds() {
          function adjustBoundedSize(w, h) {
            var sw = w * options.density
            var sh = h * options.density
            var f

            if (sw < (f = device.display.width * options.minscale)) {
              sw *= f / sw
              sh *= f / sh
            }

            if (sh < (f = device.display.height * options.minscale)) {
              sw *= f / sw
              sh *= f / sh
            }

            return {
              w: Math.ceil(sw)
            , h: Math.ceil(sh)
            }
          }

          // FIXME: element is an object HTMLUnknownElement in IE9
          var w = screen.bounds.w = element[0].offsetWidth
          var h = screen.bounds.h = element[0].offsetHeight

          // Developer error, let's try to reduce debug time
          if (!w || !h) {
            throw new Error(
              'Unable to read bounds; container must have dimensions'
            )
          }

          var newAdjustedBoundSize = (function() {
            switch (screen.rotation) {
            case 90:
            case 270:
              return adjustBoundedSize(h, w)
            case 0:
            case 180:
              /* falls through */
            default:
              return adjustBoundedSize(w, h)
            }
          })()

          if (!adjustedBoundSize ||
            newAdjustedBoundSize.w !== adjustedBoundSize.w ||
            newAdjustedBoundSize.h !== adjustedBoundSize.h) {
            adjustedBoundSize = newAdjustedBoundSize
            onScreenInterestAreaChanged()
          }
        }

        function shouldUpdateScreen() {
          return (
            // NO if the user has disabled the screen.
            scope.$parent.showScreen &&
            // NO if we're not even using the device anymore.
            device.using &&
            // NO if the page is not visible (e.g. background tab).
            !PageVisibilityService.hidden &&
            // NO if we don't have a connection yet.
            ws.readyState === WebSocket.OPEN
            // YES otherwise
          )
        }

        function checkEnabled() {
          var newEnabled = shouldUpdateScreen()

          if (newEnabled === cachedEnabled) {
            updateBounds()
          }
          else if (newEnabled) {
            updateBounds()
            onScreenInterestGained()
          }
          else {
            g.clearRect(0, 0, canvas.width, canvas.height)
            onScreenInterestLost()
          }

          cachedEnabled = newEnabled
        }

        function onScreenInterestGained() {
          if (ws.readyState === WebSocket.OPEN) {
            ws.send('size ' + adjustedBoundSize.w + 'x' + adjustedBoundSize.h)
            ws.send('on')
          }
        }

        function onScreenInterestAreaChanged() {
          if (ws.readyState === WebSocket.OPEN) {
            ws.send('size ' + adjustedBoundSize.w + 'x' + adjustedBoundSize.h)
          }
        }

        function onScreenInterestLost() {
          if (ws.readyState === WebSocket.OPEN) {
            ws.send('off')
          }
        }

        ws.onmessage = (function() {
          var cachedScreen = {
            rotation: 0
          , bounds: {
              x: 0
            , y: 0
            , w: 0
            , h: 0
            }
          }

          var cachedImageWidth = 0
          var cachedImageHeight = 0
          var cssRotation = 0
          var alwaysUpright = false
          var imagePool = new ImagePool(10)

          function applyQuirks(banner) {
            element[0].classList.toggle(
              'quirk-always-upright', alwaysUpright = banner.quirks.alwaysUpright)
          }

          function hasImageAreaChanged(img) {
            return cachedScreen.bounds.w !== screen.bounds.w ||
              cachedScreen.bounds.h !== screen.bounds.h ||
              cachedImageWidth !== img.width ||
              cachedImageHeight !== img.height ||
              cachedScreen.rotation !== screen.rotation
          }

          function isRotated() {
            return screen.rotation === 90 || screen.rotation === 270
          }

          function updateImageArea(img) {
            if (!hasImageAreaChanged(img)) {
              return
            }

            cachedImageWidth = img.width
            cachedImageHeight = img.height

            if (options.autoScaleForRetina) {
              canvas.width = cachedImageWidth * frontBackRatio
              canvas.height = cachedImageHeight * frontBackRatio
              g.scale(frontBackRatio, frontBackRatio)
            }
            else {
              canvas.width = cachedImageWidth
              canvas.height = cachedImageHeight
            }

            cssRotation += rotator(cachedScreen.rotation, screen.rotation)

            canvas.style[cssTransform] = 'rotate(' + cssRotation + 'deg)'

            cachedScreen.bounds.h = screen.bounds.h
            cachedScreen.bounds.w = screen.bounds.w
            cachedScreen.rotation = screen.rotation

            canvasAspect = canvas.width / canvas.height

            if (isRotated() && !alwaysUpright) {
              canvasAspect = img.height / img.width
              element[0].classList.add('rotated')
            }
            else {
              canvasAspect = img.width / img.height
              element[0].classList.remove('rotated')
            }

            if (alwaysUpright) {
              // If the screen image is always in upright position (but we
              // still want the rotation animation), we need to cancel out
              // the rotation by using another rotation.
              positioner.style[cssTransform] = 'rotate(' + -cssRotation + 'deg)'
            }

            maybeFlipLetterbox()
          }

          return function messageListener(message) {
            screen.rotation = device.display.rotation

            if (message.data instanceof Blob) {
              if (shouldUpdateScreen()) {
                if (scope.displayError) {
                  scope.safeApply(function() {
                    scope.displayError = false
                  })
                }

                var blob = new Blob([message.data], {
                  type: 'image/jpeg'
                })

                var img = imagePool.next()

                img.onload = function() {
                  updateImageArea(this)

                  g.drawImage(img, 0, 0, img.width, img.height)

                  // Try to forcefully clean everything to get rid of memory
                  // leaks. Note that despite this effort, Chrome will still
                  // leak huge amounts of memory when the developer tools are
                  // open, probably to save the resources for inspection. When
                  // the developer tools are closed no memory is leaked.
                  img.onload = img.onerror = null
                  img.src = BLANK_IMG
                  img = null
                  blob = null

                  URL.revokeObjectURL(url)
                  url = null
                }

                img.onerror = function() {
                  // Happily ignore. I suppose this shouldn't happen, but
                  // sometimes it does, presumably when we're loading images
                  // too quickly.

                  // Do the same cleanup here as in onload.
                  img.onload = img.onerror = null
                  img.src = BLANK_IMG
                  img = null
                  blob = null

                  URL.revokeObjectURL(url)
                  url = null
                }

                var url = URL.createObjectURL(blob)
                img.src = url
              }
            }
            else if (/^start /.test(message.data)) {
              applyQuirks(JSON.parse(message.data.substr('start '.length)))
            }
            else if (message.data === 'secure_on') {
              scope.safeApply(function() {
                scope.displayError = 'secure'
              })
            }
          }
        })()

        // NOTE: instead of fa-pane-resize, a fa-child-pane-resize could be better
        scope.$on('fa-pane-resize', _.debounce(updateBounds, 1000))
        scope.$watch('device.using', checkEnabled)
        scope.$on('visibilitychange', checkEnabled)
        scope.$watch('$parent.showScreen', checkEnabled)

        scope.retryLoadingScreen = function() {
          if (scope.displayError === 'secure') {
            control.home()
          }
        }

        scope.$on('guest-portrait', function() {
          control.rotate(0)
        })

        scope.$on('guest-landscape', function() {
          control.rotate(90)
        })

        var canvasAspect = 1
        var parentAspect = 1

        function resizeListener() {
          parentAspect = element[0].offsetWidth / element[0].offsetHeight
          maybeFlipLetterbox()
        }

        function maybeFlipLetterbox() {
          element[0].classList.toggle(
            'letterboxed', parentAspect < canvasAspect)
        }

        $window.addEventListener('resize', resizeListener, false)
        scope.$on('fa-pane-resize', resizeListener)

        resizeListener()

        scope.$on('$destroy', function() {
          stop()
          $window.removeEventListener('resize', resizeListener, false)
        })
      })()

      /**
       * KEYBOARD HANDLING
       *
       * This should be moved elsewhere, but due to shared dependencies and
       * elements it's currently here. So basically due to laziness.
       *
       * For now, try to keep the whole section as a separate unit as much
       * as possible.
       */
      ;(function() {
        function isChangeCharsetKey(e) {
          // Add any special key here for changing charset
          //console.log('e', e)

          // Chrome/Safari/Opera
          if (
            // Mac | Kinesis keyboard | Karabiner | Latin key, Kana key
          e.keyCode === 0 && e.keyIdentifier === 'U+0010' ||

            // Mac | MacBook Pro keyboard | Latin key, Kana key
          e.keyCode === 0 && e.keyIdentifier === 'U+0020' ||

            // Win | Lenovo X230 keyboard | Alt+Latin key
          e.keyCode === 246 && e.keyIdentifier === 'U+00F6' ||

            // Win | Lenovo X230 keyboard | Convert key
          e.keyCode === 28 && e.keyIdentifier === 'U+001C'
          ) {
            return true
          }

          // Firefox
          switch (e.key) {
            case 'Convert': // Windows | Convert key
            case 'Alphanumeric': // Mac | Latin key
            case 'RomanCharacters': // Windows/Mac | Latin key
            case 'KanjiMode': // Windows/Mac | Kana key
              return true
          }

          return false
        }

        function handleSpecialKeys(e) {
          if (isChangeCharsetKey(e)) {
            e.preventDefault()
            control.keyPress('switch_charset')
            return true
          }

          return false
        }

        function keydownListener(e) {
          // Prevent tab from switching focus to the next element, we only want
          // that to happen on the device side.
          if (e.keyCode === 9) {
            e.preventDefault()
          }
          control.keyDown(e.keyCode)
        }

        function keyupListener(e) {
          if (!handleSpecialKeys(e)) {
            control.keyUp(e.keyCode)
          }
        }

        function pasteListener(e) {
          // Prevent value change or the input event sees it. This way we get
          // the real value instead of any "\n" -> " " conversions we might see
          // in the input value.
          e.preventDefault()
          control.paste(e.clipboardData.getData('text/plain'))
        }

        function copyListener(e) {
          e.preventDefault()
          // This is asynchronous and by the time it returns we will no longer
          // have access to setData(). In other words it doesn't work. Currently
          // what happens is that on the first copy, it will attempt to fetch
          // the clipboard contents. Only on the second copy will it actually
          // copy that to the clipboard.
          control.getClipboardContent()
          if (control.clipboardContent) {
            e.clipboardData.setData('text/plain', control.clipboardContent)
          }
        }

        function inputListener() {
          // Why use the input event if we don't let it handle pasting? The
          // reason is that on latest Safari (Version 8.0 (10600.1.25)), if
          // you use the "Romaji" Kotoeri input method, we'll never get any
          // keypress events. It also causes us to lose the very first keypress
          // on the page. Currently I'm not sure if we can fix that one.
          control.type(this.value)
          this.value = ''
        }

        input.bind('keydown', keydownListener)
        input.bind('keyup', keyupListener)
        input.bind('input', inputListener)
        input.bind('paste', pasteListener)
        input.bind('copy', copyListener)
      })()

      /**
       * TOUCH HANDLING
       *
       * This should be moved elsewhere, but due to shared dependencies and
       * elements it's currently here. So basically due to laziness.
       *
       * For now, try to keep the whole section as a separate unit as much
       * as possible.
       */
      ;(function() {
        var slots = []
        var slotted = Object.create(null)
        var fingers = []
        var seq = -1
        var cycle = 100
        var fakePinch = false
        var lastPossiblyBuggyMouseUpEvent = 0

        function nextSeq() {
          return ++seq >= cycle ? (seq = 0) : seq
        }

        function createSlots() {
          // The reverse order is important because slots and fingers are in
          // opposite sort order. Anyway don't change anything here unless
          // you understand what it does and why.
          for (var i = 9; i >= 0; --i) {
            var finger = createFinger(i)
            element.append(finger)
            slots.push(i)
            fingers.unshift(finger)
          }
        }

        function activateFinger(index, x, y, pressure) {
          var scale = 0.5 + pressure
          fingers[index].classList.add('active')
          fingers[index].style[cssTransform] =
            'translate3d(' + x + 'px,' + y + 'px,0) ' +
            'scale(' + scale + ',' + scale + ')'
        }

        function deactivateFinger(index) {
          fingers[index].classList.remove('active')
        }

        function deactivateFingers() {
          for (var i = 0, l = fingers.length; i < l; ++i) {
            fingers[i].classList.remove('active')
          }
        }

        function createFinger(index) {
          var el = document.createElement('span')
          el.className = 'finger finger-' + index
          return el
        }

        function calculateBounds() {
          var el = element[0]

          screen.bounds.w = el.offsetWidth
          screen.bounds.h = el.offsetHeight
          screen.bounds.x = 0
          screen.bounds.y = 0

          while (el.offsetParent) {
            screen.bounds.x += el.offsetLeft
            screen.bounds.y += el.offsetTop
            el = el.offsetParent
          }
        }

        function mouseDownListener(event) {
          var e = event
          if (e.originalEvent) {
            e = e.originalEvent
          }

          // Skip secondary click
          if (e.which === 3) {
            return
          }

          e.preventDefault()

          fakePinch = e.altKey

          calculateBounds()
          startMousing()

          var x = e.pageX - screen.bounds.x
          var y = e.pageY - screen.bounds.y
          var pressure = 0.5
          var scaled = scaler.coords(
                screen.bounds.w
              , screen.bounds.h
              , x
              , y
              , screen.rotation
              )

          control.touchDown(nextSeq(), 0, scaled.xP, scaled.yP, pressure)

          if (fakePinch) {
            control.touchDown(nextSeq(), 1, 1 - scaled.xP, 1 - scaled.yP,
              pressure)
          }

          control.touchCommit(nextSeq())

          activateFinger(0, x, y, pressure)

          if (fakePinch) {
            activateFinger(1, -e.pageX + screen.bounds.x + screen.bounds.w,
              -e.pageY + screen.bounds.y + screen.bounds.h, pressure)
          }

          element.bind('mousemove', mouseMoveListener)
          $document.bind('mouseup', mouseUpListener)
          $document.bind('mouseleave', mouseUpListener)

          if (lastPossiblyBuggyMouseUpEvent &&
              lastPossiblyBuggyMouseUpEvent.timeStamp > e.timeStamp) {
            // We got mouseup before mousedown. See mouseUpBugWorkaroundListener
            // for details.
            mouseUpListener(lastPossiblyBuggyMouseUpEvent)
          }
          else {
            lastPossiblyBuggyMouseUpEvent = null
          }
        }

        function mouseMoveListener(event) {
          var e = event
          if (e.originalEvent) {
            e = e.originalEvent
          }

          // Skip secondary click
          if (e.which === 3) {
            return
          }
          e.preventDefault()

          var addGhostFinger = !fakePinch && e.altKey
          var deleteGhostFinger = fakePinch && !e.altKey

          fakePinch = e.altKey

          var x = e.pageX - screen.bounds.x
          var y = e.pageY - screen.bounds.y
          var pressure = 0.5
          var scaled = scaler.coords(
                screen.bounds.w
              , screen.bounds.h
              , x
              , y
              , screen.rotation
              )

          control.touchMove(nextSeq(), 0, scaled.xP, scaled.yP, pressure)

          if (addGhostFinger) {
            control.touchDown(nextSeq(), 1, 1 - scaled.xP, 1 - scaled.yP, pressure)
          }
          else if (deleteGhostFinger) {
            control.touchUp(nextSeq(), 1)
          }
          else if (fakePinch) {
            control.touchMove(nextSeq(), 1, 1 - scaled.xP, 1 - scaled.yP, pressure)
          }

          control.touchCommit(nextSeq())

          activateFinger(0, x, y, pressure)

          if (deleteGhostFinger) {
            deactivateFinger(1)
          }
          else if (fakePinch) {
            activateFinger(1, -e.pageX + screen.bounds.x + screen.bounds.w,
              -e.pageY + screen.bounds.y + screen.bounds.h, pressure)
          }
        }

        function mouseUpListener(event) {
          var e = event
          if (e.originalEvent) {
            e = e.originalEvent
          }

          // Skip secondary click
          if (e.which === 3) {
            return
          }
          e.preventDefault()

          control.touchUp(nextSeq(), 0)

          if (fakePinch) {
            control.touchUp(nextSeq(), 1)
          }

          control.touchCommit(nextSeq())

          deactivateFinger(0)

          if (fakePinch) {
            deactivateFinger(1)
          }

          stopMousing()
        }

        /**
         * Do NOT remove under any circumstances. Currently, in the latest
         * Safari (Version 8.0 (10600.1.25)), if an input field is focused
         * while we do a tap click on an MBP trackpad ("Tap to click" in
         * Settings), it sometimes causes the mouseup event to trigger before
         * the mousedown event (but event.timeStamp will be correct). It
         * doesn't happen in any other browser. The following minimal test
         * case triggers the same behavior (although less frequently). Keep
         * tapping and you'll eventually see see two mouseups in a row with
         * the same counter value followed by a mousedown with a new counter
         * value. Also, when the bug happens, the cursor in the input field
         * stops blinking. It may take up to 300 attempts to spot the bug on
         * a MacBook Pro (Retina, 15-inch, Mid 2014).
         *
         *     <!doctype html>
         *
         *     <div id="touchable"
         *       style="width: 100px; height: 100px; background: green"></div>
         *     <input id="focusable" type="text" />
         *
         *     <script>
         *     var touchable = document.getElementById('touchable')
         *       , focusable = document.getElementById('focusable')
         *       , counter = 0
         *
         *     function mousedownListener(e) {
         *       counter += 1
         *       console.log('mousedown', counter, e, e.timeStamp)
         *       e.preventDefault()
         *     }
         *
         *     function mouseupListener(e) {
         *       e.preventDefault()
         *       console.log('mouseup', counter, e, e.timeStamp)
         *       focusable.focus()
         *     }
         *
         *     touchable.addEventListener('mousedown', mousedownListener, false)
         *     touchable.addEventListener('mouseup', mouseupListener, false)
         *     </script>
         *
         * I believe that the bug is caused by some kind of a race condition
         * in Safari. Using a textarea or a focused contenteditable does not
         * get rid of the bug. The bug also happens if the text field is
         * focused manually by the user (not with .focus()).
         *
         * It also doesn't help if you .blur() before .focus().
         *
         * So basically we'll just have to store the event on mouseup and check
         * if we should do the browser's job in the mousedown handler.
         */
        function mouseUpBugWorkaroundListener(e) {
          lastPossiblyBuggyMouseUpEvent = e
        }

        function startMousing() {
          control.gestureStart(nextSeq())
          input[0].focus()
        }

        function stopMousing() {
          element.unbind('mousemove', mouseMoveListener)
          $document.unbind('mouseup', mouseUpListener)
          $document.unbind('mouseleave', mouseUpListener)
          deactivateFingers()
          control.gestureStop(nextSeq())
        }

        function touchStartListener(event) {
          var e = event
          e.preventDefault()

          //Make it jQuery compatible also
          if (e.originalEvent) {
            e = e.originalEvent
          }

          calculateBounds()

          if (e.touches.length === e.changedTouches.length) {
            startTouching()
          }

          var currentTouches = Object.create(null)
          var i, l

          for (i = 0, l = e.touches.length; i < l; ++i) {
            currentTouches[e.touches[i].identifier] = 1
          }

          function maybeLostTouchEnd(id) {
            return !(id in currentTouches)
          }

          // We might have lost a touchend event due to various edge cases
          // (literally) such as dragging from the bottom of the screen so that
          // the control center appears. If so, let's ask for a reset.
          if (Object.keys(slotted).some(maybeLostTouchEnd)) {
            Object.keys(slotted).forEach(function(id) {
              slots.push(slotted[id])
              delete slotted[id]
            })
            slots.sort().reverse()
            control.touchReset(nextSeq())
            deactivateFingers()
          }

          if (!slots.length) {
            // This should never happen but who knows...
            throw new Error('Ran out of multitouch slots')
          }

          for (i = 0, l = e.changedTouches.length; i < l; ++i) {
            var touch = e.changedTouches[i]
            var slot = slots.pop()
            var x = touch.pageX - screen.bounds.x
            var y = touch.pageY - screen.bounds.y
            var pressure = touch.force || 0.5
            var scaled = scaler.coords(
                  screen.bounds.w
                , screen.bounds.h
                , x
                , y
                , screen.rotation
                )

            slotted[touch.identifier] = slot
            control.touchDown(nextSeq(), slot, scaled.xP, scaled.yP, pressure)
            activateFinger(slot, x, y, pressure)
          }

          element.bind('touchmove', touchMoveListener)
          $document.bind('touchend', touchEndListener)
          $document.bind('touchleave', touchEndListener)

          control.touchCommit(nextSeq())
        }

        function touchMoveListener(event) {
          var e = event
          e.preventDefault()

          if (e.originalEvent) {
            e = e.originalEvent
          }

          for (var i = 0, l = e.changedTouches.length; i < l; ++i) {
            var touch = e.changedTouches[i]
            var slot = slotted[touch.identifier]
            var x = touch.pageX - screen.bounds.x
            var y = touch.pageY - screen.bounds.y
            var pressure = touch.force || 0.5
            var scaled = scaler.coords(
                  screen.bounds.w
                , screen.bounds.h
                , x
                , y
                , screen.rotation
                )

            control.touchMove(nextSeq(), slot, scaled.xP, scaled.yP, pressure)
            activateFinger(slot, x, y, pressure)
          }

          control.touchCommit(nextSeq())
        }

        function touchEndListener(event) {
          var e = event
          if (e.originalEvent) {
            e = e.originalEvent
          }

          var foundAny = false

          for (var i = 0, l = e.changedTouches.length; i < l; ++i) {
            var touch = e.changedTouches[i]
            var slot = slotted[touch.identifier]
            if (typeof slot === 'undefined') {
              // We've already disposed of the contact. We may have gotten a
              // touchend event for the same contact twice.
              continue
            }
            delete slotted[touch.identifier]
            slots.push(slot)
            control.touchUp(nextSeq(), slot)
            deactivateFinger(slot)
            foundAny = true
          }

          if (foundAny) {
            control.touchCommit(nextSeq())
            if (!e.touches.length) {
              stopTouching()
            }
          }
        }

        function startTouching() {
          control.gestureStart(nextSeq())
        }

        function stopTouching() {
          element.unbind('touchmove', touchMoveListener)
          $document.unbind('touchend', touchEndListener)
          $document.unbind('touchleave', touchEndListener)
          deactivateFingers()
          control.gestureStop(nextSeq())
        }

        element.on('touchstart', touchStartListener)
        element.on('mousedown', mouseDownListener)
        element.on('mouseup', mouseUpBugWorkaroundListener)

        createSlots()
      })()
    }
  }
}


/***/ }),
/* 241 */
/***/ ((module) => {

var mapping = {
  0: {
    0: 0
  , 90: -90
  , 180: -180
  , 270: 90
  }
, 90: {
    0: 90
  , 90: 0
  , 180: -90
  , 270: 180
  }
, 180: {
    0: 180
  , 90: 90
  , 180: 0
  , 270: -90
  }
, 270: {
    0: -90
  , 90: -180
  , 180: 90
  , 270: 0
  }
}

module.exports = function rotator(oldRotation, newRotation) {
  var r1 = oldRotation < 0 ? 360 + oldRotation % 360 : oldRotation % 360
  var r2 = newRotation < 0 ? 360 + newRotation % 360 : newRotation % 360

  return mapping[r1][r2]
}


/***/ }),
/* 242 */
/***/ ((module) => {

function ImagePool(size) {
  this.size = size
  this.images = []
  this.counter = 0
}

ImagePool.prototype.next = function() {
  if (this.images.length < this.size) {
    var image = new Image()
    this.images.push(image)
    return image
  }
  else {
    if (this.counter >= this.size) {
      // Reset for unlikely but theoretically possible overflow.
      this.counter = 0
    }

    return this.images[this.counter++ % this.size]
  }
}

module.exports = ImagePool


/***/ }),
/* 243 */
/***/ ((module) => {

module.exports = "<div class=\"positioner\"><canvas ng-show=\"device\" class=\"screen\"></canvas><canvas width=\"1\" height=\"1\" class=\"hacky-stretcher\"></canvas></div><div ng-if=\"displayError\" class=\"screen-error\"><div class=\"screen-error-message\"><nothing-to-show message=\"{{&quot;No device screen&quot;|translate}}\" icon=\"fa-eye-slash\" ng-show=\"true\"></nothing-to-show><div class=\"well\"><div ng-show=\"displayError === &quot;secure&quot;\" translate=\"translate\" class=\"screen-error-alert\">The current view is marked secure and cannot be viewed remotely.</div><div ng-show=\"displayError === &quot;timeout&quot;\" translate=\"translate\" class=\"screen-error-alert\">Retrieving the device screen has timed out.</div></div><div class=\"well\"><button ng-click=\"retryLoadingScreen()\" style=\"text-align: center;\" class=\"btn btn-primary btn-block\"><i class=\"fa fa-refresh\"></i><span translate=\"translate\">Retry</span></button></div></div></div><input type=\"password\" tabindex=\"40\" accesskey=\"C\" autocorrect=\"off\" autocapitalize=\"off\" focus-element=\"$root.screenFocus\"/>"

/***/ }),
/* 244 */
/***/ ((module) => {

module.exports = function DeviceScreenCtrl(
  $scope
, $rootScope
, ScalingService
, InstallService
) {
  $scope.displayError = false
  $scope.ScalingService = ScalingService

  $scope.installFile = function($files) {
    return InstallService.installFile($scope.control, $files)
  }
}


/***/ }),
/* 245 */
/***/ ((module) => {

module.exports = ""

/***/ }),
/* 246 */
/***/ ((module) => {

module.exports = function StandaloneCtrl() {

}


/***/ }),
/* 247 */
/***/ ((module) => {

module.exports =
  function StandaloneServiceFactory($window, $rootScope, SettingsService,
    ScalingService, GroupService, $timeout) {
    var service = {}

    //SettingsService.sync($scope, 'ControlWindow', {
    //  controlWindowWidth: 600,
    //  controlWindowHeight: 900,
    //  controlWindowTop: 50,
    //  controlWindowLeft: 50
    //})

    var screenWidth = $window.screen.availWidth || $window.screen.width || 1024
    var screenHeight = $window.screen.availHeight || $window.screen.height ||
      768
    var windowSizeRatio = 0.5

    function fitDeviceInGuestScreen(device) {
      //console.log('device.width', device.width)
      //console.log('device', device)

      var screen = {
        scaler: ScalingService.coordinator(
          device.display.width, device.display.height
        ),
        rotation: device.display.rotation,
        bounds: {
          x: 0, y: 0, w: screenWidth, h: screenHeight
        }
      }

      var projectedSize = screen.scaler.projectedSize(
        screen.bounds.w * windowSizeRatio,
        screen.bounds.h * windowSizeRatio,
        screen.rotation
      )

      return projectedSize
    }


    service.open = function(device) {
      var url = '#!/c/' + (device.serial ? device.serial : '') + '?standalone'

      var projected = fitDeviceInGuestScreen(device)

      var features = [
        'width=' + projected.width,
        'height=' + projected.height,
        'top=' + (screenHeight / 4),
        'left=' + (screenWidth / 5),
        'toolbar=no',
        'location=no',
        'dialog=yes',
        'personalbar=no',
        'directories=no',
        'status=no',
        'menubar=no',
        'scrollbars=no',
        'copyhistory=no',
        'resizable=yes'
      ].join(',')

      var newWindow = $window.open(url, 'STF-' + device.serial, features)

      function setWindowTitle(newWindow, device) {
        var windowTitle = 'STF - ' + device.name
        if (device.name !== device.model) {
          windowTitle += ' (' + device.model + ')'
        }
        //windowTitle += ' (' + device.serial + ')'

        if (newWindow.document) {
          newWindow.document.title = windowTitle
        }

        $timeout(function() {
          if (newWindow.document) {
            newWindow.document.title = windowTitle
          }
        }, 400)
      }

      setWindowTitle(newWindow, device)


      newWindow.onbeforeunload = function() {

        // TODO: check for usage
        GroupService.kick(device).then(function() {
          $rootScope.$digest()
        })

        // TODO: save coordinates
        //  $scope.controlWindowWidth = windowOpen.innerWidth
        //  $scope.controlWindowHeight = windowOpen.innerHeight
        //  $scope.controlWindowTop = windowOpen.screenTop
        //  $scope.controlWindowLeft = windowOpen.screenLeft
      }

      // TODO: Resize on-demand
      //newWindow.onresize = function (e) {
      //  var windowWidth =  e.target.outerWidth
      //  var windowHeight =  e.target.outerHeight
      //
      //  var newWindowWidth = Math.floor(projected.width * windowHeight / projected.height)
      //  console.log('newWindowWidth', newWindowWidth)
      //  console.log('windowWidth', windowWidth)
      //
      //  newWindow.resizeTo(newWindowWidth, windowHeight)
      //}
    }


    return service
  }


/***/ }),
/* 248 */
/***/ ((module) => {

module.exports = function standaloneDirective($rootScope, $location) {
  return {
    restrict: 'AE',
    link: function() {
      //$rootScope.standalone = $window.history.length < 2
      var standalone = $location.search().standalone
      $rootScope.standalone = standalone
    }
  }
}


/***/ }),
/* 249 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var patchArray = __webpack_require__(223)

module.exports = function DeviceListIconsDirective(
  $filter
, gettext
, DeviceColumnService
, GroupService
, StandaloneService
, LogcatService
, $rootScope
) {
  function DeviceItem() {
    return {
      build: function() {
        var li = document.createElement('li')
        li.className = 'cursor-select pointer thumbnail'

        // the whole li is a link
        var a = document.createElement('a')
        li.appendChild(a)

        // .device-photo-small
        var photo = document.createElement('div')
        photo.className = 'device-photo-small'
        var img = document.createElement('img')
        photo.appendChild(img)
        a.appendChild(photo)

        // .device-name
        var name = document.createElement('div')
        name.className = 'device-name'
        name.appendChild(document.createTextNode(''))
        a.appendChild(name)

        // button
        var button = document.createElement('button')
        button.appendChild(document.createTextNode(''))
        a.appendChild(button)

        return li
      }
    , update: function(li, device) {
        var a = li.firstChild
        var img = a.firstChild.firstChild
        var name = a.firstChild.nextSibling
        var nt = name.firstChild
        var button = name.nextSibling
        var at = button.firstChild
        var classes = 'btn btn-xs device-status '

        // .device-photo-small
        if (img.getAttribute('src') !== device.enhancedImage120) {
          img.setAttribute('src', device.enhancedImage120)
        }

        // .device-name
        nt.nodeValue = device.enhancedName

        // button
        at.nodeValue = $filter('translate')(device.enhancedStateAction)

        function getStateClasses(state) {
          var stateClasses = {
            using: 'state-using btn-primary',
            busy: 'state-busy btn-warning',
            available: 'state-available btn-primary-outline',
            ready: 'state-ready btn-primary-outline',
            present: 'state-present btn-primary-outline',
            preparing: 'state-preparing btn-primary-outline btn-success-outline',
            unauthorized: 'state-unauthorized btn-danger-outline',
            offline: 'state-offline btn-warning-outline',
            automation: 'state-automation btn-info'
          }[state]
          if (typeof stateClasses === 'undefined') {
            stateClasses = 'btn-default-outline'
          }
          return stateClasses
        }

        button.className = classes + getStateClasses(device.state)

        if (device.state === 'available') {
          name.classList.add('state-available')
        } else {
          name.classList.remove('state-available')
        }

        if (device.usable && !device.using) {
          a.href = '#!/control/' + device.serial
          li.classList.remove('device-is-busy')
        }
        else if (device.using && device.usable) {
          a.href = '#!/control/' + device.serial
        }
        else {
          a.removeAttribute('href')
          li.classList.add('device-is-busy')
        }
        return li
      }
    }
  }

  return {
    restrict: 'E'
  , template: __webpack_require__(250)
  , scope: {
      tracker: '&tracker'
    , columns: '&columns'
    , sort: '=sort'
    , filter: '&filter'
    }
  , link: function(scope, element) {
      var tracker = scope.tracker()
      var activeColumns = []
      var activeSorting = []
      var activeFilters = []
      var list = element.find('ul')[0]
      var items = list.childNodes
      var prefix = 'd' + Math.floor(Math.random() * 1000000) + '-'
      var mapping = Object.create(null)
      var builder = DeviceItem()


      function kickDevice(device, force) {
        if (Object.keys(LogcatService.deviceEntries).includes(device.serial)) {
          LogcatService.deviceEntries[device.serial].allowClean = true
        }
        LogcatService.allowClean = true
        $rootScope.LogcatService = LogcatService
        return GroupService.kick(device, force).catch(function(e) {
          alert($filter('translate')(gettext('Device cannot get kicked from the group')))
          throw new Error(e)
        })
      }

      function inviteDevice(device) {
        return GroupService.invite(device).then(function() {
          scope.$digest()
        })
      }

      element.on('click', function(e) {

        var id

        if (e.target.classList.contains('thumbnail')) {
          id = e.target.id
        } else if (e.target.classList.contains('device-status') ||
          e.target.classList.contains('device-photo-small') ||
          e.target.classList.contains('device-name')) {
          id = e.target.parentNode.parentNode.id
        } else if (e.target.parentNode.classList.contains('device-photo-small')) {
          id = e.target.parentNode.parentNode.parentNode.id
        }

        if (id) {
          var device = mapping[id]

          if (e.altKey && device.state === 'available') {
            inviteDevice(device)
            e.preventDefault()
          }

          if (e.shiftKey && device.state === 'available') {
            StandaloneService.open(device)
            e.preventDefault()
          }

          if (device.using) {
            if (e.target.classList.contains('btn') && e.target.classList.contains('state-using')) {
              kickDevice(device)
              e.preventDefault()
            }
          }
        }
      })

      // Import column definitions
      scope.columnDefinitions = DeviceColumnService

      // Sorting
      scope.sortBy = function(column, multiple) {
        function findInSorting(sorting) {
          for (var i = 0, l = sorting.length; i < l; ++i) {
            if (sorting[i].name === column.name) {
              return sorting[i]
            }
          }
          return null
        }

        var swap = {
          asc: 'desc'
        , desc: 'asc'
        }

        var fixedMatch = findInSorting(scope.sort.fixed)
        if (fixedMatch) {
          fixedMatch.order = swap[fixedMatch.order]
          return
        }

        var userMatch = findInSorting(scope.sort.user)
        if (userMatch) {
          userMatch.order = swap[userMatch.order]
          if (!multiple) {
            scope.sort.user = [userMatch]
          }
        }
        else {
          if (!multiple) {
            scope.sort.user = []
          }
          scope.sort.user.push({
            name: column.name
          , order: scope.columnDefinitions[column.name].defaultOrder || 'asc'
          })
        }
      }

      // Watch for sorting changes
      scope.$watch(
        function() {
          return scope.sort
        }
      , function(newValue) {
          activeSorting = newValue.fixed.concat(newValue.user)
          scope.sortedColumns = Object.create(null)
          activeSorting.forEach(function(sort) {
            scope.sortedColumns[sort.name] = sort
          })
          sortAll()
        }
      , true
      )

      // Watch for column updates
      scope.$watch(
        function() {
          return scope.columns()
        }
      , function(newValue) {
          updateColumns(newValue)
        }
      , true
      )

      // Update now so that we don't have to wait for the scope watcher to
      // trigger.
      updateColumns(scope.columns())

      // Updates visible columns. This method doesn't necessarily have to be
      // the fastest because it shouldn't get called all the time.
      function updateColumns(columnSettings) {
        var newActiveColumns = []

        // Check what we're supposed to show now
        columnSettings.forEach(function(column) {
          if (column.selected) {
            newActiveColumns.push(column.name)
          }
        })

        // Figure out the patch
        var patch = patchArray(activeColumns, newActiveColumns)

        // Set up new active columns
        activeColumns = newActiveColumns

        return patchAll(patch)
      }

      // Updates filters on visible items.
      function updateFilters(filters) {
        activeFilters = filters
        return filterAll()
      }

      // Applies filteItem() to all items.
      function filterAll() {
        for (var i = 0, l = items.length; i < l; ++i) {
          filterItem(items[i], mapping[items[i].id])
        }
      }

      // Filters an item, perhaps removing it from view.
      function filterItem(item, device) {
        if (match(device)) {
          item.classList.remove('filter-out')
        }
        else {
          item.classList.add('filter-out')
        }
      }

      // Checks whether the device matches the currently active filters.
      function match(device) {
        for (var i = 0, l = activeFilters.length; i < l; ++i) {
          var filter = activeFilters[i]
          var column
          if (filter.field) {
            column = scope.columnDefinitions[filter.field]
            if (column && !column.filter(device, filter)) {
              return false
            }
          }
          else {
            var found = false
            for (var j = 0, k = activeColumns.length; j < k; ++j) {
              column = scope.columnDefinitions[activeColumns[j]]
              if (column && column.filter(device, filter)) {
                found = true
                break
              }
            }
            if (!found) {
              return false
            }
          }
        }
        return true
      }

      // Update now so we're up to date.
      updateFilters(scope.filter())

      // Watch for filter updates.
      scope.$watch(
        function() {
          return scope.filter()
        }
      , function(newValue) {
          updateFilters(newValue)
        }
      , true
      )

      // Calculates a DOM ID for the device. Should be consistent for the
      // same device within the same table, but unique among other tables.
      function calculateId(device) {
        return prefix + device.serial
      }

      // Compares two devices using the currently active sorting. Returns <0
      // if deviceA is smaller, >0 if deviceA is bigger, or 0 if equal.
      var compare = (function() {
        var mapping = {
          asc: 1
        , desc: -1
        }
        return function(deviceA, deviceB) {
          var diff

          // Find the first difference
          for (var i = 0, l = activeSorting.length; i < l; ++i) {
            var sort = activeSorting[i]
            diff = scope.columnDefinitions[sort.name].compare(deviceA, deviceB)
            if (diff !== 0) {
              diff *= mapping[sort.order]
              break
            }
          }

          return diff
        }
      })()

      // Creates a completely new item for the device. Means that this is
      // the first time we see the device.
      function createItem(device) {
        var id = calculateId(device)
        var item = builder.build()

        item.id = id
        builder.update(item, device)
        mapping[id] = device

        return item
      }

      // Patches all items.
      function patchAll(patch) {
        for (var i = 0, l = items.length; i < l; ++i) {
          patchItem(items[i], mapping[items[i].id], patch)
        }
      }

      // Patches the given item by running the given patch operations in
      // order. The operations must take into account index changes caused
      // by previous operations.
      function patchItem(/*item, device, patch*/) {
        // Currently no-op
      }

      // Updates all the columns in the item. Note that the item must be in
      // the right format already (built with createItem() and patched with
      // patchItem() if necessary).
      function updateItem(item, device) {
        var id = calculateId(device)

        item.id = id
        builder.update(item, device)

        return item
      }

      // Inserts an item into the table into its correct position according to
      // current sorting.
      function insertItem(item, deviceA) {
        return insertItemToSegment(item, deviceA, 0, items.length - 1)
      }

      // Inserts an item into a segment of the table into its correct position
      // according to current sorting. The value of `hi` is the index
      // of the last item in the segment, or -1 if none. The value of `lo`
      // is the index of the first item in the segment, or 0 if none.
      function insertItemToSegment(item, deviceA, low, high) {
        var total = items.length
        var lo = low
        var hi = high

        if (lo > hi) {
          // This means that `lo` refers to the first item of the next
          // segment (which may or may not exist), and we should put the
          // row before it.
          list.insertBefore(item, lo < total ? items[lo] : null)
        }
        else {
          var after = true
          var pivot = 0
          var deviceB

          while (lo <= hi) {
            pivot = ~~((lo + hi) / 2)
            deviceB = mapping[items[pivot].id]

            var diff = compare(deviceA, deviceB)

            if (diff === 0) {
              after = true
              break
            }

            if (diff < 0) {
              hi = pivot - 1
              after = false
            }
            else {
              lo = pivot + 1
              after = true
            }
          }

          if (after) {
            list.insertBefore(item, items[pivot].nextSibling)
          }
          else {
            list.insertBefore(item, items[pivot])
          }
        }
      }

      // Compares an item to its siblings to see if it's still in the correct
      // position. Returns <0 if the device should actually go somewhere
      // before the previous item, >0 if it should go somewhere after the next
      // item, or 0 if the position is already correct.
      function compareItem(item, device) {
        var prev = item.previousSibling
        var next = item.nextSibling
        var diff

        if (prev) {
          diff = compare(device, mapping[prev.id])
          if (diff < 0) {
            return diff
          }
        }

        if (next) {
          diff = compare(device, mapping[next.id])
          if (diff > 0) {
            return diff
          }
        }

        return 0
      }

      // Sort all items.
      function sortAll() {
        // This could be improved by getting rid of the array copying. The
        // copy is made because items can't be sorted directly.
        var sorted = [].slice.call(items).sort(function(itemA, itemB) {
          return compare(mapping[itemA.id], mapping[itemB.id])
        })

        // Now, if we just append all the elements, they will be in the
        // correct order in the table.
        for (var i = 0, l = sorted.length; i < l; ++i) {
          list.appendChild(sorted[i])
        }
      }

      // Triggers when the tracker sees a device for the first time.
      function addListener(device) {
        var item = createItem(device)
        filterItem(item, device)
        insertItem(item, device)
      }

      // Triggers when the tracker notices that a device changed.
      function changeListener(device) {
        var id = calculateId(device)
        var item = list.children[id]

        if (item) {
          // First, update columns
          updateItem(item, device)

          // Maybe the item is not sorted correctly anymore?
          var diff = compareItem(item, device)
          if (diff !== 0) {
            // Because the item is no longer sorted correctly, we must
            // remove it so that it doesn't confuse the binary search.
            // Then we will simply add it back.
            list.removeChild(item)
            insertItem(item, device)
          }
        }
      }

      // Triggers when a device is removed entirely from the tracker.
      function removeListener(device) {
        var id = calculateId(device)
        var item = list.children[id]

        if (item) {
          list.removeChild(item)
        }

        delete mapping[id]
      }

      tracker.on('add', addListener)
      tracker.on('change', changeListener)
      tracker.on('remove', removeListener)

      // Maybe we're already late
      tracker.devices.forEach(addListener)

      scope.$on('$destroy', function() {
        tracker.removeListener('add', addListener)
        tracker.removeListener('change', changeListener)
        tracker.removeListener('remove', removeListener)
      })
    }
  }
}


/***/ }),
/* 250 */
/***/ ((module) => {

module.exports = "<ul class=\"devices-icon-view\"></ul><device-list-empty tracker=\"tracker()\"></device-list-empty><div class=\"clear-fix\"></div><div class=\"line\"></div>"

/***/ }),
/* 251 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

__webpack_require__(252)

module.exports = angular.module('stf.device-list.stats', [
  (__webpack_require__(195).name)
])
  .directive('deviceListStats', __webpack_require__(254))


/***/ }),
/* 252 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14);
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(15);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(17);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(18);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(19);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_device_list_stats_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(253);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_device_list_stats_css__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_cjs_js_device_list_stats_css__WEBPACK_IMPORTED_MODULE_6__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_css_loader_dist_cjs_js_device_list_stats_css__WEBPACK_IMPORTED_MODULE_6__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_css_loader_dist_cjs_js_device_list_stats_css__WEBPACK_IMPORTED_MODULE_6__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()((_node_modules_css_loader_dist_cjs_js_device_list_stats_css__WEBPACK_IMPORTED_MODULE_6___default()), options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((_node_modules_css_loader_dist_cjs_js_device_list_stats_css__WEBPACK_IMPORTED_MODULE_6___default()) && (_node_modules_css_loader_dist_cjs_js_device_list_stats_css__WEBPACK_IMPORTED_MODULE_6___default().locals) ? (_node_modules_css_loader_dist_cjs_js_device_list_stats_css__WEBPACK_IMPORTED_MODULE_6___default().locals) : undefined);


/***/ }),
/* 253 */
/***/ ((module, exports, __webpack_require__) => {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(21);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.id, ".device-stats {\n  min-height: 100px;\n  height: 100px;\n  text-align: center;\n}\n\n.device-stats [class^=\"col-\"],\n.device-stats [class*=\"col-\"] {\n  height: 100%;\n  margin-bottom: 0;\n}\n\n.device-stats [class^=\"col-\"]:last-child,\n.device-stats [class*=\"col-\"]:last-child {\n  border: 0;\n}\n\n.device-stats [class^=\"col-\"] .number,\n.device-stats [class*=\"col-\"] .number {\n  font-size: 3.4em;\n  font-weight: 100;\n  line-height: 1.5em;\n  letter-spacing: -0.06em;\n}\n\n.device-stats [class^=\"col-\"] .number .icon,\n.device-stats [class*=\"col-\"] .number .icon {\n  width: 50px;\n  height: 38px;\n  display: inline-block;\n  vertical-align: top;\n  margin: 20px 12px 0 0;\n}\n\n.device-stats [class^=\"col-\"] .text,\n.device-stats [class*=\"col-\"] .text {\n  font-weight: 300;\n  color: #aeaeae;\n  text-transform: uppercase;\n  font-size: 12px;\n}\n\n.device-stats .fa {\n  font-size: 0.8em;\n}\n\n\n@media (max-width: 600px) {\n  .device-stats {\n    min-height: 60px;\n    height: 60px;\n    text-align: center;\n  }\n\n  .device-stats .fa {\n    font-size: 0.6em;\n  }\n\n  .device-stats [class^=\"col-\"] .number,\n  .device-stats [class*=\"col-\"] .number {\n    font-size: 1.8em;\n    line-height: normal;\n    font-weight: 300;\n  }\n\n  .device-stats [class^=\"col-\"] .number .icon,\n  .device-stats [class*=\"col-\"] .number .icon {\n    width: 25px;\n    height: 19px;\n    margin: 10px 6px 0 0;\n  }\n\n  .device-stats [class^=\"col-\"] .text,\n  .device-stats [class*=\"col-\"] .text {\n    font-size: 0.8em;\n    font-weight: 500;\n  }\n}\n", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 254 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/**
* Copyright © 2019 contains code contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0
**/

module.exports = function DeviceListStatsDirective(
  UserService
) {
  return {
    restrict: 'E'
  , template: __webpack_require__(255)
  , scope: {
      tracker: '&tracker'
    }
  , link: function(scope, element) {
      var tracker = scope.tracker()
      var mapping = Object.create(null)
      var nodes = Object.create(null)

      scope.counter = {
        total: 0
      , usable: 0
      , busy: 0
      , using: 0
      }

      scope.currentUser = UserService.currentUser

      function findTextNodes() {
        var elements = element[0].getElementsByClassName('counter')
        for (var i = 0, l = elements.length; i < l; ++i) {
          nodes[elements[i].getAttribute('data-type')] = elements[i].firstChild
        }
      }

      function notify() {
        nodes.total.nodeValue = scope.counter.total
        nodes.usable.nodeValue = scope.counter.usable
        nodes.busy.nodeValue = scope.counter.busy
        nodes.using.nodeValue = scope.counter.using
      }

      function updateStats(device) {
        return (mapping[device.serial] = {
          usable: device.usable ? 1 : 0
        , busy: device.owner ? 1 : 0
        , using: device.using ? 1 : 0
        })
      }

      function addListener(device) {
        var stats = updateStats(device)

        scope.counter.total += 1
        scope.counter.usable += stats.usable
        scope.counter.busy += stats.busy
        scope.counter.using += stats.using

        notify()
      }

      function changeListener(device) {
        var oldStats = mapping[device.serial]
        var newStats = updateStats(device)
        var diffs = Object.create(null)

        scope.counter.usable += diffs.usable = newStats.usable - oldStats.usable
        scope.counter.busy += diffs.busy = newStats.busy - oldStats.busy
        scope.counter.using += diffs.using = newStats.using - oldStats.using

        if (diffs.usable || diffs.busy || diffs.using) {
          notify()
        }
      }

      function removeListener(device) {
        var oldStats = mapping[device.serial]
        var newStats = updateStats(device)

        scope.counter.total -= 1
        scope.counter.usable -= newStats.usable
        scope.counter.busy -= newStats.busy
        scope.counter.using -= newStats.using
        //scope.counter.busy += newStats.busy - oldStats.busy
        //scope.counter.using += newStats.using - oldStats.using

        delete mapping[device.serial]

        notify()
      }

      findTextNodes()

      tracker.on('add', addListener)
      tracker.on('change', changeListener)
      tracker.on('remove', removeListener)

      scope.$on('$destroy', function() {
        tracker.removeListener('add', addListener)
        tracker.removeListener('change', changeListener)
        tracker.removeListener('remove', removeListener)
      })
    }
  }
}


/***/ }),
/* 255 */
/***/ ((module) => {

module.exports = "<div class=\"widget-container device-stats\"><div class=\"col-xs-3\"><div class=\"number color-blue\"><div class=\"icon fa fa-globe visitors\"></div><span data-type=\"total\" class=\"counter\">0</span></div><div translate=\"translate\" class=\"text\">Total Devices</div></div><div class=\"col-xs-3\"><div class=\"number color-green\"><div class=\"icon fa fa-check visitors\"></div><span data-type=\"usable\" class=\"counter\">0</span></div><div translate=\"translate\" class=\"text\">Usable Devices</div></div><div class=\"col-xs-3\"><div class=\"number color-pink\"><div class=\"icon fa fa-users visitors\"></div><span data-type=\"busy\" class=\"counter\">0</span></div><div translate=\"translate\" class=\"text\">Busy Devices</div></div><div class=\"col-xs-3\"><div class=\"number color-orange\"><div ng-class=\"{&quot;fa-trophy&quot;: $root.adminMode, &quot;fa-user&quot;: !$root.adminMode}\" class=\"icon fa fa-user visitors\"></div><span data-type=\"using\" class=\"counter\">0</span></div><div ng-bind=\"currentUser.name\" class=\"text\"></div></div></div>"

/***/ }),
/* 256 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

__webpack_require__(257)

module.exports = angular.module('stf.device-list.customize', [
])


/***/ }),
/* 257 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14);
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(15);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(17);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(18);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(19);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_device_list_customize_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(258);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_device_list_customize_css__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_cjs_js_device_list_customize_css__WEBPACK_IMPORTED_MODULE_6__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_css_loader_dist_cjs_js_device_list_customize_css__WEBPACK_IMPORTED_MODULE_6__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_css_loader_dist_cjs_js_device_list_customize_css__WEBPACK_IMPORTED_MODULE_6__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()((_node_modules_css_loader_dist_cjs_js_device_list_customize_css__WEBPACK_IMPORTED_MODULE_6___default()), options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((_node_modules_css_loader_dist_cjs_js_device_list_customize_css__WEBPACK_IMPORTED_MODULE_6___default()) && (_node_modules_css_loader_dist_cjs_js_device_list_customize_css__WEBPACK_IMPORTED_MODULE_6___default().locals) ? (_node_modules_css_loader_dist_cjs_js_device_list_customize_css__WEBPACK_IMPORTED_MODULE_6___default().locals) : undefined);


/***/ }),
/* 258 */
/***/ ((module, exports, __webpack_require__) => {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(21);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.id, ".stf-device-list .stf-device-details-customize {\n  white-space: nowrap;\n  padding: 10px;\n  padding-bottom: 0;\n  column-count: 2;\n  -moz-column-count: 2;\n  -webkit-column-count: 2;\n  max-width: 800px;\n}\n\n.stf-device-list .stf-device-details-customize .radio,\n.stf-device-list .stf-device-details-customize .checkbox {\n  margin: 0;\n  margin-bottom: 10px;\n}\n", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 259 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

__webpack_require__(260)

module.exports = angular.module('stf.device-list.search', [
])


/***/ }),
/* 260 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14);
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(15);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(17);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(18);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(19);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_device_list_search_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(261);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_device_list_search_css__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_cjs_js_device_list_search_css__WEBPACK_IMPORTED_MODULE_6__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_css_loader_dist_cjs_js_device_list_search_css__WEBPACK_IMPORTED_MODULE_6__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_css_loader_dist_cjs_js_device_list_search_css__WEBPACK_IMPORTED_MODULE_6__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()((_node_modules_css_loader_dist_cjs_js_device_list_search_css__WEBPACK_IMPORTED_MODULE_6___default()), options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((_node_modules_css_loader_dist_cjs_js_device_list_search_css__WEBPACK_IMPORTED_MODULE_6___default()) && (_node_modules_css_loader_dist_cjs_js_device_list_search_css__WEBPACK_IMPORTED_MODULE_6___default().locals) ? (_node_modules_css_loader_dist_cjs_js_device_list_search_css__WEBPACK_IMPORTED_MODULE_6___default().locals) : undefined);


/***/ }),
/* 261 */
/***/ ((module, exports, __webpack_require__) => {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(21);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.id, ".stf-device-list .device-search {\n  width: 20em;\n  -webkit-transition: none;\n  transition: none;\n}\n\n.stf-device-list .filter-out {\n  display: none;\n}\n", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 262 */
/***/ ((module) => {

module.exports = "<div class=\"stf-device-list\"><div class=\"row stf-stats-container unselectable\"><div class=\"col-md-12\"><device-list-stats tracker=\"tracker\"></device-list-stats></div></div><div class=\"row unselectable\"><div class=\"col-md-12\"><div class=\"widget-container fluid-height stf-device-list-tabs\"><div class=\"widget-content padded\"><div class=\"filtering-buttons\"><datalist id=\"searchFields\"><select name=\"searchFields\"><option ng-repeat=\"column in columns\" ng-value=\"column.name + &quot;: &quot;\" ng-bind=\"columnDefinitions[column.name].title | translate\"></option></select></datalist><input type=\"search\" autosave=\"deviceFilter\" name=\"deviceFilter\" ng-model=\"search.deviceFilter\" ng-change=\"applyFilter(search.deviceFilter)\" ng-model-options=\"{debounce: 150}\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" list=\"searchFields\" multiple=\"multiple\" focus-element=\"search.focusElement\" text-focus-select=\"text-focus-select\" accesskey=\"4\" class=\"form-control input-sm device-search pull-right\"/><span ng-if=\"activeTabs.details &amp;&amp; !$root.basicMode\" class=\"pull-right\"><div uib-dropdown=\"uib-dropdown\" class=\"btn-group pull-right\"><button type=\"button\" uib-dropdown-toggle=\"uib-dropdown-toggle\" class=\"btn btn-sm btn-primary-outline\"><i class=\"fa fa-columns\"></i><span ng-bind=\"&quot;Customize&quot;|translate\"></span></button><ul role=\"menu\" class=\"uib-dropdown-menu pointer stf-device-details-customize\"><li ng-repeat=\"column in columns track by column.name\" ng-hide=\"!adminMode &amp;&amp; columnDefinitions[column.name].admin\" ng-click=\"$event.stopPropagation()\"><label class=\"checkbox pointer\"><input type=\"checkbox\" ng-model=\"column.selected\"/><span ng-bind=\"columnDefinitions[column.name].title | translate\"></span></label></li><li><button ng-click=\"reset()\" class=\"btn btn-xs btn-danger-outline\"><i class=\"fa fa-trash-o\"></i><span ng-bind=\"&quot;Reset&quot;|translate\"></span></button></li></ul></div></span></div><uib-tabset ng-if=\"activeTabs\" class=\"overflow-auto device-list-active-tabs\"><uib-tab active=\"activeTabs.icons\" select=\"focusSearch()\"><uib-tab-heading><i class=\"fa fa-th-large\"></i><span translate=\"translate\">Devices</span></uib-tab-heading><div ng-if=\"activeTabs.icons\" class=\"device-list-devices-content selectable\"><device-list-icons tracker=\"tracker\" columns=\"columns\" sort=\"sort\" filter=\"filter\"></device-list-icons></div></uib-tab><uib-tab active=\"activeTabs.details\" select=\"focusSearch()\" ng-if=\"!$root.basicMode\"><uib-tab-heading><i class=\"fa fa-list\"></i><span translate=\"translate\">Details</span></uib-tab-heading><div ng-if=\"activeTabs.details\" class=\"device-list-details-content selectable\"><device-list-details tracker=\"tracker\" columns=\"columns\" sort=\"sort\" filter=\"filter\" class=\"selectable\"></device-list-details></div></uib-tab></uib-tabset></div></div></div></div></div>"

/***/ }),
/* 263 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/**
* Copyright © 2019 contains code contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0
**/

var QueryParser = __webpack_require__(264)

module.exports = function DeviceListCtrl(
  $scope
, DeviceService
, DeviceColumnService
, GroupService
, ControlService
, SettingsService
, $location
) {
  $scope.tracker = DeviceService.trackAll($scope)
  $scope.control = ControlService.create($scope.tracker.devices, '*ALL')

  $scope.columnDefinitions = DeviceColumnService

  var defaultColumns = [
    {
      name: 'state'
    , selected: true
    }
  , {
      name: 'model'
    , selected: true
    }
  , {
      name: 'name'
    , selected: true
    }
  , {
      name: 'serial'
    , selected: false
    }
  , {
      name: 'operator'
    , selected: true
    }
  , {
      name: 'releasedAt'
    , selected: true
    }
  , {
      name: 'version'
    , selected: true
    }
  , {
      name: 'network'
    , selected: false
    }
  , {
      name: 'display'
    , selected: false
    }
  , {
      name: 'manufacturer'
    , selected: false
    }
  , {
      name: 'marketName'
    , selected: false
    }
  , {
      name: 'sdk'
    , selected: false
    }
  , {
      name: 'abi'
    , selected: false
    }
  , {
      name: 'cpuPlatform'
    , selected: false
    }
  , {
      name: 'openGLESVersion'
    , selected: false
    }
  , {
      name: 'browser'
    , selected: false
    }
  , {
      name: 'phone'
    , selected: false
    }
  , {
      name: 'imei'
    , selected: false
    }
  , {
      name: 'imsi'
    , selected: false
    }
  , {
      name: 'iccid'
    , selected: false
    }
  , {
      name: 'batteryHealth'
    , selected: false
    }
  , {
      name: 'batterySource'
    , selected: false
    }
  , {
      name: 'batteryStatus'
    , selected: false
    }
  , {
      name: 'batteryLevel'
    , selected: false
    }
  , {
      name: 'batteryTemp'
    , selected: false
    }
  , {
      name: 'provider'
    , selected: true
    }
  , {
      name: 'notes'
    , selected: true
    }
  , {
      name: 'owner'
    , selected: true
    }
  , {
      name: 'group'
    , selected: false
    }
  , {
      name: 'groupSchedule'
    , selected: false
    }
  , {
      name: 'groupStartTime'
    , selected: false
    }
  , {
      name: 'groupEndTime'
    , selected: false
    }
  , {
      name: 'groupRepetitions'
    , selected: false
    }
  , {
      name: 'groupOwner'
    , selected: false
    }
  , {
      name: 'groupOrigin'
    , selected: false
    }
  ]

  $scope.columns = defaultColumns

  SettingsService.bind($scope, {
    target: 'columns'
  , source: 'deviceListColumns'
  })

  var defaultSort = {
    fixed: [
      {
        name: 'state'
        , order: 'asc'
      }
    ]
    , user: [
      {
        name: 'name'
        , order: 'asc'
      }
    ]
  }

  $scope.sort = defaultSort

  SettingsService.bind($scope, {
    target: 'sort'
  , source: 'deviceListSort'
  })

  $scope.filter = []

  $scope.activeTabs = {
    icons: true
  , details: false
  }

  SettingsService.bind($scope, {
    target: 'activeTabs'
  , source: 'deviceListActiveTabs'
  })

  $scope.toggle = function(device) {
    if (device.using) {
      $scope.kick(device)
    } else {
      $location.path('/control/' + device.serial)
    }
  }

  $scope.invite = function(device) {
    return GroupService.invite(device).then(function() {
      $scope.$digest()
    })
  }

  $scope.applyFilter = function(query) {
    $scope.filter = QueryParser.parse(query)
  }

  $scope.search = {
    deviceFilter: '',
    focusElement: false
  }

  $scope.focusSearch = function() {
    if (!$scope.basicMode) {
      $scope.search.focusElement = true
    }
  }

  $scope.reset = function() {
    $scope.search.deviceFilter = ''
    $scope.filter = []
    $scope.sort = defaultSort
    $scope.columns = defaultColumns
  }
}


/***/ }),
/* 264 */
/***/ ((module) => {

var State = {
  TERM_START: 10
, QUERY_START: 20
, OP_LT: 30
, OP_GT: 40
, QUERY_VALUE_START: 50
, QUERY_VALUE: 60
, QUERY_VALUE_DOUBLEQUOTED: 70
}

function Term() {
  this.field = null
  this.op = null
  this.query = ''
}

Term.prototype.append = function(input) {
  this.query += input
}

Term.prototype.reset = function() {
  this.query = ''
}

function QueryParser() {
  this.terms = []
  this.currentTerm = new Term()
  this.state = State.TERM_START
}

QueryParser.parse = function(input) {
  var parser = new QueryParser()
  return parser.parse(input)
}

QueryParser.prototype.parse = function(input) {
  var chars = input.split('')
  for (var i = 0, l = chars.length; i < l; ++i) {
    this.consume(chars[i])
  }
  return this.terms
}

QueryParser.prototype.consume = function(input) {
  switch (this.state) {
  case State.TERM_START:
    if (this.isWhitespace(input)) {
      // Preceding whitespace, ignore.
      return
    }
    this.terms.push(this.currentTerm)
    this.state = State.QUERY_START
    return this.consume(input)
  case State.QUERY_START:
    if (this.isWhitespace(input)) {
      // Preceding whitespace, ignore.
      return
    }
    if (input === '<') {
      this.state = State.OP_LT
      return
    }
    if (input === '>') {
      this.state = State.OP_GT
      return
    }
    this.state = State.QUERY_VALUE_START
    return this.consume(input)
  case State.OP_LT:
    if (input === '=') {
      this.currentTerm.op = '<='
      this.state = State.QUERY_VALUE_START
      return
    }
    this.currentTerm.op = '<'
    this.state = State.QUERY_VALUE_START
    return this.consume(input)
  case State.OP_GT:
    if (input === '=') {
      this.currentTerm.op = '>='
      this.state = State.QUERY_VALUE_START
      return
    }
    this.currentTerm.op = '>'
    this.state = State.QUERY_VALUE_START
    return this.consume(input)
  case State.QUERY_VALUE_START:
    if (this.isWhitespace(input)) {
      // Preceding whitespace, ignore.
      return
    }
    if (input === '"') {
      this.state = State.QUERY_VALUE_DOUBLEQUOTED
      return
    }
    this.state = State.QUERY_VALUE
    return this.consume(input)
  case State.QUERY_VALUE:
    if (this.isWhitespace(input)) {
      return this.concludeTerm()
    }
    if (input === ':') {
      this.currentTerm.field = this.currentTerm.query
      this.currentTerm.reset()
      this.state = State.QUERY_START
      return
    }
    this.currentTerm.append(input)
    return
  case State.QUERY_VALUE_DOUBLEQUOTED:
    if (input === '\\') {
      return
    }
    if (input === '"') {
      return this.concludeTerm()
    }
    this.currentTerm.append(input)
    return
  }
}

QueryParser.prototype.concludeTerm = function() {
  this.currentTerm = new Term()
  this.state = State.TERM_START
}

QueryParser.prototype.isWhitespace = function(input) {
  return input === ' ' || input === '\t' || input === '\n' || input === ''
}

module.exports = QueryParser


/***/ }),
/* 265 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/**
* Copyright © 2019 code initially contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0
**/

__webpack_require__(266)

module.exports = angular.module('group-list', [
  (__webpack_require__(268).name),
  (__webpack_require__(273).name),
  (__webpack_require__(195).name),
  (__webpack_require__(277).name),
  (__webpack_require__(279).name),
  (__webpack_require__(210).name),
  (__webpack_require__(274).name),
  (__webpack_require__(36).name)
])
  .config(['$routeProvider', function($routeProvider) {
    $routeProvider
      .when('/groups', {
        template: __webpack_require__(281),
        controller: 'GroupListCtrl'
      })
  }])
  .run(['$templateCache', function($templateCache) {
    $templateCache.put(
      'group-list/stats/group-stats.pug', __webpack_require__(282)
    )
    $templateCache.put(
      'group-list/stats/group-quota-stats.pug', __webpack_require__(283)
    )
    $templateCache.put(
      'group-list/groups/groups.pug', __webpack_require__(284)
    )
  }])
  .controller('GroupListCtrl', __webpack_require__(285))


/***/ }),
/* 266 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14);
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(15);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(17);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(18);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(19);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_group_list_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(267);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_group_list_css__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_cjs_js_group_list_css__WEBPACK_IMPORTED_MODULE_6__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_css_loader_dist_cjs_js_group_list_css__WEBPACK_IMPORTED_MODULE_6__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_css_loader_dist_cjs_js_group_list_css__WEBPACK_IMPORTED_MODULE_6__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()((_node_modules_css_loader_dist_cjs_js_group_list_css__WEBPACK_IMPORTED_MODULE_6___default()), options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((_node_modules_css_loader_dist_cjs_js_group_list_css__WEBPACK_IMPORTED_MODULE_6___default()) && (_node_modules_css_loader_dist_cjs_js_group_list_css__WEBPACK_IMPORTED_MODULE_6___default().locals) ? (_node_modules_css_loader_dist_cjs_js_group_list_css__WEBPACK_IMPORTED_MODULE_6___default().locals) : undefined);


/***/ }),
/* 267 */
/***/ ((module, exports, __webpack_require__) => {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(21);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.id, "/**\n* Copyright © 2019 code initially contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0\n**/\n\n.stf-pager-group-devices-search {\n  width: 160px;\n}\n\n.stf-pager-group-list-total-items {\n  margin-top: 5px;\n}\n\n.stf-group-list .selectable {\n  user-select: text;\n}\n\n.stf-group-list .group-list .stf-pager-group-devices-search i.stf-pager-group-devices-search-icon {\n  font-size: 12px;\n  margin-right: 0px;\n}\n\n.stf-group-list .group-list {\n  min-height: 600px;\n}\n\n.stf-group-list .group-list-header {\n  margin: 20px 0px 20px 15px;\n}\n\n.stf-group-list .btn-devices, .btn-users {\n  padding: 0px;\n  margin: 0px;\n}\n\n.stf-group-list .group-devices {\n  width: auto;\n  min-width: 475px;\n  max-width: 600px;\n}\n\n.stf-group-list .group-users {\n  width: auto;\n  min-width: 475px;\n  max-width: 600px;\n}\n\n.stf-group-list .group-icon {\n  font-size: 15px;\n  vertical-align: middle;\n  margin-right: 10px;\n}\n\n.stf-group-list .group-device-icon {\n  font-size: 25px;\n  vertical-align: middle;\n  margin-right: 10px;\n}\n\n.stf-group-list .group-user-icon {\n  font-size: 20px;\n  vertical-align: middle;\n  margin-right: 10px;\n}\n\n.stf-group-list .group-device-details, .group-user-details {\n  display: inline-block;\n  line-height: 2;\n  margin-left: 10px;\n}\n\n.stf-group-list .group-device-name, .group-user-name {\n  color: #007aff;\n  font-size: 14px;\n  font-weight: 300;\n  margin: 2px 0 6px;\n}\n\n.stf-group-list .group-device-id, .group-user-id {\n  font-family: Monaco, Menlo, Consolas, \"Courier New\", monospace;\n  font-size: 10px;\n  margin-bottom: 2px;\n  color: #999999;\n  font-weight: 300;\n}\n\n.stf-group-list td,span {\n  white-space: nowrap;\n}\n\n.stf-group-list .user-line, .device-line {\n  padding: 9px 15px 9px 2px;\n  margin-left: 14px;\n  border-bottom: 1px solid #dddddd;\n}\n\n.stf-group-list .mailto {\n  padding-bottom: 1px;\n  margin-top: 5px;\n}\n\n.stf-group-list i.mailto {\n  vertical-align: initial;\n}\n\n.group-stats {\n  min-height: 100px;\n  height: 100px;\n  text-align: center;\n}\n\n\n.group-stats [class^=\"col-\"],\n.group-stats [class*=\"col-\"] {\n  height: 100%;\n  margin-bottom: 0;\n}\n\n.group-stats [class^=\"col-\"]:last-child,\n.group-stats [class*=\"col-\"]:last-child {\n  border: 0;\n}\n\n.group-stats [class^=\"col-\"] .number,\n.group-stats [class*=\"col-\"] .number {\n  font-size: 3.4em;\n  font-weight: 100;\n  line-height: 1.5em;\n  letter-spacing: -0.06em;\n}\n\n.group-stats [class^=\"col-\"] .number .icon,\n.group-stats [class*=\"col-\"] .number .icon {\n  width: 50px;\n  height: 38px;\n  display: inline-block;\n  vertical-align: top;\n  margin: 20px 12px 0 0;\n}\n\n.group-quota-stats {\n  min-height: 75px;\n  height: 75px;\n  text-align: center;\n}\n\n.group-quota-stats .bar {\n  height: 20px;\n  vertical-align: top;\n  margin: 14px 12px 12px 12px;\n}\n\n.group-quota-stats .text,\n.group-stats [class^=\"col-\"] .text,\n.group-stats [class*=\"col-\"] .text {\n  font-weight: 300;\n  color: #aeaeae;\n  text-transform: uppercase;\n  font-size: 12px;\n}\n\n.group-stats .fa {\n  font-size: 0.8em;\n}\n\n\n@media (max-width: 600px) {\n  .group-stats {\n    min-height: 60px;\n    height: 60px;\n    text-align: center;\n  }\n\n  .group-stats .fa {\n    font-size: 0.6em;\n  }\n\n  .group-stats [class^=\"col-\"] .number,\n  .group-stats [class*=\"col-\"] .number {\n    font-size: 1.8em;\n    line-height: normal;\n    font-weight: 300;\n  }\n\n  .group-stats [class^=\"col-\"] .number .icon,\n  .group-stats [class*=\"col-\"] .number .icon {\n    width: 25px;\n    height: 19px;\n    margin: 10px 6px 0 0;\n  }\n\n  .group-stats [class^=\"col-\"] .text,\n  .group-stats [class*=\"col-\"] .text {\n    font-size: 0.8em;\n    font-weight: 500;\n  }\n}\n", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 268 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/**
* Copyright © 2019 code initially contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0
**/

__webpack_require__(269)

module.exports = angular.module('stf.column-choice', [
  (__webpack_require__(36).name)
])
  .directive('stfColumnChoice', __webpack_require__(271))




/***/ }),
/* 269 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14);
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(15);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(17);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(18);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(19);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_column_choice_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(270);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_column_choice_css__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_cjs_js_column_choice_css__WEBPACK_IMPORTED_MODULE_6__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_css_loader_dist_cjs_js_column_choice_css__WEBPACK_IMPORTED_MODULE_6__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_css_loader_dist_cjs_js_column_choice_css__WEBPACK_IMPORTED_MODULE_6__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()((_node_modules_css_loader_dist_cjs_js_column_choice_css__WEBPACK_IMPORTED_MODULE_6___default()), options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((_node_modules_css_loader_dist_cjs_js_column_choice_css__WEBPACK_IMPORTED_MODULE_6___default()) && (_node_modules_css_loader_dist_cjs_js_column_choice_css__WEBPACK_IMPORTED_MODULE_6___default().locals) ? (_node_modules_css_loader_dist_cjs_js_column_choice_css__WEBPACK_IMPORTED_MODULE_6___default().locals) : undefined);


/***/ }),
/* 270 */
/***/ ((module, exports, __webpack_require__) => {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(21);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.id, "/**\n* Copyright © 2019 code initially contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0\n**/\n\n.stf-column-choice .stf-column-customize {\n  white-space: nowrap;\n  padding: 10px;\n  padding-bottom: 0;\n  column-count: 2;\n  -moz-column-count: 2;\n  -webkit-column-count: 2;\n  max-width: 800px;\n}\n\n.stf-column-choice .stf-column-customize .checkbox {\n  margin-bottom: 10px;\n}\n\n.stf-column-choice .stf-column-customize .checkbox-label {\n  margin-left: 10px;\n}\n\n\n", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 271 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/**
* Copyright © 2019 code initially contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0
**/

module.exports = function() {
  return {
    restrict: 'E',
    scope: {
      buttonStyle: '@?',
      columnData: '=',
      resetData: '&'
    },
    template: __webpack_require__(272),
  }
}


/***/ }),
/* 272 */
/***/ ((module) => {

module.exports = "<!--Copyright © 2019 code initially contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0--><!----><div class=\"stf-column-choice\"><div uib-dropdown=\"uib-dropdown\" auto-close=\"outsideClick\" class=\"btn-group\"><button style=\"margin-top: 5px; {{buttonStyle}}\" type=\"button\" uib-dropdown-toggle=\"uib-dropdown-toggle\" class=\"btn btn-sm btn-primary-outline\"><i class=\"fa fa-columns\"></i><span translate=\"translate\">Customize</span></button><ul uib-dropdown-menu=\"uib-dropdown-menu\" role=\"menu\" ng-click=\"$event.stopPropagation()\" class=\"dropdown-menu pointer stf-column-customize\"><li ng-repeat=\"column in columnData\"><label class=\"checkbox pointer\"><input type=\"checkbox\" ng-model=\"column.selected\"/><span ng-bind-template=\"{{::column.name | translate}}\" class=\"checkbox-label\"></span></label></li><li><button ng-click=\"resetData()\" class=\"btn btn-xs btn-danger-outline checkbox\"><i class=\"fa fa-trash-o\"></i><span ng-bind=\"&quot;Reset&quot;|translate\"></span></button></li></ul></div></div>"

/***/ }),
/* 273 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/**
* Copyright © 2019 code initially contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0
**/

module.exports = angular.module('stf.groups', [
  (__webpack_require__(274).name)
])
.factory('GroupsService', __webpack_require__(276))


/***/ }),
/* 274 */,
/* 275 */,
/* 276 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/**
* Copyright © 2019 code initially contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0
**/

const oboe = __webpack_require__(189)

module.exports = function GroupsServiceFactory(
  $rootScope
, $http
, socket
, CommonService
) {
  const GroupsService = {}

  GroupsService.getGroupUsers = function(id, fields) {
    return $http.get('/api/v1/groups/' + id + '/users?fields=' + fields)
  }

  GroupsService.getOboeGroupUsers = function(id, fields, addGroupUser) {
    return oboe(CommonService.getBaseUrl()
    + '/api/v1/groups/' + id + '/users?fields=' + fields)
      .node('users[*]', function(user) {
        addGroupUser(user)
      })
  }

  GroupsService.getGroupDevices = function(id, bookable, fields) {
    return $http.get('/api/v1/groups/' + id + '/devices?bookable=' + bookable + '&fields=' + fields)
  }

  GroupsService.getOboeGroupDevices = function(id, bookable, fields, addGroupDevice) {
    return oboe(CommonService.getBaseUrl()
    + '/api/v1/groups/' + id + '/devices?bookable=' + bookable + '&fields=' + fields)
      .node('devices[*]', function(device) {
        addGroupDevice(device)
      })
  }

  GroupsService.getGroupDevice = function(id, serial, fields) {
    return $http.get('/api/v1/groups/' + id + '/devices/' + serial + '?fields=' + fields)
  }

  GroupsService.addGroupDevice = function(id, serial) {
    return $http.put('/api/v1/groups/' + id + '/devices/' + serial)
  }

  GroupsService.addGroupDevices = function(id, serials) {
    return $http({
      method: 'PUT',
      url: '/api/v1/groups/' + id + '/devices',
      data: typeof serials === 'undefined' ? serials : JSON.stringify({serials: serials})
    })
  }

  GroupsService.removeGroupDevice = function(id, serial) {
    return $http.delete('/api/v1/groups/' + id + '/devices/' + serial)
  }

  GroupsService.removeGroupDevices = function(id, serials) {
    return $http({
      method: 'DELETE',
      url: '/api/v1/groups/' + id + '/devices',
      headers: {
        'Content-Type': 'application/json;charset=utf-8'
      },
      data: typeof serials === 'undefined' ? serials : JSON.stringify({serials: serials})
    })
  }

  GroupsService.addGroupUser = function(id, email) {
    return $http.put('/api/v1/groups/' + id + '/users/' + email)
  }

  GroupsService.addGroupUsers = function(id, emails) {
    return $http({
      method: 'PUT',
      url: '/api/v1/groups/' + id + '/users',
      data: typeof emails === 'undefined' ? emails : JSON.stringify({emails: emails})
    })
  }

  GroupsService.removeGroupUser = function(id, email) {
    return $http.delete('/api/v1/groups/' + id + '/users/' + email)
  }

  GroupsService.removeGroupUsers = function(id, emails) {
    return $http({
      method: 'DELETE',
      url: '/api/v1/groups/' + id + '/users',
      headers: {
        'Content-Type': 'application/json;charset=utf-8'
      },
      data: typeof emails === 'undefined' ? emails : JSON.stringify({emails: emails})
    })
  }

  GroupsService.getOboeGroups = function(addGroup) {
    return oboe(CommonService.getBaseUrl() + '/api/v1/groups')
      .node('groups[*]', function(group) {
        addGroup(group)
      })
  }

  GroupsService.getGroups = function() {
    return $http.get('/api/v1/groups')
  }

  GroupsService.getOboeMyGroups = function(addGroup) {
    return oboe(CommonService.getBaseUrl() + '/api/v1/groups?owner=true')
      .node('groups[*]', function(group) {
        addGroup(group)
      })
  }

  GroupsService.getMyGroups = function() {
    return $http.get('/api/v1/groups?owner=true')
  }

  GroupsService.getGroup = function(id) {
    return $http.get('/api/v1/groups/' + id)
  }

  GroupsService.removeGroup = function(id) {
    return $http.delete('/api/v1/groups/' + id)
  }

  GroupsService.removeGroups = function(ids) {
    return $http({
      method: 'DELETE',
      url: '/api/v1/groups?_=' + Date.now(),
      headers: {
        'Content-Type': 'application/json;charset=utf-8'
      },
      data: typeof ids === 'undefined' ? ids : JSON.stringify({ids: ids})
    })
  }

  GroupsService.createGroup = function() {
    return $http({
      method: 'POST',
      url: '/api/v1/groups',
      data: JSON.stringify({'state': 'pending'})
    })
  }

  GroupsService.updateGroup = function(id, data) {
    return $http({
      method: 'PUT',
      url: '/api/v1/groups/' + id,
      data: JSON.stringify(data)
    })
  }
  socket.on('user.settings.groups.created', function(group) {
    $rootScope.$broadcast('user.settings.groups.created', group)
    $rootScope.safeApply()
  })

  socket.on('user.settings.groups.deleted', function(group) {
    $rootScope.$broadcast('user.settings.groups.deleted', group)
    $rootScope.safeApply()
  })

  socket.on('user.settings.groups.updated', function(group) {
    $rootScope.$broadcast('user.settings.groups.updated', group)
    $rootScope.safeApply()
  })

  socket.on('user.view.groups.created', function(group) {
    $rootScope.$broadcast('user.view.groups.created', group)
    $rootScope.safeApply()
  })

  socket.on('user.view.groups.deleted', function(group) {
    $rootScope.$broadcast('user.view.groups.deleted', group)
    $rootScope.safeApply()
  })

  socket.on('user.view.groups.updated', function(group) {
    $rootScope.$broadcast('user.view.groups.updated', group)
    $rootScope.safeApply()
  })

  return GroupsService
}


/***/ }),
/* 277 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/**
* Copyright © 2019 code initially contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0
**/

module.exports = angular.module('stf.users', [
  (__webpack_require__(274).name)
])
.factory('UsersService', __webpack_require__(278))


/***/ }),
/* 278 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/**
* Copyright © 2019-2024 code initially contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0
**/

const oboe = __webpack_require__(189)

module.exports = function UsersServiceFactory(
  $rootScope
, $http
, socket
, CommonService
) {
  const UsersService = {}

  function buildQueryParameters(filters) {
    var query = ''

    if (filters.groupOwner !== 'Any') {
      query += 'groupOwner=' + filters.groupOwner.toLowerCase()
    }
    return query === '' ? query : '?' + query
  }

  UsersService.getOboeUsers = function(fields, addUser) {
    return oboe(CommonService.getBaseUrl() + '/api/v1/users?fields=' + fields)
      .node('users[*]', function(user) {
        addUser(user)
      })
  }

  UsersService.getUsersAlertMessage = function() {
    return $http.get('/api/v1/users/alertMessage')
  }

  UsersService.getUsers = function(fields) {
    return $http.get('/api/v1/users?fields=' + fields)
  }

  UsersService.getUser = function(email, fields) {
    return $http.get('/api/v1/users/' + email + '?fields=' + fields)
  }

  UsersService.removeUser = function(email, filters) {
    return $http.delete('/api/v1/users/' + email + buildQueryParameters(filters))
  }

  UsersService.removeUsers = function(filters, emails) {
    return $http({
      method: 'DELETE',
      url: '/api/v1/users' + buildQueryParameters(filters),
      headers: {
        'Content-Type': 'application/json;charset=utf-8'
      },
      data: typeof emails === 'undefined' ? emails : JSON.stringify({emails: emails})
    })
  }

  UsersService.updateUserGroupsQuotas = function(email, number, duration, repetitions) {
    return $http.put(
      '/api/v1/users/' + email +
      '/groupsQuotas?number=' + number +
      '&duration=' + duration +
      '&repetitions=' + repetitions
    )
  }

  UsersService.updateDefaultUserGroupsQuotas = function(number, duration, repetitions) {
    return $http.put(
      '/api/v1/users/groupsQuotas?number=' + number +
      '&duration=' + duration +
      '&repetitions=' + repetitions
    )
  }

  UsersService.createUser = function(name, email) {
    return $http.post('/api/v1/users/' + email + '?name=' + name)
  }

  socket.on('user.settings.users.created', function(user) {
    $rootScope.$broadcast('user.settings.users.created', user)
    $rootScope.safeApply()
  })

  socket.on('user.settings.users.deleted', function(user) {
    $rootScope.$broadcast('user.settings.users.deleted', user)
    $rootScope.safeApply()
  })

  socket.on('user.view.users.updated', function(user) {
    $rootScope.$broadcast('user.view.users.updated', user)
    $rootScope.safeApply()
  })

  socket.on('user.settings.users.updated', function(user) {
    $rootScope.$broadcast('user.settings.users.updated', user)
    $rootScope.safeApply()
  })

  socket.on('user.menu.users.updated', function(user) {
    $rootScope.$broadcast('user.menu.users.updated', user)
    $rootScope.safeApply()
  })

  return UsersService
}


/***/ }),
/* 279 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/**
* Copyright © 2019 code initially contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0
**/

module.exports = angular.module('stf.devices', [
  (__webpack_require__(274).name),
  (__webpack_require__(133).name)
])
.factory('DevicesService', __webpack_require__(280))


/***/ }),
/* 280 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/**
* Copyright © 2019 code initially contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0
**/

const oboe = __webpack_require__(189)

module.exports = function DevicesServiceFactory(
  $rootScope
, $http
, socket
, CommonService
) {
  const DevicesService = {}

  function buildQueryParameters(filters) {
    var query = ''

    if (filters.present !== 'Any') {
      query += 'present=' + filters.present.toLowerCase()
    }
    if (filters.booked !== 'Any') {
      query += (query === '' ? '' : '&') + 'booked=' + filters.booked.toLowerCase()
    }
    if (filters.annotated !== 'Any') {
      query += (query === '' ? '' : '&') + 'annotated=' + filters.annotated.toLowerCase()
    }
    if (filters.controlled !== 'Any') {
      query += (query === '' ? '' : '&') + 'controlled=' + filters.controlled.toLowerCase()
    }
    return query === '' ? query : '?' + query
  }

  DevicesService.getOboeDevices = function(target, fields, addDevice) {
    return oboe(CommonService.getBaseUrl()
    + '/api/v1/devices?target=' + target + '&fields=' + fields)
      .node('devices[*]', function(device) {
        addDevice(device)
      })
  }

  DevicesService.getDevices = function(target, fields) {
    return $http.get('/api/v1/devices?target=' + target + '&fields=' + fields)
  }

  DevicesService.getDevice = function(serial, fields) {
    return $http.get('/api/v1/devices/' + serial + '?fields=' + fields)
  }

  DevicesService.removeDevice = function(serial, filters) {
    return $http.delete('/api/v1/devices/' + serial + buildQueryParameters(filters))
  }

  DevicesService.removeDevices = function(filters, serials) {
    return $http({
      method: 'DELETE',
      url: '/api/v1/devices' + buildQueryParameters(filters),
      headers: {
        'Content-Type': 'application/json;charset=utf-8'
      },
      data: typeof serials === 'undefined' ? serials : JSON.stringify({serials: serials})
    })
  }

  DevicesService.addOriginGroupDevice = function(id, serial) {
    return $http.put('/api/v1/devices/' + serial + '/groups/' + id)
  }

  DevicesService.addOriginGroupDevices = function(id, serials) {
    return $http({
      method: 'PUT',
      url: '/api/v1/devices/groups/' + id + '?fields=""',
      data: typeof serials === 'undefined' ? serials : JSON.stringify({serials: serials})
    })
  }

  DevicesService.removeOriginGroupDevice = function(id, serial) {
    return $http.delete('/api/v1/devices/' + serial + '/groups/' + id)
  }

  DevicesService.removeOriginGroupDevices = function(id, serials) {
    return $http({
      method: 'DELETE',
      url: '/api/v1/devices/groups/' + id + '?fields=""',
      headers: {
        'Content-Type': 'application/json;charset=utf-8'
      },
      data: typeof serials === 'undefined' ? serials : JSON.stringify({serials: serials})
    })
  }

  socket.on('user.settings.devices.created', function(device) {
    $rootScope.$broadcast('user.settings.devices.created', device)
    $rootScope.safeApply()
  })

  socket.on('user.settings.devices.deleted', function(device) {
    $rootScope.$broadcast('user.settings.devices.deleted', device)
    $rootScope.safeApply()
  })

  socket.on('user.settings.devices.updated', function(device) {
    $rootScope.$broadcast('user.settings.devices.updated', device)
    $rootScope.safeApply()
  })

  return DevicesService
}


/***/ }),
/* 281 */
/***/ ((module) => {

module.exports = "<!--Copyright © 2019 code initially contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0--><!----><div class=\"stf-group-list\"><div class=\"row unselectable\"><div class=\"col-md-12\"><div ng-include=\"'group-list/stats/group-stats.pug'\"></div></div></div><div class=\"row unselectable\"><div class=\"col-md-12\"><div ng-include=\"'group-list/stats/group-quota-stats.pug'\"></div></div></div><div class=\"row unselectable\"><div class=\"col-md-12\"><div ng-include=\"'group-list/groups/groups.pug'\"></div></div></div></div>"

/***/ }),
/* 282 */
/***/ ((module) => {

module.exports = "<!--Copyright © 2019 code initially contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0--><!----><div class=\"widget-container group-stats\"><div class=\"col-xs-3\"><div class=\"number color-blue\"><div class=\"icon fa fa-globe\"></div><span ng-bind=\"groups.length\"></span></div><div translate=\"translate\" class=\"text\">Total groups</div></div><div class=\"col-xs-3\"><div class=\"number color-green\"><div class=\"icon fa fa-play\"></div><span ng-bind=\"activeGroups\"></span></div><div translate=\"translate\" class=\"text\">Active groups</div></div><div class=\"col-xs-3\"><div class=\"number color-orange\"><div class=\"icon fa fa-pause\"></div><span ng-bind=\"readyGroups\"></span></div><div translate=\"translate\" class=\"text\">Ready groups</div></div><div class=\"col-xs-3\"><div class=\"number color-pink\"><div class=\"icon fa fa-stop\"></div><span ng-bind=\"pendingGroups\"></span></div><div translate=\"translate\" class=\"text\">Pending groups</div></div></div>"

/***/ }),
/* 283 */
/***/ ((module) => {

module.exports = "<!--Copyright © 2019 code initially contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0--><!----><div class=\"widget-container group-quota-stats\"><div class=\"col-xs-6\"><uib-progressbar value=\"numberBar.value\" type=\"{{numberBar.type}}\" class=\"bar progress-striped\"><b>{{numberBar.value}}%</b></uib-progressbar><div translate=\"translate\" class=\"text\">{{user.name}} groups number use</div></div><div class=\"col-xs-6\"><uib-progressbar value=\"durationBar.value\" type=\"{{durationBar.type}}\" class=\"bar progress-striped\"><b>{{durationBar.value}}%</b></uib-progressbar><div translate=\"translate\" class=\"text\">{{user.name}} groups duration use</div></div></div>"

/***/ }),
/* 284 */
/***/ ((module) => {

module.exports = "<!--Copyright © 2019 code initially contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0--><!----><div class=\"widget-container fluid-height overflow-auto group-list\"><div class=\"heading\"><nothing-to-show icon=\"fa-object-group\" message=\"{{&quot;No Groups&quot; | translate}}\" ng-if=\"!groups.length\"></nothing-to-show><div ng-if=\"groups.length\"><form class=\"form-inline\"><div class=\"form-group group-list-header\"><stf-pager tooltip-label=\"{{'Group selection' | translate}}\" total-items=\"filteredGroups.length\" total-items-style=\"stf-pager-group-list-total-items\" items-per-page=\"scopeGroupListCtrl.groupItemsPerPage\" items-per-page-options=\"itemsPerPageOptions\" current-page=\"scopeGroupListCtrl.groupCurrentPage\" items-search=\"search\"></stf-pager></div><div class=\"form-group group-list-header\"><stf-column-choice reset-data=\"resetData()\" column-data=\"groupData.columns\"></stf-column-choice></div><button type=\"button\" uib-tooltip=\"{{'Write an email to the group owner selection' | translate}}\" ng-disabled=\"!filteredGroups.length\" ng-click=\"mailToGroupOwners(filteredGroups)\" tooltip-placement=\"top\" tooltip-popup-delay=\"500\" class=\"btn btn-xs btn-primary-outline pull-right\"><i class=\"fa fa-envelope-o\"></i><span translate=\"translate\">Contact Owners </span></button></form><table class=\"table table-hover dataTable ng-table\"><thead><tr><th ng-class=\"[column.sort]\" ng-repeat=\"column in groupData.columns | filter: {selected: true}\" ng-click=\"sortBy(groupData, column)\" class=\"header sortable\"><div ng-bind-template=\"{{::column.name | translate}}\" class=\"strong\"></div></th></tr></thead><tbody><tr ng-repeat=\"group in groups           | filter:search           | orderBy:groupColumns[groupData.sort.index].property:groupData.sort.reverse           | pagedObjectsFilter:scopeGroupListCtrl:'groupCurrentPage':'groupItemsPerPage':'filteredGroups'           track by group.id\"><td ng-if=\"groupData.columns[0].selected\" ng-class=\"{'color-green': group.status === 'Active',                        'color-red': group.status === 'Pending',                        'color-orange': group.status === 'Ready'}\">{{group.status | translate}}</td><td ng-if=\"groupData.columns[1].selected\" class=\"selectable\"><i class=\"fa fa-object-group group-icon\"></i><span>{{group.name}}</span></td><td ng-if=\"groupData.columns[2].selected\" class=\"selectable\">{{::group.id}}</td><td ng-if=\"groupData.columns[3].selected\"><a ng-href=\"{{::'mailto:' + group.owner.email}}\">{{::group.owner.name}}</a></td><td ng-if=\"groupData.columns[4].selected\"><div uib-dropdown=\"uib-dropdown\" auto-close=\"outsideClick\" class=\"btn-group btn-devices\"><button type=\"button\" ng-disabled=\"!group.devices.length\" ng-click=\"initGroupDevices(group)\" uib-dropdown-toggle=\"uib-dropdown-toggle\" class=\"btn btn-sm btn-primary-outline btn-devices\"><span>{{group.devices.length}}</span></button><ul ng-if=\"groupsEnv[group.id].deviceCurrentPage &amp;&amp; groupsEnv[group.id].devices.length\" uib-dropdown-menu=\"uib-dropdown-menu\" role=\"menu\" ng-click=\"$event.stopPropagation()\" class=\"dropdown-menu group-devices\"><li><a><form class=\"form-inline\"><div class=\"form-group\"><stf-pager items-search-style=\"stf-pager-group-devices-search\" icon-style=\"stf-pager-group-devices-search-icon\" tooltip-label=\"{{'Device selection' | translate}}\" total-items=\"groupsEnv[group.id].filteredDevices.length\" items-per-page=\"groupsEnv[group.id].deviceItemsPerPage\" items-per-page-options=\"itemsPerPageOptions\" current-page=\"groupsEnv[group.id].deviceCurrentPage\" items-search=\"deviceSearch\"></stf-pager></div></form></a></li><li ng-repeat=\"device in groupsEnv[group.id].devices                     | filter:deviceSearch                     | orderBy: 'model'                     | pagedObjectsFilter:groupsEnv[group.id]:'deviceCurrentPage':'deviceItemsPerPage':'filteredDevices'                     track by device.serial\"><div class=\"device-line\"><i class=\"fa fa-mobile group-device-icon\"></i><div class=\"group-device-details selectable\"><a ng-bind-template=\"{{device.manufacturer + ' ' + device.model + ' (' + device.marketName + ')'}}\" class=\"group-device-name\"></a><div class=\"group-device-id\"><span translate=\"translate\">Serial</span><span ng-bind-template=\"{{::': ' + device.serial + ' - '}}\"></span><span translate=\"translate\">OS </span><span ng-bind-template=\"{{': ' + device.version + ' - '}}\"></span><span translate=\"translate\">Screen</span><span ng-bind-template=\"{{': ' + device.display.width + 'x' + device.display.height + ' - '}}\"></span><span translate=\"translate\">SDK</span><span ng-bind-template=\"{{': ' + device.sdk}}\"></span></div></div></div></li></ul></div></td><td ng-if=\"groupData.columns[5].selected\"><div uib-dropdown=\"uib-dropdown\" auto-close=\"outsideClick\" class=\"btn-group btn-users\"><button type=\"button\" ng-disabled=\"!group.users.length\" ng-click=\"initGroupUsers(group)\" uib-dropdown-toggle=\"uib-dropdown-toggle\" class=\"btn btn-sm btn-primary-outline btn-users\"><span>{{group.users.length}}</span></button><ul ng-if=\"groupsEnv[group.id].userCurrentPage &amp;&amp; groupsEnv[group.id].users\" uib-dropdown-menu=\"uib-dropdown-menu\" role=\"menu\" ng-click=\"$event.stopPropagation()\" class=\"dropdown-menu group-users\"><li><div class=\"user-line\"><form><div class=\"form-group mailto\"><button type=\"button\" uib-tooltip=\"{{'Write an email to the group user selection' | translate}}\" ng-disabled=\"!groupsEnv[group.id].filteredUsers.length\" ng-click=\"mailToGroupUsers(group, groupsEnv[group.id].filteredUsers)\" tooltip-placement=\"top\" tooltip-popup-delay=\"500\" class=\"btn btn-xs btn-primary-outline pull-right\"><i class=\"fa fa-envelope-o\"></i><span translate=\"translate\">Contact Users</span></button></div></form><form class=\"form-inline\"><div class=\"form-group\"><stf-pager items-search-style=\"stf-pager-group-devices-search\" icon-style=\"stf-pager-group-devices-search-icon\" tooltip-label=\"{{'User selection' | translate}}\" total-items=\"groupsEnv[group.id].filteredUsers.length\" items-per-page=\"groupsEnv[group.id].userItemsPerPage\" items-per-page-options=\"itemsPerPageOptions\" current-page=\"groupsEnv[group.id].userCurrentPage\" items-search=\"userSearch\"></stf-pager></div></form></div></li><li ng-repeat=\"user in groupsEnv[group.id].users                     | filter:userSearch                     | orderBy: 'name'                     | pagedObjectsFilter:groupsEnv[group.id]:'userCurrentPage':'userItemsPerPage':'filteredUsers'                     track by user.email\"><div class=\"user-line\"><i class=\"fa fa-user group-user-icon\"></i><div class=\"group-user-details selectable\"><a ng-href=\"{{::'mailto:' + user.email}}\" ng-bind-template=\"{{::user.name}}\" class=\"group-user-name\"></a><div class=\"group-user-id\"><span translate=\"translate\">Email</span><span ng-bind-template=\"{{::': ' + user.email + ' - '}}\"></span><span translate=\"translate\">Privilege</span><span ng-bind-template=\"{{::': ' + user.privilege}}\"></span></div></div></div></li></ul></div></td><td ng-if=\"groupData.columns[6].selected\">{{getClassName(group.class) | translate}}</td><td ng-if=\"groupData.columns[7].selected\">{{group.repetitions}}</td><td ng-if=\"groupData.columns[8].selected\">{{getDuration(group.duration)}}</td><td ng-if=\"groupData.columns[9].selected\">{{group.startTime}}</td><td ng-if=\"groupData.columns[10].selected\">{{group.stopTime}}</td></tr></tbody></table></div></div></div>"

/***/ }),
/* 285 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/**
* Copyright © 2019-2024 code initially contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0
**/

const _ = __webpack_require__(190)

module.exports = function GroupListCtrl(
  $scope
, $filter
, GroupsService
, UserService
, UsersService
, DevicesService
, SettingsService
, ItemsPerPageOptionsService
, CommonService
) {
  const users = []
  const usersByEmail = {}
  const devices = []
  const devicesBySerial = {}
  const groupsById = {}
  const groupsEnv = {}
  const groupUserToAdd = {}
  const userFields =
    'email,' +
    'name,' +
    'privilege'
  const deviceFields =
    'serial,' +
    'version,' +
    'manufacturer,' +
    'marketName,' +
    'sdk,' +
    'display.width,' +
    'display.height,' +
    'model'

  function incrStateStats(group, incr) {
    if (group.isActive) {
      $scope.activeGroups += incr
    }
    else if (group.state === 'pending') {
      $scope.pendingGroups += incr
    }
    $scope.readyGroups = $scope.groups.length - $scope.activeGroups - $scope.pendingGroups
  }

  function updateStateStats(oldGroup, newGroup) {
    if (oldGroup === null) {
      incrStateStats(newGroup, 1)
    }
    else if (newGroup === null) {
      incrStateStats(oldGroup, -1)
    }
    else {
      if (newGroup.isActive && !oldGroup.isActive) {
        incrStateStats(newGroup, 1)
      }
      else if (!newGroup.isActive && oldGroup.isActive) {
        incrStateStats(oldGroup, -1)
      }
      else if (newGroup.state === 'ready' && oldGroup.state === 'pending') {
        incrStateStats(oldGroup, -1)
      }
    }
  }

  function updateGroupExtraProperties(group) {
    const status = {pending: 'Pending', waiting: 'Waiting', ready: 'Ready'}

    group.status = group.isActive ? 'Active' : status[group.state]
    group.startTime = $filter('date')(group.dates[0].start, SettingsService.get('dateFormat'))
    group.stopTime = $filter('date')(group.dates[0].stop, SettingsService.get('dateFormat'))

  }

  function updateQuotaBar(bar, consumed, allocated) {
    bar.value = (consumed / allocated) * 100 | 0
    if (bar.value < 25) {
      bar.type = 'success'
    }
    else if (bar.value < 50) {
      bar.type = 'info'
    }
    else if (bar.value < 75) {
      bar.type = 'warning'
    }
    else {
      bar.type = 'danger'
    }
  }

  function updateQuotaBars() {
    updateQuotaBar(
      $scope.numberBar
    , $scope.user.groups.quotas.consumed.number
    , $scope.user.groups.quotas.allocated.number
    )
    updateQuotaBar(
      $scope.durationBar
    , $scope.user.groups.quotas.consumed.duration
    , $scope.user.groups.quotas.allocated.duration
    )
  }

  function addGroup(group, timeStamp) {
    if (CommonService.add(
          $scope.groups
        , groupsById
        , group
        , 'id'
        , timeStamp)) {
      $scope.groupsEnv[group.id] = {
        devices: []
      , users: []
      }
      groupsEnv[group.id] = {
        devicesBySerial: {}
      , usersByEmail: {}
      }
      updateStateStats(null, group)
      updateGroupExtraProperties(group)
      return group
    }
    return null
  }

  function updateGroup(group, timeStamp) {
    return CommonService.update(
      $scope.groups
    , groupsById
    , group
    , 'id'
    , timeStamp)
  }

  function deleteGroup(id, timeStamp) {
    const group = CommonService.delete(
      $scope.groups
    , groupsById
    , id
    , timeStamp)

    if (group) {
      updateStateStats(group, null)
      delete $scope.groupsEnv[group.id]
      delete groupsEnv[group.id]
    }
    return group
  }

  function addUser(user, timeStamp) {
    if (CommonService.add(
          users
        , usersByEmail
        , user
        , 'email'
        , timeStamp
        ) && typeof groupUserToAdd[user.email] !== 'undefined') {
      addGroupUser(
        groupUserToAdd[user.email].id
      , user.email
      , groupUserToAdd[user.email].timeStamp)
      delete groupUserToAdd[user.email]
    }
  }

  function deleteUser(email, timeStamp) {
    return CommonService.delete(
      users
    , usersByEmail
    , email
    , timeStamp)
  }

  function addDevice(device, timeStamp) {
    return CommonService.add(
      devices
    , devicesBySerial
    , device
    , 'serial'
    , timeStamp)
  }

  function updateDevice(device, timeStamp) {
    return CommonService.update(
      devices
    , devicesBySerial
    , device
    , 'serial'
    , timeStamp)
  }

  function deleteDevice(serial, timeStamp) {
    return CommonService.delete(
      devices
    , devicesBySerial
    , serial
    , timeStamp)
  }

  function addGroupUser(id, email, timeStamp) {
    if (CommonService.isExisting(usersByEmail[email])) {
      CommonService.add(
        $scope.groupsEnv[id].users
      , groupsEnv[id].usersByEmail
      , users[usersByEmail[email].index]
      , 'email'
      , timeStamp)
    }
    else {
      groupUserToAdd[email] = {id: id, timeStamp: timeStamp}
    }
  }

  function deleteGroupUser(id, email, timeStamp) {
    CommonService.delete(
      $scope.groupsEnv[id].users
    , groupsEnv[id].usersByEmail
    , email
    , timeStamp)
  }

  function addGroupDevice(id, serial, timeStamp) {
    if (CommonService.isExisting(devicesBySerial[serial])) {
      CommonService.add(
        $scope.groupsEnv[id].devices
      , groupsEnv[id].devicesBySerial
      , devices[devicesBySerial[serial].index]
      , 'serial'
      , timeStamp)
    }
    else {
      GroupsService.getGroupDevice(id, serial, deviceFields)
        .then(function(response) {
          if (addDevice(response.data.device, timeStamp)) {
            CommonService.add(
              $scope.groupsEnv[id].devices
            , groupsEnv[id].devicesBySerial
            , devices[devicesBySerial[serial].index]
            , 'serial'
            , timeStamp)
          }
        })
    }
  }

  function deleteGroupDevice(id, serial, timeStamp) {
    CommonService.delete(
      $scope.groupsEnv[id].devices
    , groupsEnv[id].devicesBySerial
    , serial
    , timeStamp)
  }

  function updateGroupDevices(group, isAddedDevice, devices, timeStamp) {
    if (devices.length) {
      if (isAddedDevice) {
        devices.forEach(function(serial) {
          addGroupDevice(group.id, serial, timeStamp)
        })
      }
      else {
        devices.forEach(function(serial) {
          deleteGroupDevice(group.id, serial, timeStamp)
        })
      }
    }
  }

  function updateGroupUsers(group, isAddedUser, users, timeStamp) {
    if (users.length) {
      if (isAddedUser) {
        users.forEach(function(email) {
          addGroupUser(group.id, email, timeStamp)
        })
      }
      else {
        users.forEach(function(email) {
          deleteGroupUser(group.id, email, timeStamp)
        })
      }
    }
  }

  function initScope() {
    GroupsService.getOboeGroups(function(group) {
      addGroup(group, -1)
    })
    .done(function() {
      $scope.$digest()
    })

    UserService.getUser().then(function(response) {
      $scope.user = response.data.user
      updateQuotaBars()
    })

    UsersService.getOboeUsers(userFields, function(user) {
      addUser(user, -1)
    })
  }

  $scope.scopeGroupListCtrl = $scope
  $scope.sortBy = CommonService.sortBy
  $scope.getDuration = CommonService.getDuration
  $scope.getClassName = CommonService.getClassName
  $scope.user = UserService.currentUser
  $scope.numberBar = {}
  $scope.durationBar = {}
  $scope.groupsEnv = {}
  $scope.groups = []
  $scope.activeGroups = $scope.readyGroups = $scope.pendingGroups = 0
  $scope.itemsPerPageOptions = ItemsPerPageOptionsService
  SettingsService.bind($scope, {
    target: 'groupItemsPerPage'
  , source: 'groupViewItemsPerPage'
  , defaultValue: $scope.itemsPerPageOptions[2]
  })
  $scope.groupColumns = [
    {name: 'Status', property: 'status'}
  , {name: 'Name', property: 'name'}
  , {name: 'Identifier', property: 'id'}
  , {name: 'Owner', property: 'owner.name'}
  , {name: 'Devices', property: 'devices.length'}
  , {name: 'Users', property: 'users.length'}
  , {name: 'Class', property: 'class'}
  , {name: 'Repetitions', property: 'repetitions'}
  , {name: 'Duration', property: 'duration'}
  , {name: 'Starting Date', property: 'startTime'}
  , {name: 'Expiration Date', property: 'stopTime'}
  ]
  $scope.defaultGroupData = {
    columns: [
      {name: 'Status', selected: true, sort: 'none'}
    , {name: 'Name', selected: true, sort: 'sort-asc'}
    , {name: 'Identifier', selected: false, sort: 'none'}
    , {name: 'Owner', selected: true, sort: 'none'}
    , {name: 'Devices', selected: true, sort: 'none'}
    , {name: 'Users', selected: true, sort: 'none'}
    , {name: 'Class', selected: true, sort: 'none'}
    , {name: 'Repetitions', selected: true, sort: 'none'}
    , {name: 'Duration', selected: true, sort: 'none'}
    , {name: 'Starting Date', selected: true, sort: 'none'}
    , {name: 'Expiration Date', selected: true, sort: 'none'}
    ]
  , sort: {index: 1, reverse: false}
  }
  SettingsService.bind($scope, {
    target: 'groupData'
  , source: 'groupData'
  , defaultValue: $scope.defaultGroupData
  })

  $scope.mailToGroupOwners = function(groups) {
    CommonService.copyToClipboard(_.uniq(groups.map(function(group) {
      return group.owner.email
    }))
    .join(SettingsService.get('emailAddressSeparator')))
    .url('mailto:?body=*** Paste the email addresses from the clipboard! ***')
  }

  $scope.mailToGroupUsers = function(group, users) {
    // group unused actually..
    CommonService.copyToClipboard(users.map(function(user) {
      return user.email
    })
    .join(SettingsService.get('emailAddressSeparator')))
    .url('mailto:?body=*** Paste the email addresses from the clipboard! ***')
  }

  $scope.getTooltip = function(objects) {
    var tooltip = ''

    objects.forEach(function(object) {
      tooltip += object + '\n'
    })
    return tooltip
  }

  $scope.resetData = function() {
    $scope.groupData = JSON.parse(JSON.stringify($scope.defaultGroupData))
  }

  $scope.initGroupUsers = function(group) {
    if (typeof $scope.groupsEnv[group.id].userCurrentPage === 'undefined') {
      $scope.groupsEnv[group.id].userCurrentPage = 1
      $scope.groupsEnv[group.id].userItemsPerPage = $scope.itemsPerPageOptions[1]
    }
    group.users.forEach(function(email) {
      addGroupUser(group.id, email, -1)
    })
  }

  $scope.initGroupDevices = function(group) {
    if (typeof $scope.groupsEnv[group.id].deviceCurrentPage === 'undefined') {
      $scope.groupsEnv[group.id].deviceCurrentPage = 1
      $scope.groupsEnv[group.id].deviceItemsPerPage = $scope.itemsPerPageOptions[1]
    }
    GroupsService.getOboeGroupDevices(group.id, false, deviceFields, function(device) {
      addDevice(device, -1)
      addGroupDevice(group.id, device.serial, -1)
    })
    .done(function() {
      $scope.$digest()
    })
  }

  $scope.$on('user.view.groups.created', function(event, message) {
    addGroup(message.group, message.timeStamp)
  })

  $scope.$on('user.view.groups.deleted', function(event, message) {
    deleteGroup(message.group.id, message.timeStamp)
  })

  $scope.$on('user.view.groups.updated', function(event, message) {
    if (CommonService.isExisting(groupsById[message.group.id])) {
      if (message.group.users.indexOf(UserService.currentUser.email) < 0) {
        deleteGroup(message.group.id, message.timeStamp)
      }
      else {
        updateStateStats($scope.groups[groupsById[message.group.id].index], message.group)
        updateGroupDevices(message.group, message.isAddedDevice, message.devices, message.timeStamp)
        updateGroupUsers(message.group, message.isAddedUser, message.users, message.timeStamp)
        updateGroup(message.group, message.timeStamp)
        updateGroupExtraProperties($scope.groups[groupsById[message.group.id].index])
      }
    }
    else {
      addGroup(message.group, message.timeStamp)
    }
  })

  $scope.$on('user.settings.users.created', function(event, message) {
    addUser(message.user, message.timeStamp)
  })

  $scope.$on('user.settings.users.deleted', function(event, message) {
    deleteUser(message.user.email, message.timeStamp)
  })

  $scope.$on('user.view.users.updated', function(event, message) {
    if (message.user.email === $scope.user.email) {
      $scope.user = message.user
      updateQuotaBars()
    }
  })

  $scope.$on('user.settings.devices.created', function(event, message) {
    addDevice(message.device, message.timeStamp)
  })

  $scope.$on('user.settings.devices.deleted', function(event, message) {
    deleteDevice(message.device.serial, message.timeStamp)
  })

  $scope.$on('user.settings.devices.updated', function(event, message) {
    updateDevice(message.device, message.timeStamp)
  })

  initScope()
}


/***/ }),
/* 286 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = angular.module('control-panes', [
  (__webpack_require__(287).name),
  (__webpack_require__(184).name),
  (__webpack_require__(206).name),
  (__webpack_require__(292).name),
  (__webpack_require__(294).name),
  (__webpack_require__(307).name),
  (__webpack_require__(325).name),
  (__webpack_require__(340).name),
  (__webpack_require__(351).name),
  //require('./inspect').name,
  //require('./activity').name,
  (__webpack_require__(399).name),
  //require('./resources').name,
  (__webpack_require__(485).name),
  (__webpack_require__(493).name),
  (__webpack_require__(498).name)
])
  .config(['$routeProvider', function($routeProvider) {

    $routeProvider
      .when('/control', {
        template: '<div ng-controller="ControlPanesNoDeviceController"></div>',
        controller: 'ControlPanesNoDeviceController'
      })
      .when('/control/:serial', {
        template: __webpack_require__(528),
        controller: 'ControlPanesCtrl'
        // TODO: Move device inviting to resolve
        //resolve: {
        //  device
        //  control
        //}
      })
      // TODO: add standalone
      .when('/c/:serial', {
        template: __webpack_require__(528),
        controller: 'ControlPanesCtrl'
      })
  }])
  .factory('ControlPanesService', __webpack_require__(529))
  .controller('ControlPanesCtrl', __webpack_require__(530))
  .controller('ControlPanesNoDeviceController',
  __webpack_require__(531))
  .controller('ControlPanesHotKeysCtrl',
  __webpack_require__(532))


/***/ }),
/* 287 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = angular.module('stf.nice-tabs', [

])
  .directive('niceTab', __webpack_require__(288))
  .directive('niceTabs', __webpack_require__(290))


/***/ }),
/* 288 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// Declarative syntax not implemented yet
module.exports = function niceTabDirective() {
  return {
    restrict: 'E',
    replace: true,
    scope: {
    },
    template: __webpack_require__(289),
    link: function() {
    }
  }
}


/***/ }),
/* 289 */
/***/ ((module) => {

module.exports = ""

/***/ }),
/* 290 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = function niceTabsDirective() {
  return {
    restrict: 'EA',
    replace: true,
    template: __webpack_require__(291),
    link: function(scope, element, attrs) {
      // TODO: add support for 'key' for saving in Settings
      // TODO: add support for 'direction=below' for below tabs

      scope.$watch(attrs.tabs, function(newValue) {
        scope.tabs = newValue
      })

      scope.$watch(attrs.filter, function(newValue) {
        scope.filter = newValue
      })

      scope.tabFound = function(tab) {
        if (!tab.filters) {
          return true
        }
        var found = false

        angular.forEach(tab.filters, function(value) {
          if (value === scope.filter) {
            found = true
          }
        })
        return found
      }
    }
  }
}


/***/ }),
/* 291 */
/***/ ((module) => {

module.exports = "<div class=\"heading-for-tabs tabs\"><uib-tabset><uib-tab ng-repeat=\"tab in tabs\" active=\"tab.active\" ng-hide=\"!tabFound(tab)\"><uib-tab-heading><i ng-class=\"tab.icon\" class=\"fa\"></i><span>{{tab.title | translate }}</span></uib-tab-heading><div ng-if=\"tab.active\"><div ng-include=\"tab.templateUrl\"></div></div></uib-tab></uib-tabset></div>"

/***/ }),
/* 292 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

__webpack_require__(10)
module.exports = angular.module('stf.scoped-hotkeys', [
  'cfp.hotkeys'
])
  .factory('ScopedHotkeysService', __webpack_require__(293))


/***/ }),
/* 293 */
/***/ ((module) => {

module.exports = function ScopedHotkeysServiceFactory(hotkeys, $filter) {
  return function(scope, hotkeySet) {

    function hotkeyAdd(combo, desc, callback, preventDefault) {
      hotkeys.add({
        combo: combo,
        description: $filter('translate')(desc),
        allowIn: ['textarea', 'input'],
        callback: function(event) {
          if (preventDefault || typeof preventDefault === 'undefined') {
            event.preventDefault()
          }
          callback()
        }
      })
    }

    angular.forEach(hotkeySet, function(value) {
      hotkeyAdd(value[0], value[1], value[2], value[3])
    })

    scope.$on('$destroy', function() {
      angular.forEach(hotkeySet, function(value) {
        hotkeys.del(value[0])
      })
    })
  }
}


/***/ }),
/* 294 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

__webpack_require__(295)

module.exports = angular.module('device-control', [
  (__webpack_require__(184).name),
  (__webpack_require__(206).name),
  (__webpack_require__(231).name),
  (__webpack_require__(297).name),
  (__webpack_require__(298).name)
])
  .run(['$templateCache', function($templateCache) {
    $templateCache.put('control-panes/device-control/device-control.pug',
      __webpack_require__(303)
    )
    $templateCache.put('control-panes/device-control/device-control-standalone.pug',
      __webpack_require__(304)
    )
  }])
  .controller('DeviceControlCtrl', __webpack_require__(305))
  .directive('deviceControlKey', __webpack_require__(306))


/***/ }),
/* 295 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14);
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(15);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(17);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(18);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(19);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_device_control_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(296);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_device_control_css__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_cjs_js_device_control_css__WEBPACK_IMPORTED_MODULE_6__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_css_loader_dist_cjs_js_device_control_css__WEBPACK_IMPORTED_MODULE_6__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_css_loader_dist_cjs_js_device_control_css__WEBPACK_IMPORTED_MODULE_6__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()((_node_modules_css_loader_dist_cjs_js_device_control_css__WEBPACK_IMPORTED_MODULE_6___default()), options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((_node_modules_css_loader_dist_cjs_js_device_control_css__WEBPACK_IMPORTED_MODULE_6___default()) && (_node_modules_css_loader_dist_cjs_js_device_control_css__WEBPACK_IMPORTED_MODULE_6___default().locals) ? (_node_modules_css_loader_dist_cjs_js_device_control_css__WEBPACK_IMPORTED_MODULE_6___default().locals) : undefined);


/***/ }),
/* 296 */
/***/ ((module, exports, __webpack_require__) => {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(21);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.id, ".enter-fade {\n  -webkit-transition: 1s linear opacity;\n  -moz-transition: 1s linear opacity;\n  -o-transition: 1s linear opacity;\n  transition: 1s linear opacity;\n  opacity: 0;\n}\n\n.enter-fade.enter-fade-active {\n  opacity: 1;\n}\n\ndevice-screen {\n  width: 100%;\n  height: 100%;\n  background: gray;\n  position: relative;\n  display: block;\n  overflow: hidden;\n  /*cursor: pointer;*/\n  text-align: center; /* needed for centering after rotating to 270 */\n\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\ndevice-screen .positioner {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  pointer-events: none;\n  transform: rotate(0deg);\n}\n\ndevice-screen canvas.screen {\n  position: absolute;\n  width: 100%;\n  height: auto;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  margin: auto;\n\n  pointer-events: none; /* MUST HAVE or touch coordinates will be off */\n  transition: -webkit-transform 250ms ease-in-out;\n  -webkit-transform-origin: 50% 50%;\n  transform-origin: 50% 50%;\n  -webkit-transform: rotate(0deg);\n  transform: rotate(0deg);\n}\n\ndevice-screen .positioner .hacky-stretcher {\n  outline: 1px solid red;\n  height: 100%;\n  width: auto;\n  margin: 0;\n  padding: 0;\n  pointer-events: none;\n}\n\n/* screen is in default rotation or upside down, possibly with empty space on left/right */\n\ndevice-screen/*.portrait*/ .positioner {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n\ndevice-screen/*.portrait*/ canvas.screen {\n  width: auto;\n  height: 100%;\n}\n\n/* screen is in default rotation or upside down, possibly with empty space on top/bottom */\n\ndevice-screen/*.portrait*/.letterboxed .positioner {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n\ndevice-screen/*.portrait*/.letterboxed canvas.screen {\n  width: 100%;\n  height: auto;\n}\n\n/* screen is rotated sideways, possibly with empty space on left/right */\n\ndevice-screen.rotated .positioner {\n  position: relative;\n  display: inline-block;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  height: 100%;\n}\n\ndevice-screen.rotated canvas.screen {\n  width: 100%;\n  height: auto;\n}\n\n/* screen is rotated sideways, possibly with empty space on top/bottom */\n\ndevice-screen.rotated.letterboxed .positioner {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  width: 100%;\n  padding-top: 100%;\n  height: 0;\n}\n\ndevice-screen.rotated.letterboxed canvas.screen {\n  height: 100%;\n  width: auto;\n}\n\ndevice-screen .finger {\n  position: absolute;\n  border-radius: 50%;\n  background: #7c7c7c;\n  opacity: 0.5;\n  width: 8mm;\n  height: 8mm;\n  top: -4mm;\n  left: -4mm;\n  pointer-events: none;\n  display: none;\n  border-style: solid;\n  border-width: 1px;\n  border-color: #464646;\n}\n\ndevice-screen .finger.active {\n  display: block;\n}\n\ndevice-screen input {\n  position: absolute;\n  z-index: 10;\n  outline: none;\n  pointer-events: none;\n  opacity: 0;\n  top: -9999px;\n  left: -9999px;\n  ime-mode: disabled;\n  inputmode: verbatim;\n}\n\n.stf-device-control .dragover {\n  opacity: 0.7;\n}\n\n.stf-device-control .dropdown-menu {\n  top: auto;\n}\n\n.stf-device-control .device-small-image {\n  width: 14px;\n  height: 14px;\n  display: inline-block;\n  margin-right: 7px;\n}\n\n.stf-device-control .device-small-image img {\n  width: 100%;\n}\n\n.stf-device-control .kick-device {\n  color: #9c9c9c;\n}\n\n.stf-device-control .kick-device:hover {\n  color: #d9534f;\n}\n\n.stf-device-control .kick-device i {\n  margin-right: 0;\n}\n\n.stf-device-control .orientation-degree {\n  min-width: 34px;\n  display: inline-block;\n}\n\n/* VNC buttons */\n.stf-vnc-bottom .btn-primary:hover {\n  background: rgba(255, 255, 255, 1.0);\n  border: none;\n}\n\n.stf-vnc-bottom .btn {\n  border-radius: 0;\n}\n\n.stf-vnc-bottom .btn-primary:active {\n  background: rgba(250, 250, 250, 0.75);\n  border: none;\n  color: #0d3fa4;\n}\n\n.stf-vnc-navbar-buttons {\n  padding-top: 2px;\n  padding-bottom: 32px;\n}\n\n.stf-vnc-navbar-buttons .btn {\n  margin-bottom: 0;\n  min-width: 37px;\n}\n\n.stf-device-control .stf-vnc-device-name {\n  font-size: 16px;\n  line-height: 20px;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n  color: #858585;\n}\n\n.stf-device-control .device-name-container {\n  text-overflow: ellipsis;\n}\n\n.stf-device-control .stf-vnc-device-name .device-small-image {\n  margin-left: 10px;\n}\n\n.stf-device-control .current-device {\n  font-weight: bold;\n}\n\n.stf-vnc-navbar {\n  background: #fff;\n  margin-bottom: 2px;\n}\n\n.stf-vnc-fps {\n  line-height: 28px;\n  color: #D1D1D1;\n  font-family: monospace;\n  display: inline-block;\n  width: 28px;\n  min-height: 10px;\n  text-align: center;\n}\n\n.stf-vnc-right-buttons {\n  margin-top: 6px;\n}\n\n.stf-vnc-right-buttons .button-spacer {\n  width: 12px;\n}\n\n.stf-device-control > .device-name-menu-element {\n  margin-left: 7px;\n}\n\n.no-transition {\n  -webkit-transition: none !important;\n  -moz-transition: none !important;\n  -o-transition: none !important;\n  -ms-transition: none !important;\n  transition: none !important;\n}\n", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 297 */
/***/ (() => {

/**
 * ng-context-menu - v1.1.0 - An AngularJS directive to display a context menu
 * when a right-click event is triggered
 *
 * @author Ian Kennington Walter (http://ianvonwalter.com)
 */
(function(angular) {
  'use strict';

  angular
    .module('ng-context-menu', [])
    .factory('ContextMenuService', function() {
      return {
        element: null,
        menuElement: null
      };
    })
    .directive('contextMenu', [
      '$document',
      'ContextMenuService',
      function($document, ContextMenuService) {
        return {
          restrict: 'A',
          scope: {
            'callback': '&contextMenu',
            'disabled': '&contextMenuDisabled',
            'closeCallback': '&contextMenuClose',
            'marginBottom': '@contextMenuMarginBottom'
          },
          link: function($scope, $element, $attrs) {
            var opened = false;

            function open(event, menuElement) {
              menuElement.addClass('open');

              var doc = $document[0].documentElement;
              var docLeft = (window.pageXOffset || doc.scrollLeft) -
                  (doc.clientLeft || 0),
                docTop = (window.pageYOffset || doc.scrollTop) -
                  (doc.clientTop || 0),
                elementWidth = menuElement[0].scrollWidth,
                elementHeight = menuElement[0].scrollHeight;
              var pageX;
              var pageY;
              // browser compatibility fix for the click location
              if (event.pageX || event.pageY) {
                // use pageX and pageY when available (modern browsers)
                pageX = event.pageX;
                pageY = event.pageY;
              } else {
                // calculate pageX and pageY when they do not exist
                // (IE8 and generated events in later versions of IE)
                var docBody = $document[0].body;
                pageX = event.clientX + docBody.scrollLeft + doc.scrollLeft;
                pageY = event.clientY + docBody.scrollTop + doc.scrollTop;
              }
              var docWidth = doc.clientWidth + docLeft,
                docHeight = doc.clientHeight + docTop,
                totalWidth = elementWidth + pageX,
                totalHeight = elementHeight + pageY,
                left = Math.max(pageX - docLeft, 0),
                top = Math.max(pageY - docTop, 0);

              if (totalWidth > docWidth) {
                left = left - (totalWidth - docWidth);
              }

              if (totalHeight > docHeight) {
                var marginBottom = $scope.marginBottom || 0;
                top = top - (totalHeight - docHeight) - marginBottom;
              }

              menuElement.css('top', top + 'px');
              menuElement.css('left', left + 'px');
              opened = true;
            }

            function close(menuElement) {
              menuElement.removeClass('open');

              if (opened) {
                $scope.closeCallback();
              }

              opened = false;
            }

            $element.bind('contextmenu', function(event) {
              if (!$scope.disabled()) {
                if (ContextMenuService.menuElement !== null) {
                  close(ContextMenuService.menuElement);
                }
                ContextMenuService.menuElement = angular.element(
                  document.getElementById($attrs.target)
                );
                ContextMenuService.element = event.target;

                event.preventDefault();
                event.stopPropagation();
                $scope.$apply(function() {
                  $scope.callback({ $event: event });
                });
                $scope.$apply(function() {
                  open(event, ContextMenuService.menuElement);
                });
              }
            });

            function handleKeyUpEvent(event) {
              if (opened && event.keyCode === 27) {
                $scope.$apply(function() {
                  close(ContextMenuService.menuElement);
                });
              }
            }

            function handleClickEvent(event) {
              if (opened &&
                (event.button !== 2 ||
                  event.target !== ContextMenuService.element)) {
                $scope.$apply(function() {
                  close(ContextMenuService.menuElement);
                });
              }
            }

            $document.bind('keyup', handleKeyUpEvent);
            // Firefox treats a right-click as a click and a contextmenu event
            // while other browsers just treat it as a contextmenu event
            $document.bind('click', handleClickEvent);
            $document.bind('contextmenu', handleClickEvent);

            $scope.$on('$destroy', function() {
              $document.unbind('keyup', handleKeyUpEvent);
              $document.unbind('click', handleClickEvent);
              $document.unbind('contextmenu', handleClickEvent);
            });
          }
        };
      }
    ]);
})(angular);


/***/ }),
/* 298 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

__webpack_require__(299)

module.exports = angular.module('stf.device-context-menu', [
  (__webpack_require__(297).name)
])
  .directive('deviceContextMenu', __webpack_require__(301))


/***/ }),
/* 299 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14);
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(15);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(17);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(18);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(19);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_device_context_menu_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(300);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_device_context_menu_css__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_cjs_js_device_context_menu_css__WEBPACK_IMPORTED_MODULE_6__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_css_loader_dist_cjs_js_device_context_menu_css__WEBPACK_IMPORTED_MODULE_6__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_css_loader_dist_cjs_js_device_context_menu_css__WEBPACK_IMPORTED_MODULE_6__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()((_node_modules_css_loader_dist_cjs_js_device_context_menu_css__WEBPACK_IMPORTED_MODULE_6___default()), options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((_node_modules_css_loader_dist_cjs_js_device_context_menu_css__WEBPACK_IMPORTED_MODULE_6___default()) && (_node_modules_css_loader_dist_cjs_js_device_context_menu_css__WEBPACK_IMPORTED_MODULE_6___default().locals) ? (_node_modules_css_loader_dist_cjs_js_device_context_menu_css__WEBPACK_IMPORTED_MODULE_6___default().locals) : undefined);


/***/ }),
/* 300 */
/***/ ((module, exports, __webpack_require__) => {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(21);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.id, ".stf-device-context-menu {\n\n}", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 301 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = function deviceContextMenuDirective($window) {
  return {
    restrict: 'EA',
    replace: false,
    //scope: {
    //  control: '&',
    //  device: '&'
    //},
    transclude: true,
    template: __webpack_require__(302),
    link: function(scope) {
      //var device = scope.device()
      //var control = scope.control()
      scope.windowClose = function() {
        $window.close()
      }

      scope.saveScreenShot = function() {
        scope.control.screenshot().then(function(result) {
          location.href = result.body.href + '?download'
        })
      }

    }
  }
}


/***/ }),
/* 302 */
/***/ ((module) => {

module.exports = "<div id=\"context-menu-{{ $index }}\" class=\"dropdown context-menu\"><ul role=\"menu\" class=\"dropdown-menu\"><li><a role=\"menuitem\" ng-click=\"control.back(); $event.preventDefault()\" class=\"pointer\"><i class=\"fa fa-mail-reply fa-fw\"></i><span translate=\"translate\">Back</span></a></li><li><a role=\"menuitem\" ng-click=\"control.home(); $event.preventDefault()\" class=\"pointer\"><i class=\"fa fa-home fa-fw\"></i><span translate=\"translate\">Home</span></a></li><li><a role=\"menuitem\" ng-click=\"control.appSwitch(); $event.preventDefault()\" class=\"pointer\"><i class=\"fa fa-square-o fa-fw\"></i><span translate=\"translate\">Recents</span></a></li><li class=\"divider\"></li><li><a role=\"menuitem\" ng-click=\"rotateRight(); $event.preventDefault()\" class=\"pointer\"><i class=\"fa fa-rotate-left fa-fw\"></i><span translate=\"translate\">Rotate Left</span></a></li><li><a role=\"menuitem\" ng-click=\"rotateLeft(); $event.preventDefault()\" class=\"pointer\"><i class=\"fa fa-rotate-right fa-fw\"></i><span translate=\"translate\">Rotate Right</span></a></li><li class=\"divider\"></li><li><a role=\"menuitem\" ng-click=\"saveScreenShot(); $event.preventDefault()\" class=\"pointer\"><i class=\"fa fa-camera fa-fw\"></i><span translate=\"translate\">Save ScreenShot</span></a></li><li class=\"divider\"></li><li><a role=\"menuitem\" ng-click=\"$root.standalone ? windowClose() : kickDevice(device); $event.preventDefault()\" class=\"pointer\"><i class=\"fa fa-sign-out fa-fw\"></i><span translate=\"translate\">Stop Using</span></a></li></ul></div><div ng-transclude=\"ng-transclude\" context-menu=\"context-menu\" data-target=\"context-menu-{{ $index }}\" class=\"stf-device-context-menu fill-height\"></div>"

/***/ }),
/* 303 */
/***/ ((module) => {

module.exports = "<div ng-controller=\"DeviceControlCtrl\" class=\"interact-control fill-height as-table stf-device-control\"><div class=\"as-cell fill-height\"><div class=\"as-table fill-height\"><div ng-show=\"!$root.basicMode &amp;&amp; !$root.standalone\" class=\"stf-vnc-navbar as-row\"><div class=\"stf-vnc-control-header as-cell\"><div class=\"stf-vnc-right-buttons pull-right\"><div class=\"btn-group\"><label type=\"button\" ng-click=\"tryToRotate(&quot;portrait&quot;)\" ng-model=\"currentRotation\" uib-btn-radio=\"&quot;portrait&quot;\" uib-tooltip=\"{{ &quot;Portrait&quot; | translate }} ({{ &quot;Current rotation:&quot; | translate }} {{ device.display.rotation }}°)\" tooltip-placement=\"bottom\" class=\"btn-sm btn-primary-outline pointer\"><i class=\"fa fa-mobile\"></i></label><label type=\"button\" ng-click=\"tryToRotate(&quot;landscape&quot;)\" ng-model=\"currentRotation\" uib-btn-radio=\"&quot;landscape&quot;\" uib-tooltip=\"{{ &quot;Landscape&quot; | translate }} ({{ &quot;Current rotation:&quot; | translate }} {{ device.display.rotation }}°)\" tooltip-placement=\"bottom\" class=\"btn-sm btn-primary-outline pointer\"><i class=\"fa fa-mobile fa-rotate-90\"></i></label></div><div class=\"button-spacer\"></div><button type=\"button\" ng-model=\"showScreen\" uib-btn-checkbox=\"uib-btn-checkbox\" class=\"btn btn-xs btn-info\"><i ng-show=\"showScreen\" uib-tooltip=\"{{&quot;Hide Screen&quot;|translate}}\" tooltip-placement=\"bottom\" class=\"fa fa-eye\"></i><i ng-show=\"!showScreen\" uib-tooltip=\"{{&quot;Show Screen&quot;|translate}}\" tooltip-placement=\"bottom\" class=\"fa fa-eye-slash\"></i></button><button type=\"button\" ng-click=\"kickDevice(device); $event.stopPropagation()\" uib-tooltip=\"{{&quot;Stop Using&quot;|translate}}\" tooltip-placement=\"bottom\" class=\"btn btn-sm btn-danger-outline\"><i class=\"fa fa-times\"></i></button></div><div uib-dropdown=\"uib-dropdown\" class=\"device-name-container pull-left\"><a uib-dropdown-toggle=\"uib-dropdown-toggle\" class=\"stf-vnc-device-name pointer unselectable\"><p><div class=\"device-small-image\"><img ng-src=\"/static/app/devices/icon/x24/{{ device.image || &quot;E30HT.jpg&quot; }}\"/></div><span class=\"device-name-text\">{{ device.enhancedName }}</span><span ng-show=\"groupDevices.length &gt; 0\" class=\"caret\"></span></p></a><ul role=\"menu\" data-toggle=\"dropdown\" ng-show=\"groupDevices.length &gt; 0\" class=\"dropdown-menu pointer unselectable\"><li ng-repeat=\"groupDevice in groupDevices\"><a ng-click=\"controlDevice(groupDevice); $event.stopPropagation()\" class=\"device-name-menu-element\"><div class=\"pull-left\"><div class=\"device-small-image\"><img ng-src=\"/static/app/devices/icon/x24/{{ groupDevice.image || &quot;E30HT.jpg&quot; }}\"/></div><span ng-class=\"{&quot;current-device&quot;: groupDevice.serial === device.serial }\">{{ groupDevice.enhancedName }}</span></div><div ng-click=\"kickDevice(groupDevice); $event.stopPropagation()\" class=\"pull-right kick-device\"><i class=\"fa fa-times\"></i></div><div class=\"clearfix\"></div></a></li></ul></div></div></div><div class=\"as-row fill-height\"><div ng-controller=\"DeviceScreenCtrl\" ng-if=\"device\" class=\"as-cell fill-height\"><div ng-file-drop=\"installFile($files)\" ng-file-drag-over-class=\"dragover\" class=\"fill-height\"><device-context-menu device=\"device\" control=\"control\"><device-screen device=\"device\" control=\"control\"></device-screen></device-context-menu></div></div></div><div ng-hide=\"$root.standalone\" class=\"stf-vnc-bottom as-row\"><div class=\"controls as-cell\"><div class=\"btn-group btn-group-justified\"><a device-control-key=\"menu\" title=\"{{&quot;Menu&quot;|translate}}\" class=\"btn btn-primary btn-lg no-transition\"><i class=\"fa fa-bars\"></i></a><a device-control-key=\"home\" title=\"{{&quot;Home&quot;|translate}}\" class=\"btn btn-primary btn-lg no-transition\"><i class=\"fa fa-home\"></i></a><a device-control-key=\"app_switch\" title=\"{{&quot;App switch&quot;|translate}}\" class=\"btn btn-primary btn-lg no-transition\"><i class=\"fa fa-square-o\"></i></a><a device-control-key=\"back\" title=\"{{&quot;Back&quot;|translate}}\" class=\"btn btn-primary btn-lg no-transition\"><i class=\"fa fa-mail-reply\"></i></a></div></div></div></div></div></div>"

/***/ }),
/* 304 */
/***/ ((module) => {

module.exports = "<div ng-controller=\"DeviceControlCtrl\" class=\"interact-control fill-height stf-device-control fill-height fill-width\"><div ng-controller=\"DeviceScreenCtrl\" ng-if=\"device\" class=\"fill-height fill-width\"><div ng-file-drop=\"installFile($files)\" ng-file-drag-over-class=\"dragover\" class=\"fill-height fill-width\"><device-context-menu device=\"device\" control=\"control\"><device-screen device=\"device\" control=\"control\" class=\"fill-height fill-width\"></device-screen></device-context-menu></div></div></div>"

/***/ }),
/* 305 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _ = __webpack_require__(190)

module.exports = function DeviceControlCtrl($scope, DeviceService, GroupService,
  $location, $timeout, $window, $rootScope, LogcatService) {

  $scope.showScreen = true

  $scope.groupTracker = DeviceService.trackGroup($scope)

  $scope.groupDevices = $scope.groupTracker.devices

  $scope.$on('$locationChangeStart', function(event, next, current) {
    $scope.LogcatService = LogcatService
    $rootScope.LogcatService = LogcatService
  })

  $scope.kickDevice = function(device) {
    if (Object.keys(LogcatService.deviceEntries).includes(device.serial)) {
      LogcatService.deviceEntries[device.serial].allowClean = true
    }

    $scope.LogcatService = LogcatService
    $rootScope.LogcatService = LogcatService

    if (!device || !$scope.device) {
      alert('No device found')
      return
    }

    try {
      // If we're trying to kick current device
      if (device.serial === $scope.device.serial) {

        // If there is more than one device left
        if ($scope.groupDevices.length > 1) {

          // Control first free device first
          var firstFreeDevice = _.find($scope.groupDevices, function(dev) {
            return dev.serial !== $scope.device.serial
          })
          $scope.controlDevice(firstFreeDevice)

          // Then kick the old device
          GroupService.kick(device).then(function() {
            $scope.$digest()
          })
        } else {
          // Kick the device
          GroupService.kick(device).then(function() {
            $scope.$digest()
          })
          $location.path('/devices/')
        }
      } else {
        GroupService.kick(device).then(function() {
          $scope.$digest()
        })
      }
    } catch (e) {
      alert(e.message)
    }
  }

  $scope.controlDevice = function(device) {
    $location.path('/control/' + device.serial)
  }

  function isPortrait(val) {
    var value = val
    if (typeof value === 'undefined' && $scope.device) {
      value = $scope.device.display.rotation
    }
    return (value === 0 || value === 180)
  }

  function isLandscape(val) {
    var value = val
    if (typeof value === 'undefined' && $scope.device) {
      value = $scope.device.display.rotation
    }
    return (value === 90 || value === 270)
  }

  $scope.tryToRotate = function(rotation) {
    if (rotation === 'portrait') {
      $scope.control.rotate(0)
      $timeout(function() {
        if (isLandscape()) {
          $scope.currentRotation = 'landscape'
        }
      }, 400)
    } else if (rotation === 'landscape') {
      $scope.control.rotate(90)
      $timeout(function() {
        if (isPortrait()) {
          $scope.currentRotation = 'portrait'
        }
      }, 400)
    }
  }

  $scope.currentRotation = 'portrait'

  $scope.$watch('device.display.rotation', function(newValue) {
    if (isPortrait(newValue)) {
      $scope.currentRotation = 'portrait'
    } else if (isLandscape(newValue)) {
      $scope.currentRotation = 'landscape'
    }
  })

  // TODO: Refactor this inside control and server-side
  $scope.rotateLeft = function() {
    var angle = 0
    if ($scope.device && $scope.device.display) {
      angle = $scope.device.display.rotation
    }
    if (angle === 0) {
      angle = 270
    } else {
      angle -= 90
    }
    $scope.control.rotate(angle)

    if ($rootScope.standalone) {
      $window.resizeTo($window.outerHeight, $window.outerWidth)
    }
  }

  $scope.rotateRight = function() {
    var angle = 0
    if ($scope.device && $scope.device.display) {
      angle = $scope.device.display.rotation
    }
    if (angle === 270) {
      angle = 0
    } else {
      angle += 90
    }
    $scope.control.rotate(angle)

    if ($rootScope.standalone) {
      $window.resizeTo($window.outerHeight, $window.outerWidth)
    }
  }

}


/***/ }),
/* 306 */
/***/ ((module) => {

module.exports = function DeviceControlKeyDirective() {
  return {
    restrict: 'A'
  , link: function(scope, element, attrs) {
      var key = attrs.deviceControlKey

      function up() {
        scope.control.keyUp(key)
      }

      function down() {
        scope.control.keyDown(key)
      }

      function touchUp(e) {
        if (e.touches.length === 0) {
          element.unbind('touchleave', touchUp)
          element.unbind('touchend', touchUp)
          up()
        }
      }

      function mouseUp() {
        element.unbind('mouseup', mouseUp)
        element.unbind('mouseleave', mouseUp)
        up()
      }

      element.bind('touchstart', function(e) {
        e.preventDefault()
        if (e.touches.length === e.changedTouches.length) {
          element.bind('touchleave', touchUp)
          element.bind('touchend', touchUp)
          down()
        }
      })

      element.bind('mousedown', function(e) {
        e.preventDefault()
        element.bind('mouseup', mouseUp)
        element.bind('mouseleave', mouseUp)
        down()
      })
    }
  }
}


/***/ }),
/* 307 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

__webpack_require__(308)

module.exports = angular.module('stf.advanced', [
  (__webpack_require__(310).name),
//  require('./run-js').name,
//  require('./usb').name,
//  require('./vnc').name,
  (__webpack_require__(315).name),
  (__webpack_require__(320).name)
])
  .run(['$templateCache', function($templateCache) {
    $templateCache.put('control-panes/advanced/advanced.pug',
      __webpack_require__(323)
    )
  }])
  .controller('AdvancedCtrl', __webpack_require__(324))


/***/ }),
/* 308 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14);
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(15);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(17);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(18);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(19);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_advanced_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(309);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_advanced_css__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_cjs_js_advanced_css__WEBPACK_IMPORTED_MODULE_6__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_css_loader_dist_cjs_js_advanced_css__WEBPACK_IMPORTED_MODULE_6__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_css_loader_dist_cjs_js_advanced_css__WEBPACK_IMPORTED_MODULE_6__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()((_node_modules_css_loader_dist_cjs_js_advanced_css__WEBPACK_IMPORTED_MODULE_6___default()), options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((_node_modules_css_loader_dist_cjs_js_advanced_css__WEBPACK_IMPORTED_MODULE_6___default()) && (_node_modules_css_loader_dist_cjs_js_advanced_css__WEBPACK_IMPORTED_MODULE_6___default().locals) ? (_node_modules_css_loader_dist_cjs_js_advanced_css__WEBPACK_IMPORTED_MODULE_6___default().locals) : undefined);


/***/ }),
/* 309 */
/***/ ((module, exports, __webpack_require__) => {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(21);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.id, ".stf-advanced {\n\n}", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 310 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

__webpack_require__(311)

module.exports = angular.module('stf.advanced.input', [
])
  .run(['$templateCache', function($templateCache) {
    $templateCache.put('control-panes/advanced/input/input.pug',
      __webpack_require__(313)
    )
  }])
  .controller('InputAdvancedCtrl', __webpack_require__(314))


/***/ }),
/* 311 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14);
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(15);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(17);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(18);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(19);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_input_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(312);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_input_css__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_cjs_js_input_css__WEBPACK_IMPORTED_MODULE_6__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_css_loader_dist_cjs_js_input_css__WEBPACK_IMPORTED_MODULE_6__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_css_loader_dist_cjs_js_input_css__WEBPACK_IMPORTED_MODULE_6__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()((_node_modules_css_loader_dist_cjs_js_input_css__WEBPACK_IMPORTED_MODULE_6___default()), options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((_node_modules_css_loader_dist_cjs_js_input_css__WEBPACK_IMPORTED_MODULE_6___default()) && (_node_modules_css_loader_dist_cjs_js_input_css__WEBPACK_IMPORTED_MODULE_6___default().locals) ? (_node_modules_css_loader_dist_cjs_js_input_css__WEBPACK_IMPORTED_MODULE_6___default().locals) : undefined);


/***/ }),
/* 312 */
/***/ ((module, exports, __webpack_require__) => {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(21);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.id, ".stf-input {\n\n}", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 313 */
/***/ ((module) => {

module.exports = "<div ng-controller=\"InputAdvancedCtrl\" class=\"widget-container fluid-height\"><div class=\"heading\"><stacked-icon icon=\"fa-gear\" color=\"color-pink\"></stacked-icon><span translate=\"translate\">Advanced Input</span></div><div class=\"widget-content padded\"><div><h6 translate=\"translate\">Special Keys</h6><div class=\"special-keys-buttons\"><button uib-tooltip=\"{{ &quot;Power&quot; | translate }}\" ng-click=\"press(&quot;power&quot;)\" class=\"btn btn-danger btn-xs\"><i class=\"fa fa-power-off\"></i></button><button uib-tooltip=\"{{ &quot;Camera&quot; | translate }}\" ng-click=\"press(&quot;camera&quot;)\" class=\"btn btn-primary btn-xs\"><i class=\"fa fa-camera\"></i></button><button uib-tooltip=\"{{ &quot;Switch Charset&quot; | translate }}\" ng-click=\"press(&quot;switch_charset&quot;)\" class=\"btn btn-primary btn-info btn-xs\"><i class=\"fa\"> Aa</i></button><button uib-tooltip=\"{{ &quot;Search&quot; | translate }}\" ng-click=\"press(&quot;search&quot;)\" class=\"btn btn-primary btn-xs\"><i class=\"fa fa-search\"></i></button><h6 translate=\"translate\">Volume</h6><div class=\"btn-group\"><button uib-tooltip=\"{{ &quot;Mute&quot; | translate }}\" ng-click=\"press(&quot;mute&quot;)\" class=\"btn btn-primary btn-xs\"><i class=\"fa fa-volume-off\"></i></button><button uib-tooltip=\"{{ &quot;Volume Down&quot; | translate }}\" ng-click=\"press(&quot;volume_down&quot;)\" class=\"btn btn-primary btn-xs\"><i class=\"fa fa-volume-down\"></i></button><button uib-tooltip=\"{{ &quot;Volume Up&quot; | translate }}\" ng-click=\"press(&quot;volume_up&quot;)\" class=\"btn btn-primary btn-xs\"><i class=\"fa fa-volume-up\"></i></button></div><h6 translate=\"translate\">Media</h6><div class=\"btn-group\"><button uib-tooltip=\"{{ &quot;Rewind&quot; | translate }}\" ng-click=\"press(&quot;media_rewind&quot;)\" class=\"btn btn-primary btn-xs\"><i class=\"fa fa-fast-backward\"></i></button><button uib-tooltip=\"{{ &quot;Previous&quot; | translate }}\" ng-click=\"press(&quot;media_previous&quot;)\" class=\"btn btn-primary btn-xs\"><i class=\"fa fa-step-backward\"></i></button><button uib-tooltip=\"{{ &quot;Play/Pause&quot; | translate }}\" ng-click=\"press(&quot;media_play_pause&quot;)\" class=\"btn btn-primary btn-xs\"><i class=\"fa fa-youtube-play\"></i></button><button uib-tooltip=\"{{ &quot;Stop&quot; | translate }}\" ng-click=\"press(&quot;media_stop&quot;)\" class=\"btn btn-primary btn-xs\"><i class=\"fa fa-stop\"></i></button><button uib-tooltip=\"{{ &quot;Next&quot; | translate }}\" ng-click=\"press(&quot;media_next&quot;)\" class=\"btn btn-primary btn-xs\"><i class=\"fa fa-step-forward\"></i></button><button uib-tooltip=\"{{ &quot;Fast Forward&quot; | translate }}\" ng-click=\"press(&quot;media_fast_forward&quot;)\" class=\"btn btn-primary btn-xs\"><i class=\"fa fa-fast-forward\"></i></button></div></div></div><!--h6 D-pad--><!--table.special-keys-dpad-buttonstr\n  td\n  td\n    button(uib-tooltip='{{ \"D-pad Up\" | translate }}', ng-click='press(\"dpad_up\")').btn.btn-info.btn-xs\n      i.fa.fa-chevron-up\n  td\ntr\n  td\n    button(uib-tooltip='{{ \"D-pad Left\" | translate }}', ng-click='press(\"dpad_left\")').btn.btn-info.btn-xs\n      i.fa.fa-chevron-left\n  td\n    button(uib-tooltip='{{ \"D-pad Center\" | translate }}', ng-click='press(\"dpad_center\")').btn.btn-info.btn-xs\n      i.fa.fa-circle-o\n  td\n    button(uib-tooltip='{{ \"D-pad Right\" | translate }}', ng-click='press(\"dpad_right\")').btn.btn-info.btn-xs\n      i.fa.fa-chevron-right\ntr\n  td\n  td\n    button(uib-tooltip='{{ \"D-pad Down\" | translate }}', ng-click='press(\"dpad_down\")').btn.btn-info.btn-xs\n      i.fa.fa-chevron-down\n  td--></div></div>"

/***/ }),
/* 314 */
/***/ ((module) => {

module.exports = function InputCtrl($scope) {

  $scope.press = function(key) {
    $scope.control.keyPress(key)
  }
}


/***/ }),
/* 315 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/**
* Copyright © 2023 contains code contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0
**/

__webpack_require__(316)

module.exports = angular.module('stf.port-forwarding', [
  (__webpack_require__(61).name)
])
  .run(['$templateCache', function($templateCache) {
    $templateCache.put(
      'control-panes/advanced/port-forwarding/port-forwarding.pug',
      __webpack_require__(318)
    )
  }])
  .controller('PortForwardingCtrl', __webpack_require__(319))


/***/ }),
/* 316 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14);
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(15);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(17);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(18);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(19);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_port_forwarding_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(317);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_port_forwarding_css__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_cjs_js_port_forwarding_css__WEBPACK_IMPORTED_MODULE_6__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_css_loader_dist_cjs_js_port_forwarding_css__WEBPACK_IMPORTED_MODULE_6__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_css_loader_dist_cjs_js_port_forwarding_css__WEBPACK_IMPORTED_MODULE_6__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()((_node_modules_css_loader_dist_cjs_js_port_forwarding_css__WEBPACK_IMPORTED_MODULE_6___default()), options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((_node_modules_css_loader_dist_cjs_js_port_forwarding_css__WEBPACK_IMPORTED_MODULE_6___default()) && (_node_modules_css_loader_dist_cjs_js_port_forwarding_css__WEBPACK_IMPORTED_MODULE_6___default().locals) ? (_node_modules_css_loader_dist_cjs_js_port_forwarding_css__WEBPACK_IMPORTED_MODULE_6___default().locals) : undefined);


/***/ }),
/* 317 */
/***/ ((module, exports, __webpack_require__) => {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(21);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.id, ".stf-port-forwarding {\n\n}\n\n.stf-port-forwarding .padded {\n  padding-top: 0;\n}\n\n.stf-port-forwarding table {\n  white-space: nowrap;\n}\n\n.stf-port-forwarding .port-forwarding-image {\n  text-align: center;\n  color: #b7b7b7;\n  padding-bottom: 4px;\n}\n\n.stf-port-forwarding .port-forwarding-image .fa-arrow-right {\n  vertical-align: 38%;\n  margin-right: 6px;\n}\n", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 318 */
/***/ ((module) => {

module.exports = "<!--Copyright © 2023 contains code contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0--><!----><div ng-controller=\"PortForwardingCtrl\" class=\"widget-container fluid-height stf-port-forwarding\"><div class=\"heading\"><span><stacked-icon icon=\"fa-random\" color=\"color-orange\"></stacked-icon><span translate=\"translate\" class=\"pointer\">Port Forwarding</span><button ng-click=\"addRow()\" class=\"btn pull-right btn-sm btn-primary-outline\"><i class=\"fa fa-plus fa-fw\"></i></button></span></div><div class=\"widget-content padded\"><nothing-to-show icon=\"fa-random\" message=\"{{&quot;No Ports Forwarded&quot; | translate}}\" ng-if=\"!reversePortForwards.length\"></nothing-to-show><div ng-show=\"reversePortForwards.length\"><div class=\"port-forwarding-image\"><i title=\"{{&quot;Device&quot;|translate}}\" class=\"fa fa-mobile fa-2x fa-fw\"></i><i class=\"fa fa-arrow-right fa-fw\"></i><i title=\"{{&quot;Host&quot;|translate}}\" class=\"fa fa-laptop fa-2x fa-fw\"></i></div><form editable-form=\"editable-form\" name=\"portsform\" onaftersave=\"saveTable()\" oncancel=\"cancel()\"><table class=\"table table-condensed\"><thead><tr><th colspan=\"1\"><span translate=\"translate\">Device</span></th><th colspan=\"3\"><span translate=\"translate\">Host</span></th><th colspan=\"1\"></th></tr></thead><tbody><tr ng-repeat=\"forward in reversePortForwards track by $index\"><td width=\"35%\"><div class=\"input-group input-group-sm\"><span class=\"input-group-addon\"><input type=\"checkbox\" ng-model=\"forward.enabled\" ng-change=\"applyForward(forward)\"/></span><input type=\"text\" min=\"0\" ng-disabled=\"forward.enabled\" ng-model=\"forward.devicePort\" ng-model-options=\"{ updateOn: 'default blur' }\" placeholder=\"{{&quot;Port&quot;|translate}}\" ng-change=\"disableForward(forward)\" class=\"form-control\"/></div></td><td width=\"40%\"><input type=\"text\" ng-disabled=\"forward.enabled\" ng-model=\"forward.targetHost\" ng-model-options=\"{ updateOn: 'default blur' }\" placeholder=\"{{&quot;Hostname&quot;|translate}}\" ng-change=\"disableForward(forward)\" class=\"form-control input-sm\"/></td><td><span>:</span></td><td width=\"25%\"><input type=\"text\" min=\"0\" ng-disabled=\"forward.enabled\" ng-model=\"forward.targetPort\" ng-model-options=\"{ updateOn: 'default blur' }\" placeholder=\"{{&quot;Port&quot;|translate}}\" ng-change=\"disableForward(forward)\" class=\"form-control input-sm\"/></td><td><button ng-click=\"removeRow(forward)\" class=\"btn btn-sm btn-danger-outline\"><i class=\"fa fa-trash-o\"></i></button></td></tr></tbody></table></form></div></div></div>"

/***/ }),
/* 319 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/**
* Copyright © 2023 contains code contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0
**/

var uuid = __webpack_require__(200)
var Promise = __webpack_require__(192)

module.exports = function PortForwardingCtrl(
  $scope
) {
  function defaults(id) {
    return {
      id: id
    , targetHost: 'localhost'
    , targetPort: 8080
    , devicePort: 8080
    , enabled: false
    }
  }

  $scope.reversePortForwards = [defaults('_default')]

  $scope.$watch('device.reverseForwards', function(newValue) {
    let map = Object.create(null)

    if (newValue) {
      newValue.forEach(function(forward) {
        map[forward.id] = forward
      })

     $scope.reversePortForwards.forEach(function(forward) {
       let deviceForward = map[forward.id]

       if (deviceForward) {
         forward.enabled = !!(deviceForward.id === forward.id &&
           deviceForward.devicePort === Number(forward.devicePort))
       }
       else if (forward.enabled) {
         $scope.removeRow(forward)
       }
     })
    }
  })

  $scope.applyForward = function(forward) {
    return forward.enabled ?
      $scope.control.createForward(forward) :
      $scope.control.removeForward(forward)
  }

  $scope.enableForward = function(forward) {
    if (forward.enabled) {
      return Promise.resolve()
    }

    return $scope.control.createForward(forward)
  }

  $scope.disableForward = function(forward) {
    if (!forward.enabled) {
      return Promise.resolve()
    }

    return $scope.control.removeForward(forward)
  }

  $scope.addRow = function() {
    $scope.reversePortForwards.push(defaults(uuid.v4()))
  }

  $scope.removeRow = function(forward) {
    $scope.disableForward(forward)
    $scope.reversePortForwards.splice(
      $scope.reversePortForwards.indexOf(forward), 1)
  }
}


/***/ }),
/* 320 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = angular.module('stf.advanced.maintenance', [
  (__webpack_require__(9).name)
])
  .run(['$templateCache', function($templateCache) {
    $templateCache.put('control-panes/advanced/maintenance/maintenance.pug',
      __webpack_require__(321)
    )
  }])
  .controller('MaintenanceCtrl', __webpack_require__(322))


/***/ }),
/* 321 */
/***/ ((module) => {

module.exports = "<div ng-controller=\"MaintenanceCtrl\" class=\"widget-container fluid-height\"><div class=\"heading\"><stacked-icon icon=\"fa-gears\" color=\"color-darkgray\"></stacked-icon><span translate=\"translate\">Maintenance</span><div class=\"pull-right\"></div></div><div class=\"widget-content padded\"><button ng-click=\"reboot()\" class=\"btn btn-sm btn-danger\"><i class=\"fa fa-refresh\"></i><span translate=\"translate\">Restart Device</span></button></div></div>"

/***/ }),
/* 322 */
/***/ ((module) => {

module.exports = function($scope, gettext, $filter) {

  $scope.reboot = function() {
    var config = {
      rebootEnabled: true
    }

    /* eslint no-console: 0 */
    if (config.rebootEnabled) {
      var line1 = $filter('translate')(gettext('Are you sure you want to reboot this device?'))
      var line2 = $filter('translate')(gettext('The device will be unavailable for a moment.'))
      if (confirm(line1 + '\n' + line2)) {
        $scope.control.reboot().then(function(result) {
          console.error(result)
        })
      }
    }
  }

}


/***/ }),
/* 323 */
/***/ ((module) => {

module.exports = "<div class=\"row\"><!--.col-md-12div(ng-include='\"control-panes/advanced/run-js/run-js.pug\"')--><div class=\"col-md-6\"><div ng-include=\"&quot;control-panes/advanced/input/input.pug&quot;\"></div></div><div class=\"col-md-6\"><div ng-include=\"&quot;control-panes/advanced/port-forwarding/port-forwarding.pug&quot;\"></div></div></div><div class=\"row\"><!--.col-md-6--><!--  div(ng-include='\"control-panes/advanced/vnc/vnc.pug\"')--><div class=\"col-md-6\"><div ng-include=\"&quot;control-panes/advanced/maintenance/maintenance.pug&quot;\"></div></div></div>"

/***/ }),
/* 324 */
/***/ ((module) => {

module.exports = function AdvancedCtrl() {

}


/***/ }),
/* 325 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = angular.module('stf.automation', [
  (__webpack_require__(326).name),
  (__webpack_require__(334).name)
])
  .run(['$templateCache', function($templateCache) {
    $templateCache.put(
      'control-panes/automation/automation.pug'
      , __webpack_require__(339)
    )
  }])


/***/ }),
/* 326 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

__webpack_require__(327)
__webpack_require__(329)

module.exports = angular.module('stf.store-account', [
  'angular-ladda',
  (__webpack_require__(61).name)
])
  .run(['$templateCache', function($templateCache) {
    $templateCache.put('control-panes/automation/store-account/store-account.pug',
      __webpack_require__(332)
    )
  }])
  .controller('StoreAccountCtrl', __webpack_require__(333))


/***/ }),
/* 327 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14);
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(15);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(17);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(18);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(19);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_store_account_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(328);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_store_account_css__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_cjs_js_store_account_css__WEBPACK_IMPORTED_MODULE_6__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_css_loader_dist_cjs_js_store_account_css__WEBPACK_IMPORTED_MODULE_6__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_css_loader_dist_cjs_js_store_account_css__WEBPACK_IMPORTED_MODULE_6__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()((_node_modules_css_loader_dist_cjs_js_store_account_css__WEBPACK_IMPORTED_MODULE_6___default()), options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((_node_modules_css_loader_dist_cjs_js_store_account_css__WEBPACK_IMPORTED_MODULE_6___default()) && (_node_modules_css_loader_dist_cjs_js_store_account_css__WEBPACK_IMPORTED_MODULE_6___default().locals) ? (_node_modules_css_loader_dist_cjs_js_store_account_css__WEBPACK_IMPORTED_MODULE_6___default().locals) : undefined);


/***/ }),
/* 328 */
/***/ ((module, exports, __webpack_require__) => {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(21);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.id, ".stf-store-account {\n\n}\n\n.stf-store-account .appstore-icon {\n  width: 16px;\n  height: 16px;\n}\n", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 329 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*! angular-ladda 0.3.4 */
/**!
 * AngularJS Ladda directive
 * @author Chungsub Kim <subicura@subicura.com>
 */

/* global Ladda */
/* exported Ladda */
(function (root, factory)
{
  'use strict';
  if (true) {
    // AMD. Register as an anonymous module.
    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(3), __webpack_require__(330)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
		__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
		(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
  } else // removed by dead control flow
{}
}(this, function (angular, Ladda){
  'use strict';

  var moduleName = 'angular-ladda';
  
  angular.module(moduleName, [])
    .provider('ladda', function () {
      var opts = {
        'style': 'zoom-in'
      };
      return {
        setOption: function (newOpts) {
          angular.extend(opts, newOpts);
        },
        $get: function () {
          return opts;
        }
      };
    })
    .directive('ladda', ['ladda', function (laddaOption) {
      return {
        restrict: 'A',
        priority: -1,
        link: function (scope, element, attrs) {
          element.addClass('ladda-button');
          if(angular.isUndefined(element.attr('data-style'))) {
            element.attr('data-style', laddaOption.style || 'zoom-in');
          }
          if(angular.isUndefined(element.attr('data-spinner-size')) && laddaOption.spinnerSize) {
            element.attr('data-spinner-size', laddaOption.spinnerSize);
          }
          if(angular.isUndefined(element.attr('data-spinner-color')) && laddaOption.spinnerColor) {
            element.attr('data-spinner-color', laddaOption.spinnerColor);
          }

          // ladda breaks childNode's event property.
          // because ladda use innerHTML instead of append node
          if(!element[0].querySelector('.ladda-label')) {
            var labelWrapper = document.createElement('span');
            labelWrapper.className = 'ladda-label';
            angular.element(labelWrapper).append(element.contents());
            element.append(labelWrapper);
          }

          // create ladda button
          var ladda = Ladda.create( element[0] );

          // add watch!
          scope.$watch(attrs.ladda, function(loading) {
            if(!loading && !angular.isNumber(loading)) {
              ladda.stop();
              // When the button also have the ng-disabled directive it needs to be
              // re-evaluated since the disabled attribute is removed by the 'stop' method.
              if (attrs.ngDisabled) {
                element.attr('disabled', scope.$eval(attrs.ngDisabled));
              }
              return;
            }
            if(!ladda.isLoading()) {
              ladda.start();
            }
            if(angular.isNumber(loading)) {
              ladda.setProgress(loading);
            }
          });
          
          // use remove on scope destroy to stop memory leaks 
          scope.$on('$destroy', function () {
              ladda.remove();
          });
        }
      };
    }]);
    
  return moduleName;
}));


/***/ }),
/* 330 */
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

/*!
 * Ladda
 * http://lab.hakim.se/ladda
 * MIT licensed
 *
 * Copyright (C) 2015 Hakim El Hattab, http://hakim.se
 */
/* jshint node:true, browser:true */
(function( root, factory ) {

	// CommonJS
	if( true )  {
		module.exports = factory(__webpack_require__(331));
	}
	// AMD module
	else // removed by dead control flow
{}

}
(this, function( Spinner ) {
	'use strict';

	// All currently instantiated instances of Ladda
	var ALL_INSTANCES = [];

	/**
	 * Creates a new instance of Ladda which wraps the
	 * target button element.
	 *
	 * @return An API object that can be used to control
	 * the loading animation state.
	 */
	function create( button ) {

		if( typeof button === 'undefined' ) {
			console.warn( "Ladda button target must be defined." );
			return;
		}

		// The text contents must be wrapped in a ladda-label
		// element, create one if it doesn't already exist
		if( !button.querySelector( '.ladda-label' ) ) {
			button.innerHTML = '<span class="ladda-label">'+ button.innerHTML +'</span>';
		}

		// The spinner component
		var spinner,
			spinnerWrapper = button.querySelector( '.ladda-spinner' );

		// Wrapper element for the spinner
		if( !spinnerWrapper ) {
			spinnerWrapper = document.createElement( 'span' );
			spinnerWrapper.className = 'ladda-spinner';
		}

		button.appendChild( spinnerWrapper );

		// Timer used to delay starting/stopping
		var timer;

		var instance = {

			/**
			 * Enter the loading state.
			 */
			start: function() {

				// Create the spinner if it doesn't already exist
				if( !spinner ) spinner = createSpinner( button );

				button.setAttribute( 'disabled', '' );
				button.setAttribute( 'data-loading', '' );

				clearTimeout( timer );
				spinner.spin( spinnerWrapper );

				this.setProgress( 0 );

				return this; // chain

			},

			/**
			 * Enter the loading state, after a delay.
			 */
			startAfter: function( delay ) {

				clearTimeout( timer );
				timer = setTimeout( function() { instance.start(); }, delay );

				return this; // chain

			},

			/**
			 * Exit the loading state.
			 */
			stop: function() {

				button.removeAttribute( 'disabled' );
				button.removeAttribute( 'data-loading' );

				// Kill the animation after a delay to make sure it
				// runs for the duration of the button transition
				clearTimeout( timer );

				if( spinner ) {
					timer = setTimeout( function() { spinner.stop(); }, 1000 );
				}

				return this; // chain

			},

			/**
			 * Toggle the loading state on/off.
			 */
			toggle: function() {

				if( this.isLoading() ) {
					this.stop();
				}
				else {
					this.start();
				}

				return this; // chain

			},

			/**
			 * Sets the width of the visual progress bar inside of
			 * this Ladda button
			 *
			 * @param {Number} progress in the range of 0-1
			 */
			setProgress: function( progress ) {

				// Cap it
				progress = Math.max( Math.min( progress, 1 ), 0 );

				var progressElement = button.querySelector( '.ladda-progress' );

				// Remove the progress bar if we're at 0 progress
				if( progress === 0 && progressElement && progressElement.parentNode ) {
					progressElement.parentNode.removeChild( progressElement );
				}
				else {
					if( !progressElement ) {
						progressElement = document.createElement( 'div' );
						progressElement.className = 'ladda-progress';
						button.appendChild( progressElement );
					}

					progressElement.style.width = ( ( progress || 0 ) * button.offsetWidth ) + 'px';
				}

			},

			enable: function() {

				this.stop();

				return this; // chain

			},

			disable: function () {

				this.stop();
				button.setAttribute( 'disabled', '' );

				return this; // chain

			},

			isLoading: function() {

				return button.hasAttribute( 'data-loading' );

			},

			remove: function() {

				clearTimeout( timer );

				button.removeAttribute( 'disabled', '' );
				button.removeAttribute( 'data-loading', '' );

				if( spinner ) {
					spinner.stop();
					spinner = null;
				}

				for( var i = 0, len = ALL_INSTANCES.length; i < len; i++ ) {
					if( instance === ALL_INSTANCES[i] ) {
						ALL_INSTANCES.splice( i, 1 );
						break;
					}
				}

			}

		};

		ALL_INSTANCES.push( instance );

		return instance;

	}

	/**
	* Get the first ancestor node from an element, having a
	* certain type.
	*
	* @param elem An HTML element
	* @param type an HTML tag type (uppercased)
	*
	* @return An HTML element
	*/
	function getAncestorOfTagType( elem, type ) {

		while ( elem.parentNode && elem.tagName !== type ) {
			elem = elem.parentNode;
		}

		return ( type === elem.tagName ) ? elem : undefined;

	}

	/**
	 * Returns a list of all inputs in the given form that
	 * have their `required` attribute set.
	 *
	 * @param form The from HTML element to look in
	 *
	 * @return A list of elements
	 */
	function getRequiredFields( form ) {

		var requirables = [ 'input', 'textarea', 'select' ];
		var inputs = [];

		for( var i = 0; i < requirables.length; i++ ) {
			var candidates = form.getElementsByTagName( requirables[i] );
			for( var j = 0; j < candidates.length; j++ ) {
				if ( candidates[j].hasAttribute( 'required' ) ) {
					inputs.push( candidates[j] );
				}
			}
		}

		return inputs;

	}


	/**
	 * Binds the target buttons to automatically enter the
	 * loading state when clicked.
	 *
	 * @param target Either an HTML element or a CSS selector.
	 * @param options
	 *          - timeout Number of milliseconds to wait before
	 *            automatically cancelling the animation.
	 */
	function bind( target, options ) {

		options = options || {};

		var targets = [];

		if( typeof target === 'string' ) {
			targets = toArray( document.querySelectorAll( target ) );
		}
		else if( typeof target === 'object' && typeof target.nodeName === 'string' ) {
			targets = [ target ];
		}

		for( var i = 0, len = targets.length; i < len; i++ ) {

			(function() {
				var element = targets[i];

				// Make sure we're working with a DOM element
				if( typeof element.addEventListener === 'function' ) {
					var instance = create( element );
					var timeout = -1;

					element.addEventListener( 'click', function( event ) {

						// If the button belongs to a form, make sure all the
						// fields in that form are filled out
						var valid = true;
						var form = getAncestorOfTagType( element, 'FORM' );

						if( typeof form !== 'undefined' ) {
							var requireds = getRequiredFields( form );
							for( var i = 0; i < requireds.length; i++ ) {

								// Alternatively to this trim() check,
								// we could have use .checkValidity() or .validity.valid
								if( requireds[i].value.replace( /^\s+|\s+$/g, '' ) === '' ) {
									valid = false;
								}

								// Radiobuttons and Checkboxes need to be checked for the "checked" attribute
								if( (requireds[i].type === 'checkbox' || requireds[i].type === 'radio' ) && !requireds[i].checked ) {
									valid = false;
								}

								// Email field validation, otherwise button starts spinning although field is not complete
								if( requireds[i].type === 'email' ) {
									valid = /^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/.test( requireds[i].value );
								}

							}
						}

						if( valid ) {
							// This is asynchronous to avoid an issue where setting
							// the disabled attribute on the button prevents forms
							// from submitting
							instance.startAfter( 1 );

							// Set a loading timeout if one is specified
							if( typeof options.timeout === 'number' ) {
								clearTimeout( timeout );
								timeout = setTimeout( instance.stop, options.timeout );
							}

							// Invoke callbacks
							if( typeof options.callback === 'function' ) {
								options.callback.apply( null, [ instance ] );
							}
						}

					}, false );
				}
			})();

		}

	}

	/**
	 * Stops ALL current loading animations.
	 */
	function stopAll() {

		for( var i = 0, len = ALL_INSTANCES.length; i < len; i++ ) {
			ALL_INSTANCES[i].stop();
		}

	}

	function createSpinner( button ) {

		var height = button.offsetHeight,
			spinnerColor;

		if( height === 0 ) {
			// We may have an element that is not visible so
			// we attempt to get the height in a different way
			height = parseFloat( window.getComputedStyle( button ).height );
		}

		// If the button is tall we can afford some padding
		if( height > 32 ) {
			height *= 0.8;
		}

		// Prefer an explicit height if one is defined
		if( button.hasAttribute( 'data-spinner-size' ) ) {
			height = parseInt( button.getAttribute( 'data-spinner-size' ), 10 );
		}

		// Allow buttons to specify the color of the spinner element
		if( button.hasAttribute( 'data-spinner-color' ) ) {
			spinnerColor = button.getAttribute( 'data-spinner-color' );
		}

		var lines = 12,
			radius = height * 0.2,
			length = radius * 0.6,
			width = radius < 7 ? 2 : 3;

		return new Spinner( {
			color: spinnerColor || '#fff',
			lines: lines,
			radius: radius,
			length: length,
			width: width,
			zIndex: 'auto',
			top: 'auto',
			left: 'auto',
			className: ''
		} );

	}

	function toArray( nodes ) {

		var a = [];

		for ( var i = 0; i < nodes.length; i++ ) {
			a.push( nodes[ i ] );
		}

		return a;

	}

	// Public API
	return {

		bind: bind,
		create: create,
		stopAll: stopAll

	};

}));


/***/ }),
/* 331 */
/***/ (function(module) {

/**
 * Copyright (c) 2011-2014 Felix Gnass
 * Licensed under the MIT license
 */
(function(root, factory) {

  /* CommonJS */
  if (true)  module.exports = factory()

  /* AMD module */
  else // removed by dead control flow
{}
}
(this, function() {
  "use strict";

  var prefixes = ['webkit', 'Moz', 'ms', 'O'] /* Vendor prefixes */
    , animations = {} /* Animation rules keyed by their name */
    , useCssAnimations /* Whether to use CSS animations or setTimeout */

  /**
   * Utility function to create elements. If no tag name is given,
   * a DIV is created. Optionally properties can be passed.
   */
  function createEl(tag, prop) {
    var el = document.createElement(tag || 'div')
      , n

    for(n in prop) el[n] = prop[n]
    return el
  }

  /**
   * Appends children and returns the parent.
   */
  function ins(parent /* child1, child2, ...*/) {
    for (var i=1, n=arguments.length; i<n; i++)
      parent.appendChild(arguments[i])

    return parent
  }

  /**
   * Insert a new stylesheet to hold the @keyframe or VML rules.
   */
  var sheet = (function() {
    var el = createEl('style', {type : 'text/css'})
    ins(document.getElementsByTagName('head')[0], el)
    return el.sheet || el.styleSheet
  }())

  /**
   * Creates an opacity keyframe animation rule and returns its name.
   * Since most mobile Webkits have timing issues with animation-delay,
   * we create separate rules for each line/segment.
   */
  function addAnimation(alpha, trail, i, lines) {
    var name = ['opacity', trail, ~~(alpha*100), i, lines].join('-')
      , start = 0.01 + i/lines * 100
      , z = Math.max(1 - (1-alpha) / trail * (100-start), alpha)
      , prefix = useCssAnimations.substring(0, useCssAnimations.indexOf('Animation')).toLowerCase()
      , pre = prefix && '-' + prefix + '-' || ''

    if (!animations[name]) {
      sheet.insertRule(
        '@' + pre + 'keyframes ' + name + '{' +
        '0%{opacity:' + z + '}' +
        start + '%{opacity:' + alpha + '}' +
        (start+0.01) + '%{opacity:1}' +
        (start+trail) % 100 + '%{opacity:' + alpha + '}' +
        '100%{opacity:' + z + '}' +
        '}', sheet.cssRules.length)

      animations[name] = 1
    }

    return name
  }

  /**
   * Tries various vendor prefixes and returns the first supported property.
   */
  function vendor(el, prop) {
    var s = el.style
      , pp
      , i

    prop = prop.charAt(0).toUpperCase() + prop.slice(1)
    for(i=0; i<prefixes.length; i++) {
      pp = prefixes[i]+prop
      if(s[pp] !== undefined) return pp
    }
    if(s[prop] !== undefined) return prop
  }

  /**
   * Sets multiple style properties at once.
   */
  function css(el, prop) {
    for (var n in prop)
      el.style[vendor(el, n)||n] = prop[n]

    return el
  }

  /**
   * Fills in default values.
   */
  function merge(obj) {
    for (var i=1; i < arguments.length; i++) {
      var def = arguments[i]
      for (var n in def)
        if (obj[n] === undefined) obj[n] = def[n]
    }
    return obj
  }

  /**
   * Returns the line color from the given string or array.
   */
  function getColor(color, idx) {
    return typeof color == 'string' ? color : color[idx % color.length]
  }

  // Built-in defaults

  var defaults = {
    lines: 12,            // The number of lines to draw
    length: 7,            // The length of each line
    width: 5,             // The line thickness
    radius: 10,           // The radius of the inner circle
    rotate: 0,            // Rotation offset
    corners: 1,           // Roundness (0..1)
    color: '#000',        // #rgb or #rrggbb
    direction: 1,         // 1: clockwise, -1: counterclockwise
    speed: 1,             // Rounds per second
    trail: 100,           // Afterglow percentage
    opacity: 1/4,         // Opacity of the lines
    fps: 20,              // Frames per second when using setTimeout()
    zIndex: 2e9,          // Use a high z-index by default
    className: 'spinner', // CSS class to assign to the element
    top: '50%',           // center vertically
    left: '50%',          // center horizontally
    position: 'absolute'  // element position
  }

  /** The constructor */
  function Spinner(o) {
    this.opts = merge(o || {}, Spinner.defaults, defaults)
  }

  // Global defaults that override the built-ins:
  Spinner.defaults = {}

  merge(Spinner.prototype, {

    /**
     * Adds the spinner to the given target element. If this instance is already
     * spinning, it is automatically removed from its previous target b calling
     * stop() internally.
     */
    spin: function(target) {
      this.stop()

      var self = this
        , o = self.opts
        , el = self.el = css(createEl(0, {className: o.className}), {position: o.position, width: 0, zIndex: o.zIndex})

      css(el, {
        left: o.left,
        top: o.top
      })
        
      if (target) {
        target.insertBefore(el, target.firstChild||null)
      }

      el.setAttribute('role', 'progressbar')
      self.lines(el, self.opts)

      if (!useCssAnimations) {
        // No CSS animation support, use setTimeout() instead
        var i = 0
          , start = (o.lines - 1) * (1 - o.direction) / 2
          , alpha
          , fps = o.fps
          , f = fps/o.speed
          , ostep = (1-o.opacity) / (f*o.trail / 100)
          , astep = f/o.lines

        ;(function anim() {
          i++;
          for (var j = 0; j < o.lines; j++) {
            alpha = Math.max(1 - (i + (o.lines - j) * astep) % f * ostep, o.opacity)

            self.opacity(el, j * o.direction + start, alpha, o)
          }
          self.timeout = self.el && setTimeout(anim, ~~(1000/fps))
        })()
      }
      return self
    },

    /**
     * Stops and removes the Spinner.
     */
    stop: function() {
      var el = this.el
      if (el) {
        clearTimeout(this.timeout)
        if (el.parentNode) el.parentNode.removeChild(el)
        this.el = undefined
      }
      return this
    },

    /**
     * Internal method that draws the individual lines. Will be overwritten
     * in VML fallback mode below.
     */
    lines: function(el, o) {
      var i = 0
        , start = (o.lines - 1) * (1 - o.direction) / 2
        , seg

      function fill(color, shadow) {
        return css(createEl(), {
          position: 'absolute',
          width: (o.length+o.width) + 'px',
          height: o.width + 'px',
          background: color,
          boxShadow: shadow,
          transformOrigin: 'left',
          transform: 'rotate(' + ~~(360/o.lines*i+o.rotate) + 'deg) translate(' + o.radius+'px' +',0)',
          borderRadius: (o.corners * o.width>>1) + 'px'
        })
      }

      for (; i < o.lines; i++) {
        seg = css(createEl(), {
          position: 'absolute',
          top: 1+~(o.width/2) + 'px',
          transform: o.hwaccel ? 'translate3d(0,0,0)' : '',
          opacity: o.opacity,
          animation: useCssAnimations && addAnimation(o.opacity, o.trail, start + i * o.direction, o.lines) + ' ' + 1/o.speed + 's linear infinite'
        })

        if (o.shadow) ins(seg, css(fill('#000', '0 0 4px ' + '#000'), {top: 2+'px'}))
        ins(el, ins(seg, fill(getColor(o.color, i), '0 0 1px rgba(0,0,0,.1)')))
      }
      return el
    },

    /**
     * Internal method that adjusts the opacity of a single line.
     * Will be overwritten in VML fallback mode below.
     */
    opacity: function(el, i, val) {
      if (i < el.childNodes.length) el.childNodes[i].style.opacity = val
    }

  })


  function initVML() {

    /* Utility function to create a VML tag */
    function vml(tag, attr) {
      return createEl('<' + tag + ' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">', attr)
    }

    // No CSS transforms but VML support, add a CSS rule for VML elements:
    sheet.addRule('.spin-vml', 'behavior:url(#default#VML)')

    Spinner.prototype.lines = function(el, o) {
      var r = o.length+o.width
        , s = 2*r

      function grp() {
        return css(
          vml('group', {
            coordsize: s + ' ' + s,
            coordorigin: -r + ' ' + -r
          }),
          { width: s, height: s }
        )
      }

      var margin = -(o.width+o.length)*2 + 'px'
        , g = css(grp(), {position: 'absolute', top: margin, left: margin})
        , i

      function seg(i, dx, filter) {
        ins(g,
          ins(css(grp(), {rotation: 360 / o.lines * i + 'deg', left: ~~dx}),
            ins(css(vml('roundrect', {arcsize: o.corners}), {
                width: r,
                height: o.width,
                left: o.radius,
                top: -o.width>>1,
                filter: filter
              }),
              vml('fill', {color: getColor(o.color, i), opacity: o.opacity}),
              vml('stroke', {opacity: 0}) // transparent stroke to fix color bleeding upon opacity change
            )
          )
        )
      }

      if (o.shadow)
        for (i = 1; i <= o.lines; i++)
          seg(i, -2, 'progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)')

      for (i = 1; i <= o.lines; i++) seg(i)
      return ins(el, g)
    }

    Spinner.prototype.opacity = function(el, i, val, o) {
      var c = el.firstChild
      o = o.shadow && o.lines || 0
      if (c && i+o < c.childNodes.length) {
        c = c.childNodes[i+o]; c = c && c.firstChild; c = c && c.firstChild
        if (c) c.opacity = val
      }
    }
  }

  var probe = css(createEl('group'), {behavior: 'url(#default#VML)'})

  if (!vendor(probe, 'transform') && probe.adj) initVML()
  else useCssAnimations = vendor(probe, 'animation')

  return Spinner

}));


/***/ }),
/* 332 */
/***/ ((module) => {

module.exports = "<div ng-controller=\"StoreAccountCtrl\" class=\"widget-container fluid-height stf-store-account\"><div class=\"heading\"><stacked-icon icon=\"fa-cloud\" color=\"color-skyblue\"></stacked-icon><span translate=\"translate\">Store Account</span><button ng-click=\"control.openStore()\" uib-tooltip=\"{{&quot;App Store&quot; | translate}}\" tooltip-placement=\"bottom\" class=\"btn btn-sm btn-primary-outline pull-right\"><i class=\"fa fa-shopping-cart\"></i></button></div><div class=\"widget-content padded\"><div><form name=\"storeLogin\" novalidate=\"novalidate\" enable-autofill=\"enable-autofill\"><div class=\"form-group\"><div class=\"input-group\"><span class=\"input-group-addon\"><i class=\"fa fa-user fa-fw\"></i></span><input ng-model=\"username\" name=\"username\" required=\"required\" type=\"text\" placeholder=\"{{&quot;Username&quot;|translate}}\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" autocomplete=\"store-login username\" class=\"form-control\"/></div><div ng-show=\"storeLogin.username.$dirty &amp;&amp; storeLogin.username.$invalid\" class=\"alert alert-warning\"><span ng-show=\"storeLogin.username.$error.required\" translate=\"translate\">Please enter your Store username</span></div></div><div class=\"form-group\"><div class=\"input-group\"><span class=\"input-group-addon\"><i class=\"fa fa-lock fa-fw\"></i></span><input ng-model=\"password\" name=\"password\" required=\"required\" type=\"password\" placeholder=\"{{&quot;Password&quot;|translate}}\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" autocomplete=\"store-login password\" class=\"form-control\"/></div><div ng-show=\"storeLogin.password.$dirty &amp;&amp; storeLogin.password.$invalid\" class=\"alert alert-warning\"><span translate=\"translate\">Please enter your Store password</span></div></div><div class=\"btn-group\"><label ng-repeat=\"a in deviceAppStores track by a.id\" ng-model=\"currentAppStore\" uib-btn-radio=\"currentAppStore\" uib-tooltip=\"{{a.name}}\" class=\"btn btn-sm btn-default-outline\"><img ng-src=\"/static/app/appstores/icon/24x24/{{a.type}}.png\" ng-show=\"a.type\" class=\"appstore-icon pointer\"/></label></div><!-- TODO: ladda disabled for now because of a gettext bug--><button ng-click=\"addAccount()\" ng-disabled=\"storeLogin.$invalid\" ladda-DISABLED=\"addingAccount\" data-style=\"expand-left\" data-spinner-color=\"#157afb\" class=\"btn btn-sm btn-primary-outline pull-right\"><i ng-show=\"addingAccount\" class=\"fa fa-spinner fa-spin fa-fw\"></i><i class=\"fa fa-sign-in fa-fw\"></i><span translate=\"translate\">Sign In</span></button></form><table ng-show=\"accountsList.length\" class=\"table table-striped\"><thead><tr><th><span translate=\"translate\">Account</span></th><th><span translate=\"translate\">Actions</span></th></tr></thead><tbody><tr ng-repeat=\"account in accountsList\"><td><i class=\"fa fa-user fa-fw\"></i><span ng-bind=\"account\" class=\"selectable\"></span></td><td><button ng-click=\"removeAccount(account)\" class=\"btn btn-xs btn-danger-outline\"><i class=\"fa fa-sign-out\"></i><span translate=\"translate\">Sign Out</span></button></td></tr></tbody></table></div></div></div>"

/***/ }),
/* 333 */
/***/ ((module) => {

module.exports = function StoreAccountCtrl($scope, ngTableParams, $timeout) {
  // TODO: This should come from the DB
  $scope.currentAppStore = 'google-play-store'
  $scope.deviceAppStores = {
    'google-play-store': {
      type: 'google-play-store',
      name: 'Google Play Store',
      package: 'com.google'
    }
  }

  $scope.addingAccount = false

  $scope.addAccount = function() {
    $scope.addingAccount = true
    var user = $scope.storeLogin.username.$modelValue
    var pass = $scope.storeLogin.password.$modelValue

    $scope.control.addAccount(user, pass).then(function() {
    }).catch(function(result) {
      throw new Error('Adding account failed', result)
    }).finally(function() {
      $scope.addingAccount = false
      $timeout(function() {
        getAccounts()
      }, 500)
    })
  }

  $scope.removeAccount = function(account) {
    var storeAccountType = $scope.deviceAppStores[$scope.currentAppStore].package
    $scope.control.removeAccount(storeAccountType, account)
      .then(function() {
        getAccounts()
      })
      .catch(function(result) {
        throw new Error('Removing account failed', result)
      })
  }

  function getAccounts() {
    var storeAccountType = $scope.deviceAppStores[$scope.currentAppStore].package
    if ($scope.control) {
      $scope.control.getAccounts(storeAccountType).then(function(result) {
        $scope.safeApply(function() {
          $scope.accountsList = result.body
        })
      })
    }
  }

  getAccounts()
}


/***/ }),
/* 334 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

__webpack_require__(335)

module.exports = angular.module('stf.device-settings', [

])
  .run(['$templateCache', function($templateCache) {
    $templateCache.put('control-panes/automation/device-settings/device-settings.pug',
      __webpack_require__(337)
    )
  }])
  .controller('DeviceSettingsCtrl', __webpack_require__(338))


/***/ }),
/* 335 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14);
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(15);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(17);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(18);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(19);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_device_settings_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(336);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_device_settings_css__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_cjs_js_device_settings_css__WEBPACK_IMPORTED_MODULE_6__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_css_loader_dist_cjs_js_device_settings_css__WEBPACK_IMPORTED_MODULE_6__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_css_loader_dist_cjs_js_device_settings_css__WEBPACK_IMPORTED_MODULE_6__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()((_node_modules_css_loader_dist_cjs_js_device_settings_css__WEBPACK_IMPORTED_MODULE_6___default()), options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((_node_modules_css_loader_dist_cjs_js_device_settings_css__WEBPACK_IMPORTED_MODULE_6___default()) && (_node_modules_css_loader_dist_cjs_js_device_settings_css__WEBPACK_IMPORTED_MODULE_6___default().locals) ? (_node_modules_css_loader_dist_cjs_js_device_settings_css__WEBPACK_IMPORTED_MODULE_6___default().locals) : undefined);


/***/ }),
/* 336 */
/***/ ((module, exports, __webpack_require__) => {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(21);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.id, ".stf-device-settings {\n\n}", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 337 */
/***/ ((module) => {

module.exports = "<div ng-controller=\"DeviceSettingsCtrl\" class=\"widget-container fluid-height stf-device-settings\"><div class=\"heading\"><stacked-icon icon=\"fa-gears\" color=\"color-darkgray\"></stacked-icon><span translate=\"translate\">Device Settings</span></div><div class=\"widget-content padded\"><div class=\"row\"><div class=\"col-md-4\"><h6 translate=\"translate\">Manner Mode</h6><div class=\"btn-group\"><label ng-model=\"ringerMode\" uib-btn-radio=\"&quot;SILENT&quot;\" uib-tooltip=\"{{&quot;Silent Mode&quot; | translate}}\" class=\"btn btn-sm btn-primary-outline\"><i class=\"fa fa-volume-off fa-fw\"></i></label><label ng-model=\"ringerMode\" uib-btn-radio=\"&quot;VIBRATE&quot;\" uib-tooltip=\"{{&quot;Vibrate Mode&quot; | translate}}\" class=\"btn btn-sm btn-primary-outline\"><i class=\"fa fa-mobile fa-fw\"></i></label><label ng-model=\"ringerMode\" uib-btn-radio=\"&quot;NORMAL&quot;\" uib-tooltip=\"{{&quot;Normal Mode&quot; | translate}}\" class=\"btn btn-sm btn-primary-outline\"><i class=\"fa fa-volume-up fa-fw\"></i></label></div></div><div class=\"col-md-4\"><h6 translate=\"translate\">WiFi</h6><div class=\"btn-group\"><label ng-model=\"wifiEnabled\" ng-click=\"toggleWifi(false)\" uib-btn-radio=\"false\" uib-tooltip=\"{{&quot;Disable WiFi&quot; | translate}}\" class=\"btn btn-sm btn-primary-outline\"><i class=\"fa fa-power-off fa-fw\"></i></label><label ng-model=\"wifiEnabled\" ng-click=\"toggleWifi(true)\" uib-btn-radio=\"true\" uib-tooltip=\"{{&quot;Enable WiFi&quot; | translate}}\" class=\"btn btn-sm btn-primary-outline\"><i class=\"fa fa-wifi fa-fw\"></i></label></div></div><div class=\"col-md-4\"><h6 translate=\"translate\">Bluetooth</h6><div class=\"btn-group\"><label ng-model=\"bluetoothEnabled\" ng-click=\"toggleBluetooth(false)\" ng-disabled=\"bluetoothPending\" uib-btn-radio=\"false\" uib-tooltip=\"{{&quot;Disable Bluetooth&quot; | translate}}\" class=\"btn btn-sm btn-primary-outline\"><i class=\"fa fa-power-off fa-fw\"></i></label><label ng-model=\"bluetoothEnabled\" ng-click=\"toggleBluetooth(true)\" ng-disabled=\"bluetoothPending\" uib-btn-radio=\"true\" uib-tooltip=\"{{&quot;Enable Bluetooth&quot; | translate}}\" class=\"btn btn-sm btn-primary-outline\"><i class=\"fa fa-bluetooth-b fa-fw\"></i></label><label ng-click=\"cleanBluetoothBondedDevices()\" uib-tooltip=\"{{&quot;Clean Bluetooth bonded devices&quot; | translate}}\" class=\"btn btn-sm btn-primary-outline\"><i class=\"fa fa-trash fa-fw\"></i></label></div></div></div><!--.row.col-md-12\n  h6(translate) Lock Rotation\n\n  button.btn.btn-sm.btn-primary-outline(ng-click='toggleLockRotation()',\n  ng-model='lockRotation', uib-btn-checkbox)\n    i.fa.fa-repeat.fa-fw(ng-show='lockRotation', uib-tooltip='{{\"Unlock Rotation\" | translate}}')\n    i.fa.fa-repeat.fa-fw(ng-hide='lockRotation', uib-tooltip='{{\"Lock Rotation\" | translate}}')--></div></div>"

/***/ }),
/* 338 */
/***/ ((module) => {

module.exports = function DeviceSettingsCtrl($scope, $timeout) {
  $scope.wifiEnabled = true
  $scope.bluetoothEnabled = true
  $scope.bluetoothPending = false

  function getWifiStatus() {
    if ($scope.control) {
      $scope.control.getWifiStatus().then(function(result) {
        $scope.safeApply(function() {
          $scope.wifiEnabled = (result.lastData === 'wifi_enabled')
        })
      })
    }
  }
  getWifiStatus()

  $scope.toggleWifi = function(enable) {
    if ($scope.control) {
      $scope.control.setWifiEnabled(enable)
      $timeout(getWifiStatus, 2500)
    }
  }

  function getBluetoothStatus() {
    if ($scope.control) {
      $scope.bluetoothPending = true
      $scope.control.getBluetoothStatus()
        .then(function(result) {
          $scope.safeApply(function() {
            $scope.bluetoothEnabled = (result.lastData === 'bluetooth_enabled')
          })
      })
      .finally(function() {
        $scope.bluetoothPending = false
      })
    }
  }
  getBluetoothStatus()

  $scope.toggleBluetooth = function(enable) {
    if ($scope.control) {
      $scope.bluetoothPending = true
      $scope.control.setBluetoothEnabled(enable)
        .then(function() {
          $scope.bluetoothEnabled = enable
        })
        .finally(function() {
          $scope.bluetoothPending = false
        })
    }
  }

  $scope.cleanBluetoothBondedDevices = function() {
    if ($scope.control) {
      $scope.control.cleanBluetoothBondedDevices()
    }
  }

  $scope.$watch('ringerMode', function(newValue, oldValue) {
    if (oldValue) {
      if ($scope.control) {
        $scope.control.setRingerMode(newValue)
      }
    }
  })

  function getRingerMode() {
    if ($scope.control) {
      $scope.control.getRingerMode().then(function(result) {
        $scope.safeApply(function() {
          $scope.ringerMode = result.body
        })
      })
    }
  }
  getRingerMode()

}


/***/ }),
/* 339 */
/***/ ((module) => {

module.exports = "<div class=\"row\"><div class=\"col-md-6\"><div ng-include=\"&quot;control-panes/automation/store-account/store-account.pug&quot;\"></div></div><div class=\"col-md-6\"><div ng-include=\"&quot;control-panes/automation/device-settings/device-settings.pug&quot;\"></div></div></div>"

/***/ }),
/* 340 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

__webpack_require__(341)

module.exports = angular.module('stf.performance', [
  (__webpack_require__(343).name)
])
  .run(['$templateCache', function($templateCache) {
    $templateCache.put('control-panes/performance/performance.pug',
      __webpack_require__(349)
    )
  }])
  .controller('PerformanceCtrl', __webpack_require__(350))


/***/ }),
/* 341 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14);
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(15);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(17);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(18);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(19);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_performance_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(342);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_performance_css__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_cjs_js_performance_css__WEBPACK_IMPORTED_MODULE_6__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_css_loader_dist_cjs_js_performance_css__WEBPACK_IMPORTED_MODULE_6__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_css_loader_dist_cjs_js_performance_css__WEBPACK_IMPORTED_MODULE_6__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()((_node_modules_css_loader_dist_cjs_js_performance_css__WEBPACK_IMPORTED_MODULE_6___default()), options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((_node_modules_css_loader_dist_cjs_js_performance_css__WEBPACK_IMPORTED_MODULE_6___default()) && (_node_modules_css_loader_dist_cjs_js_performance_css__WEBPACK_IMPORTED_MODULE_6___default().locals) ? (_node_modules_css_loader_dist_cjs_js_performance_css__WEBPACK_IMPORTED_MODULE_6___default().locals) : undefined);


/***/ }),
/* 342 */
/***/ ((module, exports, __webpack_require__) => {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(21);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.id, ".stf-performance {\n\n}", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 343 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

__webpack_require__(344)

module.exports = angular.module('stf.cpu', [
  (__webpack_require__(346).name)
])
  .run(['$templateCache', function($templateCache) {
    $templateCache.put('control-panes/performance/cpu/cpu.pug',
      __webpack_require__(347)
    )
  }])
  .controller('CpuCtrl', __webpack_require__(348))


/***/ }),
/* 344 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14);
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(15);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(17);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(18);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(19);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_cpu_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(345);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_cpu_css__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_cjs_js_cpu_css__WEBPACK_IMPORTED_MODULE_6__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_css_loader_dist_cjs_js_cpu_css__WEBPACK_IMPORTED_MODULE_6__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_css_loader_dist_cjs_js_cpu_css__WEBPACK_IMPORTED_MODULE_6__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()((_node_modules_css_loader_dist_cjs_js_cpu_css__WEBPACK_IMPORTED_MODULE_6___default()), options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((_node_modules_css_loader_dist_cjs_js_cpu_css__WEBPACK_IMPORTED_MODULE_6___default()) && (_node_modules_css_loader_dist_cjs_js_cpu_css__WEBPACK_IMPORTED_MODULE_6___default().locals) ? (_node_modules_css_loader_dist_cjs_js_cpu_css__WEBPACK_IMPORTED_MODULE_6___default().locals) : undefined);


/***/ }),
/* 345 */
/***/ ((module, exports, __webpack_require__) => {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(21);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.id, ".stf-cpu {\n\n}", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 346 */
/***/ (() => {

var base, base1, base2, base3;

if (window.Epoch == null) {
  window.Epoch = {};
}

if ((base = window.Epoch).Chart == null) {
  base.Chart = {};
}

if ((base1 = window.Epoch).Time == null) {
  base1.Time = {};
}

if ((base2 = window.Epoch).Util == null) {
  base2.Util = {};
}

if ((base3 = window.Epoch).Formats == null) {
  base3.Formats = {};
}

Epoch.warn = function(msg) {
  return (console.warn || console.log)("Epoch Warning: " + msg);
};

Epoch.exception = function(msg) {
  throw "Epoch Error: " + msg;
};

Epoch.TestContext = (function() {
  var VOID_METHODS;

  VOID_METHODS = ['arc', 'arcTo', 'beginPath', 'bezierCurveTo', 'clearRect', 'clip', 'closePath', 'drawImage', 'fill', 'fillRect', 'fillText', 'moveTo', 'quadraticCurveTo', 'rect', 'restore', 'rotate', 'save', 'scale', 'scrollPathIntoView', 'setLineDash', 'setTransform', 'stroke', 'strokeRect', 'strokeText', 'transform', 'translate', 'lineTo'];

  function TestContext() {
    var i, len, method;
    this._log = [];
    for (i = 0, len = VOID_METHODS.length; i < len; i++) {
      method = VOID_METHODS[i];
      this._makeFauxMethod(method);
    }
  }

  TestContext.prototype._makeFauxMethod = function(name) {
    return this[name] = function() {
      var arg;
      return this._log.push(name + "(" + (((function() {
        var i, len, results;
        results = [];
        for (i = 0, len = arguments.length; i < len; i++) {
          arg = arguments[i];
          results.push(arg.toString());
        }
        return results;
      }).apply(this, arguments)).join(',')) + ")");
    };
  };

  TestContext.prototype.getImageData = function() {
    var arg;
    this._log.push("getImageData(" + (((function() {
      var i, len, results;
      results = [];
      for (i = 0, len = arguments.length; i < len; i++) {
        arg = arguments[i];
        results.push(arg.toString());
      }
      return results;
    }).apply(this, arguments)).join(',')) + ")");
    return {
      width: 0,
      height: 0,
      resolution: 1.0,
      data: []
    };
  };

  return TestContext;

})();

var ref, typeFunction,
  hasProp = {}.hasOwnProperty;

typeFunction = function(objectName) {
  return function(v) {
    return Object.prototype.toString.call(v) === ("[object " + objectName + "]");
  };
};

Epoch.isArray = (ref = Array.isArray) != null ? ref : typeFunction('Array');

Epoch.isObject = typeFunction('Object');

Epoch.isString = typeFunction('String');

Epoch.isFunction = typeFunction('Function');

Epoch.isNumber = typeFunction('Number');

Epoch.isElement = function(v) {
  if (typeof HTMLElement !== "undefined" && HTMLElement !== null) {
    return v instanceof HTMLElement;
  } else {
    return (v != null) && Epoch.isObject(v) && v.nodeType === 1 && Epoch.isString(v.nodeName);
  }
};

Epoch.isNonEmptyArray = function(v) {
  return Epoch.isArray(v) && v.length > 0;
};

Epoch.Util.copy = function(original) {
  var copy, k, v;
  if (original == null) {
    return null;
  }
  copy = {};
  for (k in original) {
    if (!hasProp.call(original, k)) continue;
    v = original[k];
    copy[k] = v;
  }
  return copy;
};

Epoch.Util.defaults = function(options, defaults) {
  var bothAreObjects, def, k, opt, result, v;
  result = Epoch.Util.copy(options);
  for (k in defaults) {
    if (!hasProp.call(defaults, k)) continue;
    v = defaults[k];
    opt = options[k];
    def = defaults[k];
    bothAreObjects = Epoch.isObject(opt) && Epoch.isObject(def);
    if ((opt != null) && (def != null)) {
      if (bothAreObjects && !Epoch.isArray(opt)) {
        result[k] = Epoch.Util.defaults(opt, def);
      } else {
        result[k] = opt;
      }
    } else if (opt != null) {
      result[k] = opt;
    } else {
      result[k] = def;
    }
  }
  return result;
};

Epoch.Util.formatSI = function(v, fixed, fixIntegers) {
  var base, i, label, q, ref1;
  if (fixed == null) {
    fixed = 1;
  }
  if (fixIntegers == null) {
    fixIntegers = false;
  }
  if (v < 1000) {
    q = v;
    if (!((q | 0) === q && !fixIntegers)) {
      q = q.toFixed(fixed);
    }
    return q;
  }
  ref1 = ['K', 'M', 'G', 'T', 'P', 'E', 'Z', 'Y'];
  for (i in ref1) {
    if (!hasProp.call(ref1, i)) continue;
    label = ref1[i];
    base = Math.pow(10, ((i | 0) + 1) * 3);
    if (v >= base && v < Math.pow(10, ((i | 0) + 2) * 3)) {
      q = v / base;
      if (!((q % 1) === 0 && !fixIntegers)) {
        q = q.toFixed(fixed);
      }
      return q + " " + label;
    }
  }
};

Epoch.Util.formatBytes = function(v, fixed, fix_integers) {
  var base, i, label, q, ref1;
  if (fixed == null) {
    fixed = 1;
  }
  if (fix_integers == null) {
    fix_integers = false;
  }
  if (v < 1024) {
    q = v;
    if (!((q % 1) === 0 && !fix_integers)) {
      q = q.toFixed(fixed);
    }
    return q + " B";
  }
  ref1 = ['KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];
  for (i in ref1) {
    if (!hasProp.call(ref1, i)) continue;
    label = ref1[i];
    base = Math.pow(1024, (i | 0) + 1);
    if (v >= base && v < Math.pow(1024, (i | 0) + 2)) {
      q = v / base;
      if (!((q % 1) === 0 && !fix_integers)) {
        q = q.toFixed(fixed);
      }
      return q + " " + label;
    }
  }
};

Epoch.Util.dasherize = function(str) {
  return Epoch.Util.trim(str).replace("\n", '').replace(/\s+/g, '-').toLowerCase();
};

Epoch.Util.domain = function(layers, key) {
  var domain, entry, j, l, layer, len, len1, ref1, set;
  if (key == null) {
    key = 'x';
  }
  set = {};
  domain = [];
  for (j = 0, len = layers.length; j < len; j++) {
    layer = layers[j];
    ref1 = layer.values;
    for (l = 0, len1 = ref1.length; l < len1; l++) {
      entry = ref1[l];
      if (set[entry[key]] != null) {
        continue;
      }
      domain.push(entry[key]);
      set[entry[key]] = true;
    }
  }
  return domain;
};

Epoch.Util.trim = function(string) {
  if (!Epoch.isString(string)) {
    return null;
  }
  return string.replace(/^\s+/g, '').replace(/\s+$/g, '');
};

Epoch.Util.getComputedStyle = function(element, pseudoElement) {
  if (Epoch.isFunction(window.getComputedStyle)) {
    return window.getComputedStyle(element, pseudoElement);
  } else if (element.currentStyle != null) {
    return element.currentStyle;
  }
};

Epoch.Util.toRGBA = function(color, opacity) {
  var all, b, g, parts, r, result, v;
  if ((parts = color.match(/^rgba\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*[0-9\.]+\)/))) {
    all = parts[0], r = parts[1], g = parts[2], b = parts[3];
    result = "rgba(" + r + "," + g + "," + b + "," + opacity + ")";
  } else if ((v = d3.rgb(color))) {
    result = "rgba(" + v.r + "," + v.g + "," + v.b + "," + opacity + ")";
  }
  return result;
};

Epoch.Util.getContext = function(node, type) {
  if (type == null) {
    type = '2d';
  }
  return node.getContext(type);
};

Epoch.Events = (function() {
  function Events() {
    this._events = {};
  }

  Events.prototype.on = function(name, callback) {
    var base1;
    if (callback == null) {
      return;
    }
    if ((base1 = this._events)[name] == null) {
      base1[name] = [];
    }
    return this._events[name].push(callback);
  };

  Events.prototype.onAll = function(map) {
    var callback, name, results;
    if (!Epoch.isObject(map)) {
      return;
    }
    results = [];
    for (name in map) {
      if (!hasProp.call(map, name)) continue;
      callback = map[name];
      results.push(this.on(name, callback));
    }
    return results;
  };

  Events.prototype.off = function(name, callback) {
    var i, results;
    if (!Epoch.isArray(this._events[name])) {
      return;
    }
    if (callback == null) {
      return delete this._events[name];
    }
    results = [];
    while ((i = this._events[name].indexOf(callback)) >= 0) {
      results.push(this._events[name].splice(i, 1));
    }
    return results;
  };

  Events.prototype.offAll = function(mapOrList) {
    var callback, j, len, name, results, results1;
    if (Epoch.isArray(mapOrList)) {
      results = [];
      for (j = 0, len = mapOrList.length; j < len; j++) {
        name = mapOrList[j];
        results.push(this.off(name));
      }
      return results;
    } else if (Epoch.isObject(mapOrList)) {
      results1 = [];
      for (name in mapOrList) {
        if (!hasProp.call(mapOrList, name)) continue;
        callback = mapOrList[name];
        results1.push(this.off(name, callback));
      }
      return results1;
    }
  };

  Events.prototype.trigger = function(name) {
    var args, callback, fn, i, j, len, ref1, results;
    if (this._events[name] == null) {
      return;
    }
    args = (function() {
      var j, ref1, results;
      results = [];
      for (i = j = 1, ref1 = arguments.length; 1 <= ref1 ? j < ref1 : j > ref1; i = 1 <= ref1 ? ++j : --j) {
        results.push(arguments[i]);
      }
      return results;
    }).apply(this, arguments);
    ref1 = this._events[name];
    results = [];
    for (j = 0, len = ref1.length; j < len; j++) {
      callback = ref1[j];
      fn = null;
      if (Epoch.isString(callback)) {
        fn = this[callback];
      } else if (Epoch.isFunction(callback)) {
        fn = callback;
      }
      if (fn == null) {
        Epoch.exception("Callback for event '" + name + "' is not a function or reference to a method.");
      }
      results.push(fn.apply(this, args));
    }
    return results;
  };

  return Events;

})();

Epoch.Util.flatten = function(multiarray) {
  var array, item, j, l, len, len1, result;
  if (!Array.isArray(multiarray)) {
    throw new Error('Epoch.Util.flatten only accepts arrays');
  }
  result = [];
  for (j = 0, len = multiarray.length; j < len; j++) {
    array = multiarray[j];
    if (Array.isArray(array)) {
      for (l = 0, len1 = array.length; l < len1; l++) {
        item = array[l];
        result.push(item);
      }
    } else {
      result.push(array);
    }
  }
  return result;
};

d3.selection.prototype.width = function(value) {
  if ((value != null) && Epoch.isString(value)) {
    return this.style('width', value);
  } else if ((value != null) && Epoch.isNumber(value)) {
    return this.style('width', value + "px");
  } else {
    return +Epoch.Util.getComputedStyle(this.node(), null).width.replace('px', '');
  }
};

d3.selection.prototype.height = function(value) {
  if ((value != null) && Epoch.isString(value)) {
    return this.style('height', value);
  } else if ((value != null) && Epoch.isNumber(value)) {
    return this.style('height', value + "px");
  } else {
    return +Epoch.Util.getComputedStyle(this.node(), null).height.replace('px', '');
  }
};

var d3Seconds;

Epoch.Formats.regular = function(d) {
  return d;
};

Epoch.Formats.si = function(d) {
  return Epoch.Util.formatSI(d);
};

Epoch.Formats.percent = function(d) {
  return (d * 100).toFixed(1) + "%";
};

Epoch.Formats.seconds = function(t) {
  return d3Seconds(new Date(t * 1000));
};

d3Seconds = d3.time.format('%I:%M:%S %p');

Epoch.Formats.bytes = function(d) {
  return Epoch.Util.formatBytes(d);
};

var extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Epoch.Chart.Base = (function(superClass) {
  var defaults, optionListeners;

  extend(Base, superClass);

  defaults = {
    width: 320,
    height: 240,
    dataFormat: null
  };

  optionListeners = {
    'option:width': 'dimensionsChanged',
    'option:height': 'dimensionsChanged',
    'layer:shown': 'layerChanged',
    'layer:hidden': 'layerChanged'
  };

  function Base(options1) {
    this.options = options1 != null ? options1 : {};
    Base.__super__.constructor.call(this);
    if (this.options.model) {
      if (this.options.model.hasData() != null) {
        this.setData(this.options.model.getData(this.options.type, this.options.dataFormat));
      } else {
        this.setData(this.options.data || []);
      }
      this.options.model.on('data:updated', (function(_this) {
        return function() {
          return _this.setDataFromModel();
        };
      })(this));
    } else {
      this.setData(this.options.data || []);
    }
    if (this.options.el != null) {
      this.el = d3.select(this.options.el);
    }
    this.width = this.options.width;
    this.height = this.options.height;
    if (this.el != null) {
      if (this.width == null) {
        this.width = this.el.width();
      }
      if (this.height == null) {
        this.height = this.el.height();
      }
    } else {
      if (this.width == null) {
        this.width = defaults.width;
      }
      if (this.height == null) {
        this.height = defaults.height;
      }
      this.el = d3.select(document.createElement('DIV')).attr('width', this.width).attr('height', this.height);
    }
    this.onAll(optionListeners);
  }

  Base.prototype._getAllOptions = function() {
    return Epoch.Util.defaults({}, this.options);
  };

  Base.prototype._getOption = function(key) {
    var parts, scope, subkey;
    parts = key.split('.');
    scope = this.options;
    while (parts.length && (scope != null)) {
      subkey = parts.shift();
      scope = scope[subkey];
    }
    return scope;
  };

  Base.prototype._setOption = function(key, value) {
    var parts, scope, subkey;
    parts = key.split('.');
    scope = this.options;
    while (parts.length) {
      subkey = parts.shift();
      if (parts.length === 0) {
        scope[subkey] = arguments[1];
        this.trigger("option:" + arguments[0]);
        return;
      }
      if (scope[subkey] == null) {
        scope[subkey] = {};
      }
      scope = scope[subkey];
    }
  };

  Base.prototype._setManyOptions = function(options, prefix) {
    var key, results, value;
    if (prefix == null) {
      prefix = '';
    }
    results = [];
    for (key in options) {
      if (!hasProp.call(options, key)) continue;
      value = options[key];
      if (Epoch.isObject(value)) {
        results.push(this._setManyOptions(value, (prefix + key) + "."));
      } else {
        results.push(this._setOption(prefix + key, value));
      }
    }
    return results;
  };

  Base.prototype.option = function() {
    if (arguments.length === 0) {
      return this._getAllOptions();
    } else if (arguments.length === 1 && Epoch.isString(arguments[0])) {
      return this._getOption(arguments[0]);
    } else if (arguments.length === 2 && Epoch.isString(arguments[0])) {
      return this._setOption(arguments[0], arguments[1]);
    } else if (arguments.length === 1 && Epoch.isObject(arguments[0])) {
      return this._setManyOptions(arguments[0]);
    }
  };

  Base.prototype.setDataFromModel = function() {
    var prepared;
    prepared = this._prepareData(this.options.model.getData(this.options.type, this.options.dataFormat));
    this.data = this._annotateLayers(prepared);
    return this.draw();
  };

  Base.prototype.setData = function(data, options) {
    var prepared;
    if (options == null) {
      options = {};
    }
    prepared = this._prepareData((this.rawData = this._formatData(data)));
    return this.data = this._annotateLayers(prepared);
  };

  Base.prototype._prepareData = function(data) {
    return data;
  };

  Base.prototype._formatData = function(data) {
    return Epoch.Data.formatData(data, this.options.type, this.options.dataFormat);
  };

  Base.prototype._annotateLayers = function(data) {
    var category, classes, i, layer, len;
    category = 1;
    for (i = 0, len = data.length; i < len; i++) {
      layer = data[i];
      classes = ['layer'];
      classes.push("category" + category);
      layer.category = category;
      layer.visible = true;
      if (layer.label != null) {
        classes.push(Epoch.Util.dasherize(layer.label));
      }
      layer.className = classes.join(' ');
      category++;
    }
    return data;
  };

  Base.prototype._findLayer = function(labelOrIndex) {
    var i, index, l, layer, len, ref;
    layer = null;
    if (Epoch.isString(labelOrIndex)) {
      ref = this.data;
      for (i = 0, len = ref.length; i < len; i++) {
        l = ref[i];
        if (l.label === labelOrIndex) {
          layer = l;
          break;
        }
      }
    } else if (Epoch.isNumber(labelOrIndex)) {
      index = parseInt(labelOrIndex);
      if (!(index < 0 || index >= this.data.length)) {
        layer = this.data[index];
      }
    }
    return layer;
  };

  Base.prototype.showLayer = function(labelOrIndex) {
    var layer;
    if (!(layer = this._findLayer(labelOrIndex))) {
      return;
    }
    if (layer.visible) {
      return;
    }
    layer.visible = true;
    return this.trigger('layer:shown');
  };

  Base.prototype.hideLayer = function(labelOrIndex) {
    var layer;
    if (!(layer = this._findLayer(labelOrIndex))) {
      return;
    }
    if (!layer.visible) {
      return;
    }
    layer.visible = false;
    return this.trigger('layer:hidden');
  };

  Base.prototype.toggleLayer = function(labelOrIndex) {
    var layer;
    if (!(layer = this._findLayer(labelOrIndex))) {
      return;
    }
    layer.visible = !layer.visible;
    if (layer.visible) {
      return this.trigger('layer:shown');
    } else {
      return this.trigger('layer:hidden');
    }
  };

  Base.prototype.isLayerVisible = function(labelOrIndex) {
    var layer;
    if (!(layer = this._findLayer(labelOrIndex))) {
      return null;
    }
    return layer.visible;
  };

  Base.prototype.getVisibleLayers = function() {
    return this.data.filter(function(layer) {
      return layer.visible;
    });
  };

  Base.prototype.update = function(data, draw) {
    if (draw == null) {
      draw = true;
    }
    this.setData(data);
    if (draw) {
      return this.draw();
    }
  };

  Base.prototype.draw = function() {
    return this.trigger('draw');
  };

  Base.prototype._getScaleDomain = function(givenDomain) {
    var layers, maxFn, minFn, values;
    if (Array.isArray(givenDomain)) {
      return givenDomain;
    }
    if (Epoch.isString(givenDomain)) {
      layers = this.getVisibleLayers().filter(function(l) {
        return l.range === givenDomain;
      }).map(function(l) {
        return l.values;
      });
      if ((layers != null) && layers.length) {
        values = Epoch.Util.flatten(layers).map(function(d) {
          return d.y;
        });
        minFn = function(memo, curr) {
          if (curr < memo) {
            return curr;
          } else {
            return memo;
          }
        };
        maxFn = function(memo, curr) {
          if (curr > memo) {
            return curr;
          } else {
            return memo;
          }
        };
        return [values.reduce(minFn, values[0]), values.reduce(maxFn, values[0])];
      }
    }
    if (Array.isArray(this.options.range)) {
      return this.options.range;
    } else if (this.options.range && Array.isArray(this.options.range.left)) {
      return this.options.range.left;
    } else if (this.options.range && Array.isArray(this.options.range.right)) {
      return this.options.range.right;
    } else {
      return this.extent(function(d) {
        return d.y;
      });
    }
  };

  Base.prototype.extent = function(cmp) {
    return [
      d3.min(this.getVisibleLayers(), function(layer) {
        return d3.min(layer.values, cmp);
      }), d3.max(this.getVisibleLayers(), function(layer) {
        return d3.max(layer.values, cmp);
      })
    ];
  };

  Base.prototype.dimensionsChanged = function() {
    this.width = this.option('width') || this.width;
    this.height = this.option('height') || this.height;
    this.el.width(this.width);
    return this.el.height(this.height);
  };

  Base.prototype.layerChanged = function() {
    return this.draw();
  };

  return Base;

})(Epoch.Events);

Epoch.Chart.SVG = (function(superClass) {
  extend(SVG, superClass);

  function SVG(options1) {
    this.options = options1 != null ? options1 : {};
    SVG.__super__.constructor.call(this, this.options);
    if (this.el != null) {
      this.svg = this.el.append('svg');
    } else {
      this.svg = d3.select(document.createElement('svg'));
    }
    this.svg.attr({
      xmlns: 'http://www.w3.org/2000/svg',
      width: this.width,
      height: this.height
    });
  }

  SVG.prototype.dimensionsChanged = function() {
    SVG.__super__.dimensionsChanged.call(this);
    return this.svg.attr('width', this.width).attr('height', this.height);
  };

  return SVG;

})(Epoch.Chart.Base);

Epoch.Chart.Canvas = (function(superClass) {
  extend(Canvas, superClass);

  function Canvas(options1) {
    this.options = options1 != null ? options1 : {};
    Canvas.__super__.constructor.call(this, this.options);
    if (this.options.pixelRatio != null) {
      this.pixelRatio = this.options.pixelRatio;
    } else if (window.devicePixelRatio != null) {
      this.pixelRatio = window.devicePixelRatio;
    } else {
      this.pixelRatio = 1;
    }
    this.canvas = d3.select(document.createElement('CANVAS'));
    this.canvas.style({
      'width': this.width + "px",
      'height': this.height + "px"
    });
    this.canvas.attr({
      width: this.getWidth(),
      height: this.getHeight()
    });
    if (this.el != null) {
      this.el.node().appendChild(this.canvas.node());
    }
    this.ctx = Epoch.Util.getContext(this.canvas.node());
  }

  Canvas.prototype.getWidth = function() {
    return this.width * this.pixelRatio;
  };

  Canvas.prototype.getHeight = function() {
    return this.height * this.pixelRatio;
  };

  Canvas.prototype.clear = function() {
    return this.ctx.clearRect(0, 0, this.getWidth(), this.getHeight());
  };

  Canvas.prototype.getStyles = function(selector) {
    return Epoch.QueryCSS.getStyles(selector, this.el);
  };

  Canvas.prototype.dimensionsChanged = function() {
    Canvas.__super__.dimensionsChanged.call(this);
    this.canvas.style({
      'width': this.width + "px",
      'height': this.height + "px"
    });
    return this.canvas.attr({
      width: this.getWidth(),
      height: this.getHeight()
    });
  };

  Canvas.prototype.redraw = function() {
    Epoch.QueryCSS.purge();
    return this.draw();
  };

  return Canvas;

})(Epoch.Chart.Base);

var QueryCSS;

QueryCSS = (function() {
  var CONTAINER_HASH_ATTR, PUT_EXPR, REFERENCE_CONTAINER_ID, containerCount, logging, nextContainerId, put;

  function QueryCSS() {}

  REFERENCE_CONTAINER_ID = '_canvas_css_reference';

  CONTAINER_HASH_ATTR = 'data-epoch-container-id';

  containerCount = 0;

  nextContainerId = function() {
    return "epoch-container-" + (containerCount++);
  };

  PUT_EXPR = /^([^#. ]+)?(#[^. ]+)?(\.[^# ]+)?$/;

  logging = false;

  put = function(selector) {
    var classNames, element, id, match, tag, whole;
    match = selector.match(PUT_EXPR);
    if (match == null) {
      return Epoch.error('Query CSS cannot match given selector: ' + selector);
    }
    whole = match[0], tag = match[1], id = match[2], classNames = match[3];
    tag = (tag != null ? tag : 'div').toUpperCase();
    element = document.createElement(tag);
    if (id != null) {
      element.id = id.substr(1);
    }
    if (classNames != null) {
      element.className = classNames.substr(1).replace(/\./g, ' ');
    }
    return element;
  };

  QueryCSS.log = function(b) {
    return logging = b;
  };

  QueryCSS.cache = {};

  QueryCSS.styleList = ['fill', 'stroke', 'stroke-width'];

  QueryCSS.container = null;

  QueryCSS.purge = function() {
    return QueryCSS.cache = {};
  };

  QueryCSS.getContainer = function() {
    var container;
    if (QueryCSS.container != null) {
      return QueryCSS.container;
    }
    container = document.createElement('DIV');
    container.id = REFERENCE_CONTAINER_ID;
    document.body.appendChild(container);
    return QueryCSS.container = d3.select(container);
  };

  QueryCSS.hash = function(selector, container) {
    var containerId;
    containerId = container.attr(CONTAINER_HASH_ATTR);
    if (containerId == null) {
      containerId = nextContainerId();
      container.attr(CONTAINER_HASH_ATTR, containerId);
    }
    return containerId + "__" + selector;
  };

  QueryCSS.getStyles = function(selector, container) {
    var cache, cacheKey, el, element, i, j, k, len, len1, len2, name, parent, parentNode, parents, ref, ref1, ref2, root, sel, selectorList, styles, subSelector;
    cacheKey = QueryCSS.hash(selector, container);
    cache = QueryCSS.cache[cacheKey];
    if (cache != null) {
      return cache;
    }
    parents = [];
    parentNode = container.node().parentNode;
    while ((parentNode != null) && parentNode.nodeName.toLowerCase() !== 'body') {
      parents.unshift(parentNode);
      parentNode = parentNode.parentNode;
    }
    parents.push(container.node());
    selectorList = [];
    for (i = 0, len = parents.length; i < len; i++) {
      element = parents[i];
      sel = element.nodeName.toLowerCase();
      if ((element.id != null) && element.id.length > 0) {
        sel += '#' + element.id;
      }
      if ((element.className != null) && element.className.length > 0) {
        sel += '.' + Epoch.Util.trim(element.className).replace(/\s+/g, '.');
      }
      selectorList.push(sel);
    }
    selectorList.push('svg');
    ref1 = Epoch.Util.trim(selector).split(/\s+/);
    for (j = 0, len1 = ref1.length; j < len1; j++) {
      subSelector = ref1[j];
      selectorList.push(subSelector);
    }
    if (logging) {
      console.log(selectorList);
    }
    parent = root = put(selectorList.shift());
    while (selectorList.length) {
      el = put(selectorList.shift());
      parent.appendChild(el);
      parent = el;
    }
    if (logging) {
      console.log(root);
    }
    QueryCSS.getContainer().node().appendChild(root);
    ref = d3.select('#' + REFERENCE_CONTAINER_ID + ' ' + selector);
    styles = {};
    ref2 = QueryCSS.styleList;
    for (k = 0, len2 = ref2.length; k < len2; k++) {
      name = ref2[k];
      styles[name] = ref.style(name);
    }
    QueryCSS.cache[cacheKey] = styles;
    QueryCSS.getContainer().html('');
    return styles;
  };

  return QueryCSS;

})();

Epoch.QueryCSS = QueryCSS;

var applyLayerLabel, base,
  hasProp = {}.hasOwnProperty,
  slice = [].slice;

if (Epoch.Data == null) {
  Epoch.Data = {};
}

if ((base = Epoch.Data).Format == null) {
  base.Format = {};
}

applyLayerLabel = function(layer, options, i, keys) {
  var autoLabels, keyLabels, label, labels, ref;
  if (keys == null) {
    keys = [];
  }
  ref = [options.labels, options.autoLabels, options.keyLabels], labels = ref[0], autoLabels = ref[1], keyLabels = ref[2];
  if ((labels != null) && Epoch.isArray(labels) && labels.length > i) {
    layer.label = labels[i];
  } else if (keyLabels && keys.length > i) {
    layer.label = keys[i];
  } else if (autoLabels) {
    label = [];
    while (i >= 0) {
      label.push(String.fromCharCode(65 + (i % 26)));
      i -= 26;
    }
    layer.label = label.join('');
  }
  return layer;
};

Epoch.Data.Format.array = (function() {
  var buildLayers, defaultOptions, format, formatBasicPlot, formatHeatmap, formatPie, formatTimePlot;
  defaultOptions = {
    x: function(d, i) {
      return i;
    },
    y: function(d, i) {
      return d;
    },
    time: function(d, i, startTime) {
      return parseInt(startTime) + parseInt(i);
    },
    type: 'area',
    autoLabels: false,
    labels: [],
    startTime: parseInt(new Date().getTime() / 1000)
  };
  buildLayers = function(data, options, mapFn) {
    var i, result, series;
    result = [];
    if (Epoch.isArray(data[0])) {
      for (i in data) {
        if (!hasProp.call(data, i)) continue;
        series = data[i];
        result.push(applyLayerLabel({
          values: series.map(mapFn)
        }, options, parseInt(i)));
      }
    } else {
      result.push(applyLayerLabel({
        values: data.map(mapFn)
      }, options, 0));
    }
    return result;
  };
  formatBasicPlot = function(data, options) {
    return buildLayers(data, options, function(d, i) {
      return {
        x: options.x(d, i),
        y: options.y(d, i)
      };
    });
  };
  formatTimePlot = function(data, options) {
    return buildLayers(data, options, function(d, i) {
      return {
        time: options.time(d, i, options.startTime),
        y: options.y(d, i)
      };
    });
  };
  formatHeatmap = function(data, options) {
    return buildLayers(data, options, function(d, i) {
      return {
        time: options.time(d, i, options.startTime),
        histogram: d
      };
    });
  };
  formatPie = function(data, options) {
    var i, result, v;
    result = [];
    for (i in data) {
      if (!hasProp.call(data, i)) continue;
      v = data[i];
      if (!Epoch.isNumber(data[0])) {
        return [];
      }
      result.push(applyLayerLabel({
        value: v
      }, options, i));
    }
    return result;
  };
  format = function(data, options) {
    var opt;
    if (data == null) {
      data = [];
    }
    if (options == null) {
      options = {};
    }
    if (!Epoch.isNonEmptyArray(data)) {
      return [];
    }
    opt = Epoch.Util.defaults(options, defaultOptions);
    if (opt.type === 'time.heatmap') {
      return formatHeatmap(data, opt);
    } else if (opt.type.match(/^time\./)) {
      return formatTimePlot(data, opt);
    } else if (opt.type === 'pie') {
      return formatPie(data, opt);
    } else {
      return formatBasicPlot(data, opt);
    }
  };
  format.entry = function(datum, options) {
    var d, data, k, layer, len, opt, ref, results;
    if (options == null) {
      options = {};
    }
    if (options.type === 'time.gauge') {
      if (datum == null) {
        return 0;
      }
      opt = Epoch.Util.defaults(options, defaultOptions);
      d = Epoch.isArray(datum) ? datum[0] : datum;
      return opt.y(d, 0);
    }
    if (datum == null) {
      return [];
    }
    if (options.startTime == null) {
      options.startTime = parseInt(new Date().getTime() / 1000);
    }
    if (Epoch.isArray(datum)) {
      data = datum.map(function(d) {
        return [d];
      });
    } else {
      data = [datum];
    }
    ref = format(data, options);
    results = [];
    for (k = 0, len = ref.length; k < len; k++) {
      layer = ref[k];
      results.push(layer.values[0]);
    }
    return results;
  };
  return format;
})();

Epoch.Data.Format.tuple = (function() {
  var buildLayers, defaultOptions, format;
  defaultOptions = {
    x: function(d, i) {
      return d;
    },
    y: function(d, i) {
      return d;
    },
    time: function(d, i) {
      return d;
    },
    type: 'area',
    autoLabels: false,
    labels: []
  };
  buildLayers = function(data, options, mapFn) {
    var i, result, series;
    if (!Epoch.isArray(data[0])) {
      return [];
    }
    result = [];
    if (Epoch.isArray(data[0][0])) {
      for (i in data) {
        if (!hasProp.call(data, i)) continue;
        series = data[i];
        result.push(applyLayerLabel({
          values: series.map(mapFn)
        }, options, parseInt(i)));
      }
    } else {
      result.push(applyLayerLabel({
        values: data.map(mapFn)
      }, options, 0));
    }
    return result;
  };
  format = function(data, options) {
    var opt;
    if (data == null) {
      data = [];
    }
    if (options == null) {
      options = {};
    }
    if (!Epoch.isNonEmptyArray(data)) {
      return [];
    }
    opt = Epoch.Util.defaults(options, defaultOptions);
    if (opt.type === 'pie' || opt.type === 'time.heatmap' || opt.type === 'time.gauge') {
      return [];
    } else if (opt.type.match(/^time\./)) {
      return buildLayers(data, opt, function(d, i) {
        return {
          time: opt.time(d[0], parseInt(i)),
          y: opt.y(d[1], parseInt(i))
        };
      });
    } else {
      return buildLayers(data, opt, function(d, i) {
        return {
          x: opt.x(d[0], parseInt(i)),
          y: opt.y(d[1], parseInt(i))
        };
      });
    }
  };
  format.entry = function(datum, options) {
    var data, k, layer, len, ref, results;
    if (options == null) {
      options = {};
    }
    if (datum == null) {
      return [];
    }
    if (options.startTime == null) {
      options.startTime = parseInt(new Date().getTime() / 1000);
    }
    if (Epoch.isArray(datum) && Epoch.isArray(datum[0])) {
      data = datum.map(function(d) {
        return [d];
      });
    } else {
      data = [datum];
    }
    ref = format(data, options);
    results = [];
    for (k = 0, len = ref.length; k < len; k++) {
      layer = ref[k];
      results.push(layer.values[0]);
    }
    return results;
  };
  return format;
})();

Epoch.Data.Format.keyvalue = (function() {
  var buildLayers, defaultOptions, format, formatBasicPlot, formatTimePlot;
  defaultOptions = {
    type: 'area',
    x: function(d, i) {
      return parseInt(i);
    },
    y: function(d, i) {
      return d;
    },
    time: function(d, i, startTime) {
      return parseInt(startTime) + parseInt(i);
    },
    labels: [],
    autoLabels: false,
    keyLabels: true,
    startTime: parseInt(new Date().getTime() / 1000)
  };
  buildLayers = function(data, keys, options, mapFn) {
    var d, i, j, key, result, values;
    result = [];
    for (j in keys) {
      if (!hasProp.call(keys, j)) continue;
      key = keys[j];
      values = [];
      for (i in data) {
        if (!hasProp.call(data, i)) continue;
        d = data[i];
        values.push(mapFn(d, key, parseInt(i)));
      }
      result.push(applyLayerLabel({
        values: values
      }, options, parseInt(j), keys));
    }
    return result;
  };
  formatBasicPlot = function(data, keys, options) {
    return buildLayers(data, keys, options, function(d, key, i) {
      var x;
      if (Epoch.isString(options.x)) {
        x = d[options.x];
      } else {
        x = options.x(d, parseInt(i));
      }
      return {
        x: x,
        y: options.y(d[key], parseInt(i))
      };
    });
  };
  formatTimePlot = function(data, keys, options, rangeName) {
    if (rangeName == null) {
      rangeName = 'y';
    }
    return buildLayers(data, keys, options, function(d, key, i) {
      var value;
      if (Epoch.isString(options.time)) {
        value = {
          time: d[options.time]
        };
      } else {
        value = {
          time: options.time(d, parseInt(i), options.startTime)
        };
      }
      value[rangeName] = options.y(d[key], parseInt(i));
      return value;
    });
  };
  format = function(data, keys, options) {
    var opt;
    if (data == null) {
      data = [];
    }
    if (keys == null) {
      keys = [];
    }
    if (options == null) {
      options = {};
    }
    if (!(Epoch.isNonEmptyArray(data) && Epoch.isNonEmptyArray(keys))) {
      return [];
    }
    opt = Epoch.Util.defaults(options, defaultOptions);
    if (opt.type === 'pie' || opt.type === 'time.gauge') {
      return [];
    } else if (opt.type === 'time.heatmap') {
      return formatTimePlot(data, keys, opt, 'histogram');
    } else if (opt.type.match(/^time\./)) {
      return formatTimePlot(data, keys, opt);
    } else {
      return formatBasicPlot(data, keys, opt);
    }
  };
  format.entry = function(datum, keys, options) {
    var k, layer, len, ref, results;
    if (keys == null) {
      keys = [];
    }
    if (options == null) {
      options = {};
    }
    if (!((datum != null) && Epoch.isNonEmptyArray(keys))) {
      return [];
    }
    if (options.startTime == null) {
      options.startTime = parseInt(new Date().getTime() / 1000);
    }
    ref = format([datum], keys, options);
    results = [];
    for (k = 0, len = ref.length; k < len; k++) {
      layer = ref[k];
      results.push(layer.values[0]);
    }
    return results;
  };
  return format;
})();

Epoch.data = function() {
  var args, formatFn, formatter;
  formatter = arguments[0], args = 2 <= arguments.length ? slice.call(arguments, 1) : [];
  if ((formatFn = Epoch.Data.Format[formatter]) == null) {
    return [];
  }
  return formatFn.apply(formatFn, args);
};

Epoch.Data.formatData = function(data, type, dataFormat) {
  var a, args, k, len, opts, ref;
  if (data == null) {
    data = [];
  }
  if (!Epoch.isNonEmptyArray(data)) {
    return data;
  }
  if (Epoch.isString(dataFormat)) {
    opts = {
      type: type
    };
    return Epoch.data(dataFormat, data, opts);
  }
  if (!Epoch.isObject(dataFormat)) {
    return data;
  }
  if (!((dataFormat.name != null) && Epoch.isString(dataFormat.name))) {
    return data;
  }
  if (Epoch.Data.Format[dataFormat.name] == null) {
    return data;
  }
  args = [dataFormat.name, data];
  if ((dataFormat["arguments"] != null) && Epoch.isArray(dataFormat["arguments"])) {
    ref = dataFormat["arguments"];
    for (k = 0, len = ref.length; k < len; k++) {
      a = ref[k];
      args.push(a);
    }
  }
  if (dataFormat.options != null) {
    opts = dataFormat.options;
    if (type != null) {
      if (opts.type == null) {
        opts.type = type;
      }
    }
    args.push(opts);
  } else if (type != null) {
    args.push({
      type: type
    });
  }
  return Epoch.data.apply(Epoch.data, args);
};

Epoch.Data.formatEntry = function(datum, type, format) {
  var a, args, dataFormat, entry, k, len, opts, ref;
  if (format == null) {
    return datum;
  }
  if (Epoch.isString(format)) {
    opts = {
      type: type
    };
    return Epoch.Data.Format[format].entry(datum, opts);
  }
  if (!Epoch.isObject(format)) {
    return datum;
  }
  if (!((format.name != null) && Epoch.isString(format.name))) {
    return datum;
  }
  if (Epoch.Data.Format[format.name] == null) {
    return datum;
  }
  dataFormat = Epoch.Util.defaults(format, {});
  args = [datum];
  if ((dataFormat["arguments"] != null) && Epoch.isArray(dataFormat["arguments"])) {
    ref = dataFormat["arguments"];
    for (k = 0, len = ref.length; k < len; k++) {
      a = ref[k];
      args.push(a);
    }
  }
  if (dataFormat.options != null) {
    opts = dataFormat.options;
    opts.type = type;
    args.push(opts);
  } else if (type != null) {
    args.push({
      type: type
    });
  }
  entry = Epoch.Data.Format[dataFormat.name].entry;
  return entry.apply(entry, args);
};

var extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Epoch.Model = (function(superClass) {
  var defaults;

  extend(Model, superClass);

  defaults = {
    dataFormat: null
  };

  function Model(options) {
    if (options == null) {
      options = {};
    }
    Model.__super__.constructor.call(this);
    options = Epoch.Util.defaults(options, defaults);
    this.dataFormat = options.dataFormat;
    this.data = options.data;
    this.loading = false;
  }

  Model.prototype.setData = function(data) {
    this.data = data;
    return this.trigger('data:updated');
  };

  Model.prototype.push = function(entry) {
    this.entry = entry;
    return this.trigger('data:push');
  };

  Model.prototype.hasData = function() {
    return this.data != null;
  };

  Model.prototype.getData = function(type, dataFormat) {
    if (dataFormat == null) {
      dataFormat = this.dataFormat;
    }
    return Epoch.Data.formatData(this.data, type, dataFormat);
  };

  Model.prototype.getNext = function(type, dataFormat) {
    if (dataFormat == null) {
      dataFormat = this.dataFormat;
    }
    return Epoch.Data.formatEntry(this.entry, type, dataFormat);
  };

  return Model;

})(Epoch.Events);

var extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Epoch.Chart.Plot = (function(superClass) {
  var defaultAxisMargins, defaults, optionListeners;

  extend(Plot, superClass);

  defaults = {
    domain: null,
    range: null,
    axes: ['left', 'bottom'],
    ticks: {
      top: 14,
      bottom: 14,
      left: 5,
      right: 5
    },
    tickFormats: {
      top: Epoch.Formats.regular,
      bottom: Epoch.Formats.regular,
      left: Epoch.Formats.si,
      right: Epoch.Formats.si
    }
  };

  defaultAxisMargins = {
    top: 25,
    right: 50,
    bottom: 25,
    left: 50
  };

  optionListeners = {
    'option:margins.top': 'marginsChanged',
    'option:margins.right': 'marginsChanged',
    'option:margins.bottom': 'marginsChanged',
    'option:margins.left': 'marginsChanged',
    'option:axes': 'axesChanged',
    'option:ticks.top': 'ticksChanged',
    'option:ticks.right': 'ticksChanged',
    'option:ticks.bottom': 'ticksChanged',
    'option:ticks.left': 'ticksChanged',
    'option:tickFormats.top': 'tickFormatsChanged',
    'option:tickFormats.right': 'tickFormatsChanged',
    'option:tickFormats.bottom': 'tickFormatsChanged',
    'option:tickFormats.left': 'tickFormatsChanged',
    'option:domain': 'domainChanged',
    'option:range': 'rangeChanged'
  };

  function Plot(options) {
    var givenMargins, i, len, pos, ref;
    this.options = options != null ? options : {};
    givenMargins = Epoch.Util.copy(this.options.margins) || {};
    Plot.__super__.constructor.call(this, this.options = Epoch.Util.defaults(this.options, defaults));
    this.margins = {};
    ref = ['top', 'right', 'bottom', 'left'];
    for (i = 0, len = ref.length; i < len; i++) {
      pos = ref[i];
      this.margins[pos] = (this.options.margins != null) && (this.options.margins[pos] != null) ? this.options.margins[pos] : this.hasAxis(pos) ? defaultAxisMargins[pos] : 6;
    }
    this.g = this.svg.append("g").attr("transform", "translate(" + this.margins.left + ", " + this.margins.top + ")");
    this.onAll(optionListeners);
  }

  Plot.prototype.setTickFormat = function(axis, fn) {
    return this.options.tickFormats[axis] = fn;
  };

  Plot.prototype.hasAxis = function(axis) {
    return this.options.axes.indexOf(axis) > -1;
  };

  Plot.prototype.innerWidth = function() {
    return this.width - (this.margins.left + this.margins.right);
  };

  Plot.prototype.innerHeight = function() {
    return this.height - (this.margins.top + this.margins.bottom);
  };

  Plot.prototype.x = function() {
    var domain, ref;
    domain = (ref = this.options.domain) != null ? ref : this.extent(function(d) {
      return d.x;
    });
    return d3.scale.linear().domain(domain).range([0, this.innerWidth()]);
  };

  Plot.prototype.y = function(givenDomain) {
    return d3.scale.linear().domain(this._getScaleDomain(givenDomain)).range([this.innerHeight(), 0]);
  };

  Plot.prototype.bottomAxis = function() {
    return d3.svg.axis().scale(this.x()).orient('bottom').ticks(this.options.ticks.bottom).tickFormat(this.options.tickFormats.bottom);
  };

  Plot.prototype.topAxis = function() {
    return d3.svg.axis().scale(this.x()).orient('top').ticks(this.options.ticks.top).tickFormat(this.options.tickFormats.top);
  };

  Plot.prototype.leftAxis = function() {
    var range;
    range = this.options.range ? this.options.range.left : null;
    return d3.svg.axis().scale(this.y(range)).orient('left').ticks(this.options.ticks.left).tickFormat(this.options.tickFormats.left);
  };

  Plot.prototype.rightAxis = function() {
    var range;
    range = this.options.range ? this.options.range.right : null;
    return d3.svg.axis().scale(this.y(range)).orient('right').ticks(this.options.ticks.right).tickFormat(this.options.tickFormats.right);
  };

  Plot.prototype.draw = function() {
    if (this._axesDrawn) {
      this._redrawAxes();
    } else {
      this._drawAxes();
    }
    return Plot.__super__.draw.call(this);
  };

  Plot.prototype._redrawAxes = function() {
    if (this.hasAxis('bottom')) {
      this.g.selectAll('.x.axis.bottom').transition().duration(500).ease('linear').call(this.bottomAxis());
    }
    if (this.hasAxis('top')) {
      this.g.selectAll('.x.axis.top').transition().duration(500).ease('linear').call(this.topAxis());
    }
    if (this.hasAxis('left')) {
      this.g.selectAll('.y.axis.left').transition().duration(500).ease('linear').call(this.leftAxis());
    }
    if (this.hasAxis('right')) {
      return this.g.selectAll('.y.axis.right').transition().duration(500).ease('linear').call(this.rightAxis());
    }
  };

  Plot.prototype._drawAxes = function() {
    if (this.hasAxis('bottom')) {
      this.g.append("g").attr("class", "x axis bottom").attr("transform", "translate(0, " + (this.innerHeight()) + ")").call(this.bottomAxis());
    }
    if (this.hasAxis('top')) {
      this.g.append("g").attr('class', 'x axis top').call(this.topAxis());
    }
    if (this.hasAxis('left')) {
      this.g.append("g").attr("class", "y axis left").call(this.leftAxis());
    }
    if (this.hasAxis('right')) {
      this.g.append('g').attr('class', 'y axis right').attr('transform', "translate(" + (this.innerWidth()) + ", 0)").call(this.rightAxis());
    }
    return this._axesDrawn = true;
  };

  Plot.prototype.dimensionsChanged = function() {
    Plot.__super__.dimensionsChanged.call(this);
    this.g.selectAll('.axis').remove();
    this._axesDrawn = false;
    return this.draw();
  };

  Plot.prototype.marginsChanged = function() {
    var pos, ref, size;
    if (this.options.margins == null) {
      return;
    }
    ref = this.options.margins;
    for (pos in ref) {
      if (!hasProp.call(ref, pos)) continue;
      size = ref[pos];
      if (size == null) {
        this.margins[pos] = 6;
      } else {
        this.margins[pos] = size;
      }
    }
    this.g.transition().duration(750).attr("transform", "translate(" + this.margins.left + ", " + this.margins.top + ")");
    return this.draw();
  };

  Plot.prototype.axesChanged = function() {
    var i, len, pos, ref;
    ref = ['top', 'right', 'bottom', 'left'];
    for (i = 0, len = ref.length; i < len; i++) {
      pos = ref[i];
      if ((this.options.margins != null) && (this.options.margins[pos] != null)) {
        continue;
      }
      if (this.hasAxis(pos)) {
        this.margins[pos] = defaultAxisMargins[pos];
      } else {
        this.margins[pos] = 6;
      }
    }
    this.g.transition().duration(750).attr("transform", "translate(" + this.margins.left + ", " + this.margins.top + ")");
    this.g.selectAll('.axis').remove();
    this._axesDrawn = false;
    return this.draw();
  };

  Plot.prototype.ticksChanged = function() {
    return this.draw();
  };

  Plot.prototype.tickFormatsChanged = function() {
    return this.draw();
  };

  Plot.prototype.domainChanged = function() {
    return this.draw();
  };

  Plot.prototype.rangeChanged = function() {
    return this.draw();
  };

  return Plot;

})(Epoch.Chart.SVG);

var extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Epoch.Chart.Area = (function(superClass) {
  extend(Area, superClass);

  function Area(options) {
    var base;
    this.options = options != null ? options : {};
    if ((base = this.options).type == null) {
      base.type = 'area';
    }
    Area.__super__.constructor.call(this, this.options);
    this.draw();
  }

  Area.prototype.y = function() {
    var a, i, k, layer, len, ref, ref1, ref2, v;
    a = [];
    ref = this.getVisibleLayers();
    for (i = 0, len = ref.length; i < len; i++) {
      layer = ref[i];
      ref1 = layer.values;
      for (k in ref1) {
        if (!hasProp.call(ref1, k)) continue;
        v = ref1[k];
        if (a[k] != null) {
          a[k] += v.y;
        }
        if (a[k] == null) {
          a[k] = v.y;
        }
      }
    }
    return d3.scale.linear().domain((ref2 = this.options.range) != null ? ref2 : [0, d3.max(a)]).range([this.height - this.margins.top - this.margins.bottom, 0]);
  };

  Area.prototype.draw = function() {
    var area, data, layer, layers, ref, stack, x, y;
    ref = [this.x(), this.y(), this.getVisibleLayers()], x = ref[0], y = ref[1], layers = ref[2];
    this.g.selectAll('.layer').remove();
    if (layers.length === 0) {
      return;
    }
    area = d3.svg.area().x(function(d) {
      return x(d.x);
    }).y0(function(d) {
      return y(d.y0);
    }).y1(function(d) {
      return y(d.y0 + d.y);
    });
    stack = d3.layout.stack().values(function(d) {
      return d.values;
    });
    data = stack(layers);
    layer = this.g.selectAll('.layer').data(layers, function(d) {
      return d.category;
    });
    layer.select('.area').attr('d', function(d) {
      return area(d.values);
    });
    layer.enter().append('g').attr('class', function(d) {
      return d.className;
    });
    layer.append('path').attr('class', 'area').attr('d', function(d) {
      return area(d.values);
    });
    return Area.__super__.draw.call(this);
  };

  return Area;

})(Epoch.Chart.Plot);

var extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Epoch.Chart.Bar = (function(superClass) {
  var defaults, horizontal_defaults, horizontal_specific, optionListeners;

  extend(Bar, superClass);

  defaults = {
    type: 'bar',
    style: 'grouped',
    orientation: 'vertical',
    padding: {
      bar: 0.08,
      group: 0.1
    },
    outerPadding: {
      bar: 0.08,
      group: 0.1
    }
  };

  horizontal_specific = {
    tickFormats: {
      top: Epoch.Formats.si,
      bottom: Epoch.Formats.si,
      left: Epoch.Formats.regular,
      right: Epoch.Formats.regular
    }
  };

  horizontal_defaults = Epoch.Util.defaults(horizontal_specific, defaults);

  optionListeners = {
    'option:orientation': 'orientationChanged',
    'option:padding': 'paddingChanged',
    'option:outerPadding': 'paddingChanged',
    'option:padding:bar': 'paddingChanged',
    'option:padding:group': 'paddingChanged',
    'option:outerPadding:bar': 'paddingChanged',
    'option:outerPadding:group': 'paddingChanged'
  };

  function Bar(options) {
    this.options = options != null ? options : {};
    if (this._isHorizontal()) {
      this.options = Epoch.Util.defaults(this.options, horizontal_defaults);
    } else {
      this.options = Epoch.Util.defaults(this.options, defaults);
    }
    Bar.__super__.constructor.call(this, this.options);
    this.onAll(optionListeners);
    this.draw();
  }

  Bar.prototype._isVertical = function() {
    return this.options.orientation === 'vertical';
  };

  Bar.prototype._isHorizontal = function() {
    return this.options.orientation === 'horizontal';
  };

  Bar.prototype.x = function() {
    var extent;
    if (this._isVertical()) {
      return d3.scale.ordinal().domain(Epoch.Util.domain(this.getVisibleLayers())).rangeRoundBands([0, this.innerWidth()], this.options.padding.group, this.options.outerPadding.group);
    } else {
      extent = this.extent(function(d) {
        return d.y;
      });
      extent[0] = Math.min(0, extent[0]);
      return d3.scale.linear().domain(extent).range([0, this.width - this.margins.left - this.margins.right]);
    }
  };

  Bar.prototype.x1 = function(x0) {
    var layer;
    return d3.scale.ordinal().domain((function() {
      var j, len, ref, results;
      ref = this.getVisibleLayers();
      results = [];
      for (j = 0, len = ref.length; j < len; j++) {
        layer = ref[j];
        results.push(layer.category);
      }
      return results;
    }).call(this)).rangeRoundBands([0, x0.rangeBand()], this.options.padding.bar, this.options.outerPadding.bar);
  };

  Bar.prototype.y = function() {
    var extent;
    if (this._isVertical()) {
      extent = this.extent(function(d) {
        return d.y;
      });
      extent[0] = Math.min(0, extent[0]);
      return d3.scale.linear().domain(extent).range([this.height - this.margins.top - this.margins.bottom, 0]);
    } else {
      return d3.scale.ordinal().domain(Epoch.Util.domain(this.getVisibleLayers())).rangeRoundBands([0, this.innerHeight()], this.options.padding.group, this.options.outerPadding.group);
    }
  };

  Bar.prototype.y1 = function(y0) {
    var layer;
    return d3.scale.ordinal().domain((function() {
      var j, len, ref, results;
      ref = this.getVisibleLayers();
      results = [];
      for (j = 0, len = ref.length; j < len; j++) {
        layer = ref[j];
        results.push(layer.category);
      }
      return results;
    }).call(this)).rangeRoundBands([0, y0.rangeBand()], this.options.padding.bar, this.options.outerPadding.bar);
  };

  Bar.prototype._remapData = function() {
    var className, entry, j, k, l, layer, len, len1, map, name, ref, ref1, results, v;
    map = {};
    ref = this.getVisibleLayers();
    for (j = 0, len = ref.length; j < len; j++) {
      layer = ref[j];
      className = 'bar ' + layer.className.replace(/\s*layer\s*/, '');
      ref1 = layer.values;
      for (l = 0, len1 = ref1.length; l < len1; l++) {
        entry = ref1[l];
        if (map[name = entry.x] == null) {
          map[name] = [];
        }
        map[entry.x].push({
          label: layer.category,
          y: entry.y,
          className: className
        });
      }
    }
    results = [];
    for (k in map) {
      if (!hasProp.call(map, k)) continue;
      v = map[k];
      results.push({
        group: k,
        values: v
      });
    }
    return results;
  };

  Bar.prototype.draw = function() {
    if (this._isVertical()) {
      this._drawVertical();
    } else {
      this._drawHorizontal();
    }
    return Bar.__super__.draw.call(this);
  };

  Bar.prototype._drawVertical = function() {
    var data, height, layer, rects, ref, x0, x1, y;
    ref = [this.x(), this.y()], x0 = ref[0], y = ref[1];
    x1 = this.x1(x0);
    height = this.height - this.margins.top - this.margins.bottom;
    data = this._remapData();
    layer = this.g.selectAll(".layer").data(data, function(d) {
      return d.group;
    });
    layer.transition().duration(750).attr("transform", function(d) {
      return "translate(" + (x0(d.group)) + ", 0)";
    });
    layer.enter().append("g").attr('class', 'layer').attr("transform", function(d) {
      return "translate(" + (x0(d.group)) + ", 0)";
    });
    rects = layer.selectAll('rect').data(function(group) {
      return group.values;
    });
    rects.attr('class', function(d) {
      return d.className;
    });
    rects.transition().duration(600).attr('x', function(d) {
      return x1(d.label);
    }).attr('y', function(d) {
      return y(d.y);
    }).attr('width', x1.rangeBand()).attr('height', function(d) {
      return height - y(d.y);
    });
    rects.enter().append('rect').attr('class', function(d) {
      return d.className;
    }).attr('x', function(d) {
      return x1(d.label);
    }).attr('y', function(d) {
      return y(d.y);
    }).attr('width', x1.rangeBand()).attr('height', function(d) {
      return height - y(d.y);
    });
    rects.exit().transition().duration(150).style('opacity', '0').remove();
    return layer.exit().transition().duration(750).style('opacity', '0').remove();
  };

  Bar.prototype._drawHorizontal = function() {
    var data, layer, rects, ref, width, x, y0, y1;
    ref = [this.x(), this.y()], x = ref[0], y0 = ref[1];
    y1 = this.y1(y0);
    width = this.width - this.margins.left - this.margins.right;
    data = this._remapData();
    layer = this.g.selectAll(".layer").data(data, function(d) {
      return d.group;
    });
    layer.transition().duration(750).attr("transform", function(d) {
      return "translate(0, " + (y0(d.group)) + ")";
    });
    layer.enter().append("g").attr('class', 'layer').attr("transform", function(d) {
      return "translate(0, " + (y0(d.group)) + ")";
    });
    rects = layer.selectAll('rect').data(function(group) {
      return group.values;
    });
    rects.attr('class', function(d) {
      return d.className;
    });
    rects.transition().duration(600).attr('x', function(d) {
      return 0;
    }).attr('y', function(d) {
      return y1(d.label);
    }).attr('height', y1.rangeBand()).attr('width', function(d) {
      return x(d.y);
    });
    rects.enter().append('rect').attr('class', function(d) {
      return d.className;
    }).attr('x', function(d) {
      return 0;
    }).attr('y', function(d) {
      return y1(d.label);
    }).attr('height', y1.rangeBand()).attr('width', function(d) {
      return x(d.y);
    });
    rects.exit().transition().duration(150).style('opacity', '0').remove();
    return layer.exit().transition().duration(750).style('opacity', '0').remove();
  };

  Bar.prototype._getTickValues = function(numTicks, dataKey) {
    var i, step, tickValues, total;
    if (dataKey == null) {
      dataKey = 'x';
    }
    if (this.data[0] == null) {
      return [];
    }
    total = this.data[0].values.length;
    step = Math.ceil(total / numTicks) | 0;
    return tickValues = (function() {
      var j, ref, ref1, results;
      results = [];
      for (i = j = 0, ref = total, ref1 = step; ref1 > 0 ? j < ref : j > ref; i = j += ref1) {
        results.push(this.data[0].values[i].x);
      }
      return results;
    }).call(this);
  };

  Bar.prototype.bottomAxis = function() {
    var axis;
    axis = d3.svg.axis().scale(this.x()).orient('bottom').ticks(this.options.ticks.bottom).tickFormat(this.options.tickFormats.bottom);
    if (this._isVertical() && (this.options.ticks.bottom != null)) {
      axis.tickValues(this._getTickValues(this.options.ticks.bottom));
    }
    return axis;
  };

  Bar.prototype.topAxis = function() {
    var axis;
    axis = d3.svg.axis().scale(this.x()).orient('top').ticks(this.options.ticks.top).tickFormat(this.options.tickFormats.top);
    if (this._isVertical() && (this.options.ticks.top != null)) {
      axis.tickValues(this._getTickValues(this.options.ticks.top));
    }
    return axis;
  };

  Bar.prototype.leftAxis = function() {
    var axis;
    axis = d3.svg.axis().scale(this.y()).orient('left').ticks(this.options.ticks.left).tickFormat(this.options.tickFormats.left);
    if (this._isHorizontal() && (this.options.ticks.left != null)) {
      axis.tickValues(this._getTickValues(this.options.ticks.left));
    }
    return axis;
  };

  Bar.prototype.rightAxis = function() {
    var axis;
    axis = d3.svg.axis().scale(this.y()).orient('right').ticks(this.options.ticks.right).tickFormat(this.options.tickFormats.right);
    if (this._isHorizontal() && (this.options.ticks.right != null)) {
      axis.tickValues(this._getTickValues(this.options.ticks.right));
    }
    return axis;
  };

  Bar.prototype.orientationChanged = function() {
    var bottom, left, right, top;
    top = this.options.tickFormats.top;
    bottom = this.options.tickFormats.bottom;
    left = this.options.tickFormats.left;
    right = this.options.tickFormats.right;
    this.options.tickFormats.left = top;
    this.options.tickFormats.right = bottom;
    this.options.tickFormats.top = left;
    this.options.tickFormats.bottom = right;
    return this.draw();
  };

  Bar.prototype.paddingChanged = function() {
    return this.draw();
  };

  return Bar;

})(Epoch.Chart.Plot);

var extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Epoch.Chart.Histogram = (function(superClass) {
  var defaults, optionListeners;

  extend(Histogram, superClass);

  defaults = {
    type: 'histogram',
    domain: [0, 100],
    bucketRange: [0, 100],
    buckets: 10,
    cutOutliers: false
  };

  optionListeners = {
    'option:bucketRange': 'bucketRangeChanged',
    'option:buckets': 'bucketsChanged',
    'option:cutOutliers': 'cutOutliersChanged'
  };

  function Histogram(options) {
    this.options = options != null ? options : {};
    Histogram.__super__.constructor.call(this, this.options = Epoch.Util.defaults(this.options, defaults));
    this.onAll(optionListeners);
    this.draw();
  }

  Histogram.prototype._prepareData = function(data) {
    var bucketSize, buckets, i, index, j, k, l, layer, len, len1, point, prepared, preparedLayer, ref, v;
    bucketSize = (this.options.bucketRange[1] - this.options.bucketRange[0]) / this.options.buckets;
    prepared = [];
    for (j = 0, len = data.length; j < len; j++) {
      layer = data[j];
      buckets = (function() {
        var l, ref, results;
        results = [];
        for (i = l = 0, ref = this.options.buckets; 0 <= ref ? l < ref : l > ref; i = 0 <= ref ? ++l : --l) {
          results.push(0);
        }
        return results;
      }).call(this);
      ref = layer.values;
      for (l = 0, len1 = ref.length; l < len1; l++) {
        point = ref[l];
        index = parseInt((point.x - this.options.bucketRange[0]) / bucketSize);
        if (this.options.cutOutliers && ((index < 0) || (index >= this.options.buckets))) {
          continue;
        }
        if (index < 0) {
          index = 0;
        } else if (index >= this.options.buckets) {
          index = this.options.buckets - 1;
        }
        buckets[index] += parseInt(point.y);
      }
      preparedLayer = {
        values: buckets.map(function(d, i) {
          return {
            x: parseInt(i) * bucketSize,
            y: d
          };
        })
      };
      for (k in layer) {
        if (!hasProp.call(layer, k)) continue;
        v = layer[k];
        if (k !== 'values') {
          preparedLayer[k] = v;
        }
      }
      prepared.push(preparedLayer);
    }
    return prepared;
  };

  Histogram.prototype.resetData = function() {
    this.setData(this.rawData);
    return this.draw();
  };

  Histogram.prototype.bucketRangeChanged = function() {
    return this.resetData();
  };

  Histogram.prototype.bucketsChanged = function() {
    return this.resetData();
  };

  Histogram.prototype.cutOutliersChanged = function() {
    return this.resetData();
  };

  return Histogram;

})(Epoch.Chart.Bar);

var extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Epoch.Chart.Line = (function(superClass) {
  extend(Line, superClass);

  function Line(options) {
    var base;
    this.options = options != null ? options : {};
    if ((base = this.options).type == null) {
      base.type = 'line';
    }
    Line.__super__.constructor.call(this, this.options);
    this.draw();
  }

  Line.prototype.line = function(layer) {
    var ref, x, y;
    ref = [this.x(), this.y(layer.range)], x = ref[0], y = ref[1];
    return d3.svg.line().x(function(d) {
      return x(d.x);
    }).y(function(d) {
      return y(d.y);
    });
  };

  Line.prototype.draw = function() {
    var layer, layers, ref, x, y;
    ref = [this.x(), this.y(), this.getVisibleLayers()], x = ref[0], y = ref[1], layers = ref[2];
    if (layers.length === 0) {
      return this.g.selectAll('.layer').remove();
    }
    layer = this.g.selectAll('.layer').data(layers, function(d) {
      return d.category;
    });
    layer.select('.line').transition().duration(500).attr('d', (function(_this) {
      return function(l) {
        return _this.line(l)(l.values);
      };
    })(this));
    layer.enter().append('g').attr('class', function(l) {
      return l.className;
    }).append('path').attr('class', 'line').attr('d', (function(_this) {
      return function(l) {
        return _this.line(l)(l.values);
      };
    })(this));
    layer.exit().transition().duration(750).style('opacity', '0').remove();
    return Line.__super__.draw.call(this);
  };

  return Line;

})(Epoch.Chart.Plot);

var extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Epoch.Chart.Pie = (function(superClass) {
  var defaults;

  extend(Pie, superClass);

  defaults = {
    type: 'pie',
    margin: 10,
    inner: 0
  };

  function Pie(options) {
    this.options = options != null ? options : {};
    Pie.__super__.constructor.call(this, this.options = Epoch.Util.defaults(this.options, defaults));
    this.pie = d3.layout.pie().sort(null).value(function(d) {
      return d.value;
    });
    this.arc = d3.svg.arc().outerRadius((function(_this) {
      return function() {
        return (Math.max(_this.width, _this.height) / 2) - _this.options.margin;
      };
    })(this)).innerRadius((function(_this) {
      return function() {
        return _this.options.inner;
      };
    })(this));
    this.g = this.svg.append('g').attr("transform", "translate(" + (this.width / 2) + ", " + (this.height / 2) + ")");
    this.on('option:margin', 'marginChanged');
    this.on('option:inner', 'innerChanged');
    this.draw();
  }

  Pie.prototype.draw = function() {
    var arcs, path, text;
    this.g.selectAll('.arc').remove();
    arcs = this.g.selectAll(".arc").data(this.pie(this.getVisibleLayers()), function(d) {
      return d.data.category;
    });
    arcs.enter().append('g').attr('class', function(d) {
      return "arc pie " + d.data.className;
    });
    arcs.select('path').attr('d', this.arc);
    arcs.select('text').attr("transform", (function(_this) {
      return function(d) {
        return "translate(" + (_this.arc.centroid(d)) + ")";
      };
    })(this)).text(function(d) {
      return d.data.label || d.data.category;
    });
    path = arcs.append("path").attr("d", this.arc).each(function(d) {
      return this._current = d;
    });
    text = arcs.append("text").attr("transform", (function(_this) {
      return function(d) {
        return "translate(" + (_this.arc.centroid(d)) + ")";
      };
    })(this)).attr("dy", ".35em").style("text-anchor", "middle").text(function(d) {
      return d.data.label || d.data.category;
    });
    return Pie.__super__.draw.call(this);
  };

  Pie.prototype.marginChanged = function() {
    return this.draw();
  };

  Pie.prototype.innerChanged = function() {
    return this.draw();
  };

  return Pie;

})(Epoch.Chart.SVG);

var extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Epoch.Chart.Scatter = (function(superClass) {
  var defaults;

  extend(Scatter, superClass);

  defaults = {
    type: 'scatter',
    radius: 3.5,
    axes: ['top', 'bottom', 'left', 'right']
  };

  function Scatter(options) {
    this.options = options != null ? options : {};
    Scatter.__super__.constructor.call(this, this.options = Epoch.Util.defaults(this.options, defaults));
    this.on('option:radius', 'radiusChanged');
    this.draw();
  }

  Scatter.prototype.draw = function() {
    var dots, layer, layers, radius, ref, x, y;
    ref = [this.x(), this.y(), this.getVisibleLayers()], x = ref[0], y = ref[1], layers = ref[2];
    radius = this.options.radius;
    if (layers.length === 0) {
      return this.g.selectAll('.layer').remove();
    }
    layer = this.g.selectAll('.layer').data(layers, function(d) {
      return d.category;
    });
    layer.enter().append('g').attr('class', function(d) {
      return d.className;
    });
    dots = layer.selectAll('.dot').data(function(l) {
      return l.values;
    });
    dots.transition().duration(500).attr("r", function(d) {
      var ref1;
      return (ref1 = d.r) != null ? ref1 : radius;
    }).attr("cx", function(d) {
      return x(d.x);
    }).attr("cy", function(d) {
      return y(d.y);
    });
    dots.enter().append('circle').attr('class', 'dot').attr("r", function(d) {
      var ref1;
      return (ref1 = d.r) != null ? ref1 : radius;
    }).attr("cx", function(d) {
      return x(d.x);
    }).attr("cy", function(d) {
      return y(d.y);
    });
    dots.exit().transition().duration(750).style('opacity', 0).remove();
    layer.exit().transition().duration(750).style('opacity', 0).remove();
    return Scatter.__super__.draw.call(this);
  };

  Scatter.prototype.radiusChanged = function() {
    return this.draw();
  };

  return Scatter;

})(Epoch.Chart.Plot);

var extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Epoch.Time.Plot = (function(superClass) {
  var defaultAxisMargins, defaults, optionListeners;

  extend(Plot, superClass);

  defaults = {
    range: null,
    fps: 24,
    historySize: 120,
    windowSize: 40,
    queueSize: 10,
    axes: ['bottom'],
    ticks: {
      time: 15,
      left: 5,
      right: 5
    },
    tickFormats: {
      top: Epoch.Formats.seconds,
      bottom: Epoch.Formats.seconds,
      left: Epoch.Formats.si,
      right: Epoch.Formats.si
    }
  };

  defaultAxisMargins = {
    top: 25,
    right: 50,
    bottom: 25,
    left: 50
  };

  optionListeners = {
    'option:margins': 'marginsChanged',
    'option:margins.top': 'marginsChanged',
    'option:margins.right': 'marginsChanged',
    'option:margins.bottom': 'marginsChanged',
    'option:margins.left': 'marginsChanged',
    'option:axes': 'axesChanged',
    'option:ticks': 'ticksChanged',
    'option:ticks.top': 'ticksChanged',
    'option:ticks.right': 'ticksChanged',
    'option:ticks.bottom': 'ticksChanged',
    'option:ticks.left': 'ticksChanged',
    'option:tickFormats': 'tickFormatsChanged',
    'option:tickFormats.top': 'tickFormatsChanged',
    'option:tickFormats.right': 'tickFormatsChanged',
    'option:tickFormats.bottom': 'tickFormatsChanged',
    'option:tickFormats.left': 'tickFormatsChanged'
  };

  function Plot(options) {
    var givenMargins, l, len, pos, ref;
    this.options = options;
    givenMargins = Epoch.Util.copy(this.options.margins) || {};
    Plot.__super__.constructor.call(this, this.options = Epoch.Util.defaults(this.options, defaults));
    if (this.options.model) {
      this.options.model.on('data:push', (function(_this) {
        return function() {
          return _this.pushFromModel();
        };
      })(this));
    }
    this._queue = [];
    this.margins = {};
    ref = ['top', 'right', 'bottom', 'left'];
    for (l = 0, len = ref.length; l < len; l++) {
      pos = ref[l];
      this.margins[pos] = (this.options.margins != null) && (this.options.margins[pos] != null) ? this.options.margins[pos] : this.hasAxis(pos) ? defaultAxisMargins[pos] : 6;
    }
    this.svg = this.el.insert('svg', ':first-child').attr('width', this.width).attr('height', this.height).style('z-index', '1000');
    if (this.el.style('position') !== 'absolute' && this.el.style('position') !== 'relative') {
      this.el.style('position', 'relative');
    }
    this.canvas.style({
      position: 'absolute',
      'z-index': '999'
    });
    this._sizeCanvas();
    this.animation = {
      interval: null,
      active: false,
      delta: (function(_this) {
        return function() {
          return -(_this.w() / _this.options.fps);
        };
      })(this),
      tickDelta: (function(_this) {
        return function() {
          return -((_this.w() / _this.pixelRatio) / _this.options.fps);
        };
      })(this),
      frame: 0,
      duration: this.options.fps
    };
    this._buildAxes();
    this.animationCallback = (function(_this) {
      return function() {
        return _this._animate();
      };
    })(this);
    this.onAll(optionListeners);
  }

  Plot.prototype._sizeCanvas = function() {
    this.canvas.attr({
      width: this.innerWidth(),
      height: this.innerHeight()
    });
    return this.canvas.style({
      width: (this.innerWidth() / this.pixelRatio) + "px",
      height: (this.innerHeight() / this.pixelRatio) + "px",
      top: this.margins.top + "px",
      left: this.margins.left + "px"
    });
  };

  Plot.prototype._buildAxes = function() {
    this.svg.selectAll('.axis').remove();
    this._prepareTimeAxes();
    return this._prepareRangeAxes();
  };

  Plot.prototype._annotateLayers = function(prepared) {
    var classes, copy, data, i, layer, start;
    data = [];
    for (i in prepared) {
      if (!hasProp.call(prepared, i)) continue;
      layer = prepared[i];
      copy = Epoch.Util.copy(layer);
      start = Math.max(0, layer.values.length - this.options.historySize);
      copy.values = layer.values.slice(start);
      classes = ['layer'];
      classes.push("category" + ((i | 0) + 1));
      if (layer.label != null) {
        classes.push(Epoch.Util.dasherize(layer.label));
      }
      copy.className = classes.join(' ');
      copy.visible = true;
      data.push(copy);
    }
    return data;
  };

  Plot.prototype._offsetX = function() {
    return 0;
  };

  Plot.prototype._prepareTimeAxes = function() {
    var axis;
    if (this.hasAxis('bottom')) {
      axis = this.bottomAxis = this.svg.append('g').attr('class', "x axis bottom canvas").attr('transform', "translate(" + (this.margins.left - 1) + ", " + (this.innerHeight() / this.pixelRatio + this.margins.top) + ")");
      axis.append('path').attr('class', 'domain').attr('d', "M0,0H" + (this.innerWidth() / this.pixelRatio + 1));
    }
    if (this.hasAxis('top')) {
      axis = this.topAxis = this.svg.append('g').attr('class', "x axis top canvas").attr('transform', "translate(" + (this.margins.left - 1) + ", " + this.margins.top + ")");
      axis.append('path').attr('class', 'domain').attr('d', "M0,0H" + (this.innerWidth() / this.pixelRatio + 1));
    }
    return this._resetInitialTimeTicks();
  };

  Plot.prototype._resetInitialTimeTicks = function() {
    var i, k, l, layer, len, ref, ref1, results, tickInterval;
    tickInterval = this.options.ticks.time;
    this._ticks = [];
    this._tickTimer = tickInterval;
    if (this.bottomAxis != null) {
      this.bottomAxis.selectAll('.tick').remove();
    }
    if (this.topAxis != null) {
      this.topAxis.selectAll('.tick').remove();
    }
    ref = this.data;
    results = [];
    for (l = 0, len = ref.length; l < len; l++) {
      layer = ref[l];
      if (!Epoch.isNonEmptyArray(layer.values)) {
        continue;
      }
      ref1 = [this.options.windowSize - 1, layer.values.length - 1], i = ref1[0], k = ref1[1];
      while (i >= 0 && k >= 0) {
        this._pushTick(i, layer.values[k].time, false, true);
        i -= tickInterval;
        k -= tickInterval;
      }
      break;
    }
    return results;
  };

  Plot.prototype._prepareRangeAxes = function() {
    if (this.hasAxis('left')) {
      this.svg.append("g").attr("class", "y axis left").attr('transform', "translate(" + (this.margins.left - 1) + ", " + this.margins.top + ")").call(this.leftAxis());
    }
    if (this.hasAxis('right')) {
      return this.svg.append('g').attr('class', 'y axis right').attr('transform', "translate(" + (this.width - this.margins.right) + ", " + this.margins.top + ")").call(this.rightAxis());
    }
  };

  Plot.prototype.leftAxis = function() {
    var axis, ticks;
    ticks = this.options.ticks.left;
    axis = d3.svg.axis().scale(this.ySvgLeft()).orient('left').tickFormat(this.options.tickFormats.left);
    if (ticks === 2) {
      return axis.tickValues(this.extent(function(d) {
        return d.y;
      }));
    } else {
      return axis.ticks(ticks);
    }
  };

  Plot.prototype.rightAxis = function() {
    var axis, extent, ticks;
    extent = this.extent(function(d) {
      return d.y;
    });
    ticks = this.options.ticks.right;
    axis = d3.svg.axis().scale(this.ySvgRight()).orient('right').tickFormat(this.options.tickFormats.right);
    if (ticks === 2) {
      return axis.tickValues(this.extent(function(d) {
        return d.y;
      }));
    } else {
      return axis.ticks(ticks);
    }
  };

  Plot.prototype.hasAxis = function(name) {
    return this.options.axes.indexOf(name) > -1;
  };

  Plot.prototype.innerWidth = function() {
    return (this.width - (this.margins.left + this.margins.right)) * this.pixelRatio;
  };

  Plot.prototype.innerHeight = function() {
    return (this.height - (this.margins.top + this.margins.bottom)) * this.pixelRatio;
  };

  Plot.prototype._prepareEntry = function(entry) {
    return entry;
  };

  Plot.prototype._prepareLayers = function(layers) {
    return layers;
  };

  Plot.prototype._startTransition = function() {
    if (this.animation.active === true || this._queue.length === 0) {
      return;
    }
    this.trigger('transition:start');
    this._shift();
    this.animation.active = true;
    return this.animation.interval = setInterval(this.animationCallback, 1000 / this.options.fps);
  };

  Plot.prototype._stopTransition = function() {
    var firstTick, l, lastTick, layer, len, ref, ref1;
    if (!this.inTransition()) {
      return;
    }
    ref = this.data;
    for (l = 0, len = ref.length; l < len; l++) {
      layer = ref[l];
      if (!(layer.values.length > this.options.windowSize + 1)) {
        continue;
      }
      layer.values.shift();
    }
    ref1 = [this._ticks[0], this._ticks[this._ticks.length - 1]], firstTick = ref1[0], lastTick = ref1[1];
    if ((lastTick != null) && lastTick.enter) {
      lastTick.enter = false;
      lastTick.opacity = 1;
    }
    if ((firstTick != null) && firstTick.exit) {
      this._shiftTick();
    }
    this.animation.frame = 0;
    this.trigger('transition:end');
    if (this._queue.length > 0) {
      return this._shift();
    } else {
      this.animation.active = false;
      return clearInterval(this.animation.interval);
    }
  };

  Plot.prototype.inTransition = function() {
    return this.animation.active;
  };

  Plot.prototype.push = function(layers) {
    layers = this._prepareLayers(layers);
    if (this._queue.length > this.options.queueSize) {
      this._queue.splice(this.options.queueSize, this._queue.length - this.options.queueSize);
    }
    if (this._queue.length === this.options.queueSize) {
      return false;
    }
    this._queue.push(layers.map((function(_this) {
      return function(entry) {
        return _this._prepareEntry(entry);
      };
    })(this)));
    this.trigger('push');
    if (!this.inTransition()) {
      return this._startTransition();
    }
  };

  Plot.prototype.pushFromModel = function() {
    return this.push(this.options.model.getNext(this.options.type, this.options.dataFormat));
  };

  Plot.prototype._shift = function() {
    var entry, i, layer, ref;
    this.trigger('before:shift');
    entry = this._queue.shift();
    ref = this.data;
    for (i in ref) {
      if (!hasProp.call(ref, i)) continue;
      layer = ref[i];
      layer.values.push(entry[i]);
    }
    this._updateTicks(entry[0].time);
    this._transitionRangeAxes();
    return this.trigger('after:shift');
  };

  Plot.prototype._transitionRangeAxes = function() {
    if (this.hasAxis('left')) {
      this.svg.selectAll('.y.axis.left').transition().duration(500).ease('linear').call(this.leftAxis());
    }
    if (this.hasAxis('right')) {
      return this.svg.selectAll('.y.axis.right').transition().duration(500).ease('linear').call(this.rightAxis());
    }
  };

  Plot.prototype._animate = function() {
    if (!this.inTransition()) {
      return;
    }
    if (++this.animation.frame === this.animation.duration) {
      this._stopTransition();
    }
    this.draw(this.animation.frame * this.animation.delta());
    return this._updateTimeAxes();
  };

  Plot.prototype.y = function(givenDomain) {
    return d3.scale.linear().domain(this._getScaleDomain(givenDomain)).range([this.innerHeight(), 0]);
  };

  Plot.prototype.ySvg = function(givenDomain) {
    return d3.scale.linear().domain(this._getScaleDomain(givenDomain)).range([this.innerHeight() / this.pixelRatio, 0]);
  };

  Plot.prototype.ySvgLeft = function() {
    if (this.options.range != null) {
      return this.ySvg(this.options.range.left);
    } else {
      return this.ySvg();
    }
  };

  Plot.prototype.ySvgRight = function() {
    if (this.options.range != null) {
      return this.ySvg(this.options.range.right);
    } else {
      return this.ySvg();
    }
  };

  Plot.prototype.w = function() {
    return this.innerWidth() / this.options.windowSize;
  };

  Plot.prototype._updateTicks = function(newTime) {
    if (!(this.hasAxis('top') || this.hasAxis('bottom'))) {
      return;
    }
    if (!((++this._tickTimer) % this.options.ticks.time)) {
      this._pushTick(this.options.windowSize, newTime, true);
    }
    if (!(this._ticks.length > 0)) {
      return;
    }
    if (!(this._ticks[0].x - (this.w() / this.pixelRatio) >= 0)) {
      return this._ticks[0].exit = true;
    }
  };

  Plot.prototype._pushTick = function(bucket, time, enter, reverse) {
    var g, tick;
    if (enter == null) {
      enter = false;
    }
    if (reverse == null) {
      reverse = false;
    }
    if (!(this.hasAxis('top') || this.hasAxis('bottom'))) {
      return;
    }
    tick = {
      time: time,
      x: bucket * (this.w() / this.pixelRatio) + this._offsetX(),
      opacity: enter ? 0 : 1,
      enter: enter ? true : false,
      exit: false
    };
    if (this.hasAxis('bottom')) {
      g = this.bottomAxis.append('g').attr('class', 'tick major').attr('transform', "translate(" + (tick.x + 1) + ",0)").style('opacity', tick.opacity);
      g.append('line').attr('y2', 6);
      g.append('text').attr('text-anchor', 'middle').attr('dy', 19).text(this.options.tickFormats.bottom(tick.time));
      tick.bottomEl = g;
    }
    if (this.hasAxis('top')) {
      g = this.topAxis.append('g').attr('class', 'tick major').attr('transform', "translate(" + (tick.x + 1) + ",0)").style('opacity', tick.opacity);
      g.append('line').attr('y2', -6);
      g.append('text').attr('text-anchor', 'middle').attr('dy', -10).text(this.options.tickFormats.top(tick.time));
      tick.topEl = g;
    }
    if (reverse) {
      this._ticks.unshift(tick);
    } else {
      this._ticks.push(tick);
    }
    return tick;
  };

  Plot.prototype._shiftTick = function() {
    var tick;
    if (!(this._ticks.length > 0)) {
      return;
    }
    tick = this._ticks.shift();
    if (tick.topEl != null) {
      tick.topEl.remove();
    }
    if (tick.bottomEl != null) {
      return tick.bottomEl.remove();
    }
  };

  Plot.prototype._updateTimeAxes = function() {
    var dop, dx, l, len, ref, ref1, results, tick;
    if (!(this.hasAxis('top') || this.hasAxis('bottom'))) {
      return;
    }
    ref = [this.animation.tickDelta(), 1 / this.options.fps], dx = ref[0], dop = ref[1];
    ref1 = this._ticks;
    results = [];
    for (l = 0, len = ref1.length; l < len; l++) {
      tick = ref1[l];
      tick.x += dx;
      if (this.hasAxis('bottom')) {
        tick.bottomEl.attr('transform', "translate(" + (tick.x + 1) + ",0)");
      }
      if (this.hasAxis('top')) {
        tick.topEl.attr('transform', "translate(" + (tick.x + 1) + ",0)");
      }
      if (tick.enter) {
        tick.opacity += dop;
      } else if (tick.exit) {
        tick.opacity -= dop;
      }
      if (tick.enter || tick.exit) {
        if (this.hasAxis('bottom')) {
          tick.bottomEl.style('opacity', tick.opacity);
        }
        if (this.hasAxis('top')) {
          results.push(tick.topEl.style('opacity', tick.opacity));
        } else {
          results.push(void 0);
        }
      } else {
        results.push(void 0);
      }
    }
    return results;
  };

  Plot.prototype.draw = function(delta) {
    if (delta == null) {
      delta = 0;
    }
    return Plot.__super__.draw.call(this);
  };

  Plot.prototype.dimensionsChanged = function() {
    Plot.__super__.dimensionsChanged.call(this);
    this.svg.attr('width', this.width).attr('height', this.height);
    this._sizeCanvas();
    this._buildAxes();
    return this.draw(this.animation.frame * this.animation.delta());
  };

  Plot.prototype.axesChanged = function() {
    var l, len, pos, ref;
    ref = ['top', 'right', 'bottom', 'left'];
    for (l = 0, len = ref.length; l < len; l++) {
      pos = ref[l];
      if ((this.options.margins != null) && (this.options.margins[pos] != null)) {
        continue;
      }
      if (this.hasAxis(pos)) {
        this.margins[pos] = defaultAxisMargins[pos];
      } else {
        this.margins[pos] = 6;
      }
    }
    this._sizeCanvas();
    this._buildAxes();
    return this.draw(this.animation.frame * this.animation.delta());
  };

  Plot.prototype.ticksChanged = function() {
    this._resetInitialTimeTicks();
    this._transitionRangeAxes();
    return this.draw(this.animation.frame * this.animation.delta());
  };

  Plot.prototype.tickFormatsChanged = function() {
    this._resetInitialTimeTicks();
    this._transitionRangeAxes();
    return this.draw(this.animation.frame * this.animation.delta());
  };

  Plot.prototype.marginsChanged = function() {
    var pos, ref, size;
    if (this.options.margins == null) {
      return;
    }
    ref = this.options.margins;
    for (pos in ref) {
      if (!hasProp.call(ref, pos)) continue;
      size = ref[pos];
      if (size == null) {
        this.margins[pos] = 6;
      } else {
        this.margins[pos] = size;
      }
    }
    this._sizeCanvas();
    return this.draw(this.animation.frame * this.animation.delta());
  };

  Plot.prototype.layerChanged = function() {
    this._transitionRangeAxes();
    return Plot.__super__.layerChanged.call(this);
  };

  return Plot;

})(Epoch.Chart.Canvas);

Epoch.Time.Stack = (function(superClass) {
  extend(Stack, superClass);

  function Stack() {
    return Stack.__super__.constructor.apply(this, arguments);
  }

  Stack.prototype._stackLayers = function() {
    var i, l, layer, layers, ref, results, y0;
    if (!((layers = this.getVisibleLayers()).length > 0)) {
      return;
    }
    results = [];
    for (i = l = 0, ref = layers[0].values.length; 0 <= ref ? l < ref : l > ref; i = 0 <= ref ? ++l : --l) {
      y0 = 0;
      results.push((function() {
        var len, m, results1;
        results1 = [];
        for (m = 0, len = layers.length; m < len; m++) {
          layer = layers[m];
          layer.values[i].y0 = y0;
          results1.push(y0 += layer.values[i].y);
        }
        return results1;
      })());
    }
    return results;
  };

  Stack.prototype._prepareLayers = function(layers) {
    var d, i, y0;
    y0 = 0;
    for (i in layers) {
      if (!hasProp.call(layers, i)) continue;
      d = layers[i];
      if (!this.data[i].visible) {
        continue;
      }
      d.y0 = y0;
      y0 += d.y;
    }
    return layers;
  };

  Stack.prototype.setData = function(data) {
    Stack.__super__.setData.call(this, data);
    return this._stackLayers();
  };

  Stack.prototype.extent = function() {
    var i, j, l, layers, m, max, ref, ref1, ref2, sum;
    ref = [0, this.getVisibleLayers()], max = ref[0], layers = ref[1];
    if (!layers.length) {
      return [0, 0];
    }
    for (i = l = 0, ref1 = layers[0].values.length; 0 <= ref1 ? l < ref1 : l > ref1; i = 0 <= ref1 ? ++l : --l) {
      sum = 0;
      for (j = m = 0, ref2 = layers.length; 0 <= ref2 ? m < ref2 : m > ref2; j = 0 <= ref2 ? ++m : --m) {
        sum += layers[j].values[i].y;
      }
      if (sum > max) {
        max = sum;
      }
    }
    return [0, max];
  };

  Stack.prototype.layerChanged = function() {
    var l, layers, len, ref;
    this._stackLayers();
    ref = this._queue;
    for (l = 0, len = ref.length; l < len; l++) {
      layers = ref[l];
      this._prepareLayers(layers);
    }
    return Stack.__super__.layerChanged.call(this);
  };

  return Stack;

})(Epoch.Time.Plot);

var extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Epoch.Time.Area = (function(superClass) {
  extend(Area, superClass);

  function Area(options) {
    var base;
    this.options = options != null ? options : {};
    if ((base = this.options).type == null) {
      base.type = 'time.area';
    }
    Area.__super__.constructor.call(this, this.options);
    this.draw();
  }

  Area.prototype.setStyles = function(layer) {
    var styles;
    if ((layer != null) && (layer.className != null)) {
      styles = this.getStyles("g." + (layer.className.replace(/\s/g, '.')) + " path.area");
    } else {
      styles = this.getStyles("g path.area");
    }
    this.ctx.fillStyle = styles.fill;
    if (styles.stroke != null) {
      this.ctx.strokeStyle = styles.stroke;
    }
    if (styles['stroke-width'] != null) {
      return this.ctx.lineWidth = styles['stroke-width'].replace('px', '');
    }
  };

  Area.prototype._drawAreas = function(delta) {
    var args, borderX, entry, firstX, i, j, k, l, layer, layers, ref, ref1, ref2, results, trans, w, y;
    if (delta == null) {
      delta = 0;
    }
    ref = [this.y(), this.w(), this.getVisibleLayers()], y = ref[0], w = ref[1], layers = ref[2];
    results = [];
    for (i = l = ref1 = layers.length - 1; ref1 <= 0 ? l <= 0 : l >= 0; i = ref1 <= 0 ? ++l : --l) {
      if (!(layer = layers[i])) {
        continue;
      }
      this.setStyles(layer);
      this.ctx.beginPath();
      ref2 = [this.options.windowSize, layer.values.length, this.inTransition()], j = ref2[0], k = ref2[1], trans = ref2[2];
      firstX = null;
      while ((--j >= -2) && (--k >= 0)) {
        entry = layer.values[k];
        args = [(j + 1) * w + delta, y(entry.y + entry.y0)];
        if (trans) {
          args[0] += w;
        }
        if (i === this.options.windowSize - 1) {
          this.ctx.moveTo.apply(this.ctx, args);
        } else {
          this.ctx.lineTo.apply(this.ctx, args);
        }
      }
      if (trans) {
        borderX = (j + 3) * w + delta;
      } else {
        borderX = (j + 2) * w + delta;
      }
      this.ctx.lineTo(borderX, this.innerHeight());
      this.ctx.lineTo(this.width * this.pixelRatio + w + delta, this.innerHeight());
      this.ctx.closePath();
      results.push(this.ctx.fill());
    }
    return results;
  };

  Area.prototype._drawStrokes = function(delta) {
    var args, entry, firstX, i, k, l, layer, layers, ref, ref1, ref2, results, trans, w, y;
    if (delta == null) {
      delta = 0;
    }
    ref = [this.y(), this.w(), this.getVisibleLayers()], y = ref[0], w = ref[1], layers = ref[2];
    results = [];
    for (i = l = ref1 = layers.length - 1; ref1 <= 0 ? l <= 0 : l >= 0; i = ref1 <= 0 ? ++l : --l) {
      if (!(layer = layers[i])) {
        continue;
      }
      this.setStyles(layer);
      this.ctx.beginPath();
      ref2 = [this.options.windowSize, layer.values.length, this.inTransition()], i = ref2[0], k = ref2[1], trans = ref2[2];
      firstX = null;
      while ((--i >= -2) && (--k >= 0)) {
        entry = layer.values[k];
        args = [(i + 1) * w + delta, y(entry.y + entry.y0)];
        if (trans) {
          args[0] += w;
        }
        if (i === this.options.windowSize - 1) {
          this.ctx.moveTo.apply(this.ctx, args);
        } else {
          this.ctx.lineTo.apply(this.ctx, args);
        }
      }
      results.push(this.ctx.stroke());
    }
    return results;
  };

  Area.prototype.draw = function(delta) {
    if (delta == null) {
      delta = 0;
    }
    this.clear();
    this._drawAreas(delta);
    this._drawStrokes(delta);
    return Area.__super__.draw.call(this);
  };

  return Area;

})(Epoch.Time.Stack);

var extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Epoch.Time.Bar = (function(superClass) {
  extend(Bar, superClass);

  function Bar(options) {
    var base;
    this.options = options != null ? options : {};
    if ((base = this.options).type == null) {
      base.type = 'time.bar';
    }
    Bar.__super__.constructor.call(this, this.options);
    this.draw();
  }

  Bar.prototype._offsetX = function() {
    return 0.5 * this.w() / this.pixelRatio;
  };

  Bar.prototype.setStyles = function(className) {
    var styles;
    styles = this.getStyles("rect.bar." + (className.replace(/\s/g, '.')));
    this.ctx.fillStyle = styles.fill;
    if ((styles.stroke == null) || styles.stroke === 'none') {
      this.ctx.strokeStyle = 'transparent';
    } else {
      this.ctx.strokeStyle = styles.stroke;
    }
    if (styles['stroke-width'] != null) {
      return this.ctx.lineWidth = styles['stroke-width'].replace('px', '');
    }
  };

  Bar.prototype.draw = function(delta) {
    var args, entry, ex, ey, ey0, i, iBoundry, j, k, layer, len, ref, ref1, ref2, ref3, trans, w, y;
    if (delta == null) {
      delta = 0;
    }
    this.clear();
    ref = [this.y(), this.w()], y = ref[0], w = ref[1];
    ref1 = this.getVisibleLayers();
    for (j = 0, len = ref1.length; j < len; j++) {
      layer = ref1[j];
      if (!Epoch.isNonEmptyArray(layer.values)) {
        continue;
      }
      this.setStyles(layer.className);
      ref2 = [this.options.windowSize, layer.values.length, this.inTransition()], i = ref2[0], k = ref2[1], trans = ref2[2];
      iBoundry = trans ? -1 : 0;
      while ((--i >= iBoundry) && (--k >= 0)) {
        entry = layer.values[k];
        ref3 = [i * w + delta, entry.y, entry.y0], ex = ref3[0], ey = ref3[1], ey0 = ref3[2];
        if (trans) {
          ex += w;
        }
        args = [ex + 1, y(ey + ey0), w - 2, this.innerHeight() - y(ey) + 0.5 * this.pixelRatio];
        this.ctx.fillRect.apply(this.ctx, args);
        this.ctx.strokeRect.apply(this.ctx, args);
      }
    }
    return Bar.__super__.draw.call(this);
  };

  return Bar;

})(Epoch.Time.Stack);

var extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Epoch.Time.Gauge = (function(superClass) {
  var defaults, optionListeners;

  extend(Gauge, superClass);

  defaults = {
    type: 'time.gauge',
    domain: [0, 1],
    ticks: 10,
    tickSize: 5,
    tickOffset: 5,
    fps: 34,
    format: Epoch.Formats.percent
  };

  optionListeners = {
    'option:domain': 'domainChanged',
    'option:ticks': 'ticksChanged',
    'option:tickSize': 'tickSizeChanged',
    'option:tickOffset': 'tickOffsetChanged',
    'option:format': 'formatChanged'
  };

  function Gauge(options) {
    this.options = options != null ? options : {};
    Gauge.__super__.constructor.call(this, this.options = Epoch.Util.defaults(this.options, defaults));
    this.value = this.options.value || 0;
    if (this.options.model) {
      this.options.model.on('data:push', (function(_this) {
        return function() {
          return _this.pushFromModel();
        };
      })(this));
    }
    if (this.el.style('position') !== 'absolute' && this.el.style('position') !== 'relative') {
      this.el.style('position', 'relative');
    }
    this.svg = this.el.insert('svg', ':first-child').attr('width', this.width).attr('height', this.height).attr('class', 'gauge-labels');
    this.svg.style({
      'position': 'absolute',
      'z-index': '1'
    });
    this.svg.append('g').attr('transform', "translate(" + (this.textX()) + ", " + (this.textY()) + ")").append('text').attr('class', 'value').text(this.options.format(this.value));
    this.animation = {
      interval: null,
      active: false,
      delta: 0,
      target: 0
    };
    this._animate = (function(_this) {
      return function() {
        if (Math.abs(_this.animation.target - _this.value) < Math.abs(_this.animation.delta)) {
          _this.value = _this.animation.target;
          clearInterval(_this.animation.interval);
          _this.animation.active = false;
        } else {
          _this.value += _this.animation.delta;
        }
        _this.svg.select('text.value').text(_this.options.format(_this.value));
        return _this.draw();
      };
    })(this);
    this.onAll(optionListeners);
    this.draw();
  }

  Gauge.prototype.update = function(value) {
    this.animation.target = value;
    this.animation.delta = (value - this.value) / this.options.fps;
    if (!this.animation.active) {
      this.animation.interval = setInterval(this._animate, 1000 / this.options.fps);
      return this.animation.active = true;
    }
  };

  Gauge.prototype.push = function(value) {
    return this.update(value);
  };

  Gauge.prototype.pushFromModel = function() {
    var next;
    next = this.options.model.getNext(this.options.type, this.options.dataFormat);
    return this.update(next);
  };

  Gauge.prototype.radius = function() {
    return this.getHeight() / 1.58;
  };

  Gauge.prototype.centerX = function() {
    return this.getWidth() / 2;
  };

  Gauge.prototype.centerY = function() {
    return 0.68 * this.getHeight();
  };

  Gauge.prototype.textX = function() {
    return this.width / 2;
  };

  Gauge.prototype.textY = function() {
    return 0.48 * this.height;
  };

  Gauge.prototype.getAngle = function(value) {
    var a, b, ref;
    ref = this.options.domain, a = ref[0], b = ref[1];
    return ((value - a) / (b - a)) * (Math.PI + 2 * Math.PI / 8) - Math.PI / 2 - Math.PI / 8;
  };

  Gauge.prototype.setStyles = function(selector) {
    var styles;
    styles = this.getStyles(selector);
    this.ctx.fillStyle = styles.fill;
    this.ctx.strokeStyle = styles.stroke;
    if (styles['stroke-width'] != null) {
      return this.ctx.lineWidth = styles['stroke-width'].replace('px', '');
    }
  };

  Gauge.prototype.draw = function() {
    var a, c, cx, cy, i, j, r, ref, ref1, ref2, ref3, s, t, tickOffset, tickSize, x1, x2, y1, y2;
    ref = [this.centerX(), this.centerY(), this.radius()], cx = ref[0], cy = ref[1], r = ref[2];
    ref1 = [this.options.tickOffset, this.options.tickSize], tickOffset = ref1[0], tickSize = ref1[1];
    this.clear();
    t = d3.scale.linear().domain([0, this.options.ticks]).range([-(9 / 8) * Math.PI, Math.PI / 8]);
    this.setStyles('.epoch .gauge .tick');
    this.ctx.beginPath();
    for (i = j = 0, ref2 = this.options.ticks; 0 <= ref2 ? j <= ref2 : j >= ref2; i = 0 <= ref2 ? ++j : --j) {
      a = t(i);
      ref3 = [Math.cos(a), Math.sin(a)], c = ref3[0], s = ref3[1];
      x1 = c * (r - tickOffset) + cx;
      y1 = s * (r - tickOffset) + cy;
      x2 = c * (r - tickOffset - tickSize) + cx;
      y2 = s * (r - tickOffset - tickSize) + cy;
      this.ctx.moveTo(x1, y1);
      this.ctx.lineTo(x2, y2);
    }
    this.ctx.stroke();
    this.setStyles('.epoch .gauge .arc.outer');
    this.ctx.beginPath();
    this.ctx.arc(cx, cy, r, -(9 / 8) * Math.PI, (1 / 8) * Math.PI, false);
    this.ctx.stroke();
    this.setStyles('.epoch .gauge .arc.inner');
    this.ctx.beginPath();
    this.ctx.arc(cx, cy, r - 10, -(9 / 8) * Math.PI, (1 / 8) * Math.PI, false);
    this.ctx.stroke();
    this.drawNeedle();
    return Gauge.__super__.draw.call(this);
  };

  Gauge.prototype.drawNeedle = function() {
    var cx, cy, r, ratio, ref;
    ref = [this.centerX(), this.centerY(), this.radius()], cx = ref[0], cy = ref[1], r = ref[2];
    ratio = this.value / this.options.domain[1];
    this.setStyles('.epoch .gauge .needle');
    this.ctx.beginPath();
    this.ctx.save();
    this.ctx.translate(cx, cy);
    this.ctx.rotate(this.getAngle(this.value));
    this.ctx.moveTo(4 * this.pixelRatio, 0);
    this.ctx.lineTo(-4 * this.pixelRatio, 0);
    this.ctx.lineTo(-1 * this.pixelRatio, 19 - r);
    this.ctx.lineTo(1, 19 - r);
    this.ctx.fill();
    this.setStyles('.epoch .gauge .needle-base');
    this.ctx.beginPath();
    this.ctx.arc(0, 0, this.getWidth() / 25, 0, 2 * Math.PI);
    this.ctx.fill();
    return this.ctx.restore();
  };

  Gauge.prototype.domainChanged = function() {
    return this.draw();
  };

  Gauge.prototype.ticksChanged = function() {
    return this.draw();
  };

  Gauge.prototype.tickSizeChanged = function() {
    return this.draw();
  };

  Gauge.prototype.tickOffsetChanged = function() {
    return this.draw();
  };

  Gauge.prototype.formatChanged = function() {
    return this.svg.select('text.value').text(this.options.format(this.value));
  };

  return Gauge;

})(Epoch.Chart.Canvas);

var extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Epoch.Time.Heatmap = (function(superClass) {
  var colorFunctions, defaults, optionListeners;

  extend(Heatmap, superClass);

  defaults = {
    type: 'time.heatmap',
    buckets: 10,
    bucketRange: [0, 100],
    opacity: 'linear',
    bucketPadding: 2,
    paintZeroValues: false,
    cutOutliers: false
  };

  colorFunctions = {
    root: function(value, max) {
      return Math.pow(value / max, 0.5);
    },
    linear: function(value, max) {
      return value / max;
    },
    quadratic: function(value, max) {
      return Math.pow(value / max, 2);
    },
    cubic: function(value, max) {
      return Math.pow(value / max, 3);
    },
    quartic: function(value, max) {
      return Math.pow(value / max, 4);
    },
    quintic: function(value, max) {
      return Math.pow(value / max, 5);
    }
  };

  optionListeners = {
    'option:buckets': 'bucketsChanged',
    'option:bucketRange': 'bucketRangeChanged',
    'option:opacity': 'opacityChanged',
    'option:bucketPadding': 'bucketPaddingChanged',
    'option:paintZeroValues': 'paintZeroValuesChanged',
    'option:cutOutliers': 'cutOutliersChanged'
  };

  function Heatmap(options) {
    this.options = options != null ? options : {};
    Heatmap.__super__.constructor.call(this, this.options = Epoch.Util.defaults(this.options, defaults));
    this._setOpacityFunction();
    this._setupPaintCanvas();
    this.onAll(optionListeners);
    this.draw();
  }

  Heatmap.prototype._setOpacityFunction = function() {
    if (Epoch.isString(this.options.opacity)) {
      this._opacityFn = colorFunctions[this.options.opacity];
      if (this._opacityFn == null) {
        return Epoch.exception("Unknown coloring function provided '" + this.options.opacity + "'");
      }
    } else if (Epoch.isFunction(this.options.opacity)) {
      return this._opacityFn = this.options.opacity;
    } else {
      return Epoch.exception("Unknown type for provided coloring function.");
    }
  };

  Heatmap.prototype.setData = function(data) {
    var k, layer, len, ref, results;
    Heatmap.__super__.setData.call(this, data);
    ref = this.data;
    results = [];
    for (k = 0, len = ref.length; k < len; k++) {
      layer = ref[k];
      results.push(layer.values = layer.values.map((function(_this) {
        return function(entry) {
          return _this._prepareEntry(entry);
        };
      })(this)));
    }
    return results;
  };

  Heatmap.prototype._getBuckets = function(entry) {
    var bucketSize, count, i, index, k, prepared, ref, ref1, value;
    prepared = {
      time: entry.time,
      max: 0,
      buckets: (function() {
        var k, ref, results;
        results = [];
        for (i = k = 0, ref = this.options.buckets; 0 <= ref ? k < ref : k > ref; i = 0 <= ref ? ++k : --k) {
          results.push(0);
        }
        return results;
      }).call(this)
    };
    bucketSize = (this.options.bucketRange[1] - this.options.bucketRange[0]) / this.options.buckets;
    ref = entry.histogram;
    for (value in ref) {
      if (!hasProp.call(ref, value)) continue;
      count = ref[value];
      index = parseInt((value - this.options.bucketRange[0]) / bucketSize);
      if (this.options.cutOutliers && ((index < 0) || (index >= this.options.buckets))) {
        continue;
      }
      if (index < 0) {
        index = 0;
      } else if (index >= this.options.buckets) {
        index = this.options.buckets - 1;
      }
      prepared.buckets[index] += parseInt(count);
    }
    for (i = k = 0, ref1 = prepared.buckets.length; 0 <= ref1 ? k < ref1 : k > ref1; i = 0 <= ref1 ? ++k : --k) {
      prepared.max = Math.max(prepared.max, prepared.buckets[i]);
    }
    return prepared;
  };

  Heatmap.prototype.y = function() {
    return d3.scale.linear().domain(this.options.bucketRange).range([this.innerHeight(), 0]);
  };

  Heatmap.prototype.ySvg = function() {
    return d3.scale.linear().domain(this.options.bucketRange).range([this.innerHeight() / this.pixelRatio, 0]);
  };

  Heatmap.prototype.h = function() {
    return this.innerHeight() / this.options.buckets;
  };

  Heatmap.prototype._offsetX = function() {
    return 0.5 * this.w() / this.pixelRatio;
  };

  Heatmap.prototype._setupPaintCanvas = function() {
    this.paintWidth = (this.options.windowSize + 1) * this.w();
    this.paintHeight = this.height * this.pixelRatio;
    this.paint = document.createElement('CANVAS');
    this.paint.width = this.paintWidth;
    this.paint.height = this.paintHeight;
    this.p = Epoch.Util.getContext(this.paint);
    this.redraw();
    this.on('after:shift', '_paintEntry');
    this.on('transition:end', '_shiftPaintCanvas');
    return this.on('transition:end', (function(_this) {
      return function() {
        return _this.draw(_this.animation.frame * _this.animation.delta());
      };
    })(this));
  };

  Heatmap.prototype.redraw = function() {
    var drawColumn, entryIndex;
    if (!(Epoch.isNonEmptyArray(this.data) && Epoch.isNonEmptyArray(this.data[0].values))) {
      return;
    }
    entryIndex = this.data[0].values.length;
    drawColumn = this.options.windowSize;
    if (this.inTransition()) {
      drawColumn++;
    }
    while ((--entryIndex >= 0) && (--drawColumn >= 0)) {
      this._paintEntry(entryIndex, drawColumn);
    }
    return this.draw(this.animation.frame * this.animation.delta());
  };

  Heatmap.prototype._computeColor = function(value, max, color) {
    return Epoch.Util.toRGBA(color, this._opacityFn(value, max));
  };

  Heatmap.prototype._paintEntry = function(entryIndex, drawColumn) {
    var bucket, bucketTotals, color, count, entries, entry, h, i, j, k, layer, len, len1, m, max, maxTotal, ref, ref1, ref2, results, styles, sum, w, xPos;
    if (entryIndex == null) {
      entryIndex = null;
    }
    if (drawColumn == null) {
      drawColumn = null;
    }
    ref = [this.w(), this.h()], w = ref[0], h = ref[1];
    if (entryIndex == null) {
      entryIndex = this.data[0].values.length - 1;
    }
    if (drawColumn == null) {
      drawColumn = this.options.windowSize;
    }
    entries = [];
    bucketTotals = (function() {
      var k, ref1, results;
      results = [];
      for (i = k = 0, ref1 = this.options.buckets; 0 <= ref1 ? k < ref1 : k > ref1; i = 0 <= ref1 ? ++k : --k) {
        results.push(0);
      }
      return results;
    }).call(this);
    maxTotal = 0;
    ref1 = this.getVisibleLayers();
    for (k = 0, len = ref1.length; k < len; k++) {
      layer = ref1[k];
      entry = this._getBuckets(layer.values[entryIndex]);
      ref2 = entry.buckets;
      for (bucket in ref2) {
        if (!hasProp.call(ref2, bucket)) continue;
        count = ref2[bucket];
        bucketTotals[bucket] += count;
      }
      maxTotal += entry.max;
      styles = this.getStyles("." + (layer.className.split(' ').join('.')) + " rect.bucket");
      entry.color = styles.fill;
      entries.push(entry);
    }
    xPos = drawColumn * w;
    this.p.clearRect(xPos, 0, w, this.paintHeight);
    j = this.options.buckets;
    results = [];
    for (bucket in bucketTotals) {
      if (!hasProp.call(bucketTotals, bucket)) continue;
      sum = bucketTotals[bucket];
      color = this._avgLab(entries, bucket);
      max = 0;
      for (m = 0, len1 = entries.length; m < len1; m++) {
        entry = entries[m];
        max += (entry.buckets[bucket] / sum) * maxTotal;
      }
      if (sum > 0 || this.options.paintZeroValues) {
        this.p.fillStyle = this._computeColor(sum, max, color);
        this.p.fillRect(xPos, (j - 1) * h, w - this.options.bucketPadding, h - this.options.bucketPadding);
      }
      results.push(j--);
    }
    return results;
  };

  Heatmap.prototype._shiftPaintCanvas = function() {
    var data;
    data = this.p.getImageData(this.w(), 0, this.paintWidth - this.w(), this.paintHeight);
    return this.p.putImageData(data, 0, 0);
  };

  Heatmap.prototype._avgLab = function(entries, bucket) {
    var a, b, color, entry, i, k, l, len, ratio, ref, total, value;
    ref = [0, 0, 0, 0], l = ref[0], a = ref[1], b = ref[2], total = ref[3];
    for (k = 0, len = entries.length; k < len; k++) {
      entry = entries[k];
      if (entry.buckets[bucket] == null) {
        continue;
      }
      total += entry.buckets[bucket];
    }
    for (i in entries) {
      if (!hasProp.call(entries, i)) continue;
      entry = entries[i];
      if (entry.buckets[bucket] != null) {
        value = entry.buckets[bucket] | 0;
      } else {
        value = 0;
      }
      ratio = value / total;
      color = d3.lab(entry.color);
      l += ratio * color.l;
      a += ratio * color.a;
      b += ratio * color.b;
    }
    return d3.lab(l, a, b).toString();
  };

  Heatmap.prototype.draw = function(delta) {
    if (delta == null) {
      delta = 0;
    }
    this.clear();
    this.ctx.drawImage(this.paint, delta, 0);
    return Heatmap.__super__.draw.call(this);
  };

  Heatmap.prototype.bucketsChanged = function() {
    return this.redraw();
  };

  Heatmap.prototype.bucketRangeChanged = function() {
    this._transitionRangeAxes();
    return this.redraw();
  };

  Heatmap.prototype.opacityChanged = function() {
    this._setOpacityFunction();
    return this.redraw();
  };

  Heatmap.prototype.bucketPaddingChanged = function() {
    return this.redraw();
  };

  Heatmap.prototype.paintZeroValuesChanged = function() {
    return this.redraw();
  };

  Heatmap.prototype.cutOutliersChanged = function() {
    return this.redraw();
  };

  Heatmap.prototype.layerChanged = function() {
    return this.redraw();
  };

  return Heatmap;

})(Epoch.Time.Plot);

var extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

Epoch.Time.Line = (function(superClass) {
  extend(Line, superClass);

  function Line(options) {
    var base;
    this.options = options != null ? options : {};
    if ((base = this.options).type == null) {
      base.type = 'time.line';
    }
    Line.__super__.constructor.call(this, this.options);
    this.draw();
  }

  Line.prototype.setStyles = function(className) {
    var styles;
    styles = this.getStyles("g." + (className.replace(/\s/g, '.')) + " path.line");
    this.ctx.fillStyle = styles.fill;
    this.ctx.strokeStyle = styles.stroke;
    return this.ctx.lineWidth = this.pixelRatio * styles['stroke-width'].replace('px', '');
  };

  Line.prototype.draw = function(delta) {
    var args, entry, i, j, k, layer, len, ref, ref1, trans, w, y;
    if (delta == null) {
      delta = 0;
    }
    this.clear();
    w = this.w();
    ref = this.getVisibleLayers();
    for (j = 0, len = ref.length; j < len; j++) {
      layer = ref[j];
      if (!Epoch.isNonEmptyArray(layer.values)) {
        continue;
      }
      this.setStyles(layer.className);
      this.ctx.beginPath();
      y = this.y(layer.range);
      ref1 = [this.options.windowSize, layer.values.length, this.inTransition()], i = ref1[0], k = ref1[1], trans = ref1[2];
      while ((--i >= -2) && (--k >= 0)) {
        entry = layer.values[k];
        args = [(i + 1) * w + delta, y(entry.y)];
        if (trans) {
          args[0] += w;
        }
        if (i === this.options.windowSize - 1) {
          this.ctx.moveTo.apply(this.ctx, args);
        } else {
          this.ctx.lineTo.apply(this.ctx, args);
        }
      }
      this.ctx.stroke();
    }
    return Line.__super__.draw.call(this);
  };

  return Line;

})(Epoch.Time.Plot);

Epoch._typeMap = {
  'area': Epoch.Chart.Area,
  'bar': Epoch.Chart.Bar,
  'line': Epoch.Chart.Line,
  'pie': Epoch.Chart.Pie,
  'scatter': Epoch.Chart.Scatter,
  'histogram': Epoch.Chart.Histogram,
  'time.area': Epoch.Time.Area,
  'time.bar': Epoch.Time.Bar,
  'time.line': Epoch.Time.Line,
  'time.gauge': Epoch.Time.Gauge,
  'time.heatmap': Epoch.Time.Heatmap
};

var jQueryModule;

jQueryModule = function($) {
  var DATA_NAME;
  DATA_NAME = 'epoch-chart';
  return $.fn.epoch = function(options) {
    var chart, klass;
    options.el = this.get(0);
    if ((chart = this.data(DATA_NAME)) == null) {
      klass = Epoch._typeMap[options.type];
      if (klass == null) {
        Epoch.exception("Unknown chart type '" + options.type + "'");
      }
      this.data(DATA_NAME, (chart = new klass(options)));
    }
    return chart;
  };
};

if (window.jQuery != null) {
  jQueryModule(jQuery);
}

var MooToolsModule;

MooToolsModule = function() {
  var DATA_NAME;
  DATA_NAME = 'epoch-chart';
  return Element.implement('epoch', function(options) {
    var chart, klass, self;
    self = $$(this);
    if ((chart = self.retrieve(DATA_NAME)[0]) == null) {
      options.el = this;
      klass = Epoch._typeMap[options.type];
      if (klass == null) {
        Epoch.exception("Unknown chart type '" + options.type + "'");
      }
      self.store(DATA_NAME, (chart = new klass(options)));
    }
    return chart;
  });
};

if (window.MooTools != null) {
  MooToolsModule();
}

var zeptoModule;

zeptoModule = function($) {
  var DATA_NAME, chartId, chartMap, next_cid;
  DATA_NAME = 'epoch-chart';
  chartMap = {};
  chartId = 0;
  next_cid = function() {
    return DATA_NAME + "-" + (++chartId);
  };
  return $.extend($.fn, {
    epoch: function(options) {
      var chart, cid, klass;
      if ((cid = this.data(DATA_NAME)) != null) {
        return chartMap[cid];
      }
      options.el = this.get(0);
      klass = Epoch._typeMap[options.type];
      if (klass == null) {
        Epoch.exception("Unknown chart type '" + options.type + "'");
      }
      this.data(DATA_NAME, (cid = next_cid()));
      chart = new klass(options);
      chartMap[cid] = chart;
      return chart;
    }
  });
};

if (window.Zepto != null) {
  zeptoModule(Zepto);
}


/***/ }),
/* 347 */
/***/ ((module) => {

module.exports = "<div ng-controller=\"CpuCtrl\" class=\"widget-container fluid-height stf-cpu\"><div class=\"heading\"><i class=\"fa\"></i><span translate=\"translate\">CPU</span></div><div class=\"widget-content padded\"><div></div></div></div>"

/***/ }),
/* 348 */
/***/ ((module) => {

module.exports = function CpuCtrl() {

}


/***/ }),
/* 349 */
/***/ ((module) => {

module.exports = "<div class=\"row\"><div class=\"col-md-12\"><div ng-include=\"&quot;control-panes/performance/cpu/cpu.pug&quot;\"></div></div></div>"

/***/ }),
/* 350 */
/***/ ((module) => {

module.exports = function PerformanceCtrl() {

}


/***/ }),
/* 351 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = angular.module('stf.dashboard', [
  (__webpack_require__(352).name),
  (__webpack_require__(358).name),
  (__webpack_require__(363).name),
  (__webpack_require__(381).name),
  (__webpack_require__(386).name),
  (__webpack_require__(392).name)
])
  .run(['$templateCache', function($templateCache) {
    $templateCache.put(
      'control-panes/dashboard/dashboard.pug'
      , __webpack_require__(397)
    )
  }])
  .controller('DashboardCtrl', __webpack_require__(398))


/***/ }),
/* 352 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

__webpack_require__(353)

module.exports = angular.module('stf.navigation', [

])
  .run(['$templateCache', function($templateCache) {
    $templateCache.put('control-panes/dashboard/navigation/navigation.pug',
      __webpack_require__(355)
    )
  }])
  .controller('NavigationCtrl', __webpack_require__(356))


/***/ }),
/* 353 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14);
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(15);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(17);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(18);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(19);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_navigation_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(354);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_navigation_css__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_cjs_js_navigation_css__WEBPACK_IMPORTED_MODULE_6__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_css_loader_dist_cjs_js_navigation_css__WEBPACK_IMPORTED_MODULE_6__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_css_loader_dist_cjs_js_navigation_css__WEBPACK_IMPORTED_MODULE_6__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()((_node_modules_css_loader_dist_cjs_js_navigation_css__WEBPACK_IMPORTED_MODULE_6___default()), options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((_node_modules_css_loader_dist_cjs_js_navigation_css__WEBPACK_IMPORTED_MODULE_6___default()) && (_node_modules_css_loader_dist_cjs_js_navigation_css__WEBPACK_IMPORTED_MODULE_6___default().locals) ? (_node_modules_css_loader_dist_cjs_js_navigation_css__WEBPACK_IMPORTED_MODULE_6___default().locals) : undefined);


/***/ }),
/* 354 */
/***/ ((module, exports, __webpack_require__) => {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(21);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.id, ".stf-navigation .browser-icon {\n  width: 18px;\n  height: auto;\n}\n\n.stf-navigation .url-input-container {\n  position: relative;\n  padding: 0;\n  margin: 0;\n}\n\n.stf-navigation .url-input-container input {\n  margin: 0;\n  padding-left: 30px;\n  z-index: 0;\n}\n\n.stf-navigation .url-input-container img {\n  position: absolute;\n  bottom: 14px;\n  left: 9px;\n  width: 16px;\n  height: 16px;\n  pointer-events: none;\n  border: none;\n  margin:0;\n}\n\n.stf-navigation .browser-buttons {\n  min-width: 44px;\n  min-height: 35px;\n}\n", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 355 */
/***/ ((module) => {

module.exports = "<div ng-controller=\"NavigationCtrl\" class=\"widget-container fluid-height stf-navigation\"><div class=\"heading\"><stacked-icon icon=\"fa-globe\" color=\"color-blue\"></stacked-icon><span translate=\"translate\">Navigation</span><span><button ng-click=\"clearSettings()\" uib-tooltip=\"{{ &quot;Reset all browser settings&quot; | translate }}\" class=\"btn btn-xs btn-danger-outline pull-right\"><i class=\"fa fa-trash-o\"></i><span translate=\"translate\">Reset</span></button><!--.button-spacer.pull-right--><!--i.fa.fa-refresh.pull-right(ng-click='refresh()', title='{{\"Reload\"|translate}}')--><!--i.fa.fa-step-forward.pull-right(ng-click='forward()', title='{{\"Go Forward\"|translate}}')--><!--i.fa.fa-step-backward.pull-right(ng-click='back()', title='{{\"Go Back\"|translate}}')--></span></div><div class=\"widget-content padded\"><form enable-autofill=\"enable-autofill\" ng-submit=\"openUrl()\"><div class=\"input-group url-input-container\"><input type=\"text\" name=\"textURL\" placeholder=\"http://...\" autocomplete=\"url\" ng-model=\"textURL\" text-focus-select=\"text-focus-select\" autocapitalize=\"off\" spellcheck=\"false\" blur-element=\"blurUrl\" accesskey=\"N\" tabindex=\"10\" ng-change=\"textUrlChanged()\" focus-element=\"nav.focusUrl\" class=\"form-control\"/><img ng-src=\"{{urlFavicon}}\"/><div class=\"input-group-btn\"><button ng-click=\"openURL()\" ng-disabled=\"!textURL\" translate=\"translate\" class=\"btn btn-primary-outline\">Open</button></div></div></form><div class=\"btn-group\"><div ng-click=\"nav.focusUrl = true\" class=\"btn-group browser-buttons\"><label ng-repeat=\"browserRadio in device.browser.apps track by browserRadio.id\" ng-model=\"$root.browser\" uib-btn-radio=\"browserRadio\" uib-tooltip=\"{{browserRadio.name}} ({{browserRadio.developer}})\" class=\"btn btn-default-outline\"><img ng-src=\"/static/app/browsers/icon/36x36/{{browserRadio.type}}.png\" ng-show=\"browserRadio.type\" class=\"browser-icon pointer\"/></label></div></div></div></div>"

/***/ }),
/* 356 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

//
// Copyright © 2024 contains code contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0
//

var _ = __webpack_require__(190)

module.exports = function NavigationCtrl($scope, $rootScope) {

  var faviconIsSet = false

  function setUrlFavicon(url) {
    var FAVICON_BASE_URL = '//www.google.com/s2/favicons?domain_url='
    $scope.urlFavicon = FAVICON_BASE_URL + url
    faviconIsSet = true
  }

  function resetFavicon() {
    $scope.urlFavicon = (__webpack_require__(357)["default"])
    faviconIsSet = false
  }

  resetFavicon()

  $scope.textUrlChanged = function() {
    if (faviconIsSet) {
      resetFavicon()
    }
  }

  function addHttp(textUrl) {
    // Check for '://' because a protocol-less URL might include
    // a username:password combination.
    // Ignores also any query parameter because it may contain a http:// inside.
    return (textUrl.replace(/\?.*/, '').indexOf('://') === -1 ? 'http://' : ''
      ) + textUrl
  }

  $scope.blurUrl = false

  $scope.openURL = function() {
    $scope.blurUrl = true
    $rootScope.screenFocus = true

    var url = addHttp($scope.textURL)
    setUrlFavicon(url)
    return $scope.control.openBrowser(url, $scope.browser)
  }

  function setCurrentBrowser(browser) {
    if (browser && browser.apps) {
      var currentBrowser = {}
      if (browser.selected) {
        var selectedBrowser = _.head(browser.apps, 'selected')
        if (!_.isEmpty(selectedBrowser)) {
          currentBrowser = selectedBrowser
        }
      } else {
        var defaultBrowser = _.find(browser.apps, {name: 'Browser'})
        if (defaultBrowser) {
          currentBrowser = defaultBrowser
        } else {
          currentBrowser = _.head(browser.apps)
        }
      }
      $rootScope.browser = currentBrowser
    }
  }

  setCurrentBrowser($scope.device ? $scope.device.browser : null)

  $scope.$watch('device.browser', function(newValue, oldValue) {
    if (newValue !== oldValue) {
      setCurrentBrowser(newValue)
    }
  }, true)

  $scope.clearSettings = function() {
    var browser = $scope.browser
    $scope.control.clearBrowser(browser)
  }
}


/***/ }),
/* 357 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__webpack_require__.p + "ecd86754157a1c3ab17926a520f52456.png");

/***/ }),
/* 358 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

__webpack_require__(359)

module.exports = angular.module('stf.shell', [
  (__webpack_require__(36).name),
  (__webpack_require__(9).name)
])
  .run(['$templateCache', function($templateCache) {
    $templateCache.put('control-panes/dashboard/shell/shell.pug',
      __webpack_require__(361)
    )
  }])
  .controller('ShellCtrl', __webpack_require__(362))


/***/ }),
/* 359 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14);
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(15);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(17);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(18);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(19);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_shell_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(360);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_shell_css__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_cjs_js_shell_css__WEBPACK_IMPORTED_MODULE_6__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_css_loader_dist_cjs_js_shell_css__WEBPACK_IMPORTED_MODULE_6__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_css_loader_dist_cjs_js_shell_css__WEBPACK_IMPORTED_MODULE_6__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()((_node_modules_css_loader_dist_cjs_js_shell_css__WEBPACK_IMPORTED_MODULE_6___default()), options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((_node_modules_css_loader_dist_cjs_js_shell_css__WEBPACK_IMPORTED_MODULE_6___default()) && (_node_modules_css_loader_dist_cjs_js_shell_css__WEBPACK_IMPORTED_MODULE_6___default().locals) ? (_node_modules_css_loader_dist_cjs_js_shell_css__WEBPACK_IMPORTED_MODULE_6___default().locals) : undefined);


/***/ }),
/* 360 */
/***/ ((module, exports, __webpack_require__) => {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(21);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.id, ".stf-shell .shell-results {\n  font-size: 12px;\n  color: #fefefe;\n  background: #444;\n}\n\n.stf-shell .shell-results-empty {\n  font-style: italic;\n}\n\n.stf-shell .shell-input {\n  font-family: Monaco, Menlo, Consolas, \"Courier New\", monospace;\n  font-size: 12px;\n}\n", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 361 */
/***/ ((module) => {

module.exports = "<div ng-controller=\"ShellCtrl\" class=\"widget-container fluid-height stf-shell\"><div class=\"heading\"><stacked-icon icon=\"fa-terminal\" color=\"color-darkgray\"></stacked-icon><span translate=\"translate\">Shell</span><clear-button ng-click=\"clear()\" ng-disabled=\"!command &amp;&amp; !data\" class=\"btn-xs\"></clear-button><help-icon topic=\"Remote-Shell\" uib-tooltip=\"{{&quot;Executes remote shell commands&quot; | translate}}\"></help-icon></div><div class=\"widget-content padded\"><!-- NOTE: autofill doesn't work here--><form method=\"post\" enable-autofill=\"enable-autofill\" ng-submit=\"run(command)\"><div class=\"input-group form-inline\"><input ng-model=\"command\" Xtext-focus-select=\"Xtext-focus-select\" autocapitalize=\"off\" spellcheck=\"false\" tabindex=\"30\" accesskey=\"S\" autocomplete=\"on\" class=\"form-control shell-input\"/><span class=\"input-group-btn\"><button ng-click=\"run(command)\" ng-disabled=\"!command\" class=\"btn btn-primary-outline\"><i class=\"fa fa-play\"></i></button></span></div></form><pre ng-show=\"data\" class=\"shell-results selectable\">{{data}}</pre><pre ng-show=\"result.settled &amp;&amp; !data\" class=\"shell-results selectable shell-results-empty\">No output</pre></div></div>"

/***/ }),
/* 362 */
/***/ ((module) => {

module.exports = function ShellCtrl($scope) {
  $scope.result = null

  $scope.run = function(command) {
    if (command === 'clear') {
      $scope.clear()
      return
    }

    $scope.command = ''

    return $scope.control.shell(command)
      .progressed(function(result) {
        $scope.result = result
        $scope.data = result.data.join('')
        $scope.$digest()
      })
      .then(function(result) {
        $scope.result = result
        $scope.data = result.data.join('')
        $scope.$digest()
      })
  }

  $scope.clear = function() {
    $scope.command = ''
    $scope.data = ''
    $scope.result = null
  }
}


/***/ }),
/* 363 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

__webpack_require__(364)

__webpack_require__(366)

module.exports = angular.module('stf.install', [
  'angularFileUpload',
  (__webpack_require__(367).name),
  (__webpack_require__(210).name),
  (__webpack_require__(372).name),
  (__webpack_require__(374).name),
  (__webpack_require__(377).name)
])
  .run(['$templateCache', function($templateCache) {
    $templateCache.put('control-panes/dashboard/install/install.pug',
      __webpack_require__(379)
    )
  }])
  .controller('InstallCtrl', __webpack_require__(380))


/***/ }),
/* 364 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14);
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(15);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(17);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(18);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(19);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_install_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(365);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_install_css__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_cjs_js_install_css__WEBPACK_IMPORTED_MODULE_6__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_css_loader_dist_cjs_js_install_css__WEBPACK_IMPORTED_MODULE_6__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_css_loader_dist_cjs_js_install_css__WEBPACK_IMPORTED_MODULE_6__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()((_node_modules_css_loader_dist_cjs_js_install_css__WEBPACK_IMPORTED_MODULE_6___default()), options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((_node_modules_css_loader_dist_cjs_js_install_css__WEBPACK_IMPORTED_MODULE_6___default()) && (_node_modules_css_loader_dist_cjs_js_install_css__WEBPACK_IMPORTED_MODULE_6___default().locals) ? (_node_modules_css_loader_dist_cjs_js_install_css__WEBPACK_IMPORTED_MODULE_6___default().locals) : undefined);


/***/ }),
/* 365 */
/***/ ((module, exports, __webpack_require__) => {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(21);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.id, ".stf-upload .btn-file {\n  position: relative;\n  overflow: hidden;\n}\n\n.stf-upload .btn-file input[type=file] {\n  position: absolute;\n  top: 0;\n  right: 0;\n  min-width: 100%;\n  min-height: 100%;\n  font-size: 999px;\n  text-align: right;\n  opacity: 0;\n  outline: none;\n  background: white;\n  cursor: inherit;\n  display: block;\n}\n\n.stf-upload .drop-area {\n  text-align: center;\n  color: #b7b7b7;\n  padding-top: 10px;\n  border: 2px transparent dashed;\n  border-radius: 2px;\n  cursor: pointer;\n}\n\n.stf-upload .dragover {\n  border-color: #157afb !important;\n}\n\n.stf-upload .upload-status {\n  margin-top: 15px;\n}\n\n.stf-upload .manifest-text {\n  font-size: 10px;\n}\n\n.stf-upload .drop-area-text {\n  font-size: 14px;\n  font-weight: 300;\n}\n", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 366 */
/***/ (() => {

/**!
 * AngularJS file upload/drop directive with progress and abort
 * @author  Danial  <danial.farid@gmail.com>
 * @version 2.0.5
 */
(function() {
	
function patchXHR(fnName, newFn) {
	window.XMLHttpRequest.prototype[fnName] = newFn(window.XMLHttpRequest.prototype[fnName]);
}

if (window.XMLHttpRequest && !window.XMLHttpRequest.__isFileAPIShim) {
	patchXHR('setRequestHeader', function(orig) {
		return function(header, value) {
			if (header === '__setXHR_') {
				var val = value(this);
				// fix for angular < 1.2.0
				if (val instanceof Function) {
					val(this);
				}
			} else {
				orig.apply(this, arguments);
			}
		}
	});
}
	
var angularFileUpload = angular.module('angularFileUpload', []);
angularFileUpload.version = '2.0.5';
angularFileUpload.service('$upload', ['$http', '$q', '$timeout', function($http, $q, $timeout) {
	function sendHttp(config) {
		config.method = config.method || 'POST';
		config.headers = config.headers || {};
		config.transformRequest = config.transformRequest || function(data, headersGetter) {
			if (window.ArrayBuffer && data instanceof window.ArrayBuffer) {
				return data;
			}
			return $http.defaults.transformRequest[0](data, headersGetter);
		};
		var deferred = $q.defer();
		var promise = deferred.promise;

		config.headers['__setXHR_'] = function() {
			return function(xhr) {
				if (!xhr) return;
				config.__XHR = xhr;
				config.xhrFn && config.xhrFn(xhr);
				xhr.upload.addEventListener('progress', function(e) {
					e.config = config;
					deferred.notify ? deferred.notify(e) : promise.progress_fn && $timeout(function(){promise.progress_fn(e)});
				}, false);
				//fix for firefox not firing upload progress end, also IE8-9
				xhr.upload.addEventListener('load', function(e) {
					if (e.lengthComputable) {
						e.config = config;
						deferred.notify ? deferred.notify(e) : promise.progress_fn && $timeout(function(){promise.progress_fn(e)});
					}
				}, false);
			};
		};

		$http(config).then(function(r){deferred.resolve(r)}, function(e){deferred.reject(e)}, function(n){deferred.notify(n)});
		
		promise.success = function(fn) {
			promise.then(function(response) {
				fn(response.data, response.status, response.headers, config);
			});
			return promise;
		};

		promise.error = function(fn) {
			promise.then(null, function(response) {
				fn(response.data, response.status, response.headers, config);
			});
			return promise;
		};

		promise.progress = function(fn) {
			promise.progress_fn = fn;
			promise.then(null, null, function(update) {
				fn(update);
			});
			return promise;
		};
		promise.abort = function() {
			if (config.__XHR) {
				$timeout(function() {
					config.__XHR.abort();
				});
			}
			return promise;
		};
		promise.xhr = function(fn) {
			config.xhrFn = (function(origXhrFn) {
				return function() {
					origXhrFn && origXhrFn.apply(promise, arguments);
					fn.apply(promise, arguments);
				}
			})(config.xhrFn);
			return promise;
		};
		
		return promise;
	}

	this.upload = function(config) {
		config.headers = config.headers || {};
		config.headers['Content-Type'] = undefined;
		config.transformRequest = config.transformRequest || $http.defaults.transformRequest;
		var formData = new FormData();
		var origTransformRequest = config.transformRequest;
		var origData = config.data;
		config.transformRequest = function(formData, headerGetter) {
			if (origData) {
				if (config.formDataAppender) {
					for (var key in origData) {
						var val = origData[key];
						config.formDataAppender(formData, key, val);
					}
				} else {
					for (var key in origData) {
						var val = origData[key];
						if (typeof origTransformRequest == 'function') {
							val = origTransformRequest(val, headerGetter);
						} else {
							for (var i = 0; i < origTransformRequest.length; i++) {
								var transformFn = origTransformRequest[i];
								if (typeof transformFn == 'function') {
									val = transformFn(val, headerGetter);
								}
							}
						}
						if (val != undefined) formData.append(key, val);
					}
				}
			}

			if (config.file != null) {
				var fileFormName = config.fileFormDataName || 'file';

				if (Object.prototype.toString.call(config.file) === '[object Array]') {
					var isFileFormNameString = Object.prototype.toString.call(fileFormName) === '[object String]';
					for (var i = 0; i < config.file.length; i++) {
						formData.append(isFileFormNameString ? fileFormName : fileFormName[i], config.file[i], 
								(config.fileName && config.fileName[i]) || config.file[i].name);
					}
				} else {
					formData.append(fileFormName, config.file, config.fileName || config.file.name);
				}
			}
			return formData;
		};

		config.data = formData;

		return sendHttp(config);
	};

	this.http = function(config) {
		return sendHttp(config);
	};
}]);

angularFileUpload.directive('ngFileSelect', [ '$parse', '$timeout', function($parse, $timeout) { return {
	restrict: 'AEC',
	require:'?ngModel',
	scope: {
		fileModel: '=ngModel',
		change: '&ngFileChange',
		select : '&ngFileSelect',
		resetOnClick: '&resetOnClick',
		multiple: '&ngMultiple',
		accept: '&ngAccept'
	},
	link: function(scope, elem, attr, ngModel) {
		handleFileSelect(scope, elem, attr, ngModel, $parse, $timeout);
	}
}}]);

function handleFileSelect(scope, elem, attr, ngModel, $parse, $timeout) {
	if (scope.multiple()) {
		elem.attr('multiple', 'true');
		attr['multiple'] = 'true';
	}
	var accept = scope.accept();
	if (accept) {
		elem.attr('accept', accept);
		attr['accept'] = accept;
	}
	if (elem[0].tagName.toLowerCase() !== 'input' || (elem.attr('type') && elem.attr('type').toLowerCase()) !== 'file') {
		var fileElem = angular.element('<input type="file">')
		if (attr['multiple']) fileElem.attr('multiple', attr['multiple']);
		if (attr['accept']) fileElem.attr('accept', attr['accept']);
		fileElem.css('width', '1px').css('height', '1px').css('opacity', 0).css('position', 'absolute').css('filter', 'alpha(opacity=0)')
				.css('padding', 0).css('margin', 0).css('overflow', 'hidden').attr('tabindex', '-1').attr('ng-file-generated-elem', true);
		elem.append(fileElem);
		elem.__afu_fileClickDelegate__ = function() {
			fileElem[0].click();
		}; 
		elem.bind('click', elem.__afu_fileClickDelegate__);
		elem.css('overflow', 'hidden');
		elem = fileElem;
	}
	if (scope.resetOnClick() != false) {
		elem.bind('click', function(evt) {
			if (elem[0].value) {
				updateModel([], attr, ngModel, scope, evt);
			}
			elem[0].value = null;
		});
	}
	if (ngModel) {
		scope.$parent.$watch(attr['ngModel'], function(val) {
			if (val == null) {
				elem[0].value = null;
			}
		});
	}
	if (attr['ngFileSelect'] != '') {
		scope.change = scope.select;
	}
	elem.bind('change', function(evt) {
		var files = [], fileList, i;
		fileList = evt.__files_ || evt.target.files;
		updateModel(fileList, attr, ngModel, scope, evt);
	});
	
	function updateModel(fileList, attr, ngModel, scope, evt) {
		$timeout(function() {
			var files = [];
			for (var i = 0; i < fileList.length; i++) {
				files.push(fileList.item(i));
			}
			if (ngModel) {
				scope.fileModel = files;
				ngModel && ngModel.$setViewValue(files != null && files.length == 0 ? '' : files);
			}
			$timeout(function() {
				scope.change({
					$files : files,
					$event : evt
				});
			});
		});
	}
}

angularFileUpload.directive('ngFileDrop', [ '$parse', '$timeout', '$location', function($parse, $timeout, $location) { return {
	restrict: 'AEC',
	require:'?ngModel',
	scope: {
		fileModel: '=ngModel',
		fileRejectedModel: '=ngFileRejectedModel',
		change: '&ngFileChange',
		drop: '&ngFileDrop',
		allowDir: '&allowDir',
		dragOverClass: '&dragOverClass',
		dropAvailable: '=dropAvailable', 
		stopPropagation: '&stopPropagation',
		hideOnDropNotAvailable: '&hideOnDropNotAvailable',
		multiple: '&ngMultiple',
		accept: '&ngAccept'
	},
	link: function(scope, elem, attr, ngModel) {
		handleDrop(scope, elem, attr, ngModel, $parse, $timeout, $location);
	}
}}]);

angularFileUpload.directive('ngNoFileDrop', function() { 
	return function(scope, elem, attr) {
		if (dropAvailable()) elem.css('display', 'none')
	}
});

//for backward compatibility
angularFileUpload.directive('ngFileDropAvailable', [ '$parse', '$timeout', function($parse, $timeout) { 
	return function(scope, elem, attr) {
		if (dropAvailable()) {
			var fn = $parse(attr['ngFileDropAvailable']);
			$timeout(function() {
				fn(scope);
			});
		}
	}
}]);

function handleDrop(scope, elem, attr, ngModel, $parse, $timeout, $location) {
	var available = dropAvailable();
	if (attr['dropAvailable']) {
		$timeout(function() {
			scope.dropAvailable = available;
		});
	}
	if (!available) {
		if (scope.hideOnDropNotAvailable() != false) {
			elem.css('display', 'none');
		}
		return;
	}
	var leaveTimeout = null;
	var stopPropagation = scope.stopPropagation();
	var dragOverDelay = 1;
	var accept = scope.accept() || attr['accept'] || attr['ngAccept'];
	var regexp = accept ? new RegExp(globStringToRegex(accept)) : null;
	elem[0].addEventListener('dragover', function(evt) {
		evt.preventDefault();
		if (stopPropagation) evt.stopPropagation();
		$timeout.cancel(leaveTimeout);
		if (!scope.actualDragOverClass) {
			scope.actualDragOverClass = calculateDragOverClass(scope, attr, evt);
		}
		elem.addClass(scope.actualDragOverClass);
	}, false);
	elem[0].addEventListener('dragenter', function(evt) {
		evt.preventDefault();
		if (stopPropagation) evt.stopPropagation();
	}, false);
	elem[0].addEventListener('dragleave', function(evt) {
		leaveTimeout = $timeout(function() {
			elem.removeClass(scope.actualDragOverClass);
			scope.actualDragOverClass = null;
		}, dragOverDelay || 1);
	}, false);
	if (attr['ngFileDrop'] != '') {
		scope.change = scope.drop;
	}
	elem[0].addEventListener('drop', function(evt) {
		evt.preventDefault();
		if (stopPropagation) evt.stopPropagation();
		elem.removeClass(scope.actualDragOverClass);
		scope.actualDragOverClass = null;
		extractFiles(evt, function(files, rejFiles) {
			if (ngModel) {
				scope.fileModel = files;
				ngModel && ngModel.$setViewValue(files != null && files.length == 0 ? '' : files);
			}
			if (attr['ngFileRejectedModel']) scope.fileRejectedModel = rejFiles;
			$timeout(function(){
				scope.change({
					$files : files,
					$rejectedFiles: rejFiles,
					$event : evt
				});
			});
		}, scope.allowDir() != false, attr['multiple'] || scope.multiple() || attr['ngMultiple'] == 'true');
	}, false);
	
	function calculateDragOverClass(scope, attr, evt) {
		var valid = true;
		if (regexp) {
			var items = evt.dataTransfer.items;
			if (items != null) {
				for (var i = 0 ; i < items.length && valid; i++) {
					valid = valid && (items[i].kind == 'file' || items[i].kind == '') && 
						(items[i].type.match(regexp) != null || (items[i].name != null && items[i].name.match(regexp) != null));
				}
			}
		}
		var clazz = scope.dragOverClass({$event : evt});
		if (clazz) {
			if (clazz.delay) dragOverDelay = clazz.delay; 
			if (clazz.accept) clazz = valid ? clazz.accept : clazz.reject;
		}
		return clazz || attr['dragOverClass'] || 'dragover';
	}
				
	function extractFiles(evt, callback, allowDir, multiple) {
		var files = [], rejFiles = [], items = evt.dataTransfer.items;
		
		function addFile(file) {
			if (!regexp || file.type.match(regexp) || (file.name != null && file.name.match(regexp))) {
				files.push(file);
			} else {
				rejFiles.push(file);
			}
		}
		
		if (items && items.length > 0 && $location.protocol() != 'file') {
			for (var i = 0; i < items.length; i++) {
				if (items[i].webkitGetAsEntry && items[i].webkitGetAsEntry() && items[i].webkitGetAsEntry().isDirectory) {
					var entry = items[i].webkitGetAsEntry();
					if (entry.isDirectory && !allowDir) {
						continue;
					}
					if (entry != null) {
						//fix for chrome bug https://code.google.com/p/chromium/issues/detail?id=149735
						if (isASCII(entry.name)) {
							traverseFileTree(files, entry);
						} else if (!items[i].webkitGetAsEntry().isDirectory) {
							addFile(items[i].getAsFile());
						}
					}
				} else {
					var f = items[i].getAsFile();
					if (f != null) addFile(f);
				}
				if (!multiple && files.length > 0) break;
			}
		} else {
			var fileList = evt.dataTransfer.files;
			if (fileList != null) {
				for (var i = 0; i < fileList.length; i++) {
					addFile(fileList.item(i));
					if (!multiple && files.length > 0) break;
				}
			}
		}
		var delays = 0;
		(function waitForProcess(delay) {
			$timeout(function() {
				if (!processing) {
					if (!multiple && files.length > 1) {
						var i = 0;
						while (files[i].type == 'directory') i++;
						files = [files[i]];
					}
					callback(files, rejFiles);
				} else {
					if (delays++ * 10 < 20 * 1000) {
						waitForProcess(10);
					}
				}
			}, delay || 0)
		})();
		
		var processing = 0;
		function traverseFileTree(files, entry, path) {
			if (entry != null) {
				if (entry.isDirectory) {
					addFile({name: entry.name, type: 'directory', path: (path ? path : '') + entry.name});
					var dirReader = entry.createReader();
					processing++;
					dirReader.readEntries(function(entries) {
						try {
							for (var i = 0; i < entries.length; i++) {
								traverseFileTree(files, entries[i], (path ? path : '') + entry.name + '/');
							}
						} finally {
							processing--;
						}
					});
				} else {
					processing++;
					entry.file(function(file) {
						processing--;
						file.path = (path ? path : '') + file.name;
						addFile(file);
					});
				}
			}
		}
	}
}

function dropAvailable() {
    var div = document.createElement('div');
    return ('draggable' in div) && ('ondrop' in div);
}

function isASCII(str) {
	return /^[\000-\177]*$/.test(str);
}

function globStringToRegex(str) {
	if (str.length > 2 && str[0] === '/' && str[str.length -1] === '/') {
		return str.substring(1, str.length - 1);
	}
	var split = str.split(','), result = '';
	if (split.length > 1) {
		for (var i = 0; i < split.length; i++) {
			result += '(' + globStringToRegex(split[i]) + ')';
			if (i < split.length - 1) {
				result += '|'
			}
		}
	} else {
		result = '^' + str.replace(new RegExp('[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\' + '-]', 'g'), '\\$&') + '$';
		result = result.replace(/\\\*/g, '.*').replace(/\\\?/g, '.');
	}
	return result;
}

})();


/***/ }),
/* 367 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

__webpack_require__(368)

module.exports = angular.module('stf.activities', [
  (__webpack_require__(36).name)
])
  .run(['$templateCache', function($templateCache) {
    $templateCache.put(
      'control-panes/dashboard/install/activities/activities.pug',
      __webpack_require__(370)
    )
  }])
  .controller('ActivitiesCtrl', __webpack_require__(371))


/***/ }),
/* 368 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14);
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(15);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(17);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(18);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(19);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_activities_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(369);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_activities_css__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_cjs_js_activities_css__WEBPACK_IMPORTED_MODULE_6__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_css_loader_dist_cjs_js_activities_css__WEBPACK_IMPORTED_MODULE_6__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_css_loader_dist_cjs_js_activities_css__WEBPACK_IMPORTED_MODULE_6__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()((_node_modules_css_loader_dist_cjs_js_activities_css__WEBPACK_IMPORTED_MODULE_6___default()), options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((_node_modules_css_loader_dist_cjs_js_activities_css__WEBPACK_IMPORTED_MODULE_6___default()) && (_node_modules_css_loader_dist_cjs_js_activities_css__WEBPACK_IMPORTED_MODULE_6___default().locals) ? (_node_modules_css_loader_dist_cjs_js_activities_css__WEBPACK_IMPORTED_MODULE_6___default().locals) : undefined);


/***/ }),
/* 369 */
/***/ ((module, exports, __webpack_require__) => {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(21);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.id, ".stf-activities {\n\n}", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 370 */
/***/ ((module) => {

module.exports = "<div ng-controller=\"ActivitiesCtrl\"><form><table class=\"table table-condensed\"><tbody><tr><td translate=\"translate\">Package</td><td><input type=\"text\" placeholder=\"\" ng-model=\"selectedPackageName\" list=\"packageList\" class=\"form-control\"/><datalist id=\"packageList\"><option ng-repeat=\"packageName in packageNames\" ng-value=\"packageName\"></option></datalist><!--typeahead='packageName for packageName in packageNames')--></td></tr><tr><td translate=\"translate\">Activity</td><td><input type=\"text\" placeholder=\"\" ng-model=\"selectedActivityName\" list=\"activityList\" class=\"form-control\"/><datalist id=\"activityList\"><option ng-repeat=\"activityName in activityNames\" ng-value=\"activityName\"></option></datalist><!--typeahead='activityName for activityName in activityNames')--></td></tr><tr><td translate=\"translate\">Action</td><td><input type=\"text\" placeholder=\"\" ng-model=\"selectedAction\" list=\"actionList\" class=\"form-control\"/><datalist id=\"actionList\"><option ng-repeat=\"action in activityActions\" ng-value=\"action\"></option></datalist><!--typeahead='action for action in activityActions')--></td></tr><tr><td translate=\"translate\">Category</td><td><input type=\"text\" placeholder=\"\" ng-model=\"selectedCategory\" list=\"categoryList\" class=\"form-control\"/><datalist id=\"categoryList\"><option ng-repeat=\"category in activityCategories\" ng-value=\"category\"></option></datalist><!--typeahead='category for category in activityCategories')--></td></tr><tr><td translate=\"translate\">Data</td><td><input type=\"text\" placeholder=\"\" ng-model=\"selectedData\" list=\"dataList\" class=\"form-control\"/><datalist id=\"dataList\"><option ng-repeat=\"data in activityData\" ng-value=\"data\"></option></datalist><!--typeahead='data for data in activityData', id='selectedData')--></td></tr></tbody></table><button ng-click=\"runActivity()\" class=\"btn btn-sm btn-primary-outline pull-right\"><i class=\"fa fa-play\"></i><span translate=\"translate\">Launch Activity</span></button></form></div>"

/***/ }),
/* 371 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _ = __webpack_require__(190)

module.exports = function ActivitiesCtrl($scope) {
  $scope.selectedAction = ''
  $scope.selectedCategory = ''
  $scope.selectedData = ''
  $scope.selectedPackageName = $scope.installation &&
    $scope.installation.manifest && $scope.installation.manifest.package ?
    $scope.installation.manifest.package : ''
  $scope.selectedActivityName = ''

  $scope.activityActions = []
  $scope.activityCategories = []
  $scope.activityData = []
  $scope.packageNames = [$scope.selectedPackageName]
  $scope.activityNames = []

  $scope.$watch('installation.manifest.application', function(newValue) {
    if (newValue.activities) {
      var activityActions = []
      var activityCategories = []
      var activityData = []
      var activityNames = []

      _.forEach(newValue.activities, function(activity) {
        if (activity.name) {
          activityNames.push(activity.name)
        }

        _.forEach(activity.intentFilters, function(intentFilter) {

          _.forEach(intentFilter.actions, function(action) {
            if (action.name) {
              activityActions.push(action.name)
            }
          })

          _.forEach(intentFilter.categories, function(category) {
            if (category.name) {
              activityCategories.push(category.name)
            }
          })

          _.forEach(intentFilter.data, function(data) {
            if (data.scheme) {
              var uri = data.scheme + '://'
              if (data.host) {
                uri += data.host
              }
              if (data.port) {
                uri += data.port
              }
              if (data.path) {
                uri += '/' + data.path
              } else if (data.pathPrefix) {
                uri += '/' + data.pathPrefix
              } else if (data.pathPattern) {
                uri += '/' + data.pathPattern
              }
              activityData.push(uri)
            }
            if (data.mimeType) {
              activityData.push(data.mimeType)
            }
          })
        })
      })
      $scope.activityActions = _.uniq(activityActions)
      $scope.activityCategories = _.uniq(activityCategories)
      $scope.activityData = _.uniq(activityData)
      $scope.activityNames = _.uniq(activityNames)
    }
  })

  $scope.runActivity = function() {
    var command = 'am start'
    if ($scope.selectedAction) {
      command += ' -a ' + $scope.selectedAction
    }
    if ($scope.selectedCategory) {
      command += ' -c ' + $scope.selectedCategory
    }
    if ($scope.selectedData) {
      command += ' -d ' + $scope.selectedData
    }
    if ($scope.selectedPackageName && $scope.selectedActivityName) {
      command += ' -n ' +
        $scope.selectedPackageName + '/' + $scope.selectedActivityName
    }

    return $scope.control.shell(command)
      .then(function(result) {
        // console.log(result)
      })
  }
}


/***/ }),
/* 372 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

__webpack_require__(366)

module.exports = angular.module('stf/storage', [
  'angularFileUpload'
])
  .factory('StorageService', __webpack_require__(373))


/***/ }),
/* 373 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var Promise = __webpack_require__(192)

module.exports = function StorageServiceFactory($http, $upload) {
  var service = {}

  service.storeUrl = function(type, url) {
    return $http({
      url: '/s/download/' + type
    , method: 'POST'
    , data: {
        url: url
      }
    })
  }

  service.storeFile = function(type, files, options) {
    var resolver = Promise.defer()
    var input = options.filter ? files.filter(options.filter) : files

    if (input.length) {
      $upload.upload({
          url: '/s/upload/' + type
        , method: 'POST'
        , file: input
        })
        .then(
          function(value) {
            resolver.resolve(value)
          }
        , function(err) {
            resolver.reject(err)
          }
        , function(progressEvent) {
            resolver.progress(progressEvent)
          }
        )
    }
    else {
      var err = new Error('No input files')
      err.code = 'no_input_files'
      resolver.reject(err)
    }

    return resolver.promise
  }

  return service
}


/***/ }),
/* 374 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = angular.module('stf.install-service', [
  (__webpack_require__(9).name)
])
  .filter('installError', __webpack_require__(375))
  .factory('InstallService', __webpack_require__(376))


/***/ }),
/* 375 */
/***/ ((module) => {

module.exports = function installErrorFilter(gettext) {
  /* eslint max-len:0 */
  return function(text) {
    switch (text) {
      // Our error codes.
      case 'INSTALL_SUCCEEDED':
        return gettext('Installation succeeded.')
      case 'INSTALL_ERROR_UNKNOWN':
        return gettext('Installation failed due to an unknown error.')
      case 'INSTALL_ERROR_TIMEOUT':
        return gettext('Installation timed out.')
      case 'INSTALL_CANCELED_BY_USER': // Found on Xiaomi devices
        return gettext('Installation canceled by user.')
      // Android PackageManager error codes from [1].
      // [1] https://github.com/android/platform_frameworks_base/blob/
      //     master/core/java/android/content/pm/PackageManager.java
      case 'INSTALL_FAILED_ALREADY_EXISTS':
        return gettext('The package is already installed.')
      case 'INSTALL_FAILED_INVALID_APK':
        return gettext('The package archive file is invalid.')
      case 'INSTALL_FAILED_INVALID_URI':
        return gettext('The URI passed in is invalid.')
      case 'INSTALL_FAILED_INSUFFICIENT_STORAGE':
        return gettext("The package manager service found that the device didn't have enough storage space to install the app.")
      case 'INSTALL_FAILED_DUPLICATE_PACKAGE':
        return gettext('A package is already installed with the same name.')
      case 'INSTALL_FAILED_NO_SHARED_USER':
        return gettext('The requested shared user does not exist.')
      case 'INSTALL_FAILED_UPDATE_INCOMPATIBLE':
        return gettext("A previously installed package of the same name has a different signature than the new package (and the old package's data was not removed).")
      case 'INSTALL_FAILED_MISSING_SHARED_LIBRARY':
        return gettext('The new package uses a shared library that is not available.')
      case 'INSTALL_FAILED_REPLACE_COULDNT_DELETE':
        return gettext('The existing package could not be deleted.')
      case 'INSTALL_FAILED_DEXOPT':
        return gettext('The new package failed while optimizing and validating its dex files, either because there was not enough storage or the validation failed.')
      case 'INSTALL_FAILED_OLDER_SDK':
        return gettext('The new package failed because the current SDK version is older than that required by the package.')
      case 'INSTALL_FAILED_CONFLICTING_PROVIDER':
        return gettext('The new package failed because it contains a content provider with thesame authority as a provider already installed in the system.')
      case 'INSTALL_FAILED_NEWER_SDK':
        return gettext('The new package failed because the current SDK version is newer than that required by the package.')
      case 'INSTALL_FAILED_TEST_ONLY':
        return gettext('The new package failed because it has specified that it is a test-only package and the caller has not supplied the INSTALL_ALLOW_TEST flag.')
      case 'INSTALL_FAILED_CPU_ABI_INCOMPATIBLE':
        return gettext("The package being installed contains native code, but none that is compatible with the device's CPU_ABI.")
      case 'INSTALL_FAILED_MISSING_FEATURE':
        return gettext('The new package uses a feature that is not available.')
      case 'INSTALL_FAILED_CONTAINER_ERROR':
        return gettext("A secure container mount point couldn't be accessed on external media.")
      case 'INSTALL_FAILED_INVALID_INSTALL_LOCATION':
        return gettext("The new package couldn't be installed in the specified install location.")
      case 'INSTALL_FAILED_MEDIA_UNAVAILABLE':
        return gettext("The new package couldn't be installed in the specified install location because the media is not available.")
      case 'INSTALL_FAILED_VERIFICATION_TIMEOUT':
        return gettext("The new package couldn't be installed because the verification timed out.")
      case 'INSTALL_FAILED_VERIFICATION_FAILURE':
        return gettext("The new package couldn't be installed because the verification did not succeed.")
      case 'INSTALL_FAILED_PACKAGE_CHANGED':
        return gettext('The package changed from what the calling program expected.')
      case 'INSTALL_FAILED_UID_CHANGED':
        return gettext('The new package is assigned a different UID than it previously held.')
      case 'INSTALL_FAILED_VERSION_DOWNGRADE':
        return gettext('The new package has an older version code than the currently installed package.')
      case 'INSTALL_PARSE_FAILED_NOT_APK':
        return gettext("The parser was given a path that is not a file, or does not end with the expected '.apk' extension.")
      case 'INSTALL_PARSE_FAILED_BAD_MANIFEST':
        return gettext('The parser was unable to retrieve the AndroidManifest.xml file.')
      case 'INSTALL_PARSE_FAILED_UNEXPECTED_EXCEPTION':
        return gettext('The parser encountered an unexpected exception.')
      case 'INSTALL_PARSE_FAILED_NO_CERTIFICATES':
        return gettext('The parser did not find any certificates in the .apk.')
      case 'INSTALL_PARSE_FAILED_INCONSISTENT_CERTIFICATES':
        return gettext('The parser found inconsistent certificates on the files in the .apk.')
      case 'INSTALL_PARSE_FAILED_CERTIFICATE_ENCODING':
        return gettext('The parser encountered a CertificateEncodingException in one of the files in the .apk.')
      case 'INSTALL_PARSE_FAILED_BAD_PACKAGE_NAME':
        return gettext('The parser encountered a bad or missing package name in the manifest.')
      case 'INSTALL_PARSE_FAILED_BAD_SHARED_USER_ID':
        return gettext('The parser encountered a bad shared user id name in the manifest.')
      case 'INSTALL_PARSE_FAILED_MANIFEST_MALFORMED':
        return gettext('The parser encountered some structural problem in the manifest.')
      case 'INSTALL_PARSE_FAILED_MANIFEST_EMPTY':
        return gettext('The parser did not find any actionable tags (instrumentation or application) in the manifest.')
      case 'INSTALL_FAILED_INTERNAL_ERROR':
        return gettext('The system failed to install the package because of system issues.')
      case 'INSTALL_FAILED_USER_RESTRICTED':
        return gettext('The system failed to install the package because the user is restricted from installing apps.')
      case 'INSTALL_FAILED_NO_MATCHING_ABIS':
        return gettext('The system failed to install the package because its packaged native code did not match any of the ABIs supported by the system.')
      default:
        return gettext(text)
    }
  }
}


/***/ }),
/* 376 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var EventEmitter = __webpack_require__(191)
var Promise = __webpack_require__(192)
Promise.longStackTraces()

module.exports = function InstallService(
  $rootScope
, $http
, $filter
, StorageService
, AppState
) {
  var installService = Object.create(null)

  function Installation(state) {
    this.progress = 0
    this.state = state
    this.settled = false
    this.success = false
    this.error = null
    this.href = null
    this.manifest = null
    this.launch = true
  }

  Installation.prototype = Object.create(EventEmitter.prototype)
  Installation.prototype.constructor = Installation

  Installation.prototype.apply = function($scope) {
    function changeListener() {
      $scope.safeApply()
    }

    this.on('change', changeListener)

    $scope.$on('$destroy', function() {
      this.removeListener('change', changeListener)
    }.bind(this))

    return this
  }

  Installation.prototype.update = function(progress, state) {
    this.progress = Math.floor(progress)
    this.state = state
    this.emit('change')
  }

  Installation.prototype.okay = function(state) {
    this.settled = true
    this.progress = 100
    this.success = true
    this.state = state
    this.emit('change')
  }

  Installation.prototype.fail = function(err) {
    this.settled = true
    this.progress = 100
    this.success = false
    this.error = err
    this.emit('change')
  }

  installService.installUrl = function(control, url) {
    var installation = new Installation('downloading')
    $rootScope.$broadcast('installation', installation)
    return control.uploadUrl(url)
      .progressed(function(uploadResult) {
        installation.update(uploadResult.progress / 2, uploadResult.lastData)
      })
      .then(function(uploadResult) {
        installation.update(uploadResult.progress / 2, uploadResult.lastData)
        installation.manifest = uploadResult.body
        return control.install({
            href: installation.href,
            manifest: installation.manifest,
            launch: installation.launch
          })
          .progressed(function(result) {
            installation.update(50 + result.progress / 2, result.lastData)
          })
      })
      .then(function() {
        installation.okay('installed')
      })
      .catch(function(err) {
        installation.fail(err.code || err.message)
      })
  }

  installService.installFile = function(control, $files) {
    var installation = new Installation('uploading')
    let isIOSPlatform = AppState.device.platform === 'iOS'
    $rootScope.$broadcast('installation', installation)
    return StorageService.storeFile('apk', $files, {
        filter: function(file) {
          return isIOSPlatform ? /\.(ipa)$/i.test(file.name) : /\.(apk|aab)$/i.test(file.name)
        }
    })
      .progressed(function(e) {
        if (e.lengthComputable) {
          installation.update(e.loaded / e.total * 100 / 2, 'uploading')
        }
      })
      .then(function(res) {
        installation.update(100 / 2, 'processing')
        installation.href = res.data.resources.file.href
        if(isIOSPlatform) {
          installation.manifest = {'application': {'activities': {}}}
          return control.install({
            href: installation.href,
            manifest: installation.manifest,
            launch: installation.launch
          })
            .progressed(function(result) {
              installation.update(50 + result.progress / 2, result.lastData)
            })
        } else {
          return $http.get(installation.href + '/manifest')
            .then(function(res) {
              if (res.data.success) {
                installation.manifest = res.data.manifest
                return control.install({
                  href: installation.href,
                  manifest: installation.manifest,
                  launch: installation.launch
                })
                  .progressed(function(result) {
                    installation.update(50 + result.progress / 2, result.lastData)
                  })
              }
              else {
                throw new Error('Unable to retrieve manifest')
              }
            })
        }
      })
      .then(function() {
        installation.okay('installed')
      })
      .catch(function(err) {
        installation.fail(err.code || err.message)
      })
    }

  return installService
}


/***/ }),
/* 377 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = angular.module('stf.upload-service', [
  (__webpack_require__(9).name)
])
  .filter('uploadError', __webpack_require__(378))


/***/ }),
/* 378 */
/***/ ((module) => {

module.exports = function uploadErrorFilter(gettext) {
  return function(text) {
    return {
      fail_invalid_app_file: gettext('Uploaded file is not valid'),
      fail_download: gettext('Failed to download file'),
      fail_invalid_url: gettext('Cannot access specified URL'),
      fail: gettext('Upload failed')
    }[text] || gettext('Upload unknown error')
  }
}


/***/ }),
/* 379 */
/***/ ((module) => {

module.exports = "<div ng-controller=\"InstallCtrl\" class=\"widget-container fluid-height stf-upload\"><div class=\"heading\"><stacked-icon icon=\"fa-upload\" color=\"color-red\"></stacked-icon><span translate=\"translate\">App Upload</span><clear-button ng-click=\"clear()\" ng-disabled=\"!installation\" class=\"btn-xs\"></clear-button></div><div class=\"widget-content padded\"><!--.input-group.form-inlineinput(type=text, ng-model='remoteUrl', ng-enter='installUrl(remoteUrl)',\nplaceholder='http://...').form-control\nspan.input-group-btn\n  button.btn.btn-primary-outline(ng-click='installUrl(remoteUrl)',\n  uib-tooltip='{{ \"Upload From Link\" | translate }}', ng-disabled='!remoteUrl')\n    i.fa.fa-upload\n--><div ng-file-drop=\"installFile($files)\" ng-file-drag-over-class=\"dragover\" class=\"drop-area file-input btn-file\"><input type=\"file\" ng-file-select=\"installFile($files)\"/><i class=\"fa fa-2x fa-download drop-area-icon\"></i><div translate=\"translate\" class=\"drop-area-text\">Drop file to upload</div></div><div ng-if=\"installation\" class=\"upload-status selectable\"><uib-progressbar max=\"100\" value=\"installation.progress\" ng-if=\"!installation.settled\" ng-class=\"{&quot;active&quot;: !installation.settled}\" class=\"progress-striped\"></uib-progressbar><div ng-if=\"!installation.error\"><span ng-switch=\"installation.state\"><strong ng-switch-when=\"uploading\"><span translate=\"translate\">Uploading...</span><span> ({{installation.progress}}%)</span></strong><strong ng-switch-when=\"processing\"><span translate=\"translate\">Processing...</span><span> ({{installation.progress}}%)</span></strong><strong ng-switch-when=\"pushing_app\"><span translate=\"translate\">Pushing app...</span><span> ({{installation.progress}}%)</span></strong><strong ng-switch-when=\"installing_app\"><span translate=\"translate\">Installing app...</span><span> ({{installation.progress}}%)</span></strong><strong ng-switch-when=\"launching_app\"><span translate=\"translate\">Launching activity...</span><span> ({{installation.progress}}%)</span></strong><strong ng-switch-when=\"installed\"><accordion close-others=\"false\" ng-if=\"installation\" class=\"pointer\"><accordion-group is-open=\"accordionOpen\"><accordion-heading class=\"pointer\"><i class=\"fa fa-file-o\"></i><span> {{installation.manifest.package || \"App\" }}</span><button ng-click=\"uninstall(installation.manifest.package)\" ng-show=\"installation.success\" class=\"btn btn-xs btn-danger-outline pull-right\"><i class=\"fa fa-trash-o\"></i><span translate=\"translate\">Uninstall</span></button></accordion-heading><div ng-include=\"&quot;control-panes/dashboard/install/activities/activities.pug&quot;\"></div><button uib-btn-checkbox=\"uib-btn-checkbox\" ng-model=\"showManifest\" class=\"btn btn-sm btn-primary-outline\"><i class=\"fa fa-list\"></i><span ng-if=\"showManifest\">Hide Manifest</span><span ng-if=\"!showManifest\">Show Manifest</span></button><pre ng-if=\"showManifest\" class=\"manifest-text\">{{ installation.manifest | json }}</pre></accordion-group></accordion></strong></span></div><alert type=\"danger\" close=\"clear()\" ng-if=\"installation.error\"><strong translate=\"translate\">Oops!</strong>&#x20;<span>{{ installation.error | installError | translate }} ({{ installation.error }})</span></alert></div></div></div>"

/***/ }),
/* 380 */
/***/ ((module) => {

module.exports = function InstallCtrl(
  $scope
, InstallService
) {
  $scope.accordionOpen = true
  $scope.installation = null

  $scope.clear = function() {
    $scope.installation = null
    $scope.accordionOpen = false
  }

  $scope.$on('installation', function(e, installation) {
    $scope.installation = installation.apply($scope)
  })

  $scope.installUrl = function(url) {
    return InstallService.installUrl($scope.control, url)
  }

  $scope.installFile = function($files) {
    if ($files.length) {
      return InstallService.installFile($scope.control, $files)
    }
  }

  $scope.uninstall = function(packageName) {
    // TODO: After clicking uninstall accordion opens
    return $scope.control.uninstall(packageName)
      .then(function() {
        $scope.safeApply(function() {
          $scope.clear()
        })
      })
  }
}


/***/ }),
/* 381 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

__webpack_require__(382)

module.exports = angular.module('stf.apps', [
  (__webpack_require__(36).name)
])
  .run(['$templateCache', function($templateCache) {
    $templateCache.put('control-panes/dashboard/apps/apps.pug',
      __webpack_require__(384)
    )
  }])
  .controller('AppsCtrl', __webpack_require__(385))


/***/ }),
/* 382 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14);
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(15);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(17);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(18);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(19);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_apps_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(383);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_apps_css__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_cjs_js_apps_css__WEBPACK_IMPORTED_MODULE_6__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_css_loader_dist_cjs_js_apps_css__WEBPACK_IMPORTED_MODULE_6__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_css_loader_dist_cjs_js_apps_css__WEBPACK_IMPORTED_MODULE_6__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()((_node_modules_css_loader_dist_cjs_js_apps_css__WEBPACK_IMPORTED_MODULE_6___default()), options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((_node_modules_css_loader_dist_cjs_js_apps_css__WEBPACK_IMPORTED_MODULE_6___default()) && (_node_modules_css_loader_dist_cjs_js_apps_css__WEBPACK_IMPORTED_MODULE_6___default().locals) ? (_node_modules_css_loader_dist_cjs_js_apps_css__WEBPACK_IMPORTED_MODULE_6___default().locals) : undefined);


/***/ }),
/* 383 */
/***/ ((module, exports, __webpack_require__) => {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(21);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.id, ".stf-apps .icon-title {\n  font-size: 12px;\n  width: 70px;\n}\n\n.stf-apps .icon-app {\n  margin: 0;\n  text-align: center;\n}\n\n.stf-apps .heading .icon-app {\n  margin-top: -8px;\n}\n\n.stf-apps .icon-app:hover .fa {\n  color: #fff;\n}\n\n.stf-apps .heading .icon-app .fa {\n  font-size: 19px !important;\n  line-height: 14px !important;\n}\n\n.stf-apps .padded {\n  padding-bottom: 8px;\n}\n", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 384 */
/***/ ((module) => {

module.exports = "<div ng-controller=\"AppsCtrl\" class=\"widget-container fluid-height stf-apps\"><div class=\"heading\"><stacked-icon icon=\"fa-th-large\" color=\"color-lila\"></stacked-icon><span translate=\"translate\">Apps</span><button ng-click=\"openSettings()\" class=\"btn btn-primary-outline icon-app pull-right\"><i class=\"fa fa-gear fa-lg color-darkgray\"></i><div class=\"icon-title\">{{\"Settings\" | translate}}</div></button><button ng-click=\"control.openStore()\" class=\"btn btn-primary-outline icon-app pull-right color-pink\"><i class=\"fa fa-shopping-cart fa-lg color-blue\"></i><div class=\"icon-title\">{{\"App Store\" | translate}}</div></button></div><div class=\"widget-content padded\"><button ng-click=\"openWiFiSettings()\" class=\"btn btn-primary-outline icon-app pull-right\"><i class=\"fa fa-wifi fa-lg color-skyblue\"></i><div class=\"icon-title\">{{\"WiFi\" | translate}}</div></button><button ng-click=\"openManageApps()\" class=\"btn btn-primary-outline icon-app pull-right\"><i class=\"fa fa-list fa-lg color-orange\"></i><div class=\"icon-title\">{{\"Manage Apps\" | translate}}</div></button><button ng-click=\"openDeveloperSettings()\" class=\"btn btn-primary-outline icon-app pull-right\"><i class=\"fa fa-sliders fa-lg color-darkgreen\"></i><div class=\"icon-title\">{{\"Developer\" | translate}}</div></button><div class=\"clearfix\"></div></div></div>"

/***/ }),
/* 385 */
/***/ ((module) => {

// See https://github.com/android/platform_packages_apps_settings/blob/master/AndroidManifest.xml

module.exports = function ShellCtrl($scope) {
  $scope.result = null

  var run = function(cmd) {
    var command = cmd
    // Force run activity
    command += ' --activity-clear-top'
    return $scope.control.shell(command)
      .then(function(result) {
        // console.log(result)
      })
  }

  // TODO: Move this to server side
  // TODO: Android 2.x doesn't support openSetting(), account for that on the UI

  function openSetting(activity) {
    run('am start -a android.intent.action.MAIN -n com.android.settings/.Settings\\$' +
    activity)
  }

  $scope.openSettings = function() {
    run('am start -a android.intent.action.MAIN -n com.android.settings/.Settings')
  }

  $scope.openWiFiSettings = function() {
    //openSetting('WifiSettingsActivity')
    run('am start -a android.settings.WIFI_SETTINGS')
  }

  $scope.openLocaleSettings = function() {
    openSetting('LocalePickerActivity')
  }

  $scope.openIMESettings = function() {
    openSetting('KeyboardLayoutPickerActivity')
  }

  $scope.openDisplaySettings = function() {
    openSetting('DisplaySettingsActivity')
  }

  $scope.openDeviceInfo = function() {
    openSetting('DeviceInfoSettingsActivity')
  }

  $scope.openManageApps = function() {
    //openSetting('ManageApplicationsActivity')
    run('am start -a android.settings.APPLICATION_SETTINGS')
  }

  $scope.openRunningApps = function() {
    openSetting('RunningServicesActivity')
  }

  $scope.openDeveloperSettings = function() {
    openSetting('DevelopmentSettingsActivity')
  }

  $scope.clear = function() {
    $scope.command = ''
    $scope.data = ''
    $scope.result = null
  }
}


/***/ }),
/* 386 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

__webpack_require__(387)

__webpack_require__(389)

module.exports = angular.module('stf.clipboard', [
  'monospaced.elastic',
  (__webpack_require__(9).name)
])
  .run(['$templateCache', function($templateCache) {
    $templateCache.put('control-panes/dashboard/clipboard/clipboard.pug',
      __webpack_require__(390)
    )
  }])
  .controller('ClipboardCtrl', __webpack_require__(391))


/***/ }),
/* 387 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14);
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(15);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(17);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(18);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(19);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_clipboard_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(388);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_clipboard_css__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_cjs_js_clipboard_css__WEBPACK_IMPORTED_MODULE_6__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_css_loader_dist_cjs_js_clipboard_css__WEBPACK_IMPORTED_MODULE_6__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_css_loader_dist_cjs_js_clipboard_css__WEBPACK_IMPORTED_MODULE_6__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()((_node_modules_css_loader_dist_cjs_js_clipboard_css__WEBPACK_IMPORTED_MODULE_6___default()), options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((_node_modules_css_loader_dist_cjs_js_clipboard_css__WEBPACK_IMPORTED_MODULE_6___default()) && (_node_modules_css_loader_dist_cjs_js_clipboard_css__WEBPACK_IMPORTED_MODULE_6___default().locals) ? (_node_modules_css_loader_dist_cjs_js_clipboard_css__WEBPACK_IMPORTED_MODULE_6___default().locals) : undefined);


/***/ }),
/* 388 */
/***/ ((module, exports, __webpack_require__) => {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(21);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.id, ".stf-clipboard {\n\n}\n\n.stf-clipboard .clipboard-textarea {\n  resize: none;\n}\n", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 389 */
/***/ ((module, exports) => {

/*
 * angular-elastic v2.5.1
 * (c) 2014 Monospaced http://monospaced.com
 * License: MIT
 */

if ( true &&
    module.exports === exports){
  module.exports = 'monospaced.elastic';
}

angular.module('monospaced.elastic', [])

  .constant('msdElasticConfig', {
    append: ''
  })

  .directive('msdElastic', [
    '$timeout', '$window', 'msdElasticConfig',
    function($timeout, $window, config) {
      'use strict';

      return {
        require: 'ngModel',
        restrict: 'A, C',
        link: function(scope, element, attrs, ngModel) {

          // cache a reference to the DOM element
          var ta = element[0],
              $ta = element;

          // ensure the element is a textarea, and browser is capable
          if (ta.nodeName !== 'TEXTAREA' || !$window.getComputedStyle) {
            return;
          }

          // set these properties before measuring dimensions
          $ta.css({
            'overflow': 'hidden',
            'overflow-y': 'hidden',
            'word-wrap': 'break-word'
          });

          // force text reflow
          var text = ta.value;
          ta.value = '';
          ta.value = text;

          var append = attrs.msdElastic ? attrs.msdElastic.replace(/\\n/g, '\n') : config.append,
              $win = angular.element($window),
              mirrorInitStyle = 'position: absolute; top: -999px; right: auto; bottom: auto;' +
                                'left: 0; overflow: hidden; -webkit-box-sizing: content-box;' +
                                '-moz-box-sizing: content-box; box-sizing: content-box;' +
                                'min-height: 0 !important; height: 0 !important; padding: 0;' +
                                'word-wrap: break-word; border: 0;',
              $mirror = angular.element('<textarea aria-hidden="true" tabindex="-1" ' +
                                        'style="' + mirrorInitStyle + '"/>').data('elastic', true),
              mirror = $mirror[0],
              taStyle = getComputedStyle(ta),
              resize = taStyle.getPropertyValue('resize'),
              borderBox = taStyle.getPropertyValue('box-sizing') === 'border-box' ||
                          taStyle.getPropertyValue('-moz-box-sizing') === 'border-box' ||
                          taStyle.getPropertyValue('-webkit-box-sizing') === 'border-box',
              boxOuter = !borderBox ? {width: 0, height: 0} : {
                            width:  parseInt(taStyle.getPropertyValue('border-right-width'), 10) +
                                    parseInt(taStyle.getPropertyValue('padding-right'), 10) +
                                    parseInt(taStyle.getPropertyValue('padding-left'), 10) +
                                    parseInt(taStyle.getPropertyValue('border-left-width'), 10),
                            height: parseInt(taStyle.getPropertyValue('border-top-width'), 10) +
                                    parseInt(taStyle.getPropertyValue('padding-top'), 10) +
                                    parseInt(taStyle.getPropertyValue('padding-bottom'), 10) +
                                    parseInt(taStyle.getPropertyValue('border-bottom-width'), 10)
                          },
              minHeightValue = parseInt(taStyle.getPropertyValue('min-height'), 10),
              heightValue = parseInt(taStyle.getPropertyValue('height'), 10),
              minHeight = Math.max(minHeightValue, heightValue) - boxOuter.height,
              maxHeight = parseInt(taStyle.getPropertyValue('max-height'), 10),
              mirrored,
              active,
              copyStyle = ['font-family',
                           'font-size',
                           'font-weight',
                           'font-style',
                           'letter-spacing',
                           'line-height',
                           'text-transform',
                           'word-spacing',
                           'text-indent'];

          // exit if elastic already applied (or is the mirror element)
          if ($ta.data('elastic')) {
            return;
          }

          // Opera returns max-height of -1 if not set
          maxHeight = maxHeight && maxHeight > 0 ? maxHeight : 9e4;

          // append mirror to the DOM
          if (mirror.parentNode !== document.body) {
            angular.element(document.body).append(mirror);
          }

          // set resize and apply elastic
          $ta.css({
            'resize': (resize === 'none' || resize === 'vertical') ? 'none' : 'horizontal'
          }).data('elastic', true);

          /*
           * methods
           */

          function initMirror() {
            var mirrorStyle = mirrorInitStyle;

            mirrored = ta;
            // copy the essential styles from the textarea to the mirror
            taStyle = getComputedStyle(ta);
            angular.forEach(copyStyle, function(val) {
              mirrorStyle += val + ':' + taStyle.getPropertyValue(val) + ';';
            });
            mirror.setAttribute('style', mirrorStyle);
          }

          function adjust() {
            var taHeight,
                taComputedStyleWidth,
                mirrorHeight,
                width,
                overflow;

            if (mirrored !== ta) {
              initMirror();
            }

            // active flag prevents actions in function from calling adjust again
            if (!active) {
              active = true;

              mirror.value = ta.value + append; // optional whitespace to improve animation
              mirror.style.overflowY = ta.style.overflowY;

              taHeight = ta.style.height === '' ? 'auto' : parseInt(ta.style.height, 10);

              taComputedStyleWidth = getComputedStyle(ta).getPropertyValue('width');

              // ensure getComputedStyle has returned a readable 'used value' pixel width
              if (taComputedStyleWidth.substr(taComputedStyleWidth.length - 2, 2) === 'px') {
                // update mirror width in case the textarea width has changed
                width = parseInt(taComputedStyleWidth, 10) - boxOuter.width;
                mirror.style.width = width + 'px';
              }

              mirrorHeight = mirror.scrollHeight;

              if (mirrorHeight > maxHeight) {
                mirrorHeight = maxHeight;
                overflow = 'scroll';
              } else if (mirrorHeight < minHeight) {
                mirrorHeight = minHeight;
              }
              mirrorHeight += boxOuter.height;
              ta.style.overflowY = overflow || 'hidden';

              if (taHeight !== mirrorHeight) {
                scope.$emit('elastic:resize', $ta, taHeight, mirrorHeight);
                ta.style.height = mirrorHeight + 'px';
              }

              // small delay to prevent an infinite loop
              $timeout(function() {
                active = false;
              }, 1, false);

            }
          }

          function forceAdjust() {
            active = false;
            adjust();
          }

          /*
           * initialise
           */

          // listen
          if ('onpropertychange' in ta && 'oninput' in ta) {
            // IE9
            ta['oninput'] = ta.onkeyup = adjust;
          } else {
            ta['oninput'] = adjust;
          }

          $win.bind('resize', forceAdjust);

          scope.$watch(function() {
            return ngModel.$modelValue;
          }, function(newValue) {
            forceAdjust();
          });

          scope.$on('elastic:adjust', function() {
            initMirror();
            forceAdjust();
          });

          $timeout(adjust, 0, false);

          /*
           * destroy
           */

          scope.$on('$destroy', function() {
            $mirror.remove();
            $win.unbind('resize', forceAdjust);
          });
        }
      };
    }
  ]);


/***/ }),
/* 390 */
/***/ ((module) => {

module.exports = "<div ng-controller=\"ClipboardCtrl\" class=\"widget-container fluid-height stf-clipboard\"><div class=\"heading\"><stacked-icon icon=\"fa-copy\" color=\"color-brown\"></stacked-icon><span translate=\"translate\">Clipboard</span></div><div class=\"widget-content padded\"><div class=\"input-group form-inline\"><textarea rows=\"1\" ng-model=\"control.clipboardContent\" msd-elastic=\"msd-elastic\" text-focus-select=\"text-focus-select\" tabindex=\"20\" class=\"form-control clipboard-textarea\"></textarea><span class=\"input-group-btn\"><button ng-click=\"control.getClipboardContent()\" uib-tooltip=\"{{ &quot;Get clipboard contents&quot; | translate }}\" class=\"btn btn-primary-outline\"><i class=\"fa fa-refresh\"></i></button></span></div></div></div>"

/***/ }),
/* 391 */
/***/ ((module) => {

module.exports = function ClipboardCtrl() {
//  $scope.clipboardContent = null
//
//  $scope.getClipboardContent = function () {
//    console.log('getting')
//
//    $scope.control.copy().then(function (result) {
//      $scope.$apply(function () {
//        if (result.success) {
//          if (result.lastData) {
//            $scope.clipboardContent = result.lastData
//          } else {
//            $scope.clipboardContent = gettext('No clipboard data')
//          }
//        } else {
//          $scope.clipboardContent = gettext('Error while getting data')
//        }
//      })
//    })
//  }
}


/***/ }),
/* 392 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

__webpack_require__(393)

module.exports = angular.module('stf.remote-debug', [
  (__webpack_require__(9).name)
])
  .run(['$templateCache', function($templateCache) {
    $templateCache.put(
      'control-panes/advanced/remote-debug/remote-debug.pug',
      __webpack_require__(395)
    )
  }])
  .controller('RemoteDebugCtrl', __webpack_require__(396))


/***/ }),
/* 393 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14);
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(15);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(17);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(18);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(19);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_remote_debug_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(394);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_remote_debug_css__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_cjs_js_remote_debug_css__WEBPACK_IMPORTED_MODULE_6__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_css_loader_dist_cjs_js_remote_debug_css__WEBPACK_IMPORTED_MODULE_6__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_css_loader_dist_cjs_js_remote_debug_css__WEBPACK_IMPORTED_MODULE_6__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()((_node_modules_css_loader_dist_cjs_js_remote_debug_css__WEBPACK_IMPORTED_MODULE_6___default()), options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((_node_modules_css_loader_dist_cjs_js_remote_debug_css__WEBPACK_IMPORTED_MODULE_6___default()) && (_node_modules_css_loader_dist_cjs_js_remote_debug_css__WEBPACK_IMPORTED_MODULE_6___default().locals) ? (_node_modules_css_loader_dist_cjs_js_remote_debug_css__WEBPACK_IMPORTED_MODULE_6___default().locals) : undefined);


/***/ }),
/* 394 */
/***/ ((module, exports, __webpack_require__) => {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(21);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.id, ".stf-remote-debug {\n\n}\n\n.stf-remote-debug .remote-debug-textarea {\n  resize: none;\n  cursor: text;\n  font-family: Monaco, Menlo, Consolas, \"Courier New\", monospace;\n  font-size: 12px;\n  width: 100%;\n}\n\n\n", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 395 */
/***/ ((module) => {

module.exports = "<div ng-controller=\"RemoteDebugCtrl\" class=\"widget-container fluid-height stf-remote-debug\"><div class=\"heading\"><stacked-icon icon=\"fa-bug\" color=\"color-darkgreen\"></stacked-icon><span translate=\"translate\">Remote debug</span><help-icon topic=\"Remote-Debug\" uib-tooltip=\"{{remoteDebugTooltip | translate}}\"></help-icon></div><div class=\"widget-content padded\"><div class=\"form-inline\"><textarea readonly=\"readonly\" rows=\"1\" ng-model=\"debugCommand\" msd-elastic=\"msd-elastic\" text-focus-select=\"text-focus-select\" class=\"form-control remote-debug-textarea\"></textarea></div></div></div>"

/***/ }),
/* 396 */
/***/ ((module) => {

module.exports = function RemoteDebugCtrl($scope, $timeout, gettext) {
  function startRemoteConnect() {
    if ($scope.control) {
      $scope.control.startRemoteConnect().then(function(result) {
        var url = result.lastData
        $scope.safeApply(function() {
          $scope.debugCommand = 'adb connect ' + url
        })
      })

      return true
    }
    return false
  }

  // TODO: Remove timeout and fix control initialization
  if (!startRemoteConnect()) {
    $timeout(function() {
      if (!startRemoteConnect()) {
        $timeout(startRemoteConnect, 1000)
      }
    }, 200)
  }

  $scope.$watch('platform', function(newValue) {
    if (newValue === 'native') {
      $scope.remoteDebugTooltip =
        gettext('Run the following on your command line to debug the device from your IDE')
    } else {
      $scope.remoteDebugTooltip =
        gettext('Run the following on your command line to debug the device from your Browser')
    }

  })

}


/***/ }),
/* 397 */
/***/ ((module) => {

module.exports = "<div class=\"row\"><div class=\"col-md-6\"><div ng-include=\"&quot;control-panes/dashboard/navigation/navigation.pug&quot;\"></div></div><div class=\"col-md-6\"><div ng-include=\"&quot;control-panes/dashboard/clipboard/clipboard.pug&quot;\"></div></div></div><div class=\"row\"><div class=\"col-md-6\"><div ng-include=\"&quot;control-panes/dashboard/install/install.pug&quot;\"></div></div><div ng-if=\"$root.platform == &quot;native&quot;\" class=\"col-md-6\"><div ng-include=\"&quot;control-panes/dashboard/shell/shell.pug&quot;\"></div></div></div><div class=\"row\"><div class=\"col-md-6\"><div ng-include=\"&quot;control-panes/dashboard/apps/apps.pug&quot;\"></div></div><div class=\"col-md-6\"><div ng-include=\"&quot;control-panes/advanced/remote-debug/remote-debug.pug&quot;\"></div></div></div>"

/***/ }),
/* 398 */
/***/ ((module) => {

module.exports = function DashboardCtrl() {

}


/***/ }),
/* 399 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

__webpack_require__(400)

module.exports = angular.module('stf.logs', [
  (__webpack_require__(402).name),
  (__webpack_require__(478).name)
])
  .run(['$templateCache', function($templateCache) {
    $templateCache.put('control-panes/logs/logs.pug',
      __webpack_require__(483)
    )
  }])
  .controller('LogsCtrl', __webpack_require__(484))


/***/ }),
/* 400 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14);
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(15);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(17);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(18);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(19);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_node_modules_less_loader_dist_cjs_js_logs_less__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(401);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_node_modules_less_loader_dist_cjs_js_logs_less__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_cjs_js_node_modules_less_loader_dist_cjs_js_logs_less__WEBPACK_IMPORTED_MODULE_6__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_css_loader_dist_cjs_js_node_modules_less_loader_dist_cjs_js_logs_less__WEBPACK_IMPORTED_MODULE_6__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_css_loader_dist_cjs_js_node_modules_less_loader_dist_cjs_js_logs_less__WEBPACK_IMPORTED_MODULE_6__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()((_node_modules_css_loader_dist_cjs_js_node_modules_less_loader_dist_cjs_js_logs_less__WEBPACK_IMPORTED_MODULE_6___default()), options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((_node_modules_css_loader_dist_cjs_js_node_modules_less_loader_dist_cjs_js_logs_less__WEBPACK_IMPORTED_MODULE_6___default()) && (_node_modules_css_loader_dist_cjs_js_node_modules_less_loader_dist_cjs_js_logs_less__WEBPACK_IMPORTED_MODULE_6___default().locals) ? (_node_modules_css_loader_dist_cjs_js_node_modules_less_loader_dist_cjs_js_logs_less__WEBPACK_IMPORTED_MODULE_6___default().locals) : undefined);


/***/ }),
/* 401 */
/***/ ((module, exports, __webpack_require__) => {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(21);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.id, ".stf-logs .logcat-filters-table {\n  margin-bottom: 0;\n  box-shadow: 0 1px 5px rgba(0, 0, 0, 0.1);\n}\n.stf-logs .logcat-filters-table .btn {\n  margin: 0;\n}\n.stf-logs .logcat-filters-table thead > tr > th,\n.stf-logs .logcat-filters-table tbody > tr > th,\n.stf-logs .logcat-filters-table tfoot > tr > th,\n.stf-logs .logcat-filters-table thead > tr > td,\n.stf-logs .logcat-filters-table tbody > tr > td,\n.stf-logs .logcat-filters-table tfoot > tr > td {\n  border-top: none;\n}\n", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 402 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = angular.module('stf.logcat', [
  (__webpack_require__(403).name),
  (__webpack_require__(133).name)
])
  .factory('LogcatService', __webpack_require__(405))


/***/ }),
/* 403 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = angular.module('stf.filter-string', [

])
  .factory('FilterStringService', __webpack_require__(404))


/***/ }),
/* 404 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _ = __webpack_require__(190)

module.exports = function FilterStringServiceFactory() {
  var service = {}

  /**
   * Filters integer
   *
   * @param {string} searchValue Value to search
   * @param {string} str Value to compare
   * @returns {boolean} true if matched
   */
  service.filterInteger = function(searchValue, str) {
    var matched = true
    matched = service.filterString(searchValue + '', str + '')
    return matched
  }

  /**
   * Filters string
   *
   * @param {string} searchValue Value to search
   * @param {string} str Value to compare
   * @returns {boolean} true if matched
   */
  service.filterString = function(searchValue, str) {
    var matched = true
    var searchLowerCase = searchValue.toLowerCase()
    var searchContent = searchValue.slice(1)
    var searchContentLowerCase = searchLowerCase.slice(1)
    switch (searchValue.charAt(0)) {
      case '/':
        var lastSlash = searchContent.lastIndexOf('/')
        if (lastSlash !== -1) {
          var pattern = searchContent.substring(0, lastSlash)
          var flags = searchContent.substring(lastSlash + 1)
          var regex = new RegExp(pattern, flags)
          matched = !_.isNull(str.match(regex))
        } else {
          matched = true // Regex is not complete, don't filter yet
        }
        break
      case '!':
        matched = str.toLowerCase().indexOf(searchContentLowerCase) === -1
        break
      default:
        matched = str.toLowerCase().indexOf(searchLowerCase) !== -1
    }
    return matched
  }

  return service
}


/***/ }),
/* 405 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _ = __webpack_require__(190)
var _s = __webpack_require__(406)

module.exports = function LogcatServiceFactory(socket, FilterStringService) {
  var service = {}
  service.started = false

  service.serverFilters = [
    {
      tag: '',
      priority: 2
    }
  ]

  service.filters = {
    entries: [
    ],
    levelNumbers: []
  }

  var _filters = {}

  function defineFilterProperties(properties) {
    _.forEach(properties, function(prop) {
      Object.defineProperty(service.filters, prop, {
        get: function() {
          return _filters[prop]
        },
        set: function(value) {
          _filters[prop] = value || null
          service.serverFilters[0][prop] = value || undefined
          service.filters.filterLines()
        }
      })
    })
  }

  defineFilterProperties([
    'levelNumber',
    'message',
    'pid',
    'tid',
    'dateLabel',
    'date',
    'tag',
    'priority'
  ])

  service.deviceSerial = []

  service.deviceEntries = {}

  service.logLevels = [
    'UNKNOWN',
    'DEFAULT',
    'VERBOSE',
    'DEBUG',
    'INFO',
    'WARN',
    'ERROR',
    'FATAL',
    'SILENT'
  ]

  var logLevelsLowerCase = _.map(service.logLevels, function(level) {
    return level.toLowerCase()
  })

  var logLevelsCapitalized = _.map(logLevelsLowerCase, function(level) {
    return _s.capitalize(level)
  })

  for (var i = 2; i < 8; ++i) {
    service.filters.levelNumbers.push({number: i, name: logLevelsCapitalized[i]})
  }

  function enhanceEntry(data) {
    var date = new Date(data.date * 1000)
    data.dateLabel =
      _s.pad(date.getHours(), 2, '0') + ':' +
      _s.pad(date.getMinutes(), 2, '0') + ':' +
      _s.pad(date.getSeconds(), 2, '0') + '.' +
      _s.pad(date.getMilliseconds(), 3, '0')

    data.deviceLabel = 'Android'

    data.priorityLabel = logLevelsCapitalized[data.priority]

    return data
  }

  function deviceSerialExist(serial) {
    if (service.deviceSerial !== serial) {
      service.deviceSerial.push(serial)
    }
  }

  service.initDeviceLogCollector = function(serial) {
    service.deviceEntries[serial] = {
      logs: [], selectedLogLevel: 2, started: false, allowClean: false, filters: {
        'levelNumber': service.filters.levelNumbers,
        'message': '',
        'pid': '',
        'tid': '',
        'dateLabel': '',
        'date': '',
        'tag': ''
        }
    }
  }

  socket.on('logcat.entry', function(rawData) {
    deviceSerialExist(rawData.serial)
    var TmpObject = enhanceEntry(rawData)
    if (!Object.keys(service.deviceEntries).includes(rawData.serial)) {
      service.deviceEntries[rawData.serial] = {logs: [], selectedLogLevel: 2, started: true}
    }

    service.deviceEntries[rawData.serial].logs.push(enhanceEntry(TmpObject))

    if (typeof (service.addEntryListener) === 'function') {
      if (filterLine(rawData)) {
        rawData.logsSerial = service.deviceSerial
        service.addEntryListener(rawData)
      }
    }
  })

  service.clear = function() {
    var devSerial = (window.location.href).split('/').pop()
    if (Object.keys(service.deviceEntries).includes(devSerial)) {
      service.deviceEntries[devSerial].logs = []
    }
  }

  service.filters.filterLines = function() {
    var devSerial = (window.location.href).split('/').pop()

    if (Object.keys(service.deviceEntries).includes(devSerial)) {
      service.filters.entries = _.filter(service.deviceEntries[devSerial].logs.entries, filterLine)
    }

    if (typeof (service.addFilteredEntriesListener) === 'function') {
      service.addFilteredEntriesListener(service.filters.entries)
    }
  }

  function filterLine(line) {
    var matched = true
    var devSerial = line.serial
    var filters = service.deviceEntries[devSerial].filters

    if (typeof filters !== 'undefined') {

      if (!_.isEmpty(filters.priority.toString())) {
        matched &= line.priority >= filters.priority
      }
      if (!_.isEmpty(filters.date)) {
        matched &= FilterStringService.filterString(filters.date, line.dateLabel)
      }
      if (!_.isEmpty(filters.pid)) {
        matched &= FilterStringService.filterInteger(filters.pid, line.pid)
      }
      if (!_.isEmpty(filters.tid)) {
        matched &= FilterStringService.filterInteger(filters.tid, line.tid)
      }
      if (!_.isEmpty(filters.tag)) {
        matched &= FilterStringService.filterString(filters.tag, line.tag)
      }
      if (!_.isEmpty(filters.message)) {
        matched &= FilterStringService.filterString(filters.message, line.message)
      }
    }
    return matched
  }

  return service
}


/***/ }),
/* 406 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
/*
* Underscore.string
* (c) 2010 Esa-Matti Suuronen <esa-matti aet suuronen dot org>
* Underscore.string is freely distributable under the terms of the MIT license.
* Documentation: https://github.com/epeli/underscore.string
* Some code is borrowed from MooTools and Alexandru Marasteanu.
* Version '3.3.5'
* @preserve
*/



function s(value) {
  /* jshint validthis: true */
  if (!(this instanceof s)) return new s(value);
  this._wrapped = value;
}

s.VERSION = '3.3.6';

s.isBlank          = __webpack_require__(407);
s.stripTags        = __webpack_require__(409);
s.capitalize       = __webpack_require__(410);
s.decapitalize     = __webpack_require__(411);
s.chop             = __webpack_require__(412);
s.trim             = __webpack_require__(413);
s.clean            = __webpack_require__(416);
s.cleanDiacritics  = __webpack_require__(417);
s.count            = __webpack_require__(418);
s.chars            = __webpack_require__(419);
s.swapCase         = __webpack_require__(420);
s.escapeHTML       = __webpack_require__(421);
s.unescapeHTML     = __webpack_require__(423);
s.splice           = __webpack_require__(425);
s.insert           = __webpack_require__(426);
s.replaceAll       = __webpack_require__(427);
s.include          = __webpack_require__(428);
s.join             = __webpack_require__(429);
s.lines            = __webpack_require__(430);
s.dedent           = __webpack_require__(431);
s.reverse          = __webpack_require__(432);
s.startsWith       = __webpack_require__(433);
s.endsWith         = __webpack_require__(435);
s.pred             = __webpack_require__(436);
s.succ             = __webpack_require__(438);
s.titleize         = __webpack_require__(439);
s.camelize         = __webpack_require__(440);
s.underscored      = __webpack_require__(441);
s.dasherize        = __webpack_require__(442);
s.classify         = __webpack_require__(443);
s.humanize         = __webpack_require__(444);
s.ltrim            = __webpack_require__(445);
s.rtrim            = __webpack_require__(446);
s.truncate         = __webpack_require__(447);
s.prune            = __webpack_require__(448);
s.words            = __webpack_require__(449);
s.pad              = __webpack_require__(450);
s.lpad             = __webpack_require__(452);
s.rpad             = __webpack_require__(453);
s.lrpad            = __webpack_require__(454);
s.sprintf          = __webpack_require__(455);
s.vsprintf         = __webpack_require__(458);
s.toNumber         = __webpack_require__(459);
s.numberFormat     = __webpack_require__(460);
s.strRight         = __webpack_require__(461);
s.strRightBack     = __webpack_require__(462);
s.strLeft          = __webpack_require__(463);
s.strLeftBack      = __webpack_require__(464);
s.toSentence       = __webpack_require__(465);
s.toSentenceSerial = __webpack_require__(466);
s.slugify          = __webpack_require__(467);
s.surround         = __webpack_require__(468);
s.quote            = __webpack_require__(469);
s.unquote          = __webpack_require__(470);
s.repeat           = __webpack_require__(471);
s.naturalCmp       = __webpack_require__(472);
s.levenshtein      = __webpack_require__(473);
s.toBoolean        = __webpack_require__(474);
s.exports          = __webpack_require__(475);
s.escapeRegExp     = __webpack_require__(415);
s.wrap             = __webpack_require__(476);
s.map              = __webpack_require__(477);

// Aliases
s.strip     = s.trim;
s.lstrip    = s.ltrim;
s.rstrip    = s.rtrim;
s.center    = s.lrpad;
s.rjust     = s.lpad;
s.ljust     = s.rpad;
s.contains  = s.include;
s.q         = s.quote;
s.toBool    = s.toBoolean;
s.camelcase = s.camelize;
s.mapChars  = s.map;


// Implement chaining
s.prototype = {
  value: function value() {
    return this._wrapped;
  }
};

function fn2method(key, fn) {
  if (typeof fn !== 'function') return;
  s.prototype[key] = function() {
    var args = [this._wrapped].concat(Array.prototype.slice.call(arguments));
    var res = fn.apply(null, args);
    // if the result is non-string stop the chain and return the value
    return typeof res === 'string' ? new s(res) : res;
  };
}

// Copy functions to instance methods for chaining
for (var key in s) fn2method(key, s[key]);

fn2method('tap', function tap(string, fn) {
  return fn(string);
});

function prototype2method(methodName) {
  fn2method(methodName, function(context) {
    var args = Array.prototype.slice.call(arguments, 1);
    return String.prototype[methodName].apply(context, args);
  });
}

var prototypeMethods = [
  'toUpperCase',
  'toLowerCase',
  'split',
  'replace',
  'slice',
  'substring',
  'substr',
  'concat'
];

for (var method in prototypeMethods) prototype2method(prototypeMethods[method]);


module.exports = s;


/***/ }),
/* 407 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var makeString = __webpack_require__(408);

module.exports = function isBlank(str) {
  return (/^\s*$/).test(makeString(str));
};


/***/ }),
/* 408 */
/***/ ((module) => {

/**
 * Ensure some object is a coerced to a string
 **/
module.exports = function makeString(object) {
  if (object == null) return '';
  return '' + object;
};


/***/ }),
/* 409 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var makeString = __webpack_require__(408);

module.exports = function stripTags(str) {
  return makeString(str).replace(/<\/?[^>]+>/g, '');
};


/***/ }),
/* 410 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var makeString = __webpack_require__(408);

module.exports = function capitalize(str, lowercaseRest) {
  str = makeString(str);
  var remainingChars = !lowercaseRest ? str.slice(1) : str.slice(1).toLowerCase();

  return str.charAt(0).toUpperCase() + remainingChars;
};


/***/ }),
/* 411 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var makeString = __webpack_require__(408);

module.exports = function decapitalize(str) {
  str = makeString(str);
  return str.charAt(0).toLowerCase() + str.slice(1);
};


/***/ }),
/* 412 */
/***/ ((module) => {

module.exports = function chop(str, step) {
  if (str == null) return [];
  str = String(str);
  step = ~~step;
  return step > 0 ? str.match(new RegExp('.{1,' + step + '}', 'g')) : [str];
};


/***/ }),
/* 413 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var makeString = __webpack_require__(408);
var defaultToWhiteSpace = __webpack_require__(414);
var nativeTrim = String.prototype.trim;

module.exports = function trim(str, characters) {
  str = makeString(str);
  if (!characters && nativeTrim) return nativeTrim.call(str);
  characters = defaultToWhiteSpace(characters);
  return str.replace(new RegExp('^' + characters + '+|' + characters + '+$', 'g'), '');
};


/***/ }),
/* 414 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var escapeRegExp = __webpack_require__(415);

module.exports = function defaultToWhiteSpace(characters) {
  if (characters == null)
    return '\\s';
  else if (characters.source)
    return characters.source;
  else
    return '[' + escapeRegExp(characters) + ']';
};


/***/ }),
/* 415 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var makeString = __webpack_require__(408);

module.exports = function escapeRegExp(str) {
  return makeString(str).replace(/([.*+?^=!:${}()|[\]\/\\])/g, '\\$1');
};


/***/ }),
/* 416 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var trim = __webpack_require__(413);

module.exports = function clean(str) {
  return trim(str).replace(/\s\s+/g, ' ');
};


/***/ }),
/* 417 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {


var makeString = __webpack_require__(408);

var from  = 'ąàáäâãåæăćčĉęèéëêĝĥìíïîĵłľńňòóöőôõðøśșşšŝťțţŭùúüűûñÿýçżźž',
  to    = 'aaaaaaaaaccceeeeeghiiiijllnnoooooooossssstttuuuuuunyyczzz';

from += from.toUpperCase();
to += to.toUpperCase();

to = to.split('');

// for tokens requireing multitoken output
from += 'ß';
to.push('ss');


module.exports = function cleanDiacritics(str) {
  return makeString(str).replace(/.{1}/g, function(c){
    var index = from.indexOf(c);
    return index === -1 ? c : to[index];
  });
};


/***/ }),
/* 418 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var makeString = __webpack_require__(408);

module.exports = function(str, substr) {
  str = makeString(str);
  substr = makeString(substr);

  if (str.length === 0 || substr.length === 0) return 0;
  
  return str.split(substr).length - 1;
};


/***/ }),
/* 419 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var makeString = __webpack_require__(408);

module.exports = function chars(str) {
  return makeString(str).split('');
};


/***/ }),
/* 420 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var makeString = __webpack_require__(408);

module.exports = function swapCase(str) {
  return makeString(str).replace(/\S/g, function(c) {
    return c === c.toUpperCase() ? c.toLowerCase() : c.toUpperCase();
  });
};


/***/ }),
/* 421 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var makeString = __webpack_require__(408);
var escapeChars = __webpack_require__(422);

var regexString = '[';
for(var key in escapeChars) {
  regexString += key;
}
regexString += ']';

var regex = new RegExp( regexString, 'g');

module.exports = function escapeHTML(str) {

  return makeString(str).replace(regex, function(m) {
    return '&' + escapeChars[m] + ';';
  });
};


/***/ }),
/* 422 */
/***/ ((module) => {

/* We're explicitly defining the list of entities we want to escape.
nbsp is an HTML entity, but we don't want to escape all space characters in a string, hence its omission in this map.

*/
var escapeChars = {
  '¢' : 'cent',
  '£' : 'pound',
  '¥' : 'yen',
  '€': 'euro',
  '©' :'copy',
  '®' : 'reg',
  '<' : 'lt',
  '>' : 'gt',
  '"' : 'quot',
  '&' : 'amp',
  '\'' : '#39'
};

module.exports = escapeChars;


/***/ }),
/* 423 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var makeString = __webpack_require__(408);
var htmlEntities = __webpack_require__(424);

module.exports = function unescapeHTML(str) {
  return makeString(str).replace(/\&([^;]{1,10});/g, function(entity, entityCode) {
    var match;

    if (entityCode in htmlEntities) {
      return htmlEntities[entityCode];
    /*eslint no-cond-assign: 0*/
    } else if (match = entityCode.match(/^#x([\da-fA-F]+)$/)) {
      return String.fromCharCode(parseInt(match[1], 16));
    /*eslint no-cond-assign: 0*/
    } else if (match = entityCode.match(/^#(\d+)$/)) {
      return String.fromCharCode(~~match[1]);
    } else {
      return entity;
    }
  });
};


/***/ }),
/* 424 */
/***/ ((module) => {

/*
We're explicitly defining the list of entities that might see in escape HTML strings
*/
var htmlEntities = {
  nbsp: ' ',
  cent: '¢',
  pound: '£',
  yen: '¥',
  euro: '€',
  copy: '©',
  reg: '®',
  lt: '<',
  gt: '>',
  quot: '"',
  amp: '&',
  apos: '\''
};

module.exports = htmlEntities;


/***/ }),
/* 425 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var chars = __webpack_require__(419);

module.exports = function splice(str, i, howmany, substr) {
  var arr = chars(str);
  arr.splice(~~i, ~~howmany, substr);
  return arr.join('');
};


/***/ }),
/* 426 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var splice = __webpack_require__(425);

module.exports = function insert(str, i, substr) {
  return splice(str, i, 0, substr);
};


/***/ }),
/* 427 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var makeString = __webpack_require__(408);

module.exports = function replaceAll(str, find, replace, ignorecase) {
  var flags = (ignorecase === true)?'gi':'g';
  var reg = new RegExp(find, flags);

  return makeString(str).replace(reg, replace);
};


/***/ }),
/* 428 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var makeString = __webpack_require__(408);

module.exports = function include(str, needle) {
  if (needle === '') return true;
  return makeString(str).indexOf(needle) !== -1;
};


/***/ }),
/* 429 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var makeString = __webpack_require__(408);
var slice = [].slice;

module.exports = function join() {
  var args = slice.call(arguments),
    separator = args.shift();

  return args.join(makeString(separator));
};


/***/ }),
/* 430 */
/***/ ((module) => {

module.exports = function lines(str) {
  if (str == null) return [];
  return String(str).split(/\r\n?|\n/);
};


/***/ }),
/* 431 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var makeString = __webpack_require__(408);

function getIndent(str) {
  var matches = str.match(/^[\s\\t]*/gm);
  var indent = matches[0].length;
  
  for (var i = 1; i < matches.length; i++) {
    indent = Math.min(matches[i].length, indent);
  }

  return indent;
}

module.exports = function dedent(str, pattern) {
  str = makeString(str);
  var indent = getIndent(str);
  var reg;

  if (indent === 0) return str;

  if (typeof pattern === 'string') {
    reg = new RegExp('^' + pattern, 'gm');
  } else {
    reg = new RegExp('^[ \\t]{' + indent + '}', 'gm');
  }

  return str.replace(reg, '');
};


/***/ }),
/* 432 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var chars = __webpack_require__(419);

module.exports = function reverse(str) {
  return chars(str).reverse().join('');
};


/***/ }),
/* 433 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var makeString = __webpack_require__(408);
var toPositive = __webpack_require__(434);

module.exports = function startsWith(str, starts, position) {
  str = makeString(str);
  starts = '' + starts;
  position = position == null ? 0 : Math.min(toPositive(position), str.length);
  return str.lastIndexOf(starts, position) === position;
};


/***/ }),
/* 434 */
/***/ ((module) => {

module.exports = function toPositive(number) {
  return number < 0 ? 0 : (+number || 0);
};


/***/ }),
/* 435 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var makeString = __webpack_require__(408);
var toPositive = __webpack_require__(434);

module.exports = function endsWith(str, ends, position) {
  str = makeString(str);
  ends = '' + ends;
  if (typeof position == 'undefined') {
    position = str.length - ends.length;
  } else {
    position = Math.min(toPositive(position), str.length) - ends.length;
  }
  return position >= 0 && str.indexOf(ends, position) === position;
};


/***/ }),
/* 436 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var adjacent = __webpack_require__(437);

module.exports = function succ(str) {
  return adjacent(str, -1);
};


/***/ }),
/* 437 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var makeString = __webpack_require__(408);

module.exports = function adjacent(str, direction) {
  str = makeString(str);
  if (str.length === 0) {
    return '';
  }
  return str.slice(0, -1) + String.fromCharCode(str.charCodeAt(str.length - 1) + direction);
};


/***/ }),
/* 438 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var adjacent = __webpack_require__(437);

module.exports = function succ(str) {
  return adjacent(str, 1);
};


/***/ }),
/* 439 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var makeString = __webpack_require__(408);

module.exports = function titleize(str) {
  return makeString(str).toLowerCase().replace(/(?:^|\s|-)\S/g, function(c) {
    return c.toUpperCase();
  });
};


/***/ }),
/* 440 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var trim = __webpack_require__(413);
var decap = __webpack_require__(411);

module.exports = function camelize(str, decapitalize) {
  str = trim(str).replace(/[-_\s]+(.)?/g, function(match, c) {
    return c ? c.toUpperCase() : '';
  });

  if (decapitalize === true) {
    return decap(str);
  } else {
    return str;
  }
};


/***/ }),
/* 441 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var trim = __webpack_require__(413);

module.exports = function underscored(str) {
  return trim(str).replace(/([a-z\d])([A-Z]+)/g, '$1_$2').replace(/[-\s]+/g, '_').toLowerCase();
};


/***/ }),
/* 442 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var trim = __webpack_require__(413);

module.exports = function dasherize(str) {
  return trim(str).replace(/([A-Z])/g, '-$1').replace(/[-_\s]+/g, '-').toLowerCase();
};


/***/ }),
/* 443 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var capitalize = __webpack_require__(410);
var camelize = __webpack_require__(440);
var makeString = __webpack_require__(408);

module.exports = function classify(str) {
  str = makeString(str);
  return capitalize(camelize(str.replace(/[\W_]/g, ' ')).replace(/\s/g, ''));
};


/***/ }),
/* 444 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var capitalize = __webpack_require__(410);
var underscored = __webpack_require__(441);
var trim = __webpack_require__(413);

module.exports = function humanize(str) {
  return capitalize(trim(underscored(str).replace(/_id$/, '').replace(/_/g, ' ')));
};


/***/ }),
/* 445 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var makeString = __webpack_require__(408);
var defaultToWhiteSpace = __webpack_require__(414);
var nativeTrimLeft = String.prototype.trimLeft;

module.exports = function ltrim(str, characters) {
  str = makeString(str);
  if (!characters && nativeTrimLeft) return nativeTrimLeft.call(str);
  characters = defaultToWhiteSpace(characters);
  return str.replace(new RegExp('^' + characters + '+'), '');
};


/***/ }),
/* 446 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var makeString = __webpack_require__(408);
var defaultToWhiteSpace = __webpack_require__(414);
var nativeTrimRight = String.prototype.trimRight;

module.exports = function rtrim(str, characters) {
  str = makeString(str);
  if (!characters && nativeTrimRight) return nativeTrimRight.call(str);
  characters = defaultToWhiteSpace(characters);
  return str.replace(new RegExp(characters + '+$'), '');
};


/***/ }),
/* 447 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var makeString = __webpack_require__(408);

module.exports = function truncate(str, length, truncateStr) {
  str = makeString(str);
  truncateStr = truncateStr || '...';
  length = ~~length;
  return str.length > length ? str.slice(0, length) + truncateStr : str;
};


/***/ }),
/* 448 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/**
 * _s.prune: a more elegant version of truncate
 * prune extra chars, never leaving a half-chopped word.
 * @author github.com/rwz
 */
var makeString = __webpack_require__(408);
var rtrim = __webpack_require__(446);

module.exports = function prune(str, length, pruneStr) {
  str = makeString(str);
  length = ~~length;
  pruneStr = pruneStr != null ? String(pruneStr) : '...';

  if (str.length <= length) return str;

  var tmpl = function(c) {
      return c.toUpperCase() !== c.toLowerCase() ? 'A' : ' ';
    },
    template = str.slice(0, length + 1).replace(/.(?=\W*\w*$)/g, tmpl); // 'Hello, world' -> 'HellAA AAAAA'

  if (template.slice(template.length - 2).match(/\w\w/))
    template = template.replace(/\s*\S+$/, '');
  else
    template = rtrim(template.slice(0, template.length - 1));

  return (template + pruneStr).length > str.length ? str : str.slice(0, template.length) + pruneStr;
};


/***/ }),
/* 449 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var isBlank = __webpack_require__(407);
var trim = __webpack_require__(413);

module.exports = function words(str, delimiter) {
  if (isBlank(str)) return [];
  return trim(str, delimiter).split(delimiter || /\s+/);
};


/***/ }),
/* 450 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var makeString = __webpack_require__(408);
var strRepeat = __webpack_require__(451);

module.exports = function pad(str, length, padStr, type) {
  str = makeString(str);
  length = ~~length;

  var padlen = 0;

  if (!padStr)
    padStr = ' ';
  else if (padStr.length > 1)
    padStr = padStr.charAt(0);

  switch (type) {
  case 'right':
    padlen = length - str.length;
    return str + strRepeat(padStr, padlen);
  case 'both':
    padlen = length - str.length;
    return strRepeat(padStr, Math.ceil(padlen / 2)) + str + strRepeat(padStr, Math.floor(padlen / 2));
  default: // 'left'
    padlen = length - str.length;
    return strRepeat(padStr, padlen) + str;
  }
};


/***/ }),
/* 451 */
/***/ ((module) => {

module.exports = function strRepeat(str, qty){
  if (qty < 1) return '';
  var result = '';
  while (qty > 0) {
    if (qty & 1) result += str;
    qty >>= 1, str += str;
  }
  return result;
};


/***/ }),
/* 452 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var pad = __webpack_require__(450);

module.exports = function lpad(str, length, padStr) {
  return pad(str, length, padStr);
};


/***/ }),
/* 453 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var pad = __webpack_require__(450);

module.exports = function rpad(str, length, padStr) {
  return pad(str, length, padStr, 'right');
};


/***/ }),
/* 454 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var pad = __webpack_require__(450);

module.exports = function lrpad(str, length, padStr) {
  return pad(str, length, padStr, 'both');
};


/***/ }),
/* 455 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var deprecate = __webpack_require__(456);

module.exports = deprecate((__webpack_require__(457).sprintf),
  'sprintf() will be removed in the next major release, use the sprintf-js package instead.');


/***/ }),
/* 456 */,
/* 457 */,
/* 458 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var deprecate = __webpack_require__(456);

module.exports = deprecate((__webpack_require__(457).vsprintf),
  'vsprintf() will be removed in the next major release, use the sprintf-js package instead.');


/***/ }),
/* 459 */
/***/ ((module) => {

module.exports = function toNumber(num, precision) {
  if (num == null) return 0;
  var factor = Math.pow(10, isFinite(precision) ? precision : 0);
  return Math.round(num * factor) / factor;
};


/***/ }),
/* 460 */
/***/ ((module) => {

module.exports = function numberFormat(number, dec, dsep, tsep) {
  if (isNaN(number) || number == null) return '';

  number = number.toFixed(~~dec);
  tsep = typeof tsep == 'string' ? tsep : ',';

  var parts = number.split('.'),
    fnums = parts[0],
    decimals = parts[1] ? (dsep || '.') + parts[1] : '';

  return fnums.replace(/(\d)(?=(?:\d{3})+$)/g, '$1' + tsep) + decimals;
};


/***/ }),
/* 461 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var makeString = __webpack_require__(408);

module.exports = function strRight(str, sep) {
  str = makeString(str);
  sep = makeString(sep);
  var pos = !sep ? -1 : str.indexOf(sep);
  return~ pos ? str.slice(pos + sep.length, str.length) : str;
};


/***/ }),
/* 462 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var makeString = __webpack_require__(408);

module.exports = function strRightBack(str, sep) {
  str = makeString(str);
  sep = makeString(sep);
  var pos = !sep ? -1 : str.lastIndexOf(sep);
  return~ pos ? str.slice(pos + sep.length, str.length) : str;
};


/***/ }),
/* 463 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var makeString = __webpack_require__(408);

module.exports = function strLeft(str, sep) {
  str = makeString(str);
  sep = makeString(sep);
  var pos = !sep ? -1 : str.indexOf(sep);
  return~ pos ? str.slice(0, pos) : str;
};


/***/ }),
/* 464 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var makeString = __webpack_require__(408);

module.exports = function strLeftBack(str, sep) {
  str = makeString(str);
  sep = makeString(sep);
  var pos = str.lastIndexOf(sep);
  return~ pos ? str.slice(0, pos) : str;
};


/***/ }),
/* 465 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var rtrim = __webpack_require__(446);

module.exports = function toSentence(array, separator, lastSeparator, serial) {
  separator = separator || ', ';
  lastSeparator = lastSeparator || ' and ';
  var a = array.slice(),
    lastMember = a.pop();

  if (array.length > 2 && serial) lastSeparator = rtrim(separator) + lastSeparator;

  return a.length ? a.join(separator) + lastSeparator + lastMember : lastMember;
};


/***/ }),
/* 466 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var toSentence = __webpack_require__(465);

module.exports = function toSentenceSerial(array, sep, lastSep) {
  return toSentence(array, sep, lastSep, true);
};


/***/ }),
/* 467 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var trim = __webpack_require__(413);
var dasherize = __webpack_require__(442);
var cleanDiacritics = __webpack_require__(417);

module.exports = function slugify(str) {
  return trim(dasherize(cleanDiacritics(str).replace(/[^\w\s-]/g, '-').toLowerCase()), '-');
};


/***/ }),
/* 468 */
/***/ ((module) => {

module.exports = function surround(str, wrapper) {
  return [wrapper, str, wrapper].join('');
};


/***/ }),
/* 469 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var surround = __webpack_require__(468);

module.exports = function quote(str, quoteChar) {
  return surround(str, quoteChar || '"');
};


/***/ }),
/* 470 */
/***/ ((module) => {

module.exports = function unquote(str, quoteChar) {
  quoteChar = quoteChar || '"';
  if (str[0] === quoteChar && str[str.length - 1] === quoteChar)
    return str.slice(1, str.length - 1);
  else return str;
};


/***/ }),
/* 471 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var makeString = __webpack_require__(408);
var strRepeat = __webpack_require__(451);

module.exports = function repeat(str, qty, separator) {
  str = makeString(str);

  qty = ~~qty;

  // using faster implementation if separator is not needed;
  if (separator == null) return strRepeat(str, qty);

  // this one is about 300x slower in Google Chrome
  /*eslint no-empty: 0*/
  for (var repeat = []; qty > 0; repeat[--qty] = str) {}
  return repeat.join(separator);
};


/***/ }),
/* 472 */
/***/ ((module) => {

module.exports = function naturalCmp(str1, str2) {
  if (str1 == str2) return 0;
  if (!str1) return -1;
  if (!str2) return 1;

  var cmpRegex = /(\.\d+|\d+|\D+)/g,
    tokens1 = String(str1).match(cmpRegex),
    tokens2 = String(str2).match(cmpRegex),
    count = Math.min(tokens1.length, tokens2.length);

  for (var i = 0; i < count; i++) {
    var a = tokens1[i],
      b = tokens2[i];

    if (a !== b) {
      var num1 = +a;
      var num2 = +b;
      if (num1 === num1 && num2 === num2) {
        return num1 > num2 ? 1 : -1;
      }
      return a < b ? -1 : 1;
    }
  }

  if (tokens1.length != tokens2.length)
    return tokens1.length - tokens2.length;

  return str1 < str2 ? -1 : 1;
};


/***/ }),
/* 473 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var makeString = __webpack_require__(408);

/**
 * Based on the implementation here: https://github.com/hiddentao/fast-levenshtein
 */
module.exports = function levenshtein(str1, str2) {
  'use strict';
  str1 = makeString(str1);
  str2 = makeString(str2);

  // Short cut cases  
  if (str1 === str2) return 0;
  if (!str1 || !str2) return Math.max(str1.length, str2.length);

  // two rows
  var prevRow = new Array(str2.length + 1);

  // initialise previous row
  for (var i = 0; i < prevRow.length; ++i) {
    prevRow[i] = i;
  }

  // calculate current row distance from previous row
  for (i = 0; i < str1.length; ++i) {
    var nextCol = i + 1;

    for (var j = 0; j < str2.length; ++j) {
      var curCol = nextCol;

      // substution
      nextCol = prevRow[j] + ( (str1.charAt(i) === str2.charAt(j)) ? 0 : 1 );
      // insertion
      var tmp = curCol + 1;
      if (nextCol > tmp) {
        nextCol = tmp;
      }
      // deletion
      tmp = prevRow[j + 1] + 1;
      if (nextCol > tmp) {
        nextCol = tmp;
      }

      // copy current col value into previous (in preparation for next iteration)
      prevRow[j] = curCol;
    }

    // copy last col value into previous (in preparation for next iteration)
    prevRow[j] = nextCol;
  }

  return nextCol;
};


/***/ }),
/* 474 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var trim = __webpack_require__(413);

function boolMatch(s, matchers) {
  var i, matcher, down = s.toLowerCase();
  matchers = [].concat(matchers);
  for (i = 0; i < matchers.length; i += 1) {
    matcher = matchers[i];
    if (!matcher) continue;
    if (matcher.test && matcher.test(s)) return true;
    if (matcher.toLowerCase() === down) return true;
  }
}

module.exports = function toBoolean(str, trueValues, falseValues) {
  if (typeof str === 'number') str = '' + str;
  if (typeof str !== 'string') return !!str;
  str = trim(str);
  if (boolMatch(str, trueValues || ['true', '1'])) return true;
  if (boolMatch(str, falseValues || ['false', '0'])) return false;
};


/***/ }),
/* 475 */
/***/ ((module) => {

module.exports = function() {
  var result = {};

  for (var prop in this) {
    if (!this.hasOwnProperty(prop) || prop.match(/^(?:include|contains|reverse|join|map|wrap)$/)) continue;
    result[prop] = this[prop];
  }

  return result;
};


/***/ }),
/* 476 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

// Wrap
// wraps a string by a certain width

var makeString = __webpack_require__(408);

module.exports = function wrap(str, options){
  str = makeString(str);
  
  options = options || {};
  
  var width = options.width || 75;
  var seperator = options.seperator || '\n';
  var cut = options.cut || false;
  var preserveSpaces = options.preserveSpaces || false;
  var trailingSpaces = options.trailingSpaces || false;
  
  var result;
  
  if(width <= 0){
    return str;
  }
  
  else if(!cut){
  
    var words = str.split(' ');
    var current_column = 0;
    result = '';
  
    while(words.length > 0){
      
      // if adding a space and the next word would cause this line to be longer than width...
      if(1 + words[0].length + current_column > width){
        //start a new line if this line is not already empty
        if(current_column > 0){
          // add a space at the end of the line is preserveSpaces is true
          if (preserveSpaces){
            result += ' ';
            current_column++;
          }
          // fill the rest of the line with spaces if trailingSpaces option is true
          else if(trailingSpaces){
            while(current_column < width){
              result += ' ';
              current_column++;
            }            
          }
          //start new line
          result += seperator;
          current_column = 0;
        }
      }
  
      // if not at the begining of the line, add a space in front of the word
      if(current_column > 0){
        result += ' ';
        current_column++;
      }
  
      // tack on the next word, update current column, a pop words array
      result += words[0];
      current_column += words[0].length;
      words.shift();
  
    }
  
    // fill the rest of the line with spaces if trailingSpaces option is true
    if(trailingSpaces){
      while(current_column < width){
        result += ' ';
        current_column++;
      }            
    }
  
    return result;
  
  }
  
  else {
  
    var index = 0;
    result = '';
  
    // walk through each character and add seperators where appropriate
    while(index < str.length){
      if(index % width == 0 && index > 0){
        result += seperator;
      }
      result += str.charAt(index);
      index++;
    }
  
    // fill the rest of the line with spaces if trailingSpaces option is true
    if(trailingSpaces){
      while(index % width > 0){
        result += ' ';
        index++;
      }            
    }
    
    return result;
  }
};


/***/ }),
/* 477 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var makeString = __webpack_require__(408);

module.exports = function(str, callback) {
  str = makeString(str);

  if (str.length === 0 || typeof callback !== 'function') return str;

  return str.replace(/./g, callback);
};


/***/ }),
/* 478 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

__webpack_require__(479)

module.exports = angular.module('stf.logcat-table', [

])
  .directive('logcatTable', __webpack_require__(481))


/***/ }),
/* 479 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14);
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(15);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(17);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(18);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(19);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_logcat_table_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(480);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_logcat_table_css__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_cjs_js_logcat_table_css__WEBPACK_IMPORTED_MODULE_6__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_css_loader_dist_cjs_js_logcat_table_css__WEBPACK_IMPORTED_MODULE_6__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_css_loader_dist_cjs_js_logcat_table_css__WEBPACK_IMPORTED_MODULE_6__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()((_node_modules_css_loader_dist_cjs_js_logcat_table_css__WEBPACK_IMPORTED_MODULE_6___default()), options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((_node_modules_css_loader_dist_cjs_js_logcat_table_css__WEBPACK_IMPORTED_MODULE_6___default()) && (_node_modules_css_loader_dist_cjs_js_logcat_table_css__WEBPACK_IMPORTED_MODULE_6___default().locals) ? (_node_modules_css_loader_dist_cjs_js_logcat_table_css__WEBPACK_IMPORTED_MODULE_6___default().locals) : undefined);


/***/ }),
/* 480 */
/***/ ((module, exports, __webpack_require__) => {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(21);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.id, ".stf-logcat-table {\n  background: #fff;\n  position: absolute;\n  top: 69px;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  overflow-y: auto;\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n  /*z-index: -10;*/\n}\n\n.stf-logcat-table table {\n  table-layout: fixed !important;\n}\n\n.stf-logcat-table tbody tr {\n  border-bottom: 1px solid rgb(240, 240, 240);\n}\n\n.stf-logcat-table tbody td {\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n.stf-logcat-table .console-message-text {\n  font-size: 11px !important;\n  font-family: Menlo, monospace;\n  white-space: pre-wrap;\n}\n\n.stf-logcat-table .console-message-text td {\n  /*color: rgb(48, 57, 66);*/\n}\n\n/*.stf-logcat-table tr td:first-child {*/\n  /*background: #f3f3f3;*/\n  /*color: #800000;*/\n  /*text-align: right;*/\n/*}*/\n\n/**\n  Logging colors\n*/\n\n.stf-logcat-table .log-Unknown {\n  color: bisque;\n}\n\n.stf-logcat-table .log-Default,\n.stf-logcat-table .log-Silent {\n  color: darkolivegreen;\n}\n\n.stf-logcat-table .log-Verbose {\n  color: blueviolet;\n}\n\n.stf-logcat-table .log-Debug {\n  color: #020c7d;\n}\n\n.stf-logcat-table .log-Info {\n  color: #177d1c;\n}\n\n.stf-logcat-table .log-Warn {\n  color: coral;\n}\n\n.stf-logcat-table .log-Error {\n  color: red;\n}\n\n.stf-logcat-table .log-Fatal {\n  color: darkcyan;\n}\n", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 481 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _ = __webpack_require__(190)

module.exports =
  function logcatTableDirective($rootScope, $timeout, LogcatService, SaveLogService) {
    return {
      restrict: 'E',
      replace: true,
      template: __webpack_require__(482),
      link: function(scope, element) {
        var autoScroll = true
        var autoScrollDependingOnScrollPosition = true
        var scrollPosition = 0
        var scrollHeight = 0
        var parent = element[0]
        var body = element.find('tbody')[0]
        var maxEntriesBuffer = 3000
        var maxVisibleEntries = 100
        var deviceSerial = (window.location.href).split('/').pop()

        scope.started = checkLoggerServiceStatus(true)
        scope.allowClean = checkAllowClean()

        function checkAllowClean() {
          if (Object.keys(LogcatService.deviceEntries).includes(deviceSerial)) {
            return LogcatService.deviceEntries[deviceSerial].allowClean
          }

          return false
        }

        function checkLoggerServiceStatus(loadLogs = false) {
          var collectedLogs = []
          var isStarted = false
          if (Object.keys($rootScope).includes('LogcatService')) {
            LogcatService.deviceEntries = $rootScope.LogcatService.deviceEntries
          }

          if (Object.keys(LogcatService.deviceEntries).includes(deviceSerial)) {
            collectedLogs = LogcatService.deviceEntries[deviceSerial].logs
            isStarted = LogcatService.deviceEntries[deviceSerial].started
          }

          if (loadLogs) {
            restoreLogs(collectedLogs)
          }
          return isStarted
        }

        function limitVisibleEntries() {
          var limiter = ''
          if (maxVisibleEntries > maxEntriesBuffer) {
            limiter = maxEntriesBuffer
          } else {
            limiter = maxVisibleEntries
          }

          if (element.find('tbody')[0].rows.length > limiter) {
            removeFirstLogTableEntry()
          }
        }

        function removeFirstLogTableEntry() {
          element.find('tbody')[0].deleteRow(0)
        }

        LogcatService.addEntryListener = function(entry) {
          if (deviceSerial === entry.serial) {
            limitVisibleEntries()
            if (LogcatService.deviceEntries[deviceSerial].logs.length > maxEntriesBuffer) {
              LogcatService.deviceEntries[deviceSerial].logs.shift()
            }
            addRow(body, entry)
          }
        }

        LogcatService.addFilteredEntriesListener = function(entries) {
          checkLoggerServiceStatus()
        }

        function shouldAutoScroll() {
          if (autoScrollDependingOnScrollPosition) {
            return scrollPosition === scrollHeight
          } else {
            return true
          }
        }

        function scrollListener(event) {
          scrollPosition = event.target.scrollTop + event.target.clientHeight
          scrollHeight = event.target.scrollHeight
        }

        var throttledScrollListener = _.throttle(scrollListener, 100)
        parent.addEventListener('scroll', throttledScrollListener, false)

        function scrollToBottom() {
          parent.scrollTop = parent.scrollHeight + 20
          $timeout(function() {
            parent.scrollTop = parent.scrollHeight
          }, 10)
        }

        function addRow(rowParent, data, batchRequest) {
          var newRow = rowParent.insertRow(-1)

          newRow.classList.add('log-' + data.priorityLabel)
          newRow.insertCell(-1)
            .appendChild(document.createTextNode(data.priorityLabel))
          newRow.insertCell(-1)
            .appendChild(document.createTextNode(data.dateLabel))
          if ($rootScope.platform === 'native') {
            newRow.insertCell(-1)
              .appendChild(document.createTextNode(data.pid))
            newRow.insertCell(-1)
              .appendChild(document.createTextNode(data.tid))
            newRow.insertCell(-1)
              .appendChild(document.createTextNode(data.tag))
          }
          newRow.insertCell(-1)
            .appendChild(document.createTextNode(data.message))

          if (autoScroll && shouldAutoScroll() && !batchRequest) {
            _.throttle(scrollToBottom, 30)()
          }
        }

        function clearTable() {
          var oldBody = body
          var newBody = document.createElement('tbody')
          oldBody.parentNode.replaceChild(newBody, oldBody)
          body = newBody
        }

        scope.clearTable = function() {
          LogcatService.clear()
          clearTable()
        }

        function restoreLogs(collectedLogs) {
          clearTable()

          var startFrom = 0
          if (collectedLogs.length - maxVisibleEntries >= 0) {
            startFrom = collectedLogs.length - maxVisibleEntries
          }

          for (var logLine = startFrom; logLine < collectedLogs.length; logLine++) {
            if (deviceSerial === collectedLogs[logLine].serial) {
              addRow(body, collectedLogs[logLine], true)
            }
          }
        }

        /**
           * Validate filter.data object value and assign bordercolor to red if value
           * doesn't match regex(pattern):
           * - HH:mm:ss.SSS
           * - H:mm:ss.SSS
           * - :mm:SS.SSS
           * - mm:ss.SSS
           * - m:ss.SSS
           * -... combinations
           *  in other case colour will be set to default.
           *
           * @param {event} event object
           * @returns {None} NaN
           */
        scope.validateDate = function(e) {
          var pattern = ['^(?:(?:([0-1]?\\d|2[0-3]):)?(:[0-5]\\d|[0-5]\\d):|\\d)',
            '?(:[0-5]\\d|[0-5]\\d{1,2})?(\\.[0-9]?\\d{0,2}|:[0-5]?\\d{0,1})|(\\d{0,2})'].join([])
          var regex = new RegExp(pattern, 'g')
          var inputValue = event.srcElement.value
          var matchArray = inputValue.match(regex)
          var isTextValid = false
          if (matchArray) {
            matchArray.forEach(function(item, index) {
              if (item === inputValue) {
                isTextValid = true
                event.srcElement.style.borderColor = ''
              }
            })
          }

          if (isTextValid === false) {
            event.srcElement.style.borderColor = 'red'
          }
        }

        /**
         * Show "Save Log" modal.
         *
         * @returns {None} NaN
         */
        scope.saveLogs = function() {
          var collectedLogs = []

          if (Object.keys(LogcatService.deviceEntries).includes(deviceSerial)) {
            collectedLogs = LogcatService.deviceEntries[deviceSerial].logs
          }

          SaveLogService.open(collectedLogs, false)
        }

        scope.$on('$destroy', function() {
          parent.removeEventListener('scroll', throttledScrollListener)
        })
      }
    }
  }


/***/ }),
/* 482 */
/***/ ((module) => {

module.exports = "<div class=\"stf-logcat-table force-gpu\"><table class=\"console-message-text tableX table-condensed selectable\"><tbody></tbody></table></div>"

/***/ }),
/* 483 */
/***/ ((module) => {

module.exports = "<div ng-controller=\"LogsCtrl\" class=\"stf-logs\"><div class=\"widget-container fluid-height\"><div class=\"widget-content\"><table ng-show=\"true\" class=\"table table-condensed logcat-filters-table\"><tr><td width=\"1%\"><button ng-model=\"started\" uib-btn-checkbox=\"uib-btn-checkbox\" title=\"{{&quot;Start/Stop Logging&quot;|translate}}\" class=\"btn btn-xs btn-primary-outline\"><i class=\"fa fa-list-alt\"></i><span ng-if=\"started\">{{\"Stop\"|translate}}</span><span ng-if=\"!started\">{{\"Get\"|translate}}</span></button></td><td width=\"6%\"><select ng-model=\"filters.priority\" data-ng-options=\"l.name for l in filters.levelNumbers\"><option value=\"\">{{\"Logcat Level\"|translate}}</option></select></td><td width=\"10%\"><input ng-model=\"filters.date\" type=\"text\" placeholder=\"{{&quot;Time&quot;|translate}}\" ng-keyup=\"validateDate(event=$event)\" class=\"input-sm form-control\"/></td><td width=\"8%\" ng-if=\"$root.platform == &quot;native&quot;\"><input ng-model=\"filters.pid\" type=\"text\" placeholder=\"{{&quot;PID&quot;|translate}}\" class=\"input-sm form-control\"/></td><td width=\"8%\" ng-if=\"$root.platform == &quot;native&quot;\"><input ng-model=\"filters.tid\" type=\"text\" placeholder=\"{{&quot;TID&quot;|translate}}\" class=\"input-sm form-control\"/></td><td width=\"14%\" ng-if=\"$root.platform == &quot;native&quot;\"><input ng-model=\"filters.tag\" type=\"text\" placeholder=\"{{&quot;Tag&quot;|translate}}\" class=\"input-sm form-control\"/></td><td width=\"40%\"><input ng-model=\"filters.message\" type=\"text\" placeholder=\"{{&quot;Text&quot;|translate}}\" class=\"input-sm form-control\"/></td><td width=\"0\"><button ng-click=\"clearTable()\" ng-disabled=\"false\" title=\"{{&quot;Clear&quot;|translate}}\" class=\"btn btn-xs btn-danger-outline\"><i class=\"fa fa-trash-o\"></i><span translate=\"translate\"> Clear</span></button></td><td width=\"0\"><button ng-click=\"saveLogs()\" ng-disabled=\"false\" title=\"{{&quot;Save Logs&quot;|translate}}\" class=\"btn btn-xs btn-danger-outline\"><i class=\"fa fa-save\"></i><span translate=\"translate\"> Save Logs</span></button></td></tr></table><logcat-table add-row=\"lastEntry\"></logcat-table></div></div></div>"

/***/ }),
/* 484 */
/***/ ((module) => {

module.exports = function LogsCtrl($scope, $rootScope, $routeParams, LogcatService) {

  var deviceSerial = $routeParams.serial
  var cleanDevice = (window.location.href).split('/').pop()
  cleanDeviceSettings()

  $scope.started = checkLogBtnStatus() === null ? false : checkLogBtnStatus()
  $scope.filters = {}

  $scope.filters.levelNumbers = LogcatService.filters.levelNumbers

  LogcatService.filters.filterLines()

  restoreFilters()
  setFiltersPriority()

  function cleanDeviceSettings() {
    if (Object.keys($rootScope).includes('LogcatService')) {
      LogcatService.deviceEntries = $rootScope.LogcatService.deviceEntries
    }

    if (Object.keys(LogcatService.deviceEntries).includes(deviceSerial)) {
      if (LogcatService.deviceEntries[deviceSerial].allowClean) {
        delete LogcatService.deviceEntries[deviceSerial]
        if ($scope.control !== null) {
          $scope.control.stopLogcat()
        }
      }
    }
  }

  function setFiltersPriority() {
    if (Object.keys(LogcatService.deviceEntries).includes(deviceSerial)) {
      $scope.filters.priority = $scope.filters.levelNumbers[
        LogcatService.deviceEntries[deviceSerial].selectedLogLevel - 2]
    } else {
      if ($scope.started) {
        $scope.filters.priority = $scope.filters.levelNumbers[0]
      }
    }
  }

  function restoreFilters() {
    if (Object.keys(LogcatService.deviceEntries).includes(deviceSerial)) {
      Object.keys(LogcatService.deviceEntries[deviceSerial].filters).forEach(function(entry) {
        if ('filter.' + entry !== 'filter.priority') {
          $scope.filters[entry] = LogcatService.deviceEntries[deviceSerial].filters[entry]
        } else {
          setFiltersPriority()
        }
      })
    }
  }

  function checkLogBtnStatus() {
    if (Object.keys(LogcatService.deviceEntries).includes(deviceSerial)) {
      if ($scope !== null && $scope.device !== null) {
        if($scope.device.logs_enabled && LogcatService.deviceEntries[deviceSerial].started) {
          return LogcatService.deviceEntries[deviceSerial].started
        }
      }
    }
    return null
  }

  $scope.$watch('started', function(newValue, oldValue) {
    if (!Object.keys(LogcatService.deviceEntries).includes(deviceSerial)) {
      LogcatService.deviceEntries[deviceSerial] = {logs: [], selectedLogLevel: 2, started: false,
        filters: {
          'message': '',
          'pid': '',
          'tid': '',
          'dateLabel': '',
          'date': '',
          'tag': '',
          'priority': '',
        }
      }
    }

    if (newValue !== oldValue) {
      LogcatService.deviceEntries[deviceSerial].started = newValue

      if (LogcatService.deviceEntries[deviceSerial].started) {
        $scope.control.startLogcat([]).then(function() {
        })

        LogcatService.deviceEntries[deviceSerial].started = true
        $scope.device.logs_enabled = true
        setFiltersPriority()

      } else {
        if (Object.keys(LogcatService.deviceEntries).includes(deviceSerial)) {
          LogcatService.deviceEntries[deviceSerial].started = false
        }

        LogcatService.deviceEntries[deviceSerial].started = false
        $scope.device.logs_enabled = false
        $scope.control.stopLogcat()
      }
    }
  })

  window.onbeforeunload = function() {
    if ($scope.control) {
      for(var i = 0; i < LogcatService.deviceEntries.length; i++) {
        if(LogcatService.deviceEntries[i] === deviceSerial) {
          LogcatService.deviceEntries.splice(i, 1)
        }
      }
      LogcatService.deviceEntries[deviceSerial].started = false
      $scope.control.stopLogcat()
    }
  }

  $scope.clear = function() {
    var deviceSerial = (window.location.href).split('/').pop()
    if (Object.keys(LogcatService.deviceEntries).includes(deviceSerial)) {
      for (var i = LogcatService.deviceSerial.length - 1; i >= 0; i++) {
        if (LogcatService.deviceSerial[i] === deviceSerial) {
          LogcatService.deviceSerial.splice(i, 1)
        }
      }
    }
  }

  function defineFilterWatchers(props) {
    angular.forEach(props, function(prop) {
      $scope.$watch('filters.' + prop, function(newValue, oldValue) {
        if (!angular.equals(newValue, oldValue)) {
          var deviceSerial = (window.location.href).split('/').pop()
          LogcatService.filters[prop] = newValue
          if (!Object.keys(LogcatService.deviceEntries).includes(deviceSerial)) {
            LogcatService.initDeviceLogCollector(deviceSerial)
          }

          var transformedInput = ''
          switch('filters.' + prop) {
            case 'filters.priority':
            case 'filters.levelNumber':
              if (newValue !== null && !isNaN(newValue.number)) {
                LogcatService.deviceEntries[deviceSerial].selectedLogLevel = newValue.number
                $scope.filters.priority = $scope.filters.levelNumbers[
                  LogcatService.deviceEntries[deviceSerial].selectedLogLevel - 2]
                transformedInput = LogcatService.deviceEntries[deviceSerial].selectedLogLevel
              }
              break
            case 'filters.pid':
              transformedInput = newValue.replace(/[^0-9:]/g, '')
              if (transformedInput !== newValue) {
                $scope.filters.pid = transformedInput
              }
              break
            case 'filters.tid':
              transformedInput = newValue.replace(/[^0-9]/g, '')
              if (transformedInput !== newValue) {
                $scope.filters.tid = transformedInput
              }
              break
            default:
              transformedInput = newValue
          }

          // Exclude Debug Level info
          if (prop !== 'levelNumber') {
            LogcatService.deviceEntries[deviceSerial].filters[prop] = transformedInput
          }

          LogcatService.filters[prop] = transformedInput

          // Check if scope is defined
          if ($scope !== 'undefined') {
            setFiltersPriority()
          }

          LogcatService.deviceEntries[deviceSerial].allowClean = false
          LogcatService.allowClean = false
        }
      })
    })
  }

  defineFilterWatchers([
    'levelNumber',
    'message',
    'pid',
    'tid',
    'dateLabel',
    'date',
    'tag',
    'priority'
  ])
}


/***/ }),
/* 485 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

__webpack_require__(486)

module.exports = angular.module('stf.screenshots', [
  (__webpack_require__(488).name),
  (__webpack_require__(210).name)
])
  .run(['$templateCache', function($templateCache) {
    $templateCache.put('control-panes/screenshots/screenshots.pug',
      __webpack_require__(491)
    )
  }])
  .controller('ScreenshotsCtrl', __webpack_require__(492))


/***/ }),
/* 486 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14);
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(15);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(17);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(18);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(19);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_screenshots_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(487);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_screenshots_css__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_cjs_js_screenshots_css__WEBPACK_IMPORTED_MODULE_6__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_css_loader_dist_cjs_js_screenshots_css__WEBPACK_IMPORTED_MODULE_6__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_css_loader_dist_cjs_js_screenshots_css__WEBPACK_IMPORTED_MODULE_6__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()((_node_modules_css_loader_dist_cjs_js_screenshots_css__WEBPACK_IMPORTED_MODULE_6___default()), options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((_node_modules_css_loader_dist_cjs_js_screenshots_css__WEBPACK_IMPORTED_MODULE_6___default()) && (_node_modules_css_loader_dist_cjs_js_screenshots_css__WEBPACK_IMPORTED_MODULE_6___default().locals) ? (_node_modules_css_loader_dist_cjs_js_screenshots_css__WEBPACK_IMPORTED_MODULE_6___default().locals) : undefined);


/***/ }),
/* 487 */
/***/ ((module, exports, __webpack_require__) => {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(21);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.id, ".stf-screenshots {\n\n}\n\n.stf-screenshots .screenshot-image {\n  display: block !important;\n}\n\n.stf-screenshots .screenshot-image {\n  -webkit-transition: 1000ms;\n  transition: 1000ms;\n}\n\n.stf-screenshots .screenshot-image.ng-image-not-loaded {\n  opacity: 0;\n}\n\n.stf-screenshots .screenshot-image {\n  opacity: 1;\n}\n\n.stf-screenshots .zoom-range {\n  width: 180px;\n  margin-right: 5px;\n}\n", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 488 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = angular.module('stf.image-onload', [

])
  .directive('imageOnload', __webpack_require__(489))
  .directive('imageOnloadAnimate', __webpack_require__(490))


/***/ }),
/* 489 */
/***/ ((module) => {

module.exports = function imageOnloadDirective() {
  return {
    restrict: 'A',
    link: function(scope, element, attrs) {
      element.bind('load', function() {
        scope.$eval(attrs.imageOnload)
//        console.log('image is loaded')
      })
    }
  }
}


/***/ }),
/* 490 */
/***/ ((module) => {

module.exports = function imageOnloadAnimateDirective($parse, $animate) {
  return {
    restrict: 'A',
    link: function(scope, element) {
      $animate.addClass(element, 'ng-image-not-loaded')
      element.bind('load', function() {
        $animate.removeClass(element, 'ng-image-not-loaded')

        //if(!scope.$$phase) {
        //  scope.$digest()
        //}
//        console.log('image is loaded')
      })
    }
  }
}


/***/ }),
/* 491 */
/***/ ((module) => {

module.exports = "<div ng-controller=\"ScreenshotsCtrl\" class=\"widget-container fluid-height stf-screenshots\"><div class=\"heading\"><button ng-click=\"takeScreenShot()\" title=\"{{&quot;Take Screenshot&quot;|translate}}\" class=\"btn btn-sm btn-primary-outline\"><i class=\"fa fa-camera\"></i><span translate=\"translate\">Screenshot</span></button><!--button.btn.btn-sm.btn-info-outline(ng-click='takePageShot()',title='{{\"Take Pageshot (Needs WebView running)\"|translate}}',\nng-if='$root.platform == \"web\" && $root.browser == \"webview\"')\ni.fa.fa-camera-retro(translate)\nspan(translate) Pageshot\n--><div class=\"button-spacer\"></div><clear-button ng-click=\"clear()\" ng-disabled=\"!screenshots.length\"></clear-button><div class=\"button-spacer\"></div><div class=\"pull-right\"><button ng-click=\"zoom({min: 80, step: -50})\" ng-disabled=\"!screenshots.length\" class=\"btn btn-primary-outline btn-sm transparent-border\"><i class=\"fa fa-minus\"></i></button><input type=\"range\" ng-model=\"screenShotSize\" min=\"80\" max=\"480\" step=\"10\" ng-model-options=\"{ updateOn: &quot;default blur&quot;, debounce: { default: 100, blur: 0} }\" ng-disabled=\"!screenshots.length\" class=\"zoom-range\"/><button ng-click=\"zoom({max: 480, step: 50})\" ng-disabled=\"!screenshots.length\" class=\"btn btn-primary-outline btn-sm transparent-border\"><i class=\"fa fa-plus\"></i></button></div></div><div class=\"widget-content padded\"><nothing-to-show message=\"{{&quot;No screenshots taken&quot;|translate}}\" icon=\"fa-camera\" ng-show=\"!screenshots.length\"></nothing-to-show><ul class=\"screenshots-icon-view clear-fix selectable\"><li ng-repeat=\"shot in screenshots\" class=\"screenshots-icon-item cursor-select\"><h5>{{ device.name }}</h5><h6>{{ shot.body.date | date:'HH:mm:ss' }}</h6><a ng-href=\"{{ shot.body.href }}\" target=\"_blank\"><img ng-src=\"{{ shot.body.href + shotSizeParameter(480, 1) }}\" ng-srcset=\"{{ shot.body.href + shotSizeParameter(480, 2) }} 2x\" class=\"screenshot-image\"/></a></li></ul><div class=\"clearfix\"></div></div></div>"

/***/ }),
/* 492 */
/***/ ((module) => {

module.exports = function ScreenshotsCtrl($scope) {
  $scope.screenshots = []
  $scope.screenShotSize = 400

  $scope.clear = function() {
    $scope.screenshots = []
  }

  $scope.shotSizeParameter = function(maxSize, multiplier) {
    var finalSize = $scope.screenShotSize * multiplier
    var finalMaxSize = maxSize * multiplier

    return (finalSize === finalMaxSize) ? '' :
    '?crop=' + finalSize + 'x'
  }

  $scope.takeScreenShot = function() {
    $scope.control.screenshot().then(function(result) {
      $scope.safeApply(function() {
        $scope.screenshots.unshift(result)
      })
    })
  }

  $scope.zoom = function(param) {
    var newValue = parseInt($scope.screenShotSize, 10) + param.step
    if (param.min && newValue < param.min) {
      newValue = param.min
    } else if (param.max && newValue > param.max) {
      newValue = param.max
    }
    $scope.screenShotSize = newValue
  }
}


/***/ }),
/* 493 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

__webpack_require__(494)

const S_IFMT = 0o0170000 // Bit mask for checking file types
const S_IFDIR = 0o040000 // Directory type
const S_IFLNK = 0o120000 // Symlink type

module.exports = angular.module('stf.explorer', [])
  .run(['$templateCache', function($templateCache) {
    $templateCache.put('control-panes/explorer/explorer.pug',
      __webpack_require__(496)
    )
  }])
  .filter('formatPermissionMode', function() {
    return function(mode) {
      if (mode !== null) {
        var res = []
        var s = ['x', 'w', 'r']
        for (var i = 0; i < 3; i++) {
          for (var j = 0; j < 3; j++) {
            if ((mode >> (i * 3 + j)) & 1 !== 0) {
              res.unshift(s[j])
            } else {
              res.unshift('-')
            }
          }
        }
        if ((mode & S_IFMT) === S_IFDIR) {
          res.unshift('d')
        } else if ((mode & S_IFMT) === S_IFLNK) {
          res.unshift('l')
        } else {
          res.unshift('-')
        }
        return res.join('')
      }
    }
  })
  .filter('fileIsDir', function() {
    return function(m) {
      var mode = m
      if (mode !== null) {
        mode = parseInt(mode, 10)
        return ((mode & S_IFMT) === S_IFDIR) || ((mode & S_IFMT) === S_IFLNK)
      }
    }
  })
  .filter('formatFileSize', function() {
    return function(size) {
      var formattedSize
      if (size < 1024) {
        formattedSize = size + ' B'
      } else if (size >= 1024 && size < 1024 * 1024) {
        formattedSize = Math.round(size / 1024, 1) + ' Kb'
      } else {
        formattedSize = Math.round(size / (1024 * 1024), 1) + ' Mb'
      }
      return formattedSize
    }
  })
  .filter('formatFileDate', function() {
    return function(inputString) {
      var input = new Date(inputString)
      return input instanceof Date ?
        input.toISOString().substring(0, 19).replace('T', ' ') :
        (input.toLocaleString || input.toString).apply(input)
    }
  })

  .controller('ExplorerCtrl', __webpack_require__(497))


/***/ }),
/* 494 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14);
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(15);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(17);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(18);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(19);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_explorer_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(495);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_explorer_css__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_cjs_js_explorer_css__WEBPACK_IMPORTED_MODULE_6__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_css_loader_dist_cjs_js_explorer_css__WEBPACK_IMPORTED_MODULE_6__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_css_loader_dist_cjs_js_explorer_css__WEBPACK_IMPORTED_MODULE_6__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()((_node_modules_css_loader_dist_cjs_js_explorer_css__WEBPACK_IMPORTED_MODULE_6___default()), options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((_node_modules_css_loader_dist_cjs_js_explorer_css__WEBPACK_IMPORTED_MODULE_6___default()) && (_node_modules_css_loader_dist_cjs_js_explorer_css__WEBPACK_IMPORTED_MODULE_6___default().locals) ? (_node_modules_css_loader_dist_cjs_js_explorer_css__WEBPACK_IMPORTED_MODULE_6___default().locals) : undefined);


/***/ }),
/* 495 */
/***/ ((module, exports, __webpack_require__) => {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(21);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.id, "", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 496 */
/***/ ((module) => {

module.exports = "<!--Copyright © 2024 contains code contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0--><!----><div ng-controller=\"ExplorerCtrl\" class=\"widget-container fluid-height stf-explorer\"><div class=\"heading\"><form name=\"explorerForm\" ng-submit=\"dirEnterLocation()\" class=\"input-group form-inline\"><span class=\"input-group-btn\"><button ng-click=\"dirUp()\" class=\"btn btn-primary-outline\"><i class=\"fa fa-level-up\"></i></button></span><input type=\"text\" ng-model=\"explorer.search\" ng-enter=\"dirEnterLocation()\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" class=\"form-control\"/><span class=\"input-group-btn\"><button type=\"submit\" class=\"btn btn-primary-outline\"><i class=\"fa fa-play\"></i></button></span></form></div><div class=\"widget-content padded selectable\"><table class=\"table table-hover table-condensed dataTable ng-table\"><thead><tr><th><div translate=\"translate\">Name</div></th><th><div translate=\"translate\">Size</div></th><th><div translate=\"translate\">Date</div></th><th><div translate=\"translate\">Permissions</div></th></tr></thead><tbody><tr ng-repeat=\"f in explorer.files | filter:search | orderBy: [&quot;-mode|fileIsDir&quot;, &quot;+name&quot;]\" class=\"header\"><td><button ng-click=\"dirEnter(f.name)\" ng-show=\"f.mode|fileIsDir\" class=\"btn btn-sm btn-primary-outline\"><span><i class=\"fa fa-folder-open\"></i></span><span>{{f.name}}</span></button><button ng-click=\"getFile(f.name)\" ng-hide=\"f.mode|fileIsDir\" class=\"btn btn-sm btn-primary-outline\"><span><i class=\"fa fa-file-o\"></i></span><span>{{f.name}}</span></button></td><td><span ng-show=\"f.mode|fileIsDir\">-</span><span ng-hide=\"f.mode|fileIsDir\">{{f.size|formatFileSize}}</span></td><td><span>{{f.mtimeMs|formatFileDate}}</span></td><td><i>{{f.mode|formatPermissionMode}}</i></td></tr></tbody></table></div></div>"

/***/ }),
/* 497 */
/***/ ((module) => {

/**
* Copyright © 2020 contains code contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0
**/

module.exports = function ExplorerCtrl($scope) {
  $scope.explorer = {
    search: '',
    files: [],
    paths: []
  }

  $scope.getAbsolutePath = function() {
    return ('/' + $scope.explorer.paths.join('/')).replace(/\/\/+/g, '/')
  }

  function resetPaths(path) {
    $scope.explorer.paths = path.split('/')
  }

  var listDir = function listDir() {
    var path = $scope.getAbsolutePath()
    $scope.explorer.search = path

    $scope.control.fslist(path)
      .then(function(result) {
        $scope.explorer.files = result.body
        $scope.$digest()
      })
      .catch(function(err) {
        throw new Error(err.message)
      })
  }

  $scope.dirEnterLocation = function() {
    if ($scope.explorer.search) {
      resetPaths($scope.explorer.search)
      listDir()
      $scope.explorer.search = $scope.getAbsolutePath()
    }
  }

  $scope.dirEnter = function(name) {
    if (name) {
      $scope.explorer.paths.push(name)
    }
    listDir()
    $scope.explorer.search = $scope.getAbsolutePath()
  }

  $scope.dirUp = function() {
    if ($scope.explorer.paths.length !== 0) {
      $scope.explorer.paths.pop()
    }
    listDir()
    $scope.explorer.search = $scope.getAbsolutePath()
  }

  $scope.getFile = function(file) {
    var path = $scope.getAbsolutePath() + '/' + file
    $scope.control.fsretrieve(path)
      .then(function(result) {
        if (result.body) {
          window.open(result.body.href + '?download', '_blank')
        }
      })
      .catch(function(err) {
        throw new Error(err.message)
      })
  }

  // Initialize
  listDir($scope.dir)
}


/***/ }),
/* 498 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

__webpack_require__(499)

module.exports = angular.module('stf.info', [
  (__webpack_require__(501).name),
  (__webpack_require__(521).name)
])
  .run(['$templateCache', function($templateCache) {
    $templateCache.put('control-panes/info/info.pug',
      __webpack_require__(526)
    )
  }])
  .controller('InfoCtrl', __webpack_require__(527))


/***/ }),
/* 499 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14);
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(15);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(17);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(18);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(19);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_info_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(500);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_info_css__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_cjs_js_info_css__WEBPACK_IMPORTED_MODULE_6__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_css_loader_dist_cjs_js_info_css__WEBPACK_IMPORTED_MODULE_6__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_css_loader_dist_cjs_js_info_css__WEBPACK_IMPORTED_MODULE_6__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()((_node_modules_css_loader_dist_cjs_js_info_css__WEBPACK_IMPORTED_MODULE_6___default()), options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((_node_modules_css_loader_dist_cjs_js_info_css__WEBPACK_IMPORTED_MODULE_6___default()) && (_node_modules_css_loader_dist_cjs_js_info_css__WEBPACK_IMPORTED_MODULE_6___default().locals) ? (_node_modules_css_loader_dist_cjs_js_info_css__WEBPACK_IMPORTED_MODULE_6___default().locals) : undefined);


/***/ }),
/* 500 */
/***/ ((module, exports, __webpack_require__) => {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(21);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.id, "\n.stf-info .table.table-infocard thead > tr > th,\n.stf-info .table.table-infocard tbody > tr > th,\n.stf-info .table.table-infocard tfoot > tr > th,\n.stf-info .table.table-infocard thead > tr > td,\n.stf-info .table.table-infocard tbody > tr > td,\n.stf-info .table.table-infocard tfoot > tr > td {\n  border-top: 0;\n}\n\n.stf-info .table-infocard tbody > tr > td:first-child {\n  text-align: right;\n  margin-right: 20px;\n  font-weight: bold;\n  white-space: nowrap;\n}\n\n.stf-info .progress {\n  margin-bottom: 0;\n  height: 15px;\n}\n", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 501 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

__webpack_require__(502)

__webpack_require__(504)
__webpack_require__(505)
__webpack_require__(506)
var packery = __webpack_require__(513)

module.exports = angular.module('stf.angular-packery', [
  (__webpack_require__(514).name)
])
  .factory('PackeryService', function() {
    return packery
  })
  .directive('angularPackery', __webpack_require__(520))


/***/ }),
/* 502 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14);
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(15);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(17);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(18);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(19);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_angular_packery_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(503);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_angular_packery_css__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_cjs_js_angular_packery_css__WEBPACK_IMPORTED_MODULE_6__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_css_loader_dist_cjs_js_angular_packery_css__WEBPACK_IMPORTED_MODULE_6__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_css_loader_dist_cjs_js_angular_packery_css__WEBPACK_IMPORTED_MODULE_6__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()((_node_modules_css_loader_dist_cjs_js_angular_packery_css__WEBPACK_IMPORTED_MODULE_6___default()), options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((_node_modules_css_loader_dist_cjs_js_angular_packery_css__WEBPACK_IMPORTED_MODULE_6___default()) && (_node_modules_css_loader_dist_cjs_js_angular_packery_css__WEBPACK_IMPORTED_MODULE_6___default().locals) ? (_node_modules_css_loader_dist_cjs_js_angular_packery_css__WEBPACK_IMPORTED_MODULE_6___default().locals) : undefined);


/***/ }),
/* 503 */
/***/ ((module, exports, __webpack_require__) => {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(21);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.id, "/*\n  Screen Breakpoints:\n\n  screen-xs: 480px\n  screen-sm: 768px\n  screen-md: 992px\n  screen-lg: 1200px\n  screen-xl: 1500px\n*/\n\ndiv[angular-packery] {\n  overflow-y: hidden;\n  overflow-x: hidden;\n}\n\ndiv[angular-packery]:after {\n  content: ' ';\n  display: block;\n  clear: both;\n}\n\n.col-md-4-x.packery-item {\n  width: 33.33333333333333%;\n}\n\n@media screen and (min-width: 1500px) {\n  .col-md-4-x.packery-item {\n    width: 25%;\n  }\n}\n\n@media screen and (max-width: 1200px) {\n  .col-md-4-x.packery-item {\n    width: 50%;\n  }\n}\n\n@media screen and (max-width: 768px) {\n  .col-md-4-x.packery-item {\n    width: 100%;\n  }\n}\n", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 504 */
/***/ ((module, exports, __webpack_require__) => {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/**
 * Rect
 * low-level utility class for basic geometry
 */

( function( window, factory ) {
  // universal module definition
  /* jshint strict: false */ /* globals define, module */
  if ( true ) {
    // AMD
    !(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
		__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
		(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :
		__WEBPACK_AMD_DEFINE_FACTORY__),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
  } else // removed by dead control flow
{}

}( window, function factory() {
'use strict';

// -------------------------- Rect -------------------------- //

function Rect( props ) {
  // extend properties from defaults
  for ( var prop in Rect.defaults ) {
    this[ prop ] = Rect.defaults[ prop ];
  }

  for ( prop in props ) {
    this[ prop ] = props[ prop ];
  }

}

Rect.defaults = {
  x: 0,
  y: 0,
  width: 0,
  height: 0
};

var proto = Rect.prototype;

/**
 * Determines whether or not this rectangle wholly encloses another rectangle or point.
 * @param {Rect} rect
 * @returns {Boolean}
**/
proto.contains = function( rect ) {
  // points don't have width or height
  var otherWidth = rect.width || 0;
  var otherHeight = rect.height || 0;
  return this.x <= rect.x &&
    this.y <= rect.y &&
    this.x + this.width >= rect.x + otherWidth &&
    this.y + this.height >= rect.y + otherHeight;
};

/**
 * Determines whether or not the rectangle intersects with another.
 * @param {Rect} rect
 * @returns {Boolean}
**/
proto.overlaps = function( rect ) {
  var thisRight = this.x + this.width;
  var thisBottom = this.y + this.height;
  var rectRight = rect.x + rect.width;
  var rectBottom = rect.y + rect.height;

  // http://stackoverflow.com/a/306332
  return this.x < rectRight &&
    thisRight > rect.x &&
    this.y < rectBottom &&
    thisBottom > rect.y;
};

/**
 * @param {Rect} rect - the overlapping rect
 * @returns {Array} freeRects - rects representing the area around the rect
**/
proto.getMaximalFreeRects = function( rect ) {

  // if no intersection, return false
  if ( !this.overlaps( rect ) ) {
    return false;
  }

  var freeRects = [];
  var freeRect;

  var thisRight = this.x + this.width;
  var thisBottom = this.y + this.height;
  var rectRight = rect.x + rect.width;
  var rectBottom = rect.y + rect.height;

  // top
  if ( this.y < rect.y ) {
    freeRect = new Rect({
      x: this.x,
      y: this.y,
      width: this.width,
      height: rect.y - this.y
    });
    freeRects.push( freeRect );
  }

  // right
  if ( thisRight > rectRight ) {
    freeRect = new Rect({
      x: rectRight,
      y: this.y,
      width: thisRight - rectRight,
      height: this.height
    });
    freeRects.push( freeRect );
  }

  // bottom
  if ( thisBottom > rectBottom ) {
    freeRect = new Rect({
      x: this.x,
      y: rectBottom,
      width: this.width,
      height: thisBottom - rectBottom
    });
    freeRects.push( freeRect );
  }

  // left
  if ( this.x < rect.x ) {
    freeRect = new Rect({
      x: this.x,
      y: this.y,
      width: rect.x - this.x,
      height: this.height
    });
    freeRects.push( freeRect );
  }

  return freeRects;
};

proto.canFit = function( rect ) {
  return this.width >= rect.width && this.height >= rect.height;
};

return Rect;

}));


/***/ }),
/* 505 */
/***/ ((module, exports, __webpack_require__) => {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**
 * Packer
 * bin-packing algorithm
 */

( function( window, factory ) {
  // universal module definition
  /* jshint strict: false */ /* globals define, module, require */
  if ( true ) {
    // AMD
    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [ __webpack_require__(504) ], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
		__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
		(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
  } else // removed by dead control flow
{ var Packery; }

}( window, function factory( Rect ) {
'use strict';

// -------------------------- Packer -------------------------- //

/**
 * @param {Number} width
 * @param {Number} height
 * @param {String} sortDirection
 *   topLeft for vertical, leftTop for horizontal
 */
function Packer( width, height, sortDirection ) {
  this.width = width || 0;
  this.height = height || 0;
  this.sortDirection = sortDirection || 'downwardLeftToRight';

  this.reset();
}

var proto = Packer.prototype;

proto.reset = function() {
  this.spaces = [];

  var initialSpace = new Rect({
    x: 0,
    y: 0,
    width: this.width,
    height: this.height
  });

  this.spaces.push( initialSpace );
  // set sorter
  this.sorter = sorters[ this.sortDirection ] || sorters.downwardLeftToRight;
};

// change x and y of rect to fit with in Packer's available spaces
proto.pack = function( rect ) {
  for ( var i=0; i < this.spaces.length; i++ ) {
    var space = this.spaces[i];
    if ( space.canFit( rect ) ) {
      this.placeInSpace( rect, space );
      break;
    }
  }
};

proto.columnPack = function( rect ) {
  for ( var i=0; i < this.spaces.length; i++ ) {
    var space = this.spaces[i];
    var canFitInSpaceColumn = space.x <= rect.x &&
      space.x + space.width >= rect.x + rect.width &&
      space.height >= rect.height - 0.01; // fudge number for rounding error
    if ( canFitInSpaceColumn ) {
      rect.y = space.y;
      this.placed( rect );
      break;
    }
  }
};

proto.rowPack = function( rect ) {
  for ( var i=0; i < this.spaces.length; i++ ) {
    var space = this.spaces[i];
    var canFitInSpaceRow = space.y <= rect.y &&
      space.y + space.height >= rect.y + rect.height &&
      space.width >= rect.width - 0.01; // fudge number for rounding error
    if ( canFitInSpaceRow ) {
      rect.x = space.x;
      this.placed( rect );
      break;
    }
  }
};

proto.placeInSpace = function( rect, space ) {
  // place rect in space
  rect.x = space.x;
  rect.y = space.y;

  this.placed( rect );
};

// update spaces with placed rect
proto.placed = function( rect ) {
  // update spaces
  var revisedSpaces = [];
  for ( var i=0; i < this.spaces.length; i++ ) {
    var space = this.spaces[i];
    var newSpaces = space.getMaximalFreeRects( rect );
    // add either the original space or the new spaces to the revised spaces
    if ( newSpaces ) {
      revisedSpaces.push.apply( revisedSpaces, newSpaces );
    } else {
      revisedSpaces.push( space );
    }
  }

  this.spaces = revisedSpaces;

  this.mergeSortSpaces();
};

proto.mergeSortSpaces = function() {
  // remove redundant spaces
  Packer.mergeRects( this.spaces );
  this.spaces.sort( this.sorter );
};

// add a space back
proto.addSpace = function( rect ) {
  this.spaces.push( rect );
  this.mergeSortSpaces();
};

// -------------------------- utility functions -------------------------- //

/**
 * Remove redundant rectangle from array of rectangles
 * @param {Array} rects: an array of Rects
 * @returns {Array} rects: an array of Rects
**/
Packer.mergeRects = function( rects ) {
  var i = 0;
  var rect = rects[i];

  rectLoop:
  while ( rect ) {
    var j = 0;
    var compareRect = rects[ i + j ];

    while ( compareRect ) {
      if  ( compareRect == rect ) {
        j++; // next
      } else if ( compareRect.contains( rect ) ) {
        // remove rect
        rects.splice( i, 1 );
        rect = rects[i]; // set next rect
        continue rectLoop; // bail on compareLoop
      } else if ( rect.contains( compareRect ) ) {
        // remove compareRect
        rects.splice( i + j, 1 );
      } else {
        j++;
      }
      compareRect = rects[ i + j ]; // set next compareRect
    }
    i++;
    rect = rects[i];
  }

  return rects;
};


// -------------------------- sorters -------------------------- //

// functions for sorting rects in order
var sorters = {
  // top down, then left to right
  downwardLeftToRight: function( a, b ) {
    return a.y - b.y || a.x - b.x;
  },
  // left to right, then top down
  rightwardTopToBottom: function( a, b ) {
    return a.x - b.x || a.y - b.y;
  }
};


// --------------------------  -------------------------- //

return Packer;

}));


/***/ }),
/* 506 */
/***/ ((module, exports, __webpack_require__) => {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**
 * Packery Item Element
**/

( function( window, factory ) {
  // universal module definition
  /* jshint strict: false */ /* globals define, module, require */
  if ( true ) {
    // AMD
    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [
        __webpack_require__(507),
        __webpack_require__(504)
      ], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
		__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
		(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
  } else // removed by dead control flow
{}

}( window, function factory( Outlayer, Rect ) {
'use strict';

// -------------------------- Item -------------------------- //

var docElemStyle = document.documentElement.style;

var transformProperty = typeof docElemStyle.transform == 'string' ?
  'transform' : 'WebkitTransform';

// sub-class Item
var Item = function PackeryItem() {
  Outlayer.Item.apply( this, arguments );
};

var proto = Item.prototype = Object.create( Outlayer.Item.prototype );

var __create = proto._create;
proto._create = function() {
  // call default _create logic
  __create.call( this );
  this.rect = new Rect();
};

var _moveTo = proto.moveTo;
proto.moveTo = function( x, y ) {
  // don't shift 1px while dragging
  var dx = Math.abs( this.position.x - x );
  var dy = Math.abs( this.position.y - y );

  var canHackGoTo = this.layout.dragItemCount && !this.isPlacing &&
    !this.isTransitioning && dx < 1 && dy < 1;
  if ( canHackGoTo ) {
    this.goTo( x, y );
    return;
  }
  _moveTo.apply( this, arguments );
};

// -------------------------- placing -------------------------- //

proto.enablePlacing = function() {
  this.removeTransitionStyles();
  // remove transform property from transition
  if ( this.isTransitioning && transformProperty ) {
    this.element.style[ transformProperty ] = 'none';
  }
  this.isTransitioning = false;
  this.getSize();
  this.layout._setRectSize( this.element, this.rect );
  this.isPlacing = true;
};

proto.disablePlacing = function() {
  this.isPlacing = false;
};

// -----  ----- //

// remove element from DOM
proto.removeElem = function() {
  var parent = this.element.parentNode;
  if ( parent ) {
    parent.removeChild( this.element );
  }
  // add space back to packer
  this.layout.packer.addSpace( this.rect );
  this.emitEvent( 'remove', [ this ] );
};

// ----- dropPlaceholder ----- //

proto.showDropPlaceholder = function() {
  var dropPlaceholder = this.dropPlaceholder;
  if ( !dropPlaceholder ) {
    // create dropPlaceholder
    dropPlaceholder = this.dropPlaceholder = document.createElement('div');
    dropPlaceholder.className = 'packery-drop-placeholder';
    dropPlaceholder.style.position = 'absolute';
  }

  dropPlaceholder.style.width = this.size.width + 'px';
  dropPlaceholder.style.height = this.size.height + 'px';
  this.positionDropPlaceholder();
  this.layout.element.appendChild( dropPlaceholder );
};

proto.positionDropPlaceholder = function() {
  this.dropPlaceholder.style[ transformProperty ] = 'translate(' +
    this.rect.x + 'px, ' + this.rect.y + 'px)';
};

proto.hideDropPlaceholder = function() {
  // only remove once, #333
  var parent = this.dropPlaceholder.parentNode;
  if ( parent ) {
    parent.removeChild( this.dropPlaceholder );
  }
};

// -----  ----- //

return Item;

}));


/***/ }),
/* 507 */
/***/ ((module, exports, __webpack_require__) => {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * Outlayer v2.1.1
 * the brains and guts of a layout library
 * MIT license
 */

( function( window, factory ) {
  'use strict';
  // universal module definition
  /* jshint strict: false */ /* globals define, module, require */
  if ( true ) {
    // AMD - RequireJS
    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [
        __webpack_require__(508),
        __webpack_require__(509),
        __webpack_require__(510),
        __webpack_require__(512)
      ], __WEBPACK_AMD_DEFINE_RESULT__ = (function( EvEmitter, getSize, utils, Item ) {
        return factory( window, EvEmitter, getSize, utils, Item);
      }).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
  } else // removed by dead control flow
{}

}( window, function factory( window, EvEmitter, getSize, utils, Item ) {
'use strict';

// ----- vars ----- //

var console = window.console;
var jQuery = window.jQuery;
var noop = function() {};

// -------------------------- Outlayer -------------------------- //

// globally unique identifiers
var GUID = 0;
// internal store of all Outlayer intances
var instances = {};


/**
 * @param {Element, String} element
 * @param {Object} options
 * @constructor
 */
function Outlayer( element, options ) {
  var queryElement = utils.getQueryElement( element );
  if ( !queryElement ) {
    if ( console ) {
      console.error( 'Bad element for ' + this.constructor.namespace +
        ': ' + ( queryElement || element ) );
    }
    return;
  }
  this.element = queryElement;
  // add jQuery
  if ( jQuery ) {
    this.$element = jQuery( this.element );
  }

  // options
  this.options = utils.extend( {}, this.constructor.defaults );
  this.option( options );

  // add id for Outlayer.getFromElement
  var id = ++GUID;
  this.element.outlayerGUID = id; // expando
  instances[ id ] = this; // associate via id

  // kick it off
  this._create();

  var isInitLayout = this._getOption('initLayout');
  if ( isInitLayout ) {
    this.layout();
  }
}

// settings are for internal use only
Outlayer.namespace = 'outlayer';
Outlayer.Item = Item;

// default options
Outlayer.defaults = {
  containerStyle: {
    position: 'relative'
  },
  initLayout: true,
  originLeft: true,
  originTop: true,
  resize: true,
  resizeContainer: true,
  // item options
  transitionDuration: '0.4s',
  hiddenStyle: {
    opacity: 0,
    transform: 'scale(0.001)'
  },
  visibleStyle: {
    opacity: 1,
    transform: 'scale(1)'
  }
};

var proto = Outlayer.prototype;
// inherit EvEmitter
utils.extend( proto, EvEmitter.prototype );

/**
 * set options
 * @param {Object} opts
 */
proto.option = function( opts ) {
  utils.extend( this.options, opts );
};

/**
 * get backwards compatible option value, check old name
 */
proto._getOption = function( option ) {
  var oldOption = this.constructor.compatOptions[ option ];
  return oldOption && this.options[ oldOption ] !== undefined ?
    this.options[ oldOption ] : this.options[ option ];
};

Outlayer.compatOptions = {
  // currentName: oldName
  initLayout: 'isInitLayout',
  horizontal: 'isHorizontal',
  layoutInstant: 'isLayoutInstant',
  originLeft: 'isOriginLeft',
  originTop: 'isOriginTop',
  resize: 'isResizeBound',
  resizeContainer: 'isResizingContainer'
};

proto._create = function() {
  // get items from children
  this.reloadItems();
  // elements that affect layout, but are not laid out
  this.stamps = [];
  this.stamp( this.options.stamp );
  // set container style
  utils.extend( this.element.style, this.options.containerStyle );

  // bind resize method
  var canBindResize = this._getOption('resize');
  if ( canBindResize ) {
    this.bindResize();
  }
};

// goes through all children again and gets bricks in proper order
proto.reloadItems = function() {
  // collection of item elements
  this.items = this._itemize( this.element.children );
};


/**
 * turn elements into Outlayer.Items to be used in layout
 * @param {Array or NodeList or HTMLElement} elems
 * @returns {Array} items - collection of new Outlayer Items
 */
proto._itemize = function( elems ) {

  var itemElems = this._filterFindItemElements( elems );
  var Item = this.constructor.Item;

  // create new Outlayer Items for collection
  var items = [];
  for ( var i=0; i < itemElems.length; i++ ) {
    var elem = itemElems[i];
    var item = new Item( elem, this );
    items.push( item );
  }

  return items;
};

/**
 * get item elements to be used in layout
 * @param {Array or NodeList or HTMLElement} elems
 * @returns {Array} items - item elements
 */
proto._filterFindItemElements = function( elems ) {
  return utils.filterFindElements( elems, this.options.itemSelector );
};

/**
 * getter method for getting item elements
 * @returns {Array} elems - collection of item elements
 */
proto.getItemElements = function() {
  return this.items.map( function( item ) {
    return item.element;
  });
};

// ----- init & layout ----- //

/**
 * lays out all items
 */
proto.layout = function() {
  this._resetLayout();
  this._manageStamps();

  // don't animate first layout
  var layoutInstant = this._getOption('layoutInstant');
  var isInstant = layoutInstant !== undefined ?
    layoutInstant : !this._isLayoutInited;
  this.layoutItems( this.items, isInstant );

  // flag for initalized
  this._isLayoutInited = true;
};

// _init is alias for layout
proto._init = proto.layout;

/**
 * logic before any new layout
 */
proto._resetLayout = function() {
  this.getSize();
};


proto.getSize = function() {
  this.size = getSize( this.element );
};

/**
 * get measurement from option, for columnWidth, rowHeight, gutter
 * if option is String -> get element from selector string, & get size of element
 * if option is Element -> get size of element
 * else use option as a number
 *
 * @param {String} measurement
 * @param {String} size - width or height
 * @private
 */
proto._getMeasurement = function( measurement, size ) {
  var option = this.options[ measurement ];
  var elem;
  if ( !option ) {
    // default to 0
    this[ measurement ] = 0;
  } else {
    // use option as an element
    if ( typeof option == 'string' ) {
      elem = this.element.querySelector( option );
    } else if ( option instanceof HTMLElement ) {
      elem = option;
    }
    // use size of element, if element
    this[ measurement ] = elem ? getSize( elem )[ size ] : option;
  }
};

/**
 * layout a collection of item elements
 * @api public
 */
proto.layoutItems = function( items, isInstant ) {
  items = this._getItemsForLayout( items );

  this._layoutItems( items, isInstant );

  this._postLayout();
};

/**
 * get the items to be laid out
 * you may want to skip over some items
 * @param {Array} items
 * @returns {Array} items
 */
proto._getItemsForLayout = function( items ) {
  return items.filter( function( item ) {
    return !item.isIgnored;
  });
};

/**
 * layout items
 * @param {Array} items
 * @param {Boolean} isInstant
 */
proto._layoutItems = function( items, isInstant ) {
  this._emitCompleteOnItems( 'layout', items );

  if ( !items || !items.length ) {
    // no items, emit event with empty array
    return;
  }

  var queue = [];

  items.forEach( function( item ) {
    // get x/y object from method
    var position = this._getItemLayoutPosition( item );
    // enqueue
    position.item = item;
    position.isInstant = isInstant || item.isLayoutInstant;
    queue.push( position );
  }, this );

  this._processLayoutQueue( queue );
};

/**
 * get item layout position
 * @param {Outlayer.Item} item
 * @returns {Object} x and y position
 */
proto._getItemLayoutPosition = function( /* item */ ) {
  return {
    x: 0,
    y: 0
  };
};

/**
 * iterate over array and position each item
 * Reason being - separating this logic prevents 'layout invalidation'
 * thx @paul_irish
 * @param {Array} queue
 */
proto._processLayoutQueue = function( queue ) {
  this.updateStagger();
  queue.forEach( function( obj, i ) {
    this._positionItem( obj.item, obj.x, obj.y, obj.isInstant, i );
  }, this );
};

// set stagger from option in milliseconds number
proto.updateStagger = function() {
  var stagger = this.options.stagger;
  if ( stagger === null || stagger === undefined ) {
    this.stagger = 0;
    return;
  }
  this.stagger = getMilliseconds( stagger );
  return this.stagger;
};

/**
 * Sets position of item in DOM
 * @param {Outlayer.Item} item
 * @param {Number} x - horizontal position
 * @param {Number} y - vertical position
 * @param {Boolean} isInstant - disables transitions
 */
proto._positionItem = function( item, x, y, isInstant, i ) {
  if ( isInstant ) {
    // if not transition, just set CSS
    item.goTo( x, y );
  } else {
    item.stagger( i * this.stagger );
    item.moveTo( x, y );
  }
};

/**
 * Any logic you want to do after each layout,
 * i.e. size the container
 */
proto._postLayout = function() {
  this.resizeContainer();
};

proto.resizeContainer = function() {
  var isResizingContainer = this._getOption('resizeContainer');
  if ( !isResizingContainer ) {
    return;
  }
  var size = this._getContainerSize();
  if ( size ) {
    this._setContainerMeasure( size.width, true );
    this._setContainerMeasure( size.height, false );
  }
};

/**
 * Sets width or height of container if returned
 * @returns {Object} size
 *   @param {Number} width
 *   @param {Number} height
 */
proto._getContainerSize = noop;

/**
 * @param {Number} measure - size of width or height
 * @param {Boolean} isWidth
 */
proto._setContainerMeasure = function( measure, isWidth ) {
  if ( measure === undefined ) {
    return;
  }

  var elemSize = this.size;
  // add padding and border width if border box
  if ( elemSize.isBorderBox ) {
    measure += isWidth ? elemSize.paddingLeft + elemSize.paddingRight +
      elemSize.borderLeftWidth + elemSize.borderRightWidth :
      elemSize.paddingBottom + elemSize.paddingTop +
      elemSize.borderTopWidth + elemSize.borderBottomWidth;
  }

  measure = Math.max( measure, 0 );
  this.element.style[ isWidth ? 'width' : 'height' ] = measure + 'px';
};

/**
 * emit eventComplete on a collection of items events
 * @param {String} eventName
 * @param {Array} items - Outlayer.Items
 */
proto._emitCompleteOnItems = function( eventName, items ) {
  var _this = this;
  function onComplete() {
    _this.dispatchEvent( eventName + 'Complete', null, [ items ] );
  }

  var count = items.length;
  if ( !items || !count ) {
    onComplete();
    return;
  }

  var doneCount = 0;
  function tick() {
    doneCount++;
    if ( doneCount == count ) {
      onComplete();
    }
  }

  // bind callback
  items.forEach( function( item ) {
    item.once( eventName, tick );
  });
};

/**
 * emits events via EvEmitter and jQuery events
 * @param {String} type - name of event
 * @param {Event} event - original event
 * @param {Array} args - extra arguments
 */
proto.dispatchEvent = function( type, event, args ) {
  // add original event to arguments
  var emitArgs = event ? [ event ].concat( args ) : args;
  this.emitEvent( type, emitArgs );

  if ( jQuery ) {
    // set this.$element
    this.$element = this.$element || jQuery( this.element );
    if ( event ) {
      // create jQuery event
      var $event = jQuery.Event( event );
      $event.type = type;
      this.$element.trigger( $event, args );
    } else {
      // just trigger with type if no event available
      this.$element.trigger( type, args );
    }
  }
};

// -------------------------- ignore & stamps -------------------------- //


/**
 * keep item in collection, but do not lay it out
 * ignored items do not get skipped in layout
 * @param {Element} elem
 */
proto.ignore = function( elem ) {
  var item = this.getItem( elem );
  if ( item ) {
    item.isIgnored = true;
  }
};

/**
 * return item to layout collection
 * @param {Element} elem
 */
proto.unignore = function( elem ) {
  var item = this.getItem( elem );
  if ( item ) {
    delete item.isIgnored;
  }
};

/**
 * adds elements to stamps
 * @param {NodeList, Array, Element, or String} elems
 */
proto.stamp = function( elems ) {
  elems = this._find( elems );
  if ( !elems ) {
    return;
  }

  this.stamps = this.stamps.concat( elems );
  // ignore
  elems.forEach( this.ignore, this );
};

/**
 * removes elements to stamps
 * @param {NodeList, Array, or Element} elems
 */
proto.unstamp = function( elems ) {
  elems = this._find( elems );
  if ( !elems ){
    return;
  }

  elems.forEach( function( elem ) {
    // filter out removed stamp elements
    utils.removeFrom( this.stamps, elem );
    this.unignore( elem );
  }, this );
};

/**
 * finds child elements
 * @param {NodeList, Array, Element, or String} elems
 * @returns {Array} elems
 */
proto._find = function( elems ) {
  if ( !elems ) {
    return;
  }
  // if string, use argument as selector string
  if ( typeof elems == 'string' ) {
    elems = this.element.querySelectorAll( elems );
  }
  elems = utils.makeArray( elems );
  return elems;
};

proto._manageStamps = function() {
  if ( !this.stamps || !this.stamps.length ) {
    return;
  }

  this._getBoundingRect();

  this.stamps.forEach( this._manageStamp, this );
};

// update boundingLeft / Top
proto._getBoundingRect = function() {
  // get bounding rect for container element
  var boundingRect = this.element.getBoundingClientRect();
  var size = this.size;
  this._boundingRect = {
    left: boundingRect.left + size.paddingLeft + size.borderLeftWidth,
    top: boundingRect.top + size.paddingTop + size.borderTopWidth,
    right: boundingRect.right - ( size.paddingRight + size.borderRightWidth ),
    bottom: boundingRect.bottom - ( size.paddingBottom + size.borderBottomWidth )
  };
};

/**
 * @param {Element} stamp
**/
proto._manageStamp = noop;

/**
 * get x/y position of element relative to container element
 * @param {Element} elem
 * @returns {Object} offset - has left, top, right, bottom
 */
proto._getElementOffset = function( elem ) {
  var boundingRect = elem.getBoundingClientRect();
  var thisRect = this._boundingRect;
  var size = getSize( elem );
  var offset = {
    left: boundingRect.left - thisRect.left - size.marginLeft,
    top: boundingRect.top - thisRect.top - size.marginTop,
    right: thisRect.right - boundingRect.right - size.marginRight,
    bottom: thisRect.bottom - boundingRect.bottom - size.marginBottom
  };
  return offset;
};

// -------------------------- resize -------------------------- //

// enable event handlers for listeners
// i.e. resize -> onresize
proto.handleEvent = utils.handleEvent;

/**
 * Bind layout to window resizing
 */
proto.bindResize = function() {
  window.addEventListener( 'resize', this );
  this.isResizeBound = true;
};

/**
 * Unbind layout to window resizing
 */
proto.unbindResize = function() {
  window.removeEventListener( 'resize', this );
  this.isResizeBound = false;
};

proto.onresize = function() {
  this.resize();
};

utils.debounceMethod( Outlayer, 'onresize', 100 );

proto.resize = function() {
  // don't trigger if size did not change
  // or if resize was unbound. See #9
  if ( !this.isResizeBound || !this.needsResizeLayout() ) {
    return;
  }

  this.layout();
};

/**
 * check if layout is needed post layout
 * @returns Boolean
 */
proto.needsResizeLayout = function() {
  var size = getSize( this.element );
  // check that this.size and size are there
  // IE8 triggers resize on body size change, so they might not be
  var hasSizes = this.size && size;
  return hasSizes && size.innerWidth !== this.size.innerWidth;
};

// -------------------------- methods -------------------------- //

/**
 * add items to Outlayer instance
 * @param {Array or NodeList or Element} elems
 * @returns {Array} items - Outlayer.Items
**/
proto.addItems = function( elems ) {
  var items = this._itemize( elems );
  // add items to collection
  if ( items.length ) {
    this.items = this.items.concat( items );
  }
  return items;
};

/**
 * Layout newly-appended item elements
 * @param {Array or NodeList or Element} elems
 */
proto.appended = function( elems ) {
  var items = this.addItems( elems );
  if ( !items.length ) {
    return;
  }
  // layout and reveal just the new items
  this.layoutItems( items, true );
  this.reveal( items );
};

/**
 * Layout prepended elements
 * @param {Array or NodeList or Element} elems
 */
proto.prepended = function( elems ) {
  var items = this._itemize( elems );
  if ( !items.length ) {
    return;
  }
  // add items to beginning of collection
  var previousItems = this.items.slice(0);
  this.items = items.concat( previousItems );
  // start new layout
  this._resetLayout();
  this._manageStamps();
  // layout new stuff without transition
  this.layoutItems( items, true );
  this.reveal( items );
  // layout previous items
  this.layoutItems( previousItems );
};

/**
 * reveal a collection of items
 * @param {Array of Outlayer.Items} items
 */
proto.reveal = function( items ) {
  this._emitCompleteOnItems( 'reveal', items );
  if ( !items || !items.length ) {
    return;
  }
  var stagger = this.updateStagger();
  items.forEach( function( item, i ) {
    item.stagger( i * stagger );
    item.reveal();
  });
};

/**
 * hide a collection of items
 * @param {Array of Outlayer.Items} items
 */
proto.hide = function( items ) {
  this._emitCompleteOnItems( 'hide', items );
  if ( !items || !items.length ) {
    return;
  }
  var stagger = this.updateStagger();
  items.forEach( function( item, i ) {
    item.stagger( i * stagger );
    item.hide();
  });
};

/**
 * reveal item elements
 * @param {Array}, {Element}, {NodeList} items
 */
proto.revealItemElements = function( elems ) {
  var items = this.getItems( elems );
  this.reveal( items );
};

/**
 * hide item elements
 * @param {Array}, {Element}, {NodeList} items
 */
proto.hideItemElements = function( elems ) {
  var items = this.getItems( elems );
  this.hide( items );
};

/**
 * get Outlayer.Item, given an Element
 * @param {Element} elem
 * @param {Function} callback
 * @returns {Outlayer.Item} item
 */
proto.getItem = function( elem ) {
  // loop through items to get the one that matches
  for ( var i=0; i < this.items.length; i++ ) {
    var item = this.items[i];
    if ( item.element == elem ) {
      // return item
      return item;
    }
  }
};

/**
 * get collection of Outlayer.Items, given Elements
 * @param {Array} elems
 * @returns {Array} items - Outlayer.Items
 */
proto.getItems = function( elems ) {
  elems = utils.makeArray( elems );
  var items = [];
  elems.forEach( function( elem ) {
    var item = this.getItem( elem );
    if ( item ) {
      items.push( item );
    }
  }, this );

  return items;
};

/**
 * remove element(s) from instance and DOM
 * @param {Array or NodeList or Element} elems
 */
proto.remove = function( elems ) {
  var removeItems = this.getItems( elems );

  this._emitCompleteOnItems( 'remove', removeItems );

  // bail if no items to remove
  if ( !removeItems || !removeItems.length ) {
    return;
  }

  removeItems.forEach( function( item ) {
    item.remove();
    // remove item from collection
    utils.removeFrom( this.items, item );
  }, this );
};

// ----- destroy ----- //

// remove and disable Outlayer instance
proto.destroy = function() {
  // clean up dynamic styles
  var style = this.element.style;
  style.height = '';
  style.position = '';
  style.width = '';
  // destroy items
  this.items.forEach( function( item ) {
    item.destroy();
  });

  this.unbindResize();

  var id = this.element.outlayerGUID;
  delete instances[ id ]; // remove reference to instance by id
  delete this.element.outlayerGUID;
  // remove data for jQuery
  if ( jQuery ) {
    jQuery.removeData( this.element, this.constructor.namespace );
  }

};

// -------------------------- data -------------------------- //

/**
 * get Outlayer instance from element
 * @param {Element} elem
 * @returns {Outlayer}
 */
Outlayer.data = function( elem ) {
  elem = utils.getQueryElement( elem );
  var id = elem && elem.outlayerGUID;
  return id && instances[ id ];
};


// -------------------------- create Outlayer class -------------------------- //

/**
 * create a layout class
 * @param {String} namespace
 */
Outlayer.create = function( namespace, options ) {
  // sub-class Outlayer
  var Layout = subclass( Outlayer );
  // apply new options and compatOptions
  Layout.defaults = utils.extend( {}, Outlayer.defaults );
  utils.extend( Layout.defaults, options );
  Layout.compatOptions = utils.extend( {}, Outlayer.compatOptions  );

  Layout.namespace = namespace;

  Layout.data = Outlayer.data;

  // sub-class Item
  Layout.Item = subclass( Item );

  // -------------------------- declarative -------------------------- //

  utils.htmlInit( Layout, namespace );

  // -------------------------- jQuery bridge -------------------------- //

  // make into jQuery plugin
  if ( jQuery && jQuery.bridget ) {
    jQuery.bridget( namespace, Layout );
  }

  return Layout;
};

function subclass( Parent ) {
  function SubClass() {
    Parent.apply( this, arguments );
  }

  SubClass.prototype = Object.create( Parent.prototype );
  SubClass.prototype.constructor = SubClass;

  return SubClass;
}

// ----- helpers ----- //

// how many milliseconds are in each unit
var msUnits = {
  ms: 1,
  s: 1000
};

// munge time-like parameter into millisecond number
// '0.4s' -> 40
function getMilliseconds( time ) {
  if ( typeof time == 'number' ) {
    return time;
  }
  var matches = time.match( /(^\d*\.?\d*)(\w*)/ );
  var num = matches && matches[1];
  var unit = matches && matches[2];
  if ( !num.length ) {
    return 0;
  }
  num = parseFloat( num );
  var mult = msUnits[ unit ] || 1;
  return num * mult;
}

// ----- fin ----- //

// back in global
Outlayer.Item = Item;

return Outlayer;

}));


/***/ }),
/* 508 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/**
 * EvEmitter v1.1.0
 * Lil' event emitter
 * MIT License
 */

/* jshint unused: true, undef: true, strict: true */

( function( global, factory ) {
  // universal module definition
  /* jshint strict: false */ /* globals define, module, window */
  if ( true ) {
    // AMD - RequireJS
    !(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
		__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
		(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :
		__WEBPACK_AMD_DEFINE_FACTORY__),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
  } else // removed by dead control flow
{}

}( typeof window != 'undefined' ? window : this, function() {

"use strict";

function EvEmitter() {}

var proto = EvEmitter.prototype;

proto.on = function( eventName, listener ) {
  if ( !eventName || !listener ) {
    return;
  }
  // set events hash
  var events = this._events = this._events || {};
  // set listeners array
  var listeners = events[ eventName ] = events[ eventName ] || [];
  // only add once
  if ( listeners.indexOf( listener ) == -1 ) {
    listeners.push( listener );
  }

  return this;
};

proto.once = function( eventName, listener ) {
  if ( !eventName || !listener ) {
    return;
  }
  // add event
  this.on( eventName, listener );
  // set once flag
  // set onceEvents hash
  var onceEvents = this._onceEvents = this._onceEvents || {};
  // set onceListeners object
  var onceListeners = onceEvents[ eventName ] = onceEvents[ eventName ] || {};
  // set flag
  onceListeners[ listener ] = true;

  return this;
};

proto.off = function( eventName, listener ) {
  var listeners = this._events && this._events[ eventName ];
  if ( !listeners || !listeners.length ) {
    return;
  }
  var index = listeners.indexOf( listener );
  if ( index != -1 ) {
    listeners.splice( index, 1 );
  }

  return this;
};

proto.emitEvent = function( eventName, args ) {
  var listeners = this._events && this._events[ eventName ];
  if ( !listeners || !listeners.length ) {
    return;
  }
  // copy over to avoid interference if .off() in listener
  listeners = listeners.slice(0);
  args = args || [];
  // once stuff
  var onceListeners = this._onceEvents && this._onceEvents[ eventName ];

  for ( var i=0; i < listeners.length; i++ ) {
    var listener = listeners[i]
    var isOnce = onceListeners && onceListeners[ listener ];
    if ( isOnce ) {
      // remove listener
      // remove before trigger to prevent recursion
      this.off( eventName, listener );
      // unset once flag
      delete onceListeners[ listener ];
    }
    // trigger listener
    listener.apply( this, args );
  }

  return this;
};

proto.allOff = function() {
  delete this._events;
  delete this._onceEvents;
};

return EvEmitter;

}));


/***/ }),
/* 509 */
/***/ ((module, exports, __webpack_require__) => {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * getSize v2.0.3
 * measure size of elements
 * MIT license
 */

/* jshint browser: true, strict: true, undef: true, unused: true */
/* globals console: false */

( function( window, factory ) {
  /* jshint strict: false */ /* globals define, module */
  if ( true ) {
    // AMD
    !(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
		__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
		(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :
		__WEBPACK_AMD_DEFINE_FACTORY__),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
  } else // removed by dead control flow
{}

})( window, function factory() {
'use strict';

// -------------------------- helpers -------------------------- //

// get a number from a string, not a percentage
function getStyleSize( value ) {
  var num = parseFloat( value );
  // not a percent like '100%', and a number
  var isValid = value.indexOf('%') == -1 && !isNaN( num );
  return isValid && num;
}

function noop() {}

var logError = typeof console == 'undefined' ? noop :
  function( message ) {
    console.error( message );
  };

// -------------------------- measurements -------------------------- //

var measurements = [
  'paddingLeft',
  'paddingRight',
  'paddingTop',
  'paddingBottom',
  'marginLeft',
  'marginRight',
  'marginTop',
  'marginBottom',
  'borderLeftWidth',
  'borderRightWidth',
  'borderTopWidth',
  'borderBottomWidth'
];

var measurementsLength = measurements.length;

function getZeroSize() {
  var size = {
    width: 0,
    height: 0,
    innerWidth: 0,
    innerHeight: 0,
    outerWidth: 0,
    outerHeight: 0
  };
  for ( var i=0; i < measurementsLength; i++ ) {
    var measurement = measurements[i];
    size[ measurement ] = 0;
  }
  return size;
}

// -------------------------- getStyle -------------------------- //

/**
 * getStyle, get style of element, check for Firefox bug
 * https://bugzilla.mozilla.org/show_bug.cgi?id=548397
 */
function getStyle( elem ) {
  var style = getComputedStyle( elem );
  if ( !style ) {
    logError( 'Style returned ' + style +
      '. Are you running this code in a hidden iframe on Firefox? ' +
      'See https://bit.ly/getsizebug1' );
  }
  return style;
}

// -------------------------- setup -------------------------- //

var isSetup = false;

var isBoxSizeOuter;

/**
 * setup
 * check isBoxSizerOuter
 * do on first getSize() rather than on page load for Firefox bug
 */
function setup() {
  // setup once
  if ( isSetup ) {
    return;
  }
  isSetup = true;

  // -------------------------- box sizing -------------------------- //

  /**
   * Chrome & Safari measure the outer-width on style.width on border-box elems
   * IE11 & Firefox<29 measures the inner-width
   */
  var div = document.createElement('div');
  div.style.width = '200px';
  div.style.padding = '1px 2px 3px 4px';
  div.style.borderStyle = 'solid';
  div.style.borderWidth = '1px 2px 3px 4px';
  div.style.boxSizing = 'border-box';

  var body = document.body || document.documentElement;
  body.appendChild( div );
  var style = getStyle( div );
  // round value for browser zoom. desandro/masonry#928
  isBoxSizeOuter = Math.round( getStyleSize( style.width ) ) == 200;
  getSize.isBoxSizeOuter = isBoxSizeOuter;

  body.removeChild( div );
}

// -------------------------- getSize -------------------------- //

function getSize( elem ) {
  setup();

  // use querySeletor if elem is string
  if ( typeof elem == 'string' ) {
    elem = document.querySelector( elem );
  }

  // do not proceed on non-objects
  if ( !elem || typeof elem != 'object' || !elem.nodeType ) {
    return;
  }

  var style = getStyle( elem );

  // if hidden, everything is 0
  if ( style.display == 'none' ) {
    return getZeroSize();
  }

  var size = {};
  size.width = elem.offsetWidth;
  size.height = elem.offsetHeight;

  var isBorderBox = size.isBorderBox = style.boxSizing == 'border-box';

  // get all measurements
  for ( var i=0; i < measurementsLength; i++ ) {
    var measurement = measurements[i];
    var value = style[ measurement ];
    var num = parseFloat( value );
    // any 'auto', 'medium' value will be 0
    size[ measurement ] = !isNaN( num ) ? num : 0;
  }

  var paddingWidth = size.paddingLeft + size.paddingRight;
  var paddingHeight = size.paddingTop + size.paddingBottom;
  var marginWidth = size.marginLeft + size.marginRight;
  var marginHeight = size.marginTop + size.marginBottom;
  var borderWidth = size.borderLeftWidth + size.borderRightWidth;
  var borderHeight = size.borderTopWidth + size.borderBottomWidth;

  var isBorderBoxSizeOuter = isBorderBox && isBoxSizeOuter;

  // overwrite width and height if we can get it from style
  var styleWidth = getStyleSize( style.width );
  if ( styleWidth !== false ) {
    size.width = styleWidth +
      // add padding and border unless it's already including it
      ( isBorderBoxSizeOuter ? 0 : paddingWidth + borderWidth );
  }

  var styleHeight = getStyleSize( style.height );
  if ( styleHeight !== false ) {
    size.height = styleHeight +
      // add padding and border unless it's already including it
      ( isBorderBoxSizeOuter ? 0 : paddingHeight + borderHeight );
  }

  size.innerWidth = size.width - ( paddingWidth + borderWidth );
  size.innerHeight = size.height - ( paddingHeight + borderHeight );

  size.outerWidth = size.width + marginWidth;
  size.outerHeight = size.height + marginHeight;

  return size;
}

return getSize;

});


/***/ }),
/* 510 */
/***/ ((module, exports, __webpack_require__) => {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**
 * Fizzy UI utils v2.0.7
 * MIT license
 */

/*jshint browser: true, undef: true, unused: true, strict: true */

( function( window, factory ) {
  // universal module definition
  /*jshint strict: false */ /*globals define, module, require */

  if ( true ) {
    // AMD
    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [
      __webpack_require__(511)
    ], __WEBPACK_AMD_DEFINE_RESULT__ = (function( matchesSelector ) {
      return factory( window, matchesSelector );
    }).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
  } else // removed by dead control flow
{}

}( window, function factory( window, matchesSelector ) {

'use strict';

var utils = {};

// ----- extend ----- //

// extends objects
utils.extend = function( a, b ) {
  for ( var prop in b ) {
    a[ prop ] = b[ prop ];
  }
  return a;
};

// ----- modulo ----- //

utils.modulo = function( num, div ) {
  return ( ( num % div ) + div ) % div;
};

// ----- makeArray ----- //

var arraySlice = Array.prototype.slice;

// turn element or nodeList into an array
utils.makeArray = function( obj ) {
  if ( Array.isArray( obj ) ) {
    // use object if already an array
    return obj;
  }
  // return empty array if undefined or null. #6
  if ( obj === null || obj === undefined ) {
    return [];
  }

  var isArrayLike = typeof obj == 'object' && typeof obj.length == 'number';
  if ( isArrayLike ) {
    // convert nodeList to array
    return arraySlice.call( obj );
  }

  // array of single index
  return [ obj ];
};

// ----- removeFrom ----- //

utils.removeFrom = function( ary, obj ) {
  var index = ary.indexOf( obj );
  if ( index != -1 ) {
    ary.splice( index, 1 );
  }
};

// ----- getParent ----- //

utils.getParent = function( elem, selector ) {
  while ( elem.parentNode && elem != document.body ) {
    elem = elem.parentNode;
    if ( matchesSelector( elem, selector ) ) {
      return elem;
    }
  }
};

// ----- getQueryElement ----- //

// use element as selector string
utils.getQueryElement = function( elem ) {
  if ( typeof elem == 'string' ) {
    return document.querySelector( elem );
  }
  return elem;
};

// ----- handleEvent ----- //

// enable .ontype to trigger from .addEventListener( elem, 'type' )
utils.handleEvent = function( event ) {
  var method = 'on' + event.type;
  if ( this[ method ] ) {
    this[ method ]( event );
  }
};

// ----- filterFindElements ----- //

utils.filterFindElements = function( elems, selector ) {
  // make array of elems
  elems = utils.makeArray( elems );
  var ffElems = [];

  elems.forEach( function( elem ) {
    // check that elem is an actual element
    if ( !( elem instanceof HTMLElement ) ) {
      return;
    }
    // add elem if no selector
    if ( !selector ) {
      ffElems.push( elem );
      return;
    }
    // filter & find items if we have a selector
    // filter
    if ( matchesSelector( elem, selector ) ) {
      ffElems.push( elem );
    }
    // find children
    var childElems = elem.querySelectorAll( selector );
    // concat childElems to filterFound array
    for ( var i=0; i < childElems.length; i++ ) {
      ffElems.push( childElems[i] );
    }
  });

  return ffElems;
};

// ----- debounceMethod ----- //

utils.debounceMethod = function( _class, methodName, threshold ) {
  threshold = threshold || 100;
  // original method
  var method = _class.prototype[ methodName ];
  var timeoutName = methodName + 'Timeout';

  _class.prototype[ methodName ] = function() {
    var timeout = this[ timeoutName ];
    clearTimeout( timeout );

    var args = arguments;
    var _this = this;
    this[ timeoutName ] = setTimeout( function() {
      method.apply( _this, args );
      delete _this[ timeoutName ];
    }, threshold );
  };
};

// ----- docReady ----- //

utils.docReady = function( callback ) {
  var readyState = document.readyState;
  if ( readyState == 'complete' || readyState == 'interactive' ) {
    // do async to allow for other scripts to run. metafizzy/flickity#441
    setTimeout( callback );
  } else {
    document.addEventListener( 'DOMContentLoaded', callback );
  }
};

// ----- htmlInit ----- //

// http://jamesroberts.name/blog/2010/02/22/string-functions-for-javascript-trim-to-camel-case-to-dashed-and-to-underscore/
utils.toDashed = function( str ) {
  return str.replace( /(.)([A-Z])/g, function( match, $1, $2 ) {
    return $1 + '-' + $2;
  }).toLowerCase();
};

var console = window.console;
/**
 * allow user to initialize classes via [data-namespace] or .js-namespace class
 * htmlInit( Widget, 'widgetName' )
 * options are parsed from data-namespace-options
 */
utils.htmlInit = function( WidgetClass, namespace ) {
  utils.docReady( function() {
    var dashedNamespace = utils.toDashed( namespace );
    var dataAttr = 'data-' + dashedNamespace;
    var dataAttrElems = document.querySelectorAll( '[' + dataAttr + ']' );
    var jsDashElems = document.querySelectorAll( '.js-' + dashedNamespace );
    var elems = utils.makeArray( dataAttrElems )
      .concat( utils.makeArray( jsDashElems ) );
    var dataOptionsAttr = dataAttr + '-options';
    var jQuery = window.jQuery;

    elems.forEach( function( elem ) {
      var attr = elem.getAttribute( dataAttr ) ||
        elem.getAttribute( dataOptionsAttr );
      var options;
      try {
        options = attr && JSON.parse( attr );
      } catch ( error ) {
        // log error, do not initialize
        if ( console ) {
          console.error( 'Error parsing ' + dataAttr + ' on ' + elem.className +
          ': ' + error );
        }
        return;
      }
      // initialize
      var instance = new WidgetClass( elem, options );
      // make available via $().data('namespace')
      if ( jQuery ) {
        jQuery.data( elem, namespace, instance );
      }
    });

  });
};

// -----  ----- //

return utils;

}));


/***/ }),
/* 511 */
/***/ ((module, exports, __webpack_require__) => {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/**
 * matchesSelector v2.0.2
 * matchesSelector( element, '.selector' )
 * MIT license
 */

/*jshint browser: true, strict: true, undef: true, unused: true */

( function( window, factory ) {
  /*global define: false, module: false */
  'use strict';
  // universal module definition
  if ( true ) {
    // AMD
    !(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
		__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
		(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :
		__WEBPACK_AMD_DEFINE_FACTORY__),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
  } else // removed by dead control flow
{}

}( window, function factory() {
  'use strict';

  var matchesMethod = ( function() {
    var ElemProto = window.Element.prototype;
    // check for the standard method name first
    if ( ElemProto.matches ) {
      return 'matches';
    }
    // check un-prefixed
    if ( ElemProto.matchesSelector ) {
      return 'matchesSelector';
    }
    // check vendor prefixes
    var prefixes = [ 'webkit', 'moz', 'ms', 'o' ];

    for ( var i=0; i < prefixes.length; i++ ) {
      var prefix = prefixes[i];
      var method = prefix + 'MatchesSelector';
      if ( ElemProto[ method ] ) {
        return method;
      }
    }
  })();

  return function matchesSelector( elem, selector ) {
    return elem[ matchesMethod ]( selector );
  };

}));


/***/ }),
/* 512 */
/***/ ((module, exports, __webpack_require__) => {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**
 * Outlayer Item
 */

( function( window, factory ) {
  // universal module definition
  /* jshint strict: false */ /* globals define, module, require */
  if ( true ) {
    // AMD - RequireJS
    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [
        __webpack_require__(508),
        __webpack_require__(509)
      ], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
		__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
		(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
  } else // removed by dead control flow
{}

}( window, function factory( EvEmitter, getSize ) {
'use strict';

// ----- helpers ----- //

function isEmptyObj( obj ) {
  for ( var prop in obj ) {
    return false;
  }
  prop = null;
  return true;
}

// -------------------------- CSS3 support -------------------------- //


var docElemStyle = document.documentElement.style;

var transitionProperty = typeof docElemStyle.transition == 'string' ?
  'transition' : 'WebkitTransition';
var transformProperty = typeof docElemStyle.transform == 'string' ?
  'transform' : 'WebkitTransform';

var transitionEndEvent = {
  WebkitTransition: 'webkitTransitionEnd',
  transition: 'transitionend'
}[ transitionProperty ];

// cache all vendor properties that could have vendor prefix
var vendorProperties = {
  transform: transformProperty,
  transition: transitionProperty,
  transitionDuration: transitionProperty + 'Duration',
  transitionProperty: transitionProperty + 'Property',
  transitionDelay: transitionProperty + 'Delay'
};

// -------------------------- Item -------------------------- //

function Item( element, layout ) {
  if ( !element ) {
    return;
  }

  this.element = element;
  // parent layout class, i.e. Masonry, Isotope, or Packery
  this.layout = layout;
  this.position = {
    x: 0,
    y: 0
  };

  this._create();
}

// inherit EvEmitter
var proto = Item.prototype = Object.create( EvEmitter.prototype );
proto.constructor = Item;

proto._create = function() {
  // transition objects
  this._transn = {
    ingProperties: {},
    clean: {},
    onEnd: {}
  };

  this.css({
    position: 'absolute'
  });
};

// trigger specified handler for event type
proto.handleEvent = function( event ) {
  var method = 'on' + event.type;
  if ( this[ method ] ) {
    this[ method ]( event );
  }
};

proto.getSize = function() {
  this.size = getSize( this.element );
};

/**
 * apply CSS styles to element
 * @param {Object} style
 */
proto.css = function( style ) {
  var elemStyle = this.element.style;

  for ( var prop in style ) {
    // use vendor property if available
    var supportedProp = vendorProperties[ prop ] || prop;
    elemStyle[ supportedProp ] = style[ prop ];
  }
};

 // measure position, and sets it
proto.getPosition = function() {
  var style = getComputedStyle( this.element );
  var isOriginLeft = this.layout._getOption('originLeft');
  var isOriginTop = this.layout._getOption('originTop');
  var xValue = style[ isOriginLeft ? 'left' : 'right' ];
  var yValue = style[ isOriginTop ? 'top' : 'bottom' ];
  var x = parseFloat( xValue );
  var y = parseFloat( yValue );
  // convert percent to pixels
  var layoutSize = this.layout.size;
  if ( xValue.indexOf('%') != -1 ) {
    x = ( x / 100 ) * layoutSize.width;
  }
  if ( yValue.indexOf('%') != -1 ) {
    y = ( y / 100 ) * layoutSize.height;
  }
  // clean up 'auto' or other non-integer values
  x = isNaN( x ) ? 0 : x;
  y = isNaN( y ) ? 0 : y;
  // remove padding from measurement
  x -= isOriginLeft ? layoutSize.paddingLeft : layoutSize.paddingRight;
  y -= isOriginTop ? layoutSize.paddingTop : layoutSize.paddingBottom;

  this.position.x = x;
  this.position.y = y;
};

// set settled position, apply padding
proto.layoutPosition = function() {
  var layoutSize = this.layout.size;
  var style = {};
  var isOriginLeft = this.layout._getOption('originLeft');
  var isOriginTop = this.layout._getOption('originTop');

  // x
  var xPadding = isOriginLeft ? 'paddingLeft' : 'paddingRight';
  var xProperty = isOriginLeft ? 'left' : 'right';
  var xResetProperty = isOriginLeft ? 'right' : 'left';

  var x = this.position.x + layoutSize[ xPadding ];
  // set in percentage or pixels
  style[ xProperty ] = this.getXValue( x );
  // reset other property
  style[ xResetProperty ] = '';

  // y
  var yPadding = isOriginTop ? 'paddingTop' : 'paddingBottom';
  var yProperty = isOriginTop ? 'top' : 'bottom';
  var yResetProperty = isOriginTop ? 'bottom' : 'top';

  var y = this.position.y + layoutSize[ yPadding ];
  // set in percentage or pixels
  style[ yProperty ] = this.getYValue( y );
  // reset other property
  style[ yResetProperty ] = '';

  this.css( style );
  this.emitEvent( 'layout', [ this ] );
};

proto.getXValue = function( x ) {
  var isHorizontal = this.layout._getOption('horizontal');
  return this.layout.options.percentPosition && !isHorizontal ?
    ( ( x / this.layout.size.width ) * 100 ) + '%' : x + 'px';
};

proto.getYValue = function( y ) {
  var isHorizontal = this.layout._getOption('horizontal');
  return this.layout.options.percentPosition && isHorizontal ?
    ( ( y / this.layout.size.height ) * 100 ) + '%' : y + 'px';
};

proto._transitionTo = function( x, y ) {
  this.getPosition();
  // get current x & y from top/left
  var curX = this.position.x;
  var curY = this.position.y;

  var didNotMove = x == this.position.x && y == this.position.y;

  // save end position
  this.setPosition( x, y );

  // if did not move and not transitioning, just go to layout
  if ( didNotMove && !this.isTransitioning ) {
    this.layoutPosition();
    return;
  }

  var transX = x - curX;
  var transY = y - curY;
  var transitionStyle = {};
  transitionStyle.transform = this.getTranslate( transX, transY );

  this.transition({
    to: transitionStyle,
    onTransitionEnd: {
      transform: this.layoutPosition
    },
    isCleaning: true
  });
};

proto.getTranslate = function( x, y ) {
  // flip cooridinates if origin on right or bottom
  var isOriginLeft = this.layout._getOption('originLeft');
  var isOriginTop = this.layout._getOption('originTop');
  x = isOriginLeft ? x : -x;
  y = isOriginTop ? y : -y;
  return 'translate3d(' + x + 'px, ' + y + 'px, 0)';
};

// non transition + transform support
proto.goTo = function( x, y ) {
  this.setPosition( x, y );
  this.layoutPosition();
};

proto.moveTo = proto._transitionTo;

proto.setPosition = function( x, y ) {
  this.position.x = parseFloat( x );
  this.position.y = parseFloat( y );
};

// ----- transition ----- //

/**
 * @param {Object} style - CSS
 * @param {Function} onTransitionEnd
 */

// non transition, just trigger callback
proto._nonTransition = function( args ) {
  this.css( args.to );
  if ( args.isCleaning ) {
    this._removeStyles( args.to );
  }
  for ( var prop in args.onTransitionEnd ) {
    args.onTransitionEnd[ prop ].call( this );
  }
};

/**
 * proper transition
 * @param {Object} args - arguments
 *   @param {Object} to - style to transition to
 *   @param {Object} from - style to start transition from
 *   @param {Boolean} isCleaning - removes transition styles after transition
 *   @param {Function} onTransitionEnd - callback
 */
proto.transition = function( args ) {
  // redirect to nonTransition if no transition duration
  if ( !parseFloat( this.layout.options.transitionDuration ) ) {
    this._nonTransition( args );
    return;
  }

  var _transition = this._transn;
  // keep track of onTransitionEnd callback by css property
  for ( var prop in args.onTransitionEnd ) {
    _transition.onEnd[ prop ] = args.onTransitionEnd[ prop ];
  }
  // keep track of properties that are transitioning
  for ( prop in args.to ) {
    _transition.ingProperties[ prop ] = true;
    // keep track of properties to clean up when transition is done
    if ( args.isCleaning ) {
      _transition.clean[ prop ] = true;
    }
  }

  // set from styles
  if ( args.from ) {
    this.css( args.from );
    // force redraw. http://blog.alexmaccaw.com/css-transitions
    var h = this.element.offsetHeight;
    // hack for JSHint to hush about unused var
    h = null;
  }
  // enable transition
  this.enableTransition( args.to );
  // set styles that are transitioning
  this.css( args.to );

  this.isTransitioning = true;

};

// dash before all cap letters, including first for
// WebkitTransform => -webkit-transform
function toDashedAll( str ) {
  return str.replace( /([A-Z])/g, function( $1 ) {
    return '-' + $1.toLowerCase();
  });
}

var transitionProps = 'opacity,' + toDashedAll( transformProperty );

proto.enableTransition = function(/* style */) {
  // HACK changing transitionProperty during a transition
  // will cause transition to jump
  if ( this.isTransitioning ) {
    return;
  }

  // make `transition: foo, bar, baz` from style object
  // HACK un-comment this when enableTransition can work
  // while a transition is happening
  // var transitionValues = [];
  // for ( var prop in style ) {
  //   // dash-ify camelCased properties like WebkitTransition
  //   prop = vendorProperties[ prop ] || prop;
  //   transitionValues.push( toDashedAll( prop ) );
  // }
  // munge number to millisecond, to match stagger
  var duration = this.layout.options.transitionDuration;
  duration = typeof duration == 'number' ? duration + 'ms' : duration;
  // enable transition styles
  this.css({
    transitionProperty: transitionProps,
    transitionDuration: duration,
    transitionDelay: this.staggerDelay || 0
  });
  // listen for transition end event
  this.element.addEventListener( transitionEndEvent, this, false );
};

// ----- events ----- //

proto.onwebkitTransitionEnd = function( event ) {
  this.ontransitionend( event );
};

proto.onotransitionend = function( event ) {
  this.ontransitionend( event );
};

// properties that I munge to make my life easier
var dashedVendorProperties = {
  '-webkit-transform': 'transform'
};

proto.ontransitionend = function( event ) {
  // disregard bubbled events from children
  if ( event.target !== this.element ) {
    return;
  }
  var _transition = this._transn;
  // get property name of transitioned property, convert to prefix-free
  var propertyName = dashedVendorProperties[ event.propertyName ] || event.propertyName;

  // remove property that has completed transitioning
  delete _transition.ingProperties[ propertyName ];
  // check if any properties are still transitioning
  if ( isEmptyObj( _transition.ingProperties ) ) {
    // all properties have completed transitioning
    this.disableTransition();
  }
  // clean style
  if ( propertyName in _transition.clean ) {
    // clean up style
    this.element.style[ event.propertyName ] = '';
    delete _transition.clean[ propertyName ];
  }
  // trigger onTransitionEnd callback
  if ( propertyName in _transition.onEnd ) {
    var onTransitionEnd = _transition.onEnd[ propertyName ];
    onTransitionEnd.call( this );
    delete _transition.onEnd[ propertyName ];
  }

  this.emitEvent( 'transitionEnd', [ this ] );
};

proto.disableTransition = function() {
  this.removeTransitionStyles();
  this.element.removeEventListener( transitionEndEvent, this, false );
  this.isTransitioning = false;
};

/**
 * removes style property from element
 * @param {Object} style
**/
proto._removeStyles = function( style ) {
  // clean up transition styles
  var cleanStyle = {};
  for ( var prop in style ) {
    cleanStyle[ prop ] = '';
  }
  this.css( cleanStyle );
};

var cleanTransitionStyle = {
  transitionProperty: '',
  transitionDuration: '',
  transitionDelay: ''
};

proto.removeTransitionStyles = function() {
  // remove transition
  this.css( cleanTransitionStyle );
};

// ----- stagger ----- //

proto.stagger = function( delay ) {
  delay = isNaN( delay ) ? 0 : delay;
  this.staggerDelay = delay + 'ms';
};

// ----- show/hide/remove ----- //

// remove element from DOM
proto.removeElem = function() {
  this.element.parentNode.removeChild( this.element );
  // remove display: none
  this.css({ display: '' });
  this.emitEvent( 'remove', [ this ] );
};

proto.remove = function() {
  // just remove element if no transition support or no transition
  if ( !transitionProperty || !parseFloat( this.layout.options.transitionDuration ) ) {
    this.removeElem();
    return;
  }

  // start transition
  this.once( 'transitionEnd', function() {
    this.removeElem();
  });
  this.hide();
};

proto.reveal = function() {
  delete this.isHidden;
  // remove display: none
  this.css({ display: '' });

  var options = this.layout.options;

  var onTransitionEnd = {};
  var transitionEndProperty = this.getHideRevealTransitionEndProperty('visibleStyle');
  onTransitionEnd[ transitionEndProperty ] = this.onRevealTransitionEnd;

  this.transition({
    from: options.hiddenStyle,
    to: options.visibleStyle,
    isCleaning: true,
    onTransitionEnd: onTransitionEnd
  });
};

proto.onRevealTransitionEnd = function() {
  // check if still visible
  // during transition, item may have been hidden
  if ( !this.isHidden ) {
    this.emitEvent('reveal');
  }
};

/**
 * get style property use for hide/reveal transition end
 * @param {String} styleProperty - hiddenStyle/visibleStyle
 * @returns {String}
 */
proto.getHideRevealTransitionEndProperty = function( styleProperty ) {
  var optionStyle = this.layout.options[ styleProperty ];
  // use opacity
  if ( optionStyle.opacity ) {
    return 'opacity';
  }
  // get first property
  for ( var prop in optionStyle ) {
    return prop;
  }
};

proto.hide = function() {
  // set flag
  this.isHidden = true;
  // remove display: none
  this.css({ display: '' });

  var options = this.layout.options;

  var onTransitionEnd = {};
  var transitionEndProperty = this.getHideRevealTransitionEndProperty('hiddenStyle');
  onTransitionEnd[ transitionEndProperty ] = this.onHideTransitionEnd;

  this.transition({
    from: options.visibleStyle,
    to: options.hiddenStyle,
    // keep hidden stuff hidden
    isCleaning: true,
    onTransitionEnd: onTransitionEnd
  });
};

proto.onHideTransitionEnd = function() {
  // check if still hidden
  // during transition, item may have been un-hidden
  if ( this.isHidden ) {
    this.css({ display: 'none' });
    this.emitEvent('hide');
  }
};

proto.destroy = function() {
  this.css({
    position: '',
    left: '',
    right: '',
    top: '',
    bottom: '',
    transition: '',
    transform: ''
  });
};

return Item;

}));


/***/ }),
/* 513 */
/***/ ((module, exports, __webpack_require__) => {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * Packery v2.1.2
 * Gapless, draggable grid layouts
 *
 * Licensed GPLv3 for open source use
 * or Packery Commercial License for commercial use
 *
 * http://packery.metafizzy.co
 * Copyright 2013-2018 Metafizzy
 */

( function( window, factory ) {
  // universal module definition
  /* jshint strict: false */ /* globals define, module, require */
  if ( true ) {
    // AMD
    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [
        __webpack_require__(509),
        __webpack_require__(507),
        __webpack_require__(504),
        __webpack_require__(505),
        __webpack_require__(506)
      ], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
		__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
		(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
  } else // removed by dead control flow
{}

}( window, function factory( getSize, Outlayer, Rect, Packer, Item ) {
'use strict';

// ----- Rect ----- //

// allow for pixel rounding errors IE8-IE11 & Firefox; #227
Rect.prototype.canFit = function( rect ) {
  return this.width >= rect.width - 1 && this.height >= rect.height - 1;
};

// -------------------------- Packery -------------------------- //

// create an Outlayer layout class
var Packery = Outlayer.create('packery');
Packery.Item = Item;

var proto = Packery.prototype;

proto._create = function() {
  // call super
  Outlayer.prototype._create.call( this );

  // initial properties
  this.packer = new Packer();
  // packer for drop targets
  this.shiftPacker = new Packer();
  this.isEnabled = true;

  this.dragItemCount = 0;

  // create drag handlers
  var _this = this;
  this.handleDraggabilly = {
    dragStart: function() {
      _this.itemDragStart( this.element );
    },
    dragMove: function() {
      _this.itemDragMove( this.element, this.position.x, this.position.y );
    },
    dragEnd: function() {
      _this.itemDragEnd( this.element );
    }
  };

  this.handleUIDraggable = {
    start: function handleUIDraggableStart( event, ui ) {
      // HTML5 may trigger dragstart, dismiss HTML5 dragging
      if ( !ui ) {
        return;
      }
      _this.itemDragStart( event.currentTarget );
    },
    drag: function handleUIDraggableDrag( event, ui ) {
      if ( !ui ) {
        return;
      }
      _this.itemDragMove( event.currentTarget, ui.position.left, ui.position.top );
    },
    stop: function handleUIDraggableStop( event, ui ) {
      if ( !ui ) {
        return;
      }
      _this.itemDragEnd( event.currentTarget );
    }
  };

};


// ----- init & layout ----- //

/**
 * logic before any new layout
 */
proto._resetLayout = function() {
  this.getSize();

  this._getMeasurements();

  // reset packer
  var width, height, sortDirection;
  // packer settings, if horizontal or vertical
  if ( this._getOption('horizontal') ) {
    width = Infinity;
    height = this.size.innerHeight + this.gutter;
    sortDirection = 'rightwardTopToBottom';
  } else {
    width = this.size.innerWidth + this.gutter;
    height = Infinity;
    sortDirection = 'downwardLeftToRight';
  }

  this.packer.width = this.shiftPacker.width = width;
  this.packer.height = this.shiftPacker.height = height;
  this.packer.sortDirection = this.shiftPacker.sortDirection = sortDirection;

  this.packer.reset();

  // layout
  this.maxY = 0;
  this.maxX = 0;
};

/**
 * update columnWidth, rowHeight, & gutter
 * @private
 */
proto._getMeasurements = function() {
  this._getMeasurement( 'columnWidth', 'width' );
  this._getMeasurement( 'rowHeight', 'height' );
  this._getMeasurement( 'gutter', 'width' );
};

proto._getItemLayoutPosition = function( item ) {
  this._setRectSize( item.element, item.rect );
  if ( this.isShifting || this.dragItemCount > 0 ) {
    var packMethod = this._getPackMethod();
    this.packer[ packMethod ]( item.rect );
  } else {
    this.packer.pack( item.rect );
  }

  this._setMaxXY( item.rect );
  return item.rect;
};

proto.shiftLayout = function() {
  this.isShifting = true;
  this.layout();
  delete this.isShifting;
};

proto._getPackMethod = function() {
  return this._getOption('horizontal') ? 'rowPack' : 'columnPack';
};


/**
 * set max X and Y value, for size of container
 * @param {Packery.Rect} rect
 * @private
 */
proto._setMaxXY = function( rect ) {
  this.maxX = Math.max( rect.x + rect.width, this.maxX );
  this.maxY = Math.max( rect.y + rect.height, this.maxY );
};

/**
 * set the width and height of a rect, applying columnWidth and rowHeight
 * @param {Element} elem
 * @param {Packery.Rect} rect
 */
proto._setRectSize = function( elem, rect ) {
  var size = getSize( elem );
  var w = size.outerWidth;
  var h = size.outerHeight;
  // size for columnWidth and rowHeight, if available
  // only check if size is non-zero, #177
  if ( w || h ) {
    w = this._applyGridGutter( w, this.columnWidth );
    h = this._applyGridGutter( h, this.rowHeight );
  }
  // rect must fit in packer
  rect.width = Math.min( w, this.packer.width );
  rect.height = Math.min( h, this.packer.height );
};

/**
 * fits item to columnWidth/rowHeight and adds gutter
 * @param {Number} measurement - item width or height
 * @param {Number} gridSize - columnWidth or rowHeight
 * @returns measurement
 */
proto._applyGridGutter = function( measurement, gridSize ) {
  // just add gutter if no gridSize
  if ( !gridSize ) {
    return measurement + this.gutter;
  }
  gridSize += this.gutter;
  // fit item to columnWidth/rowHeight
  var remainder = measurement % gridSize;
  var mathMethod = remainder && remainder < 1 ? 'round' : 'ceil';
  measurement = Math[ mathMethod ]( measurement / gridSize ) * gridSize;
  return measurement;
};

proto._getContainerSize = function() {
  if ( this._getOption('horizontal') ) {
    return {
      width: this.maxX - this.gutter
    };
  } else {
    return {
      height: this.maxY - this.gutter
    };
  }
};


// -------------------------- stamp -------------------------- //

/**
 * makes space for element
 * @param {Element} elem
 */
proto._manageStamp = function( elem ) {

  var item = this.getItem( elem );
  var rect;
  if ( item && item.isPlacing ) {
    rect = item.rect;
  } else {
    var offset = this._getElementOffset( elem );
    rect = new Rect({
      x: this._getOption('originLeft') ? offset.left : offset.right,
      y: this._getOption('originTop') ? offset.top : offset.bottom
    });
  }

  this._setRectSize( elem, rect );
  // save its space in the packer
  this.packer.placed( rect );
  this._setMaxXY( rect );
};

// -------------------------- methods -------------------------- //

function verticalSorter( a, b ) {
  return a.position.y - b.position.y || a.position.x - b.position.x;
}

function horizontalSorter( a, b ) {
  return a.position.x - b.position.x || a.position.y - b.position.y;
}

proto.sortItemsByPosition = function() {
  var sorter = this._getOption('horizontal') ? horizontalSorter : verticalSorter;
  this.items.sort( sorter );
};

/**
 * Fit item element in its current position
 * Packery will position elements around it
 * useful for expanding elements
 *
 * @param {Element} elem
 * @param {Number} x - horizontal destination position, optional
 * @param {Number} y - vertical destination position, optional
 */
proto.fit = function( elem, x, y ) {
  var item = this.getItem( elem );
  if ( !item ) {
    return;
  }

  // stamp item to get it out of layout
  this.stamp( item.element );
  // set placing flag
  item.enablePlacing();
  this.updateShiftTargets( item );
  // fall back to current position for fitting
  x = x === undefined ? item.rect.x: x;
  y = y === undefined ? item.rect.y: y;
  // position it best at its destination
  this.shift( item, x, y );
  this._bindFitEvents( item );
  item.moveTo( item.rect.x, item.rect.y );
  // layout everything else
  this.shiftLayout();
  // return back to regularly scheduled programming
  this.unstamp( item.element );
  this.sortItemsByPosition();
  item.disablePlacing();
};

/**
 * emit event when item is fit and other items are laid out
 * @param {Packery.Item} item
 * @private
 */
proto._bindFitEvents = function( item ) {
  var _this = this;
  var ticks = 0;
  function onLayout() {
    ticks++;
    if ( ticks != 2 ) {
      return;
    }
    _this.dispatchEvent( 'fitComplete', null, [ item ] );
  }
  // when item is laid out
  item.once( 'layout', onLayout );
  // when all items are laid out
  this.once( 'layoutComplete', onLayout );
};

// -------------------------- resize -------------------------- //

// debounced, layout on resize
proto.resize = function() {
  // don't trigger if size did not change
  // or if resize was unbound. See #285, outlayer#9
  if ( !this.isResizeBound || !this.needsResizeLayout() ) {
    return;
  }

  if ( this.options.shiftPercentResize ) {
    this.resizeShiftPercentLayout();
  } else {
    this.layout();
  }
};

/**
 * check if layout is needed post layout
 * @returns Boolean
 */
proto.needsResizeLayout = function() {
  var size = getSize( this.element );
  var innerSize = this._getOption('horizontal') ? 'innerHeight' : 'innerWidth';
  return size[ innerSize ] != this.size[ innerSize ];
};

proto.resizeShiftPercentLayout = function() {
  var items = this._getItemsForLayout( this.items );

  var isHorizontal = this._getOption('horizontal');
  var coord = isHorizontal ? 'y' : 'x';
  var measure = isHorizontal ? 'height' : 'width';
  var segmentName = isHorizontal ? 'rowHeight' : 'columnWidth';
  var innerSize = isHorizontal ? 'innerHeight' : 'innerWidth';

  // proportional re-align items
  var previousSegment = this[ segmentName ];
  previousSegment = previousSegment && previousSegment + this.gutter;

  if ( previousSegment ) {
    this._getMeasurements();
    var currentSegment = this[ segmentName ] + this.gutter;
    items.forEach( function( item ) {
      var seg = Math.round( item.rect[ coord ] / previousSegment );
      item.rect[ coord ] = seg * currentSegment;
    });
  } else {
    var currentSize = getSize( this.element )[ innerSize ] + this.gutter;
    var previousSize = this.packer[ measure ];
    items.forEach( function( item ) {
      item.rect[ coord ] = ( item.rect[ coord ] / previousSize ) * currentSize;
    });
  }

  this.shiftLayout();
};

// -------------------------- drag -------------------------- //

/**
 * handle an item drag start event
 * @param {Element} elem
 */
proto.itemDragStart = function( elem ) {
  if ( !this.isEnabled ) {
    return;
  }
  this.stamp( elem );
  // this.ignore( elem );
  var item = this.getItem( elem );
  if ( !item ) {
    return;
  }

  item.enablePlacing();
  item.showDropPlaceholder();
  this.dragItemCount++;
  this.updateShiftTargets( item );
};

proto.updateShiftTargets = function( dropItem ) {
  this.shiftPacker.reset();

  // pack stamps
  this._getBoundingRect();
  var isOriginLeft = this._getOption('originLeft');
  var isOriginTop = this._getOption('originTop');
  this.stamps.forEach( function( stamp ) {
    // ignore dragged item
    var item = this.getItem( stamp );
    if ( item && item.isPlacing ) {
      return;
    }
    var offset = this._getElementOffset( stamp );
    var rect = new Rect({
      x: isOriginLeft ? offset.left : offset.right,
      y: isOriginTop ? offset.top : offset.bottom
    });
    this._setRectSize( stamp, rect );
    // save its space in the packer
    this.shiftPacker.placed( rect );
  }, this );

  // reset shiftTargets
  var isHorizontal = this._getOption('horizontal');
  var segmentName = isHorizontal ? 'rowHeight' : 'columnWidth';
  var measure = isHorizontal ? 'height' : 'width';

  this.shiftTargetKeys = [];
  this.shiftTargets = [];
  var boundsSize;
  var segment = this[ segmentName ];
  segment = segment && segment + this.gutter;

  if ( segment ) {
    var segmentSpan = Math.ceil( dropItem.rect[ measure ] / segment );
    var segs = Math.floor( ( this.shiftPacker[ measure ] + this.gutter ) / segment );
    boundsSize = ( segs - segmentSpan ) * segment;
    // add targets on top
    for ( var i=0; i < segs; i++ ) {
      var initialX = isHorizontal ? 0 : i * segment;
      var initialY = isHorizontal ? i * segment : 0;
      this._addShiftTarget( initialX, initialY, boundsSize );
    }
  } else {
    boundsSize = ( this.shiftPacker[ measure ] + this.gutter ) - dropItem.rect[ measure ];
    this._addShiftTarget( 0, 0, boundsSize );
  }

  // pack each item to measure where shiftTargets are
  var items = this._getItemsForLayout( this.items );
  var packMethod = this._getPackMethod();
  items.forEach( function( item ) {
    var rect = item.rect;
    this._setRectSize( item.element, rect );
    this.shiftPacker[ packMethod ]( rect );

    // add top left corner
    this._addShiftTarget( rect.x, rect.y, boundsSize );
    // add bottom left / top right corner
    var cornerX = isHorizontal ? rect.x + rect.width : rect.x;
    var cornerY = isHorizontal ? rect.y : rect.y + rect.height;
    this._addShiftTarget( cornerX, cornerY, boundsSize );

    if ( segment ) {
      // add targets for each column on bottom / row on right
      var segSpan = Math.round( rect[ measure ] / segment );
      for ( var i=1; i < segSpan; i++ ) {
        var segX = isHorizontal ? cornerX : rect.x + segment * i;
        var segY = isHorizontal ? rect.y + segment * i : cornerY;
        this._addShiftTarget( segX, segY, boundsSize );
      }
    }
  }, this );

};

proto._addShiftTarget = function( x, y, boundsSize ) {
  var checkCoord = this._getOption('horizontal') ? y : x;
  if ( checkCoord !== 0 && checkCoord > boundsSize ) {
    return;
  }
  // create string for a key, easier to keep track of what targets
  var key = x + ',' + y;
  var hasKey = this.shiftTargetKeys.indexOf( key ) != -1;
  if ( hasKey ) {
    return;
  }
  this.shiftTargetKeys.push( key );
  this.shiftTargets.push({ x: x, y: y });
};

// -------------------------- drop -------------------------- //

proto.shift = function( item, x, y ) {
  var shiftPosition;
  var minDistance = Infinity;
  var position = { x: x, y: y };
  this.shiftTargets.forEach( function( target ) {
    var distance = getDistance( target, position );
    if ( distance < minDistance ) {
      shiftPosition = target;
      minDistance = distance;
    }
  });
  item.rect.x = shiftPosition.x;
  item.rect.y = shiftPosition.y;
};

function getDistance( a, b ) {
  var dx = b.x - a.x;
  var dy = b.y - a.y;
  return Math.sqrt( dx * dx + dy * dy );
}

// -------------------------- drag move -------------------------- //

var DRAG_THROTTLE_TIME = 120;

/**
 * handle an item drag move event
 * @param {Element} elem
 * @param {Number} x - horizontal change in position
 * @param {Number} y - vertical change in position
 */
proto.itemDragMove = function( elem, x, y ) {
  var item = this.isEnabled && this.getItem( elem );
  if ( !item ) {
    return;
  }

  x -= this.size.paddingLeft;
  y -= this.size.paddingTop;

  var _this = this;
  function onDrag() {
    _this.shift( item, x, y );
    item.positionDropPlaceholder();
    _this.layout();
  }

  // throttle
  var now = new Date();
  var isThrottled = this._itemDragTime && now - this._itemDragTime < DRAG_THROTTLE_TIME;
  if ( isThrottled ) {
    clearTimeout( this.dragTimeout );
    this.dragTimeout = setTimeout( onDrag, DRAG_THROTTLE_TIME );
  } else {
    onDrag();
    this._itemDragTime = now;
  }
};

// -------------------------- drag end -------------------------- //

/**
 * handle an item drag end event
 * @param {Element} elem
 */
proto.itemDragEnd = function( elem ) {
  var item = this.isEnabled && this.getItem( elem );
  if ( !item ) {
    return;
  }

  clearTimeout( this.dragTimeout );
  item.element.classList.add('is-positioning-post-drag');

  var completeCount = 0;
  var _this = this;
  function onDragEndLayoutComplete() {
    completeCount++;
    if ( completeCount != 2 ) {
      return;
    }
    // reset drag item
    item.element.classList.remove('is-positioning-post-drag');
    item.hideDropPlaceholder();
    _this.dispatchEvent( 'dragItemPositioned', null, [ item ] );
  }

  item.once( 'layout', onDragEndLayoutComplete );
  this.once( 'layoutComplete', onDragEndLayoutComplete );
  item.moveTo( item.rect.x, item.rect.y );
  this.layout();
  this.dragItemCount = Math.max( 0, this.dragItemCount - 1 );
  this.sortItemsByPosition();
  item.disablePlacing();
  this.unstamp( item.element );
};

/**
 * binds Draggabilly events
 * @param {Draggabilly} draggie
 */
proto.bindDraggabillyEvents = function( draggie ) {
  this._bindDraggabillyEvents( draggie, 'on' );
};

proto.unbindDraggabillyEvents = function( draggie ) {
  this._bindDraggabillyEvents( draggie, 'off' );
};

proto._bindDraggabillyEvents = function( draggie, method ) {
  var handlers = this.handleDraggabilly;
  draggie[ method ]( 'dragStart', handlers.dragStart );
  draggie[ method ]( 'dragMove', handlers.dragMove );
  draggie[ method ]( 'dragEnd', handlers.dragEnd );
};

/**
 * binds jQuery UI Draggable events
 * @param {jQuery} $elems
 */
proto.bindUIDraggableEvents = function( $elems ) {
  this._bindUIDraggableEvents( $elems, 'on' );
};

proto.unbindUIDraggableEvents = function( $elems ) {
  this._bindUIDraggableEvents( $elems, 'off' );
};

proto._bindUIDraggableEvents = function( $elems, method ) {
  var handlers = this.handleUIDraggable;
  $elems
    [ method ]( 'dragstart', handlers.start )
    [ method ]( 'drag', handlers.drag )
    [ method ]( 'dragstop', handlers.stop );
};

// ----- destroy ----- //

var _destroy = proto.destroy;
proto.destroy = function() {
  _destroy.apply( this, arguments );
  // disable flag; prevent drag events from triggering. #72
  this.isEnabled = false;
};

// -----  ----- //

Packery.Rect = Rect;
Packery.Packer = Packer;

return Packery;

}));


/***/ }),
/* 514 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var draggabilly = __webpack_require__(515)

module.exports = angular.module('stf.angular-draggabilly', [

])
  .factory('DraggabillyService', function() {
    return draggabilly
  })
  .directive('angularDraggabilly', __webpack_require__(519))


/***/ }),
/* 515 */
/***/ ((module, exports, __webpack_require__) => {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * Draggabilly v2.0.1
 * Make that shiz draggable
 * http://draggabilly.desandro.com
 * MIT license
 */

( function( window, factory ) {
  'use strict';

  if ( true ) {
    // AMD
    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [
        __webpack_require__(509),
        __webpack_require__(516)
      ], __WEBPACK_AMD_DEFINE_RESULT__ = (function( getSize, Unidragger ) {
        return factory( window, getSize, Unidragger );
      }).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
  } else // removed by dead control flow
{}

}( window, function factory( window, getSize, Unidragger ) {

'use strict';

// vars
var document = window.document;

function noop() {}

// -------------------------- helpers -------------------------- //

// extend objects
function extend( a, b ) {
  for ( var prop in b ) {
    a[ prop ] = b[ prop ];
  }
  return a;
}

function isElement( obj ) {
  return obj instanceof HTMLElement;
}

// -------------------------- requestAnimationFrame -------------------------- //

// https://gist.github.com/1866474

// get rAF and cAF, prefixed, if present
var requestAnimationFrame = window.requestAnimationFrame ||
  window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame;

var lastTime = 0;
// fallback to setTimeout and clearTimeout if either request/cancel is not supported
if ( !requestAnimationFrame )  {
  requestAnimationFrame = function( callback ) {
    var currTime = new Date().getTime();
    var timeToCall = Math.max( 0, 16 - ( currTime - lastTime ) );
    var id = setTimeout( function() {
      callback( currTime + timeToCall );
    }, timeToCall );
    lastTime = currTime + timeToCall;
    return id;
  };
}

// -------------------------- support -------------------------- //

var transformProperty = ( function () {
  var style = document.documentElement.style;
  if ( typeof style.transform == 'string' ) {
    return 'transform';
  }
  return 'WebkitTransform';
})();

var jQuery = window.jQuery;

// --------------------------  -------------------------- //

function Draggabilly( element, options ) {
  // querySelector if string
  this.element = typeof element == 'string' ?
    document.querySelector( element ) : element;

  if ( jQuery ) {
    this.$element = jQuery( this.element );
  }

  // options
  this.options = extend( {}, this.constructor.defaults );
  this.option( options );

  this._create();
}

// inherit Unidragger methods
var proto = Draggabilly.prototype = Object.create( Unidragger.prototype );

Draggabilly.defaults = {
};

/**
 * set options
 * @param {Object} opts
 */
proto.option = function( opts ) {
  extend( this.options, opts );
};

proto._create = function() {

  // properties
  this.position = {};
  this._getPosition();

  this.startPoint = { x: 0, y: 0 };
  this.dragPoint = { x: 0, y: 0 };

  this.startPosition = extend( {}, this.position );

  // set relative positioning
  var style = getComputedStyle( this.element );
  if ( style.position != 'relative' && style.position != 'absolute' ) {
    this.element.style.position = 'relative';
  }

  this.enable();
  this.setHandles();

};

/**
 * set this.handles and bind start events to 'em
 */
proto.setHandles = function() {
  this.handles = this.options.handle ?
    this.element.querySelectorAll( this.options.handle ) : [ this.element ];

  this.bindHandles();
};

/**
 * emits events via eventEmitter and jQuery events
 * @param {String} type - name of event
 * @param {Event} event - original event
 * @param {Array} args - extra arguments
 */
proto.dispatchEvent = function( type, event, args ) {
  var emitArgs = [ event ].concat( args );
  this.emitEvent( type, emitArgs );
  var jQuery = window.jQuery;
  // trigger jQuery event
  if ( jQuery && this.$element ) {
    if ( event ) {
      // create jQuery event
      var $event = jQuery.Event( event );
      $event.type = type;
      this.$element.trigger( $event, args );
    } else {
      // just trigger with type if no event available
      this.$element.trigger( type, args );
    }
  }
};

// -------------------------- position -------------------------- //

// get left/top position from style
proto._getPosition = function() {
  // properties
  var style = getComputedStyle( this.element );

  var x = parseInt( style.left, 10 );
  var y = parseInt( style.top, 10 );

  // clean up 'auto' or other non-integer values
  this.position.x = isNaN( x ) ? 0 : x;
  this.position.y = isNaN( y ) ? 0 : y;

  this._addTransformPosition( style );
};

// add transform: translate( x, y ) to position
proto._addTransformPosition = function( style ) {
  var transform = style[ transformProperty ];
  // bail out if value is 'none'
  if ( transform.indexOf('matrix') !== 0 ) {
    return;
  }
  // split matrix(1, 0, 0, 1, x, y)
  var matrixValues = transform.split(',');
  // translate X value is in 12th or 4th position
  var xIndex = transform.indexOf('matrix3d') === 0 ? 12 : 4;
  var translateX = parseInt( matrixValues[ xIndex ], 10 );
  // translate Y value is in 13th or 5th position
  var translateY = parseInt( matrixValues[ xIndex + 1 ], 10 );
  this.position.x += translateX;
  this.position.y += translateY;
};

// -------------------------- events -------------------------- //

/**
 * pointer start
 * @param {Event} event
 * @param {Event or Touch} pointer
 */
proto.pointerDown = function( event, pointer ) {
  this._dragPointerDown( event, pointer );
  // kludge to blur focused inputs in dragger
  var focused = document.activeElement;
  // do not blur body for IE10, metafizzy/flickity#117
  if ( focused && focused.blur && focused != document.body ) {
    focused.blur();
  }
  // bind move and end events
  this._bindPostStartEvents( event );
  this.element.classList.add('is-pointer-down');
  this.dispatchEvent( 'pointerDown', event, [ pointer ] );
};

/**
 * drag move
 * @param {Event} event
 * @param {Event or Touch} pointer
 */
proto.pointerMove = function( event, pointer ) {
  var moveVector = this._dragPointerMove( event, pointer );
  this.dispatchEvent( 'pointerMove', event, [ pointer, moveVector ] );
  this._dragMove( event, pointer, moveVector );
};

/**
 * drag start
 * @param {Event} event
 * @param {Event or Touch} pointer
 */
proto.dragStart = function( event, pointer ) {
  if ( !this.isEnabled ) {
    return;
  }
  this._getPosition();
  this.measureContainment();
  // position _when_ drag began
  this.startPosition.x = this.position.x;
  this.startPosition.y = this.position.y;
  // reset left/top style
  this.setLeftTop();

  this.dragPoint.x = 0;
  this.dragPoint.y = 0;

  this.element.classList.add('is-dragging');
  this.dispatchEvent( 'dragStart', event, [ pointer ] );
  // start animation
  this.animate();
};

proto.measureContainment = function() {
  var containment = this.options.containment;
  if ( !containment ) {
    return;
  }

  // use element if element
  var container = isElement( containment ) ? containment :
    // fallback to querySelector if string
    typeof containment == 'string' ? document.querySelector( containment ) :
    // otherwise just `true`, use the parent
    this.element.parentNode;

  var elemSize = getSize( this.element );
  var containerSize = getSize( container );
  var elemRect = this.element.getBoundingClientRect();
  var containerRect = container.getBoundingClientRect();

  var borderSizeX = containerSize.borderLeftWidth + containerSize.borderRightWidth;
  var borderSizeY = containerSize.borderTopWidth + containerSize.borderBottomWidth;

  var position = this.relativeStartPosition = {
    x: elemRect.left - ( containerRect.left + containerSize.borderLeftWidth ),
    y: elemRect.top - ( containerRect.top + containerSize.borderTopWidth )
  };

  this.containSize = {
    width: ( containerSize.width - borderSizeX ) - position.x - elemSize.width,
    height: ( containerSize.height - borderSizeY ) - position.y - elemSize.height
  };
};

// ----- move event ----- //

/**
 * drag move
 * @param {Event} event
 * @param {Event or Touch} pointer
 */
proto.dragMove = function( event, pointer, moveVector ) {
  if ( !this.isEnabled ) {
    return;
  }
  var dragX = moveVector.x;
  var dragY = moveVector.y;

  var grid = this.options.grid;
  var gridX = grid && grid[0];
  var gridY = grid && grid[1];

  dragX = applyGrid( dragX, gridX );
  dragY = applyGrid( dragY, gridY );

  dragX = this.containDrag( 'x', dragX, gridX );
  dragY = this.containDrag( 'y', dragY, gridY );

  // constrain to axis
  dragX = this.options.axis == 'y' ? 0 : dragX;
  dragY = this.options.axis == 'x' ? 0 : dragY;

  this.position.x = this.startPosition.x + dragX;
  this.position.y = this.startPosition.y + dragY;
  // set dragPoint properties
  this.dragPoint.x = dragX;
  this.dragPoint.y = dragY;

  this.dispatchEvent( 'dragMove', event, [ pointer, moveVector ] );
};

function applyGrid( value, grid, method ) {
  method = method || 'round';
  return grid ? Math[ method ]( value / grid ) * grid : value;
}

proto.containDrag = function( axis, drag, grid ) {
  if ( !this.options.containment ) {
    return drag;
  }
  var measure = axis == 'x' ? 'width' : 'height';

  var rel = this.relativeStartPosition[ axis ];
  var min = applyGrid( -rel, grid, 'ceil' );
  var max = this.containSize[ measure ];
  max = applyGrid( max, grid, 'floor' );
  return  Math.min( max, Math.max( min, drag ) );
};

// ----- end event ----- //

/**
 * pointer up
 * @param {Event} event
 * @param {Event or Touch} pointer
 */
proto.pointerUp = function( event, pointer ) {
  this.element.classList.remove('is-pointer-down');
  this.dispatchEvent( 'pointerUp', event, [ pointer ] );
  this._dragPointerUp( event, pointer );
};

/**
 * drag end
 * @param {Event} event
 * @param {Event or Touch} pointer
 */
proto.dragEnd = function( event, pointer ) {
  if ( !this.isEnabled ) {
    return;
  }
  // use top left position when complete
  if ( transformProperty ) {
    this.element.style[ transformProperty ] = '';
    this.setLeftTop();
  }
  this.element.classList.remove('is-dragging');
  this.dispatchEvent( 'dragEnd', event, [ pointer ] );
};

// -------------------------- animation -------------------------- //

proto.animate = function() {
  // only render and animate if dragging
  if ( !this.isDragging ) {
    return;
  }

  this.positionDrag();

  var _this = this;
  requestAnimationFrame( function animateFrame() {
    _this.animate();
  });

};

// left/top positioning
proto.setLeftTop = function() {
  this.element.style.left = this.position.x + 'px';
  this.element.style.top  = this.position.y + 'px';
};

proto.positionDrag = function() {
  this.element.style[ transformProperty ] = 'translate3d( ' + this.dragPoint.x +
    'px, ' + this.dragPoint.y + 'px, 0)';
};

// ----- staticClick ----- //

proto.staticClick = function( event, pointer ) {
  this.dispatchEvent( 'staticClick', event, [ pointer ] );
};

// ----- methods ----- //

proto.enable = function() {
  this.isEnabled = true;
};

proto.disable = function() {
  this.isEnabled = false;
  if ( this.isDragging ) {
    this.dragEnd();
  }
};

proto.destroy = function() {
  this.disable();
  // reset styles
  this.element.style[ transformProperty ] = '';
  this.element.style.left = '';
  this.element.style.top = '';
  this.element.style.position = '';
  // unbind handles
  this.unbindHandles();
  // remove jQuery data
  if ( this.$element ) {
    this.$element.removeData('draggabilly');
  }
};

// ----- jQuery bridget ----- //

// required for jQuery bridget
proto._init = noop;

if ( jQuery && jQuery.bridget ) {
  jQuery.bridget( 'draggabilly', Draggabilly );
}

// -----  ----- //

return Draggabilly;

}));


/***/ }),
/* 516 */
/***/ ((module, exports, __webpack_require__) => {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * Unidragger v2.0.0
 * Draggable base class
 * MIT license
 */

/*jshint browser: true, unused: true, undef: true, strict: true */

( function( window, factory ) {
  /*global define: false, module: false, require: false */
  'use strict';
  // universal module definition

  if ( true ) {
    // AMD
    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [
      __webpack_require__(517)
    ], __WEBPACK_AMD_DEFINE_RESULT__ = (function( Unipointer ) {
      return factory( window, Unipointer );
    }).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
  } else // removed by dead control flow
{}

}( window, function factory( window, Unipointer ) {

'use strict';

// -----  ----- //

function noop() {}

// -------------------------- Unidragger -------------------------- //

function Unidragger() {}

// inherit Unipointer & EventEmitter
var proto = Unidragger.prototype = Object.create( Unipointer.prototype );

// ----- bind start ----- //

proto.bindHandles = function() {
  this._bindHandles( true );
};

proto.unbindHandles = function() {
  this._bindHandles( false );
};

var navigator = window.navigator;
/**
 * works as unbinder, as you can .bindHandles( false ) to unbind
 * @param {Boolean} isBind - will unbind if falsey
 */
proto._bindHandles = function( isBind ) {
  // munge isBind, default to true
  isBind = isBind === undefined ? true : !!isBind;
  // extra bind logic
  var binderExtra;
  if ( navigator.pointerEnabled ) {
    binderExtra = function( handle ) {
      // disable scrolling on the element
      handle.style.touchAction = isBind ? 'none' : '';
    };
  } else if ( navigator.msPointerEnabled ) {
    binderExtra = function( handle ) {
      // disable scrolling on the element
      handle.style.msTouchAction = isBind ? 'none' : '';
    };
  } else {
    binderExtra = noop;
  }
  // bind each handle
  var bindMethod = isBind ? 'addEventListener' : 'removeEventListener';
  for ( var i=0; i < this.handles.length; i++ ) {
    var handle = this.handles[i];
    this._bindStartEvent( handle, isBind );
    binderExtra( handle );
    handle[ bindMethod ]( 'click', this );
  }
};

// ----- start event ----- //

/**
 * pointer start
 * @param {Event} event
 * @param {Event or Touch} pointer
 */
proto.pointerDown = function( event, pointer ) {
  // dismiss range sliders
  if ( event.target.nodeName == 'INPUT' && event.target.type == 'range' ) {
    // reset pointerDown logic
    this.isPointerDown = false;
    delete this.pointerIdentifier;
    return;
  }

  this._dragPointerDown( event, pointer );
  // kludge to blur focused inputs in dragger
  var focused = document.activeElement;
  if ( focused && focused.blur ) {
    focused.blur();
  }
  // bind move and end events
  this._bindPostStartEvents( event );
  this.emitEvent( 'pointerDown', [ event, pointer ] );
};

// base pointer down logic
proto._dragPointerDown = function( event, pointer ) {
  // track to see when dragging starts
  this.pointerDownPoint = Unipointer.getPointerPoint( pointer );

  var canPreventDefault = this.canPreventDefaultOnPointerDown( event, pointer );
  if ( canPreventDefault ) {
    event.preventDefault();
  }
};

// overwriteable method so Flickity can prevent for scrolling
proto.canPreventDefaultOnPointerDown = function( event ) {
  // prevent default, unless touchstart or <select>
  return event.target.nodeName != 'SELECT';
};

// ----- move event ----- //

/**
 * drag move
 * @param {Event} event
 * @param {Event or Touch} pointer
 */
proto.pointerMove = function( event, pointer ) {
  var moveVector = this._dragPointerMove( event, pointer );
  this.emitEvent( 'pointerMove', [ event, pointer, moveVector ] );
  this._dragMove( event, pointer, moveVector );
};

// base pointer move logic
proto._dragPointerMove = function( event, pointer ) {
  var movePoint = Unipointer.getPointerPoint( pointer );
  var moveVector = {
    x: movePoint.x - this.pointerDownPoint.x,
    y: movePoint.y - this.pointerDownPoint.y
  };
  // start drag if pointer has moved far enough to start drag
  if ( !this.isDragging && this.hasDragStarted( moveVector ) ) {
    this._dragStart( event, pointer );
  }
  return moveVector;
};

// condition if pointer has moved far enough to start drag
proto.hasDragStarted = function( moveVector ) {
  return Math.abs( moveVector.x ) > 3 || Math.abs( moveVector.y ) > 3;
};


// ----- end event ----- //

/**
 * pointer up
 * @param {Event} event
 * @param {Event or Touch} pointer
 */
proto.pointerUp = function( event, pointer ) {
  this.emitEvent( 'pointerUp', [ event, pointer ] );
  this._dragPointerUp( event, pointer );
};

proto._dragPointerUp = function( event, pointer ) {
  if ( this.isDragging ) {
    this._dragEnd( event, pointer );
  } else {
    // pointer didn't move enough for drag to start
    this._staticClick( event, pointer );
  }
};

// -------------------------- drag -------------------------- //

// dragStart
proto._dragStart = function( event, pointer ) {
  this.isDragging = true;
  this.dragStartPoint = Unipointer.getPointerPoint( pointer );
  // prevent clicks
  this.isPreventingClicks = true;

  this.dragStart( event, pointer );
};

proto.dragStart = function( event, pointer ) {
  this.emitEvent( 'dragStart', [ event, pointer ] );
};

// dragMove
proto._dragMove = function( event, pointer, moveVector ) {
  // do not drag if not dragging yet
  if ( !this.isDragging ) {
    return;
  }

  this.dragMove( event, pointer, moveVector );
};

proto.dragMove = function( event, pointer, moveVector ) {
  event.preventDefault();
  this.emitEvent( 'dragMove', [ event, pointer, moveVector ] );
};

// dragEnd
proto._dragEnd = function( event, pointer ) {
  // set flags
  this.isDragging = false;
  // re-enable clicking async
  setTimeout( function() {
    delete this.isPreventingClicks;
  }.bind( this ) );

  this.dragEnd( event, pointer );
};

proto.dragEnd = function( event, pointer ) {
  this.emitEvent( 'dragEnd', [ event, pointer ] );
};

// ----- onclick ----- //

// handle all clicks and prevent clicks when dragging
proto.onclick = function( event ) {
  if ( this.isPreventingClicks ) {
    event.preventDefault();
  }
};

// ----- staticClick ----- //

// triggered after pointer down & up with no/tiny movement
proto._staticClick = function( event, pointer ) {
  // ignore emulated mouse up clicks
  if ( this.isIgnoringMouseUp && event.type == 'mouseup' ) {
    return;
  }

  // allow click in <input>s and <textarea>s
  var nodeName = event.target.nodeName;
  if ( nodeName == 'INPUT' || nodeName == 'TEXTAREA' ) {
    event.target.focus();
  }
  this.staticClick( event, pointer );

  // set flag for emulated clicks 300ms after touchend
  if ( event.type != 'mouseup' ) {
    this.isIgnoringMouseUp = true;
    // reset flag after 300ms
    setTimeout( function() {
      delete this.isIgnoringMouseUp;
    }.bind( this ), 400 );
  }
};

proto.staticClick = function( event, pointer ) {
  this.emitEvent( 'staticClick', [ event, pointer ] );
};

// ----- utils ----- //

Unidragger.getPointerPoint = Unipointer.getPointerPoint;

// -----  ----- //

return Unidragger;

}));


/***/ }),
/* 517 */
/***/ ((module, exports, __webpack_require__) => {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * Unipointer v2.0.0
 * base class for doing one thing with pointer event
 * MIT license
 */

/*jshint browser: true, undef: true, unused: true, strict: true */
/*global define: false, module: false, require: false */

( function( window, factory ) {
  'use strict';
  // universal module definition

  if ( true ) {
    // AMD
    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [
      __webpack_require__(518)
    ], __WEBPACK_AMD_DEFINE_RESULT__ = (function( EventEmitter ) {
      return factory( window, EventEmitter );
    }).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
  } else // removed by dead control flow
{}

}( window, function factory( window, EventEmitter ) {

'use strict';

function noop() {}

function Unipointer() {}

// inherit EventEmitter
var proto = Unipointer.prototype = Object.create( EventEmitter.prototype );

proto.bindStartEvent = function( elem ) {
  this._bindStartEvent( elem, true );
};

proto.unbindStartEvent = function( elem ) {
  this._bindStartEvent( elem, false );
};

/**
 * works as unbinder, as you can ._bindStart( false ) to unbind
 * @param {Boolean} isBind - will unbind if falsey
 */
proto._bindStartEvent = function( elem, isBind ) {
  // munge isBind, default to true
  isBind = isBind === undefined ? true : !!isBind;
  var bindMethod = isBind ? 'addEventListener' : 'removeEventListener';

  if ( window.navigator.pointerEnabled ) {
    // W3C Pointer Events, IE11. See https://coderwall.com/p/mfreca
    elem[ bindMethod ]( 'pointerdown', this );
  } else if ( window.navigator.msPointerEnabled ) {
    // IE10 Pointer Events
    elem[ bindMethod ]( 'MSPointerDown', this );
  } else {
    // listen for both, for devices like Chrome Pixel
    elem[ bindMethod ]( 'mousedown', this );
    elem[ bindMethod ]( 'touchstart', this );
  }
};

// trigger handler methods for events
proto.handleEvent = function( event ) {
  var method = 'on' + event.type;
  if ( this[ method ] ) {
    this[ method ]( event );
  }
};

// returns the touch that we're keeping track of
proto.getTouch = function( touches ) {
  for ( var i=0; i < touches.length; i++ ) {
    var touch = touches[i];
    if ( touch.identifier == this.pointerIdentifier ) {
      return touch;
    }
  }
};

// ----- start event ----- //

proto.onmousedown = function( event ) {
  // dismiss clicks from right or middle buttons
  var button = event.button;
  if ( button && ( button !== 0 && button !== 1 ) ) {
    return;
  }
  this._pointerDown( event, event );
};

proto.ontouchstart = function( event ) {
  this._pointerDown( event, event.changedTouches[0] );
};

proto.onMSPointerDown =
proto.onpointerdown = function( event ) {
  this._pointerDown( event, event );
};

/**
 * pointer start
 * @param {Event} event
 * @param {Event or Touch} pointer
 */
proto._pointerDown = function( event, pointer ) {
  // dismiss other pointers
  if ( this.isPointerDown ) {
    return;
  }

  this.isPointerDown = true;
  // save pointer identifier to match up touch events
  this.pointerIdentifier = pointer.pointerId !== undefined ?
    // pointerId for pointer events, touch.indentifier for touch events
    pointer.pointerId : pointer.identifier;

  this.pointerDown( event, pointer );
};

proto.pointerDown = function( event, pointer ) {
  this._bindPostStartEvents( event );
  this.emitEvent( 'pointerDown', [ event, pointer ] );
};

// hash of events to be bound after start event
var postStartEvents = {
  mousedown: [ 'mousemove', 'mouseup' ],
  touchstart: [ 'touchmove', 'touchend', 'touchcancel' ],
  pointerdown: [ 'pointermove', 'pointerup', 'pointercancel' ],
  MSPointerDown: [ 'MSPointerMove', 'MSPointerUp', 'MSPointerCancel' ]
};

proto._bindPostStartEvents = function( event ) {
  if ( !event ) {
    return;
  }
  // get proper events to match start event
  var events = postStartEvents[ event.type ];
  // bind events to node
  events.forEach( function( eventName ) {
    window.addEventListener( eventName, this );
  }, this );
  // save these arguments
  this._boundPointerEvents = events;
};

proto._unbindPostStartEvents = function() {
  // check for _boundEvents, in case dragEnd triggered twice (old IE8 bug)
  if ( !this._boundPointerEvents ) {
    return;
  }
  this._boundPointerEvents.forEach( function( eventName ) {
    window.removeEventListener( eventName, this );
  }, this );

  delete this._boundPointerEvents;
};

// ----- move event ----- //

proto.onmousemove = function( event ) {
  this._pointerMove( event, event );
};

proto.onMSPointerMove =
proto.onpointermove = function( event ) {
  if ( event.pointerId == this.pointerIdentifier ) {
    this._pointerMove( event, event );
  }
};

proto.ontouchmove = function( event ) {
  var touch = this.getTouch( event.changedTouches );
  if ( touch ) {
    this._pointerMove( event, touch );
  }
};

/**
 * pointer move
 * @param {Event} event
 * @param {Event or Touch} pointer
 * @private
 */
proto._pointerMove = function( event, pointer ) {
  this.pointerMove( event, pointer );
};

// public
proto.pointerMove = function( event, pointer ) {
  this.emitEvent( 'pointerMove', [ event, pointer ] );
};

// ----- end event ----- //


proto.onmouseup = function( event ) {
  this._pointerUp( event, event );
};

proto.onMSPointerUp =
proto.onpointerup = function( event ) {
  if ( event.pointerId == this.pointerIdentifier ) {
    this._pointerUp( event, event );
  }
};

proto.ontouchend = function( event ) {
  var touch = this.getTouch( event.changedTouches );
  if ( touch ) {
    this._pointerUp( event, touch );
  }
};

/**
 * pointer up
 * @param {Event} event
 * @param {Event or Touch} pointer
 * @private
 */
proto._pointerUp = function( event, pointer ) {
  this._pointerDone();
  this.pointerUp( event, pointer );
};

// public
proto.pointerUp = function( event, pointer ) {
  this.emitEvent( 'pointerUp', [ event, pointer ] );
};

// ----- pointer done ----- //

// triggered on pointer up & pointer cancel
proto._pointerDone = function() {
  // reset properties
  this.isPointerDown = false;
  delete this.pointerIdentifier;
  // remove events
  this._unbindPostStartEvents();
  this.pointerDone();
};

proto.pointerDone = noop;

// ----- pointer cancel ----- //

proto.onMSPointerCancel =
proto.onpointercancel = function( event ) {
  if ( event.pointerId == this.pointerIdentifier ) {
    this._pointerCancel( event, event );
  }
};

proto.ontouchcancel = function( event ) {
  var touch = this.getTouch( event.changedTouches );
  if ( touch ) {
    this._pointerCancel( event, touch );
  }
};

/**
 * pointer cancel
 * @param {Event} event
 * @param {Event or Touch} pointer
 * @private
 */
proto._pointerCancel = function( event, pointer ) {
  this._pointerDone();
  this.pointerCancel( event, pointer );
};

// public
proto.pointerCancel = function( event, pointer ) {
  this.emitEvent( 'pointerCancel', [ event, pointer ] );
};

// -----  ----- //

// utility function for getting x/y coords from event
Unipointer.getPointerPoint = function( pointer ) {
  return {
    x: pointer.pageX,
    y: pointer.pageY
  };
};

// -----  ----- //

return Unipointer;

}));


/***/ }),
/* 518 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * EventEmitter v4.2.11 - git.io/ee
 * Unlicense - http://unlicense.org/
 * Oliver Caldwell - http://oli.me.uk/
 * @preserve
 */

;(function () {
    'use strict';

    /**
     * Class for managing events.
     * Can be extended to provide event functionality in other classes.
     *
     * @class EventEmitter Manages event registering and emitting.
     */
    function EventEmitter() {}

    // Shortcuts to improve speed and size
    var proto = EventEmitter.prototype;
    var exports = this;
    var originalGlobalValue = exports.EventEmitter;

    /**
     * Finds the index of the listener for the event in its storage array.
     *
     * @param {Function[]} listeners Array of listeners to search through.
     * @param {Function} listener Method to look for.
     * @return {Number} Index of the specified listener, -1 if not found
     * @api private
     */
    function indexOfListener(listeners, listener) {
        var i = listeners.length;
        while (i--) {
            if (listeners[i].listener === listener) {
                return i;
            }
        }

        return -1;
    }

    /**
     * Alias a method while keeping the context correct, to allow for overwriting of target method.
     *
     * @param {String} name The name of the target method.
     * @return {Function} The aliased method
     * @api private
     */
    function alias(name) {
        return function aliasClosure() {
            return this[name].apply(this, arguments);
        };
    }

    /**
     * Returns the listener array for the specified event.
     * Will initialise the event object and listener arrays if required.
     * Will return an object if you use a regex search. The object contains keys for each matched event. So /ba[rz]/ might return an object containing bar and baz. But only if you have either defined them with defineEvent or added some listeners to them.
     * Each property in the object response is an array of listener functions.
     *
     * @param {String|RegExp} evt Name of the event to return the listeners from.
     * @return {Function[]|Object} All listener functions for the event.
     */
    proto.getListeners = function getListeners(evt) {
        var events = this._getEvents();
        var response;
        var key;

        // Return a concatenated array of all matching events if
        // the selector is a regular expression.
        if (evt instanceof RegExp) {
            response = {};
            for (key in events) {
                if (events.hasOwnProperty(key) && evt.test(key)) {
                    response[key] = events[key];
                }
            }
        }
        else {
            response = events[evt] || (events[evt] = []);
        }

        return response;
    };

    /**
     * Takes a list of listener objects and flattens it into a list of listener functions.
     *
     * @param {Object[]} listeners Raw listener objects.
     * @return {Function[]} Just the listener functions.
     */
    proto.flattenListeners = function flattenListeners(listeners) {
        var flatListeners = [];
        var i;

        for (i = 0; i < listeners.length; i += 1) {
            flatListeners.push(listeners[i].listener);
        }

        return flatListeners;
    };

    /**
     * Fetches the requested listeners via getListeners but will always return the results inside an object. This is mainly for internal use but others may find it useful.
     *
     * @param {String|RegExp} evt Name of the event to return the listeners from.
     * @return {Object} All listener functions for an event in an object.
     */
    proto.getListenersAsObject = function getListenersAsObject(evt) {
        var listeners = this.getListeners(evt);
        var response;

        if (listeners instanceof Array) {
            response = {};
            response[evt] = listeners;
        }

        return response || listeners;
    };

    /**
     * Adds a listener function to the specified event.
     * The listener will not be added if it is a duplicate.
     * If the listener returns true then it will be removed after it is called.
     * If you pass a regular expression as the event name then the listener will be added to all events that match it.
     *
     * @param {String|RegExp} evt Name of the event to attach the listener to.
     * @param {Function} listener Method to be called when the event is emitted. If the function returns true then it will be removed after calling.
     * @return {Object} Current instance of EventEmitter for chaining.
     */
    proto.addListener = function addListener(evt, listener) {
        var listeners = this.getListenersAsObject(evt);
        var listenerIsWrapped = typeof listener === 'object';
        var key;

        for (key in listeners) {
            if (listeners.hasOwnProperty(key) && indexOfListener(listeners[key], listener) === -1) {
                listeners[key].push(listenerIsWrapped ? listener : {
                    listener: listener,
                    once: false
                });
            }
        }

        return this;
    };

    /**
     * Alias of addListener
     */
    proto.on = alias('addListener');

    /**
     * Semi-alias of addListener. It will add a listener that will be
     * automatically removed after its first execution.
     *
     * @param {String|RegExp} evt Name of the event to attach the listener to.
     * @param {Function} listener Method to be called when the event is emitted. If the function returns true then it will be removed after calling.
     * @return {Object} Current instance of EventEmitter for chaining.
     */
    proto.addOnceListener = function addOnceListener(evt, listener) {
        return this.addListener(evt, {
            listener: listener,
            once: true
        });
    };

    /**
     * Alias of addOnceListener.
     */
    proto.once = alias('addOnceListener');

    /**
     * Defines an event name. This is required if you want to use a regex to add a listener to multiple events at once. If you don't do this then how do you expect it to know what event to add to? Should it just add to every possible match for a regex? No. That is scary and bad.
     * You need to tell it what event names should be matched by a regex.
     *
     * @param {String} evt Name of the event to create.
     * @return {Object} Current instance of EventEmitter for chaining.
     */
    proto.defineEvent = function defineEvent(evt) {
        this.getListeners(evt);
        return this;
    };

    /**
     * Uses defineEvent to define multiple events.
     *
     * @param {String[]} evts An array of event names to define.
     * @return {Object} Current instance of EventEmitter for chaining.
     */
    proto.defineEvents = function defineEvents(evts) {
        for (var i = 0; i < evts.length; i += 1) {
            this.defineEvent(evts[i]);
        }
        return this;
    };

    /**
     * Removes a listener function from the specified event.
     * When passed a regular expression as the event name, it will remove the listener from all events that match it.
     *
     * @param {String|RegExp} evt Name of the event to remove the listener from.
     * @param {Function} listener Method to remove from the event.
     * @return {Object} Current instance of EventEmitter for chaining.
     */
    proto.removeListener = function removeListener(evt, listener) {
        var listeners = this.getListenersAsObject(evt);
        var index;
        var key;

        for (key in listeners) {
            if (listeners.hasOwnProperty(key)) {
                index = indexOfListener(listeners[key], listener);

                if (index !== -1) {
                    listeners[key].splice(index, 1);
                }
            }
        }

        return this;
    };

    /**
     * Alias of removeListener
     */
    proto.off = alias('removeListener');

    /**
     * Adds listeners in bulk using the manipulateListeners method.
     * If you pass an object as the second argument you can add to multiple events at once. The object should contain key value pairs of events and listeners or listener arrays. You can also pass it an event name and an array of listeners to be added.
     * You can also pass it a regular expression to add the array of listeners to all events that match it.
     * Yeah, this function does quite a bit. That's probably a bad thing.
     *
     * @param {String|Object|RegExp} evt An event name if you will pass an array of listeners next. An object if you wish to add to multiple events at once.
     * @param {Function[]} [listeners] An optional array of listener functions to add.
     * @return {Object} Current instance of EventEmitter for chaining.
     */
    proto.addListeners = function addListeners(evt, listeners) {
        // Pass through to manipulateListeners
        return this.manipulateListeners(false, evt, listeners);
    };

    /**
     * Removes listeners in bulk using the manipulateListeners method.
     * If you pass an object as the second argument you can remove from multiple events at once. The object should contain key value pairs of events and listeners or listener arrays.
     * You can also pass it an event name and an array of listeners to be removed.
     * You can also pass it a regular expression to remove the listeners from all events that match it.
     *
     * @param {String|Object|RegExp} evt An event name if you will pass an array of listeners next. An object if you wish to remove from multiple events at once.
     * @param {Function[]} [listeners] An optional array of listener functions to remove.
     * @return {Object} Current instance of EventEmitter for chaining.
     */
    proto.removeListeners = function removeListeners(evt, listeners) {
        // Pass through to manipulateListeners
        return this.manipulateListeners(true, evt, listeners);
    };

    /**
     * Edits listeners in bulk. The addListeners and removeListeners methods both use this to do their job. You should really use those instead, this is a little lower level.
     * The first argument will determine if the listeners are removed (true) or added (false).
     * If you pass an object as the second argument you can add/remove from multiple events at once. The object should contain key value pairs of events and listeners or listener arrays.
     * You can also pass it an event name and an array of listeners to be added/removed.
     * You can also pass it a regular expression to manipulate the listeners of all events that match it.
     *
     * @param {Boolean} remove True if you want to remove listeners, false if you want to add.
     * @param {String|Object|RegExp} evt An event name if you will pass an array of listeners next. An object if you wish to add/remove from multiple events at once.
     * @param {Function[]} [listeners] An optional array of listener functions to add/remove.
     * @return {Object} Current instance of EventEmitter for chaining.
     */
    proto.manipulateListeners = function manipulateListeners(remove, evt, listeners) {
        var i;
        var value;
        var single = remove ? this.removeListener : this.addListener;
        var multiple = remove ? this.removeListeners : this.addListeners;

        // If evt is an object then pass each of its properties to this method
        if (typeof evt === 'object' && !(evt instanceof RegExp)) {
            for (i in evt) {
                if (evt.hasOwnProperty(i) && (value = evt[i])) {
                    // Pass the single listener straight through to the singular method
                    if (typeof value === 'function') {
                        single.call(this, i, value);
                    }
                    else {
                        // Otherwise pass back to the multiple function
                        multiple.call(this, i, value);
                    }
                }
            }
        }
        else {
            // So evt must be a string
            // And listeners must be an array of listeners
            // Loop over it and pass each one to the multiple method
            i = listeners.length;
            while (i--) {
                single.call(this, evt, listeners[i]);
            }
        }

        return this;
    };

    /**
     * Removes all listeners from a specified event.
     * If you do not specify an event then all listeners will be removed.
     * That means every event will be emptied.
     * You can also pass a regex to remove all events that match it.
     *
     * @param {String|RegExp} [evt] Optional name of the event to remove all listeners for. Will remove from every event if not passed.
     * @return {Object} Current instance of EventEmitter for chaining.
     */
    proto.removeEvent = function removeEvent(evt) {
        var type = typeof evt;
        var events = this._getEvents();
        var key;

        // Remove different things depending on the state of evt
        if (type === 'string') {
            // Remove all listeners for the specified event
            delete events[evt];
        }
        else if (evt instanceof RegExp) {
            // Remove all events matching the regex.
            for (key in events) {
                if (events.hasOwnProperty(key) && evt.test(key)) {
                    delete events[key];
                }
            }
        }
        else {
            // Remove all listeners in all events
            delete this._events;
        }

        return this;
    };

    /**
     * Alias of removeEvent.
     *
     * Added to mirror the node API.
     */
    proto.removeAllListeners = alias('removeEvent');

    /**
     * Emits an event of your choice.
     * When emitted, every listener attached to that event will be executed.
     * If you pass the optional argument array then those arguments will be passed to every listener upon execution.
     * Because it uses `apply`, your array of arguments will be passed as if you wrote them out separately.
     * So they will not arrive within the array on the other side, they will be separate.
     * You can also pass a regular expression to emit to all events that match it.
     *
     * @param {String|RegExp} evt Name of the event to emit and execute listeners for.
     * @param {Array} [args] Optional array of arguments to be passed to each listener.
     * @return {Object} Current instance of EventEmitter for chaining.
     */
    proto.emitEvent = function emitEvent(evt, args) {
        var listeners = this.getListenersAsObject(evt);
        var listener;
        var i;
        var key;
        var response;

        for (key in listeners) {
            if (listeners.hasOwnProperty(key)) {
                i = listeners[key].length;

                while (i--) {
                    // If the listener returns true then it shall be removed from the event
                    // The function is executed either with a basic call or an apply if there is an args array
                    listener = listeners[key][i];

                    if (listener.once === true) {
                        this.removeListener(evt, listener.listener);
                    }

                    response = listener.listener.apply(this, args || []);

                    if (response === this._getOnceReturnValue()) {
                        this.removeListener(evt, listener.listener);
                    }
                }
            }
        }

        return this;
    };

    /**
     * Alias of emitEvent
     */
    proto.trigger = alias('emitEvent');

    /**
     * Subtly different from emitEvent in that it will pass its arguments on to the listeners, as opposed to taking a single array of arguments to pass on.
     * As with emitEvent, you can pass a regex in place of the event name to emit to all events that match it.
     *
     * @param {String|RegExp} evt Name of the event to emit and execute listeners for.
     * @param {...*} Optional additional arguments to be passed to each listener.
     * @return {Object} Current instance of EventEmitter for chaining.
     */
    proto.emit = function emit(evt) {
        var args = Array.prototype.slice.call(arguments, 1);
        return this.emitEvent(evt, args);
    };

    /**
     * Sets the current value to check against when executing listeners. If a
     * listeners return value matches the one set here then it will be removed
     * after execution. This value defaults to true.
     *
     * @param {*} value The new value to check for when executing listeners.
     * @return {Object} Current instance of EventEmitter for chaining.
     */
    proto.setOnceReturnValue = function setOnceReturnValue(value) {
        this._onceReturnValue = value;
        return this;
    };

    /**
     * Fetches the current value to check against when executing listeners. If
     * the listeners return value matches this one then it should be removed
     * automatically. It will return true by default.
     *
     * @return {*|Boolean} The current value to check for or the default, true.
     * @api private
     */
    proto._getOnceReturnValue = function _getOnceReturnValue() {
        if (this.hasOwnProperty('_onceReturnValue')) {
            return this._onceReturnValue;
        }
        else {
            return true;
        }
    };

    /**
     * Fetches the events object and creates one if required.
     *
     * @return {Object} The events storage object.
     * @api private
     */
    proto._getEvents = function _getEvents() {
        return this._events || (this._events = {});
    };

    /**
     * Reverts the global {@link EventEmitter} to its previous value and returns a reference to this version.
     *
     * @return {Function} Non conflicting EventEmitter class.
     */
    EventEmitter.noConflict = function noConflict() {
        exports.EventEmitter = originalGlobalValue;
        return EventEmitter;
    };

    // Expose the class either via AMD, CommonJS or the global object
    if (true) {
        !(__WEBPACK_AMD_DEFINE_RESULT__ = (function () {
            return EventEmitter;
        }).call(exports, __webpack_require__, exports, module),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
    }
    else // removed by dead control flow
{}
}.call(this));


/***/ }),
/* 519 */
/***/ ((module) => {

module.exports =
  function angularDraggabillyDirective(DraggabillyService, $parse) {
    return {
      restrict: 'AE',
      link: function(scope, element, attrs) {
        var parsedAttrs = $parse(attrs.angularDraggabilly)()
        if (typeof parsedAttrs !== 'object') {
          parsedAttrs = {}
        }

        var options = angular.extend({
        }, parsedAttrs)

        /* eslint no-unused-vars: 0 */
        var draggie = new DraggabillyService(element[0], options)
      }
    }
  }


/***/ }),
/* 520 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var _ = __webpack_require__(190)

module.exports = function angularPackeryDirective(PackeryService,
  DraggabillyService, $timeout, $parse) {

  return {
    restrict: 'AE',
    link: function(scope, element, attrs) {
      var container = element[0]
      var parsedAttrs = $parse(attrs.angularPackery)()
      if (typeof parsedAttrs !== 'object') {
        parsedAttrs = {}
      }

      var options = angular.extend({
        isInitLayout: false,
        itemSelector: '.packery-item',
        columnWidth: '.packery-item',
        transitionDuration: '300ms'
      }, parsedAttrs)

      var pckry = new PackeryService(container, options)
      pckry.on('layoutComplete', onLayoutComplete)
      pckry.bindResize()
      bindDraggable()

      $timeout(function() {
        pckry.layout()
      }, 0)
      $timeout(function() {
        pckry.layout()
      }, 100)

      function bindDraggable() {
        if (options.draggable) {
          var draggableOptions = {}
          if (options.draggableHandle) {
            draggableOptions.handle = options.draggableHandle
          }
          var itemElems = pckry.getItemElements()
          for (var i = 0, len = itemElems.length; i < len; ++i) {
            var elem = itemElems[i]
            var draggie = new DraggabillyService(elem, draggableOptions)
            pckry.bindDraggabillyEvents(draggie)
          }
        }
      }

      function onLayoutComplete() {
        return true
      }

      function onPanelsResized() {
        pckry.layout()
      }

      scope.$on('panelsResized', _.throttle(onPanelsResized, 300))

      scope.$on('$destroy', function() {
        pckry.unbindResize()
        pckry.off('layoutComplete', onLayoutComplete)
        pckry.destroy()
      })
    }
  }
}


/***/ }),
/* 521 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

__webpack_require__(522)

module.exports = angular.module('stf.lightbox-image', [
  (__webpack_require__(79).name)
])
  .factory('LightboxImageService', __webpack_require__(524))


/***/ }),
/* 522 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14);
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(15);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(17);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(18);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(19);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_lightbox_image_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(523);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_lightbox_image_css__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_cjs_js_lightbox_image_css__WEBPACK_IMPORTED_MODULE_6__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_css_loader_dist_cjs_js_lightbox_image_css__WEBPACK_IMPORTED_MODULE_6__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_css_loader_dist_cjs_js_lightbox_image_css__WEBPACK_IMPORTED_MODULE_6__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()((_node_modules_css_loader_dist_cjs_js_lightbox_image_css__WEBPACK_IMPORTED_MODULE_6___default()), options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((_node_modules_css_loader_dist_cjs_js_lightbox_image_css__WEBPACK_IMPORTED_MODULE_6___default()) && (_node_modules_css_loader_dist_cjs_js_lightbox_image_css__WEBPACK_IMPORTED_MODULE_6___default().locals) ? (_node_modules_css_loader_dist_cjs_js_lightbox_image_css__WEBPACK_IMPORTED_MODULE_6___default().locals) : undefined);


/***/ }),
/* 523 */
/***/ ((module, exports, __webpack_require__) => {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(21);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.id, ".stf-lightbox-image .modal-body {\n  text-align: center;\n  background: white;\n}\n\n", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 524 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = function ServiceFactory($uibModal) {
  var service = {}

  var ModalInstanceCtrl = function($scope, $uibModalInstance, title, imageUrl) {
    $scope.ok = function() {
      $uibModalInstance.close(true)
    }

    $scope.title = title
    $scope.imageUrl = imageUrl

    $scope.cancel = function() {
      $uibModalInstance.dismiss('cancel')
    }
  }

  service.open = function(title, imageUrl) {
    var modalInstance = $uibModal.open({
      template: __webpack_require__(525),
      controller: ModalInstanceCtrl,
      windowClass: 'modal-size-xl',
      resolve: {
        title: function() {
          return title
        },
        imageUrl: function() {
          return imageUrl
        }
      }
    })

    modalInstance.result.then(function() {
    }, function() {
    })
  }

  return service
}


/***/ }),
/* 525 */
/***/ ((module) => {

module.exports = "<div class=\"stf-lightbox-image stf-modal\"><div class=\"modal-header\"><button type=\"button\" ng-click=\"cancel()\" class=\"close\">&times;</button><h4 class=\"modal-title\"><i class=\"fa fa-mobile fa-fw\"></i><span>{{ title }}</span></h4></div><div class=\"modal-body\"><img ng-if=\"imageUrl\" ng-src=\"{{imageUrl}}\"/><nothing-to-show message=\"{{&quot;No photo available&quot;|translate}}\" icon=\"fa-picture-o\" ng-if=\"!imageUrl\"></nothing-to-show></div></div>"

/***/ }),
/* 526 */
/***/ ((module) => {

module.exports = "<div ng-controller=\"InfoCtrl\" angular-packery=\"{draggable: true, draggableHandle: &quot;.heading i&quot;}\" class=\"row stf-info selectable\"><div class=\"col-md-4-x packery-item\"><div class=\"widget-container fluid-height\"><div class=\"heading\"><stacked-icon icon=\"fa-location-arrow\" color=\"color-pink\"></stacked-icon><span translate=\"translate\">Physical Device</span><div class=\"pull-right\"><button ng-click=\"control.identify()\" class=\"btn btn-xs btn-primary-outline\"><i class=\"fa fa-info\"></i><span translate=\"translate\">Find Device</span></button></div></div><div class=\"widget-content padded-small\"><table class=\"table table-condensed table-hover table-infocard\"><tbody><tr><td translate=\"translate\">Place</td><td>{{device.provider.name}}</td></tr><tr ng-show=\"device.name &amp;&amp; device.image\"><td></td><td><button ng-click=\"openDevicePhoto(device)\" class=\"btn btn-xs btn-primary-outline\"><i class=\"fa fa-picture-o\"></i><span translate=\"translate\">Device Photo</span></button></td></tr></tbody></table></div></div></div><div class=\"col-md-4-x packery-item\"><div class=\"widget-container fluid-height\"><div class=\"heading\"><stacked-icon icon=\"fa-bolt\" color=\"color-yellow\"></stacked-icon><span translate=\"translate\">Battery</span></div><div class=\"widget-content padded-small\"><table class=\"table table-condensed table-hover table-infocard\"><tbody><tr><td translate=\"translate\">Health</td><td>{{device.battery.health | batteryHealth | translate}}</td></tr><tr><td translate=\"translate\">Power Source</td><td>{{device.battery.source | batterySource | translate}}</td></tr><tr><td translate=\"translate\">Status</td><td>{{device.battery.status | batteryStatus | translate}}</td></tr><tr><td translate=\"translate\">Level</td><td><uib-progressbar value=\"device.battery.level\" animate=\"false\" max=\"device.battery.scale\" type=\"success\"><span>{{ device.battery.level / device.battery.scale * 100 }}%</span></uib-progressbar></td></tr><tr><td translate=\"translate\">Temperature</td><td>{{device.battery.temp}} °C</td></tr><tr><td translate=\"translate\">Voltage</td><td>{{device.battery.voltage}} v</td></tr></tbody></table></div></div></div><div class=\"col-md-4-x packery-item\"><div class=\"widget-container fluid-height\"><div class=\"heading\"><stacked-icon icon=\"fa-tablet\" color=\"color-blue\"></stacked-icon><span translate=\"translate\">Display</span></div><div class=\"widget-content padded-small\"><table class=\"table table-condensed table-hover table-infocard\"><tbody><tr><td translate=\"translate\">Size</td><td>{{device.display.inches ? device.display.inches + '″' : '-'}}</td></tr><tr><td translate=\"translate\">Density</td><td>{{device.display.density | displayDensity}}</td></tr><tr><td translate=\"translate\">FPS</td><td>{{device.display.fps}}</td></tr><tr><td translate=\"translate\">Width</td><td>{{device.display.width}} px</td></tr><tr><td translate=\"translate\">Height</td><td>{{device.display.height}} px</td></tr><tr><td translate=\"translate\">ID</td><td>{{device.display.id}}</td></tr><tr><td translate=\"translate\">Orientation</td><td>{{device.display.rotation}}°</td></tr><tr><td translate=\"translate\">Encrypted</td><td>{{device.display.secure | humanizedBool}}</td></tr><tr><td translate=\"translate\">X DPI</td><td>{{device.display.xdpi}}</td></tr><tr><td translate=\"translate\">Y DPI</td><td>{{device.display.ydpi}}</td></tr></tbody></table></div></div></div><div class=\"col-md-4-x packery-item\"><div class=\"widget-container fluid-height\"><div class=\"heading\"><stacked-icon icon=\"fa-signal\" color=\"color-brown\"></stacked-icon><span translate=\"translate\">Network</span></div><div class=\"widget-content padded-small\"><table class=\"table table-condensed table-hover table-infocard\"><tbody><tr><td translate=\"translate\">Connected</td><td>{{device.network.connected | humanizedBool}}</td></tr><tr><td translate=\"translate\">Airplane Mode</td><td>{{device.airplaneMode | humanizedBool}}</td></tr><tr><td translate=\"translate\">Using Fallback</td><td>{{device.network.failover | humanizedBool}}</td></tr><tr><td translate=\"translate\">Roaming</td><td>{{device.network.roaming | humanizedBool}}</td></tr><tr><td translate=\"translate\">Type</td><td>{{device.network.type | networkType | translate}}</td></tr><tr><td translate=\"translate\">Sub Type</td><td>{{device.network.subtype | networkSubType | translate}}</td></tr></tbody></table></div></div></div><div class=\"col-md-4-x packery-item\"><div class=\"widget-container fluid-height\"><div class=\"heading\"><stacked-icon icon=\"fa-credit-card\" color=\"color-lila\"></stacked-icon><span translate=\"translate\">SIM</span></div><div class=\"widget-content padded-small\"><table class=\"table table-condensed table-hover table-infocard\"><tbody><tr><td translate=\"translate\">Carrier</td><td>{{device.operator}}</td></tr><tr><td translate=\"translate\">Network</td><td>{{device.phone.network}}</td></tr><tr><td translate=\"translate\">Number</td><td>{{device.phone.phoneNumber}}</td></tr><tr><td translate=\"translate\">IMEI</td><td>{{device.phone.imei}}</td></tr><tr><td translate=\"translate\">IMSI</td><td>{{device.phone.imsi}}</td></tr><tr><td translate=\"translate\">ICCID</td><td><small>{{device.phone.iccid}}</small></td></tr></tbody></table></div></div></div><div class=\"col-md-4-x packery-item\"><div class=\"widget-container fluid-height\"><div class=\"heading\"><stacked-icon icon=\"fa-phone\" color=\"color-green\"></stacked-icon><span translate=\"translate\">Hardware</span></div><div class=\"widget-content padded-small\"><table class=\"table table-condensed table-hover table-infocard\"><tbody><tr><td translate=\"translate\">Manufacturer</td><td>{{device.manufacturer}}</td></tr><tr><td translate=\"translate\">Product</td><td>{{device.name ? device.name : '-'}}</td></tr><tr><td translate=\"translate\">Model</td><td>{{device.model}}</td></tr><tr><td translate=\"translate\">Serial</td><td>{{device.serial}}</td></tr><tr><td translate=\"translate\">Released</td><td>{{device.releasedAt ? (device.releasedAt | date:longDate) : '-'}}</td></tr></tbody></table></div></div></div><div class=\"col-md-4-x packery-item\"><div class=\"widget-container fluid-height\"><div class=\"heading\"><stacked-icon icon=\"fa-mobile\" color=\"color-skyblue\"></stacked-icon><span translate=\"translate\">Platform</span></div><div class=\"widget-content padded-small\"><table class=\"table table-condensed table-hover table-infocard\"><tbody><tr><td translate=\"translate\">OS</td><td>{{device.platform}}</td></tr><tr><td translate=\"translate\">Version</td><td>{{device.version}}</td></tr><tr><td translate=\"translate\">SDK</td><td>{{device.sdk}}</td></tr><tr><td translate=\"translate\">ABI</td><td>{{device.abi}}</td></tr></tbody></table></div></div></div><div class=\"col-md-4-x packery-item\"><div class=\"widget-container fluid-height\"><div class=\"heading\"><stacked-icon icon=\"fa-slack\" color=\"color-black\"></stacked-icon><span translate=\"translate\">CPU</span></div><div class=\"widget-content padded-small\"><table class=\"table table-condensed table-hover table-infocard\"><tbody><tr><td translate=\"translate\">Name</td><td>{{device.cpu.name ? device.cpu.name : '-'}}</td></tr><tr><td translate=\"translate\">Cores</td><td>{{device.cpu.cores ? device.cpu.cores : '-'}}</td></tr><tr><td translate=\"translate\">Frequency</td><td>{{device.cpu.freq ? device.cpu.freq + ' GHz' : '-'}}</td></tr></tbody></table></div></div></div><div class=\"col-md-4-x packery-item\"><div class=\"widget-container fluid-height\"><div class=\"heading\"><stacked-icon icon=\"fa-database\" color=\"color-orange\"></stacked-icon><span translate=\"translate\">Memory</span></div><div class=\"widget-content padded-small\"><table class=\"table table-condensed table-hover table-infocard\"><tbody><tr><td translate=\"translate\">RAM</td><td>{{device.memory.ram ? device.memory.ram + ' MB' : '-'}}</td></tr><tr><td translate=\"translate\">ROM</td><td>{{device.memory.rom ? device.memory.rom + ' MB' : '-'}}</td></tr><tr><td translate=\"translate\">SD Card Mounted</td><td>{{ sdCardMounted | humanizedBool }}</td></tr></tbody></table></div></div></div></div>"

/***/ }),
/* 527 */
/***/ ((module) => {

module.exports = function InfoCtrl($scope, LightboxImageService) {
  $scope.openDevicePhoto = function(device) {
    var title = device.name
    var enhancedPhoto800 = '/static/app/devices/photo/x800/' + device.image
    LightboxImageService.open(title, enhancedPhoto800)
  }

  var getSdStatus = function() {
    if ($scope.control) {
      $scope.control.getSdStatus().then(function(result) {
        $scope.safeApply(function() {
          $scope.sdCardMounted = (result.lastData === 'sd_mounted')
        })
      })
    }
  }
  getSdStatus()
}


/***/ }),
/* 528 */
/***/ ((module) => {

module.exports = "<div ng-controller=\"ControlPanesHotKeysCtrl\" class=\"fill-height\"><div ng-if=\"$root.basicMode || $root.standalone\" class=\"fill-height\"><div class=\"fill-height basic-remote-control\"><div class=\"remote-control\"><div ng-include=\"&quot;control-panes/device-control/device-control-standalone.pug&quot;\" class=\"fill-height\"></div></div></div></div><div ng-if=\"!$root.basicMode &amp;&amp; !$root.standalone\"><div fa-pane=\"fa-pane\" pane-id=\"control-device\" pane-anchor=\"west\" pane-size=\"{{remotePaneSize}}\" pane-min=\"200px\" pane-max=\"100% + 2px\" pane-handle=\"4\" pane-no-toggle=\"false\"><div class=\"remote-control\"><div ng-include=\"&quot;control-panes/device-control/device-control.pug&quot;\" class=\"fill-height\"></div></div></div><div fa-pane=\"fa-pane\" pane-id=\"control-bottom-tabs\" pane-anchor=\"south\" pane-size=\"30% + 2px\" pane-handle=\"4\" class=\"pane-bottom-p\"><div class=\"widget-container fluid-height\"><nice-tabs key=\"ControlBottomTabs\" direction=\"below\" tabs=\"belowTabs\" filter=\"$root.platform\"></nice-tabs></div></div><div fa-pane=\"fa-pane\" pane-id=\"control-top-tabs\" pane-anchor=\"\"><div class=\"widget-container fluid-height\"><nice-tabs key=\"ControlBottomTabs\" tabs=\"topTabs\" filter=\"$root.platform\"></nice-tabs></div></div></div></div>"

/***/ }),
/* 529 */
/***/ ((module) => {

module.exports = function ControlPanesServiceFactory() {
  var ControlPanesService = {
  }


  return ControlPanesService
}


/***/ }),
/* 530 */
/***/ ((module) => {

/**
* Copyright © 2019 contains code contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0
**/

module.exports =
  function ControlPanesController($scope, $http, gettext, $routeParams,
    $timeout, $location, DeviceService, GroupService, ControlService,
    StorageService, FatalMessageService, SettingsService) {

    var sharedTabs = [
      {
        title: gettext('Screenshots'),
        icon: 'fa-camera color-skyblue',
        templateUrl: 'control-panes/screenshots/screenshots.pug',
        filters: ['native', 'web']
      },
      {
        title: gettext('Automation'),
        icon: 'fa-road color-lila',
        templateUrl: 'control-panes/automation/automation.pug',
        filters: ['native', 'web']
      },
      {
        title: gettext('Advanced'),
        icon: 'fa-bolt color-brown',
        templateUrl: 'control-panes/advanced/advanced.pug',
        filters: ['native', 'web']
      },
      {
        title: gettext('File Explorer'),
        icon: 'fa-folder-open color-blue',
        templateUrl: 'control-panes/explorer/explorer.pug',
        filters: ['native', 'web']
      },
      {
        title: gettext('Info'),
        icon: 'fa-info color-orange',
        templateUrl: 'control-panes/info/info.pug',
        filters: ['native', 'web']
      }
    ]

    $scope.topTabs = [
      {
        title: gettext('Dashboard'),
        icon: 'fa-dashboard fa-fw color-pink',
        templateUrl: 'control-panes/dashboard/dashboard.pug',
        filters: ['native', 'web']
      }
    ].concat(angular.copy(sharedTabs))

    $scope.belowTabs = [
      {
        title: gettext('Logs'),
        icon: 'fa-list-alt color-red',
        templateUrl: 'control-panes/logs/logs.pug',
        filters: ['native', 'web']
      }
    ].concat(angular.copy(sharedTabs))

    $scope.device = null
    $scope.control = null

    // TODO: Move this out to Ctrl.resolve
    function getDevice(serial) {
      DeviceService.get(serial, $scope)
        .then(function(device) {
          return GroupService.invite(device)
        })
        .then(function(device) {
          $scope.device = device
          $scope.control = ControlService.create(device, device.channel)

          // TODO: Change title, flickers too much on Chrome
          // $rootScope.pageTitle = device.name

          SettingsService.set('lastUsedDevice', serial)

          return device
        })
        .catch(function() {
          $timeout(function() {
            $location.path('/')
          })
        })
    }

    getDevice($routeParams.serial)

    $scope.$watch('device.state', function(newValue, oldValue) {
      if (newValue !== oldValue) {
/*************** fix bug: it seems automation state was forgotten ? *************/
        if (oldValue === 'using' || oldValue === 'automation') {
/******************************************************************************/
          FatalMessageService.open($scope.device, false)
        }
      }
    }, true)

  }


/***/ }),
/* 531 */
/***/ ((module) => {

module.exports =
  function ControlPanesNoDeviceController($location, SettingsService) {
    var lastUsedDevice = SettingsService.get('lastUsedDevice')

    if (lastUsedDevice) {
      $location.path('/control/' + lastUsedDevice)
    } else {
      $location.path('/')
    }
  }


/***/ }),
/* 532 */
/***/ ((module) => {

module.exports =
  function($scope, gettext, $location, $rootScope, ScopedHotkeysService,
    $window) {

    $scope.remotePaneSize = '30% + 2px'

    var actions = {
      previousDevice: function() {
        // console.log('prev')
      },
      nextDevice: function() {
        // console.log('next')
      },
      deviceList: function() {
        $location.path('/devices/')
      },
      switchCharset: function() {
        $scope.control.keyPress('switch_charset')
      },
      // TODO: Refactor this
      rotateLeft: function() {
        var angle = 0
        if ($scope.device && $scope.device.display) {
          angle = $scope.device.display.rotation
        }
        if (angle === 0) {
          angle = 270
        } else {
          angle -= 90
        }
        $scope.control.rotate(angle)

        if ($rootScope.standalone) {
          $window.resizeTo($window.outerHeight, $window.outerWidth)
        }

      },
      rotateRight: function() {
        var angle = 0
        if ($scope.device && $scope.device.display) {
          angle = $scope.device.display.rotation
        }
        if (angle === 270) {
          angle = 0
        } else {
          angle += 90
        }
        $scope.control.rotate(angle)

        if ($rootScope.standalone) {
          $window.resizeTo($window.outerHeight, $window.outerWidth)
        }
      },
      focusUrlBar: function() {
        // TODO: Switch tab and focus
        // console.log('focus')
      },
      takeScreenShot: function() {
        // TODO: Switch tab and take screenshot
        //$scope.takeScreenShot()
      },
      pressMenu: function() {
        $scope.control.menu()
      },
      pressHome: function() {
        $scope.control.home()
      },
      pressBack: function() {
        $scope.control.back()
      },
      pressAppSwitch: function() {
        $scope.control.appSwitch()
      },
      toggleDevice: function() {
        // $scope.controlScreen.show = !$scope.controlScreen.show
      },
      togglePlatform: function() {
        if ($rootScope.platform === 'web') {
          $rootScope.platform = 'native'
        } else {
          $rootScope.platform = 'web'
        }
      },
      scale: function() {
        // TODO: scale size
      }
    }

    ScopedHotkeysService($scope, [
      // ['shift+up', gettext('Previous Device'), actions.previousDevice],
      // ['shift+down', gettext('Next Device'), actions.nextDevice],
      ['command+shift+d', gettext('Go to Device List'), actions.deviceList],

      ['shift+space', gettext('Selects Next IME'), actions.switchCharset],
      ['command+left', gettext('Rotate Left'), actions.rotateLeft],
      ['command+right', gettext('Rotate Right'), actions.rotateRight],

      // ['command+1', gettext('Scale 100%'), actions.scale],
      // ['command+2', gettext('Scale 75%'), actions.scale],
      // ['command+3', gettext('Scale 50%'), actions.scale],

      // ['shift+l', gettext('Focus URL bar'), actions.focusUrlBar],
      // ['shift+s', gettext('Take Screenshot'), actions.takeScreenShot],

      ['command+shift+m', gettext('Press Menu button'), actions.pressMenu],
      ['command+shift+h', gettext('Press Home button'), actions.pressHome],
      ['command+shift+b', gettext('Press Back button'), actions.pressBack],

      // ['shift+i', gettext('Show/Hide device'), actions.toggleDevice],
      ['shift+w', gettext('Toggle Web/Native'), actions.togglePlatform, false]
    ])
  }


/***/ }),
/* 533 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/**
* Copyright © 2019-2024 contains code contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0
**/

__webpack_require__(534)
__webpack_require__(115)

module.exports = angular.module('stf.menu', [
  'ngCookies',
  (__webpack_require__(277).name),
  (__webpack_require__(134).name),
  (__webpack_require__(133).name),
  (__webpack_require__(274).name),
  (__webpack_require__(538).name),
  (__webpack_require__(210).name),
  (__webpack_require__(540).name),
  (__webpack_require__(546).name)
])
  .controller('MenuCtrl', __webpack_require__(548))
  .run(['$templateCache', function($templateCache) {
    $templateCache.put('menu.pug', __webpack_require__(549))
  }])


/***/ }),
/* 534 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14);
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(15);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(17);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(18);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(19);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_menu_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(535);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_menu_css__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_cjs_js_menu_css__WEBPACK_IMPORTED_MODULE_6__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_css_loader_dist_cjs_js_menu_css__WEBPACK_IMPORTED_MODULE_6__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_css_loader_dist_cjs_js_menu_css__WEBPACK_IMPORTED_MODULE_6__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()((_node_modules_css_loader_dist_cjs_js_menu_css__WEBPACK_IMPORTED_MODULE_6___default()), options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((_node_modules_css_loader_dist_cjs_js_menu_css__WEBPACK_IMPORTED_MODULE_6___default()) && (_node_modules_css_loader_dist_cjs_js_menu_css__WEBPACK_IMPORTED_MODULE_6___default().locals) ? (_node_modules_css_loader_dist_cjs_js_menu_css__WEBPACK_IMPORTED_MODULE_6___default().locals) : undefined);


/***/ }),
/* 535 */
/***/ ((module, exports, __webpack_require__) => {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(21);
var ___CSS_LOADER_GET_URL_IMPORT___ = __webpack_require__(536);
var ___CSS_LOADER_URL_IMPORT_0___ = __webpack_require__(537);
exports = ___CSS_LOADER_API_IMPORT___(false);
var ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);
// Module
exports.push([module.id, "/*\n  Copyright © 2019-2024 contains code contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0\n*/\n\n.stf-menu .stf-logo {\n  background: url(" + ___CSS_LOADER_URL_REPLACEMENT_0___ + ") no-repeat 0 0;\n  width: 32px;\n  height: 32px;\n  float: left;\n  text-indent: -9999em;\n  margin: 6px 10px 0 0;\n  background-size: 100% auto;\n  -webkit-background-size: 100% auto;\n}\n\n.stf-menu .stf-top-bar {\n  height: 44px;\n  padding: 0 10px 0 20px;\n  width: 100%;\n  float: left;\n}\n\n.stf-menu .stf-nav {\n  padding-left: 15px;\n  text-align: left;\n  margin: 0;\n  float: left;\n}\n\n.stf-menu .stf-nav > li {\n  padding-right: 15px;\n  float: left;\n  display: inline-block;\n  text-align: left;\n  position: relative;\n  margin: 0;\n}\n\n.stf-menu .stf-nav > li > a {\n  display: inline-block;\n  text-align: left;\n  padding: 0 !important;\n  padding-right: 18px !important;\n  padding-left: 14px !important;\n  font-size: 15px;\n  line-height: 44px;\n  color: #777777;\n  font-weight: 400;\n  height: 44px;\n  position: relative;\n}\n\n.stf-menu .stf-nav > li > a > span.fa {\n  display: inline-block;\n  float: left;\n  margin: 8px 8px 0 0;\n  font-size: 28px;\n}\n\n.stf-menu .stf-nav > li > a > span.fa-mobile {\n  font-size: 30px;\n}\n\n.stf-menu .stf-nav > li > a.current {\n  color: #007aff;\n}\n\n.stf-menu.navbar {\n  height: 44px !important;\n  min-height: 44px !important;\n}\n\n.stf-menu .version-text {\n  display: inline-block;\n  font-size: 14px;\n  line-height: 44px;\n  color: #777777;\n  font-weight: 400;\n  padding: 0 10px;\n  text-align: center;\n  vertical-align: middle;\n}\n\n.stf-menu .information-level {\n  background-color: #5bc0df;\n}\n\n.stf-menu .warning-level {\n  background-color: #f0ad4f;\n}\n\n.stf-menu .critical-level {\n  background-color: #ff4b2b;\n}\n\n.stf-menu .maintenance-banner {\n  color: #ffffff;\n  padding: 10px;\n  position: relative;\n  text-align: center;\n  overflow: hidden;\n  height: 44px;\n}\n\n.stf-menu .maintenance-banner p {\n  font-size: 18px;\n  animation: slideBanner 15s linear infinite;\n  white-space: nowrap;\n  position: relative;\n  top: 50%;\n  transform: translate(0%,-50%);\n  line-height: 44px;\n}\n\n@keyframes slideBanner {\n  0% {\n   left: 100%;\n  }\n  100% {\n   left: -100%;\n  }\n}\n\n", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 536 */,
/* 537 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__webpack_require__.p + "f9be889d7634297548e90338cc603a97.png");

/***/ }),
/* 538 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = angular.module('stf.nav-menu', [])
  .directive('navMenu', __webpack_require__(539))


/***/ }),
/* 539 */
/***/ ((module) => {

/* Based on https://ryankaskel.com/blog/2013/05/27/
 a-different-approach-to-angularjs-navigation-menus */

module.exports = function($location) {
  return {
    restrict: 'EA',
    scope: {},
    link: function(scope, element, attrs) {
      var links = element.find('a')
      var onClass = attrs.navMenu || 'current'
      var urlMap = []
      var routePattern, link, url

      if (!$location.$$html5) {
        routePattern = /\/#[^/]*/
      }

      for (var i = 0; i < links.length; i++) {
        link = angular.element(links[i])
        url = link.attr('ng-href')

        // Remove angular route expressions
        url = url.replace(/\/{{.*}}/g, '')

        if ($location.$$html5) {
          urlMap.push({url: url, link: link})
        } else {
          urlMap.push({url: url.replace(routePattern, ''), link: link})
        }
      }

      function activateLink() {

        var location = $location.path()
        var pathLink = ''

        for (var i = 0; i < urlMap.length; ++i) {
          if (location.search(urlMap[i].url) !== -1) {
            pathLink = urlMap[i].link
          }
        }

        // Remove all active links
        for (var j = 0; j < links.length; j++) {
          link = angular.element(links[j])
          link.removeClass(onClass)
        }

        if (pathLink) {
          pathLink.addClass(onClass)
        }
      }

      activateLink()
      scope.$on('$routeChangeStart', activateLink)
    }
  }
}


/***/ }),
/* 540 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

__webpack_require__(541)

module.exports = angular.module('stf.external-url-modal', [
  (__webpack_require__(79).name)
])
  .factory('ExternalUrlModalService', __webpack_require__(543))
  .directive('onLoadEvent', __webpack_require__(545))


/***/ }),
/* 541 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14);
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(15);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(17);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(18);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(19);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_external_url_modal_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(542);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_external_url_modal_css__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_cjs_js_external_url_modal_css__WEBPACK_IMPORTED_MODULE_6__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_css_loader_dist_cjs_js_external_url_modal_css__WEBPACK_IMPORTED_MODULE_6__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_css_loader_dist_cjs_js_external_url_modal_css__WEBPACK_IMPORTED_MODULE_6__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()((_node_modules_css_loader_dist_cjs_js_external_url_modal_css__WEBPACK_IMPORTED_MODULE_6___default()), options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((_node_modules_css_loader_dist_cjs_js_external_url_modal_css__WEBPACK_IMPORTED_MODULE_6___default()) && (_node_modules_css_loader_dist_cjs_js_external_url_modal_css__WEBPACK_IMPORTED_MODULE_6___default().locals) ? (_node_modules_css_loader_dist_cjs_js_external_url_modal_css__WEBPACK_IMPORTED_MODULE_6___default().locals) : undefined);


/***/ }),
/* 542 */
/***/ ((module, exports, __webpack_require__) => {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(21);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.id, ".stf-external-url-modal {\n\n}\n", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 543 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = function ServiceFactory($uibModal, $sce) {
  var service = {}

  var ModalInstanceCtrl = function($scope, $uibModalInstance, url, title, icon) {
    $scope.ok = function() {
      $uibModalInstance.close(true)
    }

    $scope.url = $sce.trustAsResourceUrl(url)
    $scope.title = title
    $scope.icon = icon

    $scope.cancel = function() {
      $uibModalInstance.dismiss('cancel')
    }
  }

  service.open = function(url, title, icon) {
    var modalInstance = $uibModal.open({
      template: __webpack_require__(544),
      controller: ModalInstanceCtrl,
      windowClass: 'modal-size-80p',
      resolve: {
        title: function() {
          return title
        },
        url: function() {
          return url
        },
        icon: function() {
          return icon
        }
      }
    })

    modalInstance.result.then(function() {
    }, function() {
    })
  }

  return service
}


/***/ }),
/* 544 */
/***/ ((module) => {

module.exports = "<div class=\"stf-external-url-modal stf-modal\"><div class=\"modal-header\"><button type=\"button\" ng-click=\"cancel()\" class=\"close\">&times;</button><h4 ng-show=\"title\" class=\"modal-title\"><i ng-class=\"icon\" class=\"fa fa-fw\"></i><span ng-bind=\"title\"></span></h4></div><div class=\"modal-body\"><iframe ng-src=\"{{url}}\" width=\"100%\" height=\"100%\" frameborder=\"0\"></iframe></div></div>"

/***/ }),
/* 545 */
/***/ ((module) => {

// TODO: Test this
module.exports = function() {
  return function(scope, element, attrs) {
    scope.$watch(attrs.pageVisible, function() {
          element.bind('load', function() {
      scope.safeApply(attrs.pageLoad)
    })
    })
  }
}


/***/ }),
/* 546 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = angular.module('stf.native-url', [

])
  .factory('NativeUrlService', __webpack_require__(547))


/***/ }),
/* 547 */
/***/ ((module) => {

module.exports = function NativeUrlServiceFactory($window, $timeout) {
  var service = {}

  // Ways of opening native URLs:
  // - window.open
  // - window.location.href

  // Ways of detecting failure:
  // - new window timeout
  // - window onblur timeout
  // - javascript single thread time elapsed

  // Browser Behaviours:
  // - Chrome Mac: 25ms timeout OK
  // - Firefox Mac: 250ms timeout OK, 1000ms timeout better
  // - Safari Mac: no working fallback, may need 2 html pages
  // navigator.userAgent.match()
  // TODO: Find which method works well in every browser

  var fallbackMethod = 'USE_ON_BLUR'

  var wasBlured = false
  var windowOpened

  // TODO: use a central on-blur event
  var cachedWindowOnBlur = $window.onblur

  service.open = function(options) {

    switch (fallbackMethod) {
      case 'USE_NEW_WINDOW':
        // Doesn't work well on Chrome
        windowOpened = $window.open(options.nativeUrl)

        $timeout(function() {
          if (windowOpened) {
            windowOpened.close()
          }
        }, 500)

        $window.location.href = options.webUrl
        break
      case 'USE_ON_BLUR':
        // Doesn't work on Safari

        $window.onblur = function() {
          wasBlured = true
        }

        $window.location.href = options.nativeUrl

        $timeout(function() {
          if (wasBlured) {
            wasBlured = false
          } else {
            $window.open(options.webUrl, '_blank')
          }

          $window.onblur = cachedWindowOnBlur
        }, 250)

        break
      case 'USE_TIME_ELAPSED':
        // Doesn't work on Chrome

        var start, end, elapsed
        start = new Date().getTime()

        // console.log(' window.performance.webkitNow()', window.performance.now())

        // This depends on the fact that JS is single-thread
        document.location = options.nativeUrl

        end = new Date().getTime()

        elapsed = (end - start)

        if (elapsed < 1) {
          document.location = options.webUrl
        }

        break
      default:
    }

  }

  return service
}


/***/ }),
/* 548 */
/***/ ((module) => {

/**
* Copyright © 2019-2024 contains code contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0
**/

module.exports = function MenuCtrl(
  $scope
, $rootScope
, UsersService
, AppState
, SettingsService
, $location
, $http
, CommonService
, LogcatService
, socket
, $cookies
, $window) {

  $window.angular.version = {}
  $window.d3.version = {}

  SettingsService.bind($scope, {
    target: 'lastUsedDevice'
  })

  SettingsService.bind($rootScope, {
    target: 'platform',
    defaultValue: 'native',
    deviceEntries: LogcatService.deviceEntries
  })

  $scope.$on('$routeChangeSuccess', function() {
    $scope.isControlRoute = $location.path().search('/control') !== -1
  })

  $scope.mailToSupport = function() {
    CommonService.url('mailto:' + $scope.contactEmail)
  }

  $http.get('/auth/contact').then(function(response) {
    $scope.contactEmail = response.data.contact.email
  })

  $scope.logout = function() {
    const cookies = $cookies.getAll()
    for (const key in cookies) {
      if (cookies.hasOwnProperty(key)) {
        $cookies.remove(key, {path: '/'})
      }
    }
    $window.location = '/'
    setTimeout(function() {
      socket.disconnect()
    }, 100)
  }

  $scope.alertMessage = {
    activation: 'False'
  , data: ''
  , level: ''
  }

  // Add safety check for AppState.user
  if (AppState.user && AppState.user.privilege === 'admin') {
    const settingsAlertMessage = SettingsService.get('alertMessage');
    if (settingsAlertMessage) {
      $scope.alertMessage = settingsAlertMessage;
    }
  }
  else if (AppState.user) {
    UsersService.getUsersAlertMessage().then(function(response) {
      if (response && response.data && response.data.alertMessage) {
        $scope.alertMessage = response.data.alertMessage;
      }
    }).catch(function(error) {
      console.warn('Failed to get users alert message:', error);
    });
  }

  // Add safety check for alertMessage functions
  $scope.isAlertMessageActive = function() {
    return $scope.alertMessage && $scope.alertMessage.activation === 'True';
  }

  $scope.isInformationAlert = function() {
    return $scope.alertMessage && $scope.alertMessage.level === 'Information';
  }

  $scope.isWarningAlert = function() {
    return $scope.alertMessage && $scope.alertMessage.level === 'Warning';
  }

  $scope.isCriticalAlert = function() {
    return $scope.alertMessage && $scope.alertMessage.level === 'Critical';
  }

  $scope.$on('user.menu.users.updated', function(event, message) {
    if (message.user.privilege === 'admin') {
      $scope.alertMessage = message.user.settings.alertMessage
    }
  })
}


/***/ }),
/* 549 */
/***/ ((module) => {

module.exports = "<!--Copyright © 2019-2024 contains code contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0--><!----><div ng-controller=\"MenuCtrl\" class=\"navbar stf-menu\"><div class=\"container-fluid stf-top-bar\"><a ng-href=\"/#!/devices\" class=\"stf-logo\">STF</a><ul nav-menu=\"current\" class=\"nav stf-nav unselectable\"><li ng-cloak=\"ng-cloak\"><a ng-href=\"/#!/control/{{lastUsedDevice}}\" ng-show=\"lastUsedDevice\"><span class=\"fa fa-mobile\"></span><span ng-if=\"!$root.basicMode\" translate=\"translate\">Control</span></a><a ng-href=\"/#!/devices\" accesskey=\"1\"><span class=\"fa fa-sitemap\"></span><span ng-if=\"!$root.basicMode\" translate=\"translate\">Devices</span></a><a ng-href=\"/#!/groups\"><span class=\"fa fa-object-group\"></span><span ng-if=\"!$root.basicMode\" translate=\"translate\">Groups</span></a><a ng-href=\"/#!/settings\"><span class=\"fa fa-gears\"></span><span ng-if=\"!$root.basicMode\" translate=\"translate\">Settings</span></a></li></ul><ul ng-if=\"isAlertMessageActive()\" nav-menu=\"current\" class=\"nav stf-nav unselectable col-xs-5\"><li class=\"col-xs-12\"><div ng-class=\"{'information-level': isInformationAlert(), 'warning-level': isWarningAlert(), 'critical-level': isCriticalAlert()}\" class=\"maintenance-banner\"><p translate=\"translate\">{{ alertMessage.data }}</p></div></li></ul><ul ng-cloak=\"ng-cloak\" nav-menu=\"current\" class=\"nav stf-nav stf-feedback pull-right unselectable\"><li ng-if=\"!$root.basicMode &amp;&amp; isControlRoute\" class=\"stf-nav-web-native-button\"><div class=\"btn-group\"><button type=\"button\" ng-model=\"$root.platform\" uib-btn-radio=\"'web'\" translate=\"translate\" class=\"btn btn-sm btn-default-outline\">Web</button><button type=\"button\" ng-model=\"$root.platform\" uib-btn-radio=\"'native'\" translate=\"translate\" class=\"btn btn-sm btn-default-outline\">Native</button></div></li><li ng-if=\"!$root.basicMode\" class=\"stf-nav-web-native-button\"><button type=\"button\" ng-click=\"mailToSupport()\" class=\"btn btn-sm btn-default-outline\"><i class=\"fa fa-envelope-o\"></i><span translate=\"translate\">Contact Support </span></button></li><li ng-if=\"!$root.basicMode\" class=\"stf-nav-web-native-button\"><button type=\"button\" ng-click=\"logout()\" class=\"btn btn-sm btn-default-outline\"><i class=\"fa fa-sign-out\"></i><span translate=\"translate\">Logout</span></button></li><li><span class=\"version-text\">v{{ $root.state.config.stfVersion }}</span></li><li ng-show=\"!$root.basicMode\"><a ng-href=\"/#!/help\" accesskey=\"6\"><i class=\"fa fa-question-circle fa-fw\"></i>{{ \"Help\" | translate }}</a></li></ul></div></div>"

/***/ }),
/* 550 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/**
* Copyright © 2019 contains code contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0
**/

__webpack_require__(551)

module.exports = angular.module('ui-settings', [
  (__webpack_require__(553).name),
  (__webpack_require__(579).name),
  (__webpack_require__(607).name),
  (__webpack_require__(618).name),
  (__webpack_require__(623).name),
  (__webpack_require__(134).name),
  (__webpack_require__(287).name)
  //require('./notifications').name
])
  .config(['$routeProvider', function($routeProvider) {
    $routeProvider.when('/settings', {
      template: __webpack_require__(628)
    })
  }])
  .controller('SettingsCtrl', __webpack_require__(629))


/***/ }),
/* 551 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14);
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(15);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(17);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(18);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(19);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_settings_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(552);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_settings_css__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_cjs_js_settings_css__WEBPACK_IMPORTED_MODULE_6__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_css_loader_dist_cjs_js_settings_css__WEBPACK_IMPORTED_MODULE_6__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_css_loader_dist_cjs_js_settings_css__WEBPACK_IMPORTED_MODULE_6__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()((_node_modules_css_loader_dist_cjs_js_settings_css__WEBPACK_IMPORTED_MODULE_6___default()), options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((_node_modules_css_loader_dist_cjs_js_settings_css__WEBPACK_IMPORTED_MODULE_6___default()) && (_node_modules_css_loader_dist_cjs_js_settings_css__WEBPACK_IMPORTED_MODULE_6___default().locals) ? (_node_modules_css_loader_dist_cjs_js_settings_css__WEBPACK_IMPORTED_MODULE_6___default().locals) : undefined);


/***/ }),
/* 552 */
/***/ ((module, exports, __webpack_require__) => {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(21);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.id, "/**\n* Copyright © 2019 code initially contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0\n**/\n\n.stf-settings-tabs-device-icon {\n  font-size: 15px;\n}\n\n", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 553 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/**
* Copyright © 2019-2024 contains code contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0
**/

__webpack_require__(554)

module.exports = angular.module('stf.settings.general', [
  (__webpack_require__(556).name),
  (__webpack_require__(563).name),
  (__webpack_require__(568).name),
  (__webpack_require__(571).name),
  (__webpack_require__(134).name),
  (__webpack_require__(574).name)
])
  .run(['$templateCache', function($templateCache) {
    $templateCache.put(
      'settings/general/general.pug'
      , __webpack_require__(577)
    )
  }])
  .controller('GeneralCtrl', __webpack_require__(578))


/***/ }),
/* 554 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14);
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(15);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(17);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(18);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(19);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_general_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(555);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_general_css__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_cjs_js_general_css__WEBPACK_IMPORTED_MODULE_6__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_css_loader_dist_cjs_js_general_css__WEBPACK_IMPORTED_MODULE_6__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_css_loader_dist_cjs_js_general_css__WEBPACK_IMPORTED_MODULE_6__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()((_node_modules_css_loader_dist_cjs_js_general_css__WEBPACK_IMPORTED_MODULE_6___default()), options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((_node_modules_css_loader_dist_cjs_js_general_css__WEBPACK_IMPORTED_MODULE_6___default()) && (_node_modules_css_loader_dist_cjs_js_general_css__WEBPACK_IMPORTED_MODULE_6___default().locals) ? (_node_modules_css_loader_dist_cjs_js_general_css__WEBPACK_IMPORTED_MODULE_6___default().locals) : undefined);


/***/ }),
/* 555 */
/***/ ((module, exports, __webpack_require__) => {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(21);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.id, "/*\n  Copyright © 2024 contains code contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0\n*/\n\n.stf-general {\n\n}\n\n.stf-general .general-item {\n  margin: 0px 10px 15px 0px;\n}\n\n.stf-general .general-label {\n  font-weight: bold;\n  margin-right: 10px;\n}\n", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 556 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = angular.module('stf-ui-language', [
  (__webpack_require__(210).name),
  (__webpack_require__(557).name)
])
  .run(['$templateCache', function($templateCache) {
    $templateCache.put(
      'settings/general/language/language.pug', __webpack_require__(561)
    )
  }])
  .controller('LanguageCtrl', __webpack_require__(562))


/***/ }),
/* 557 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = angular.module('stf-language', [
  (__webpack_require__(210).name),
  (__webpack_require__(9).name),
  (__webpack_require__(134).name)
])
  .factory('LanguageService', __webpack_require__(558))
  .provider('language', __webpack_require__(560))


/***/ }),
/* 558 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var supportedLanguages = __webpack_require__(559)
var _ = __webpack_require__(190)

module.exports =
  function LanguageServiceFactory(SettingsService, gettextCatalog) {
    // TODO: make this LanguageProvider so it can be used on config

    var LanguageService = {}

    function detectLanguage() {
      return navigator.language || navigator.userLanguage
    }

    function browserToSupportedLang(lang) {
      //supportedLanguages.

      //return lang.replace(/([A-Za-z]{2})(-|_)?([A-Za-z]{0,4})/gm, '$1')
    }

    function isSupported(lang) {
      return !!supportedLanguages[lang]
    }

    function onlySupported(lang, defaultValue) {
      return isSupported(lang) ? lang : defaultValue
    }

    LanguageService.settingKey = 'selectedLanguage'
    LanguageService.supportedLanguages = supportedLanguages
    LanguageService.defaultLanguage = 'en'
    LanguageService.detectedLanguage =
      onlySupported(detectLanguage(), LanguageService.defaultLanguage)

    SettingsService.sync(
      LanguageService, {
        target: LanguageService.settingKey,
        source: LanguageService.settingKey,
        defaultValue: LanguageService.detectedLanguage
      }, updateLanguage
    )

    function updateLanguage() {
      gettextCatalog.setCurrentLanguage(LanguageService.selectedLanguage)
    }

    LanguageService.updateLanguage = updateLanguage

    return LanguageService
  }


/***/ }),
/* 559 */
/***/ ((module) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"en":"English","es":"Español","fr":"Français","pt_BR":"Português (Brasil)","pl":"Język polski","ja":"日本語","zh_CN":"简体中文","zh-Hant":"繁體中文","ko_KR":"한국어","ru_RU":"Русский"}');

/***/ }),
/* 560 */
/***/ ((module) => {

//var supportedLanguages = require('./../../../../common/lang/langs.json')

module.exports = function LanguageProvider(AppStateProvider) {
  var provider = {
    selectedLanguage: 'ja' // default
  }

  var a = AppStateProvider.$get()
  if (a && a.user && a.user.settings && a.user.settings &&
    a.user.settings.selectedLanguage) {
    provider.selectedLanguage = a.user.settings.selectedLanguage
  }

  return {
    $get: function() {
      return provider
    }
  }
}

//module.exports = function LanguageProvider() {
//  var LanguageService = {}
//
//  function detectLanguage() {
//    return (navigator.language || navigator.userLanguage || 'en-US')
//      .substring(0, 2)
//  }
//
//  function isSupported(lang) {
//    return !!supportedLanguages[lang]
//  }
//
//  function onlySupported(lang, defaultValue) {
//    return isSupported(lang) ? lang : defaultValue
//  }
//
//  LanguageService.settingKey = 'selectedLanguage'
//  LanguageService.supportedLanguages = supportedLanguages
//  LanguageService.defaultLanguage = 'en'
//  LanguageService.detectedLanguage =
//    onlySupported(detectLanguage(), LanguageService.defaultLanguage)
//
//  return {
//    set: function (constants) {
//      angular.extend(LanguageService, constants)
//    },
//    $get: function (SettingsService, gettextCatalog) {
//      SettingsService.sync(
//        LanguageService, {
//          target: LanguageService.settingKey,
//          source: LanguageService.settingKey,
//          defaultValue: LanguageService.detectedLanguage
//        }, updateLanguage
//      )
//
//      function updateLanguage() {
//        gettextCatalog.setCurrentLanguage(LanguageService.selectedLanguage)
//      }
//
//      LanguageService.updateLanguage = updateLanguage
//
//      return LanguageService
//    }
//  }
//}


/***/ }),
/* 561 */
/***/ ((module) => {

module.exports = "<div ng-controller=\"LanguageCtrl\" class=\"widget-container fluid-height\"><div class=\"heading\"><i class=\"fa fa-flag\"></i><span translate=\"translate\">Language</span></div><div class=\"widget-content padded\"><div class=\"form-horizontal\"><div class=\"form-group\"><select ng-model=\"language\" ng-options=\"key as value for (key, value) in supportedLanguages\" class=\"form-control\"></select></div></div></div></div>"

/***/ }),
/* 562 */
/***/ ((module) => {

module.exports = function($scope, LanguageService, SettingsService) {
  SettingsService.bind($scope, {
    target: 'language'
  , source: LanguageService.settingKey
  , defaultValue: LanguageService.detectedLanguage
  })

  $scope.supportedLanguages = LanguageService.supportedLanguages
}


/***/ }),
/* 563 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

__webpack_require__(564)

module.exports = angular.module('ui-local-settings', [
  (__webpack_require__(210).name),
  (__webpack_require__(79).name),
  'ui.bootstrap'
])
  .run(['$templateCache', function($templateCache) {
    $templateCache.put(
      'settings/general/local/local-settings.pug'
    , __webpack_require__(566)
    )
  }])
  .controller('LocalSettingsCtrl', __webpack_require__(567))


/***/ }),
/* 564 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

__webpack_require__(565);
module.exports = 'ui.bootstrap';


/***/ }),
/* 565 */
/***/ (() => {

/*
 * angular-ui-bootstrap
 * http://angular-ui.github.io/bootstrap/

 * Version: 0.14.3 - 2015-10-23
 * License: MIT
 */
angular.module("ui.bootstrap", ["ui.bootstrap.tpls", "ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]);
angular.module("ui.bootstrap.tpls", ["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-popup.html","template/tooltip/tooltip-popup.html","template/tooltip/tooltip-template-popup.html","template/popover/popover-html.html","template/popover/popover-template.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]);
angular.module('ui.bootstrap.collapse', [])

  .directive('uibCollapse', ['$animate', '$injector', function($animate, $injector) {
    var $animateCss = $injector.has('$animateCss') ? $injector.get('$animateCss') : null;
    return {
      link: function(scope, element, attrs) {
        function expand() {
          element.removeClass('collapse')
            .addClass('collapsing')
            .attr('aria-expanded', true)
            .attr('aria-hidden', false);

          if ($animateCss) {
            $animateCss(element, {
              addClass: 'in',
              easing: 'ease',
              to: { height: element[0].scrollHeight + 'px' }
            }).start().finally(expandDone);
          } else {
            $animate.addClass(element, 'in', {
              to: { height: element[0].scrollHeight + 'px' }
            }).then(expandDone);
          }
        }

        function expandDone() {
          element.removeClass('collapsing')
            .addClass('collapse')
            .css({height: 'auto'});
        }

        function collapse() {
          if (!element.hasClass('collapse') && !element.hasClass('in')) {
            return collapseDone();
          }

          element
            // IMPORTANT: The height must be set before adding "collapsing" class.
            // Otherwise, the browser attempts to animate from height 0 (in
            // collapsing class) to the given height here.
            .css({height: element[0].scrollHeight + 'px'})
            // initially all panel collapse have the collapse class, this removal
            // prevents the animation from jumping to collapsed state
            .removeClass('collapse')
            .addClass('collapsing')
            .attr('aria-expanded', false)
            .attr('aria-hidden', true);

          if ($animateCss) {
            $animateCss(element, {
              removeClass: 'in',
              to: {height: '0'}
            }).start().finally(collapseDone);
          } else {
            $animate.removeClass(element, 'in', {
              to: {height: '0'}
            }).then(collapseDone);
          }
        }

        function collapseDone() {
          element.css({height: '0'}); // Required so that collapse works when animation is disabled
          element.removeClass('collapsing')
            .addClass('collapse');
        }

        scope.$watch(attrs.uibCollapse, function(shouldCollapse) {
          if (shouldCollapse) {
            collapse();
          } else {
            expand();
          }
        });
      }
    };
  }]);

/* Deprecated collapse below */

angular.module('ui.bootstrap.collapse')

  .value('$collapseSuppressWarning', false)

  .directive('collapse', ['$animate', '$injector', '$log', '$collapseSuppressWarning', function($animate, $injector, $log, $collapseSuppressWarning) {
    var $animateCss = $injector.has('$animateCss') ? $injector.get('$animateCss') : null;
    return {
      link: function(scope, element, attrs) {
        if (!$collapseSuppressWarning) {
          $log.warn('collapse is now deprecated. Use uib-collapse instead.');
        }

        function expand() {
          element.removeClass('collapse')
            .addClass('collapsing')
            .attr('aria-expanded', true)
            .attr('aria-hidden', false);

          if ($animateCss) {
            $animateCss(element, {
              easing: 'ease',
              to: { height: element[0].scrollHeight + 'px' }
            }).start().done(expandDone);
          } else {
            $animate.animate(element, {}, {
              height: element[0].scrollHeight + 'px'
            }).then(expandDone);
          }
        }

        function expandDone() {
          element.removeClass('collapsing')
            .addClass('collapse in')
            .css({height: 'auto'});
        }

        function collapse() {
          if (!element.hasClass('collapse') && !element.hasClass('in')) {
            return collapseDone();
          }

          element
            // IMPORTANT: The height must be set before adding "collapsing" class.
            // Otherwise, the browser attempts to animate from height 0 (in
            // collapsing class) to the given height here.
            .css({height: element[0].scrollHeight + 'px'})
            // initially all panel collapse have the collapse class, this removal
            // prevents the animation from jumping to collapsed state
            .removeClass('collapse in')
            .addClass('collapsing')
            .attr('aria-expanded', false)
            .attr('aria-hidden', true);

          if ($animateCss) {
            $animateCss(element, {
              to: {height: '0'}
            }).start().done(collapseDone);
          } else {
            $animate.animate(element, {}, {
              height: '0'
            }).then(collapseDone);
          }
        }

        function collapseDone() {
          element.css({height: '0'}); // Required so that collapse works when animation is disabled
          element.removeClass('collapsing')
            .addClass('collapse');
        }

        scope.$watch(attrs.collapse, function(shouldCollapse) {
          if (shouldCollapse) {
            collapse();
          } else {
            expand();
          }
        });
      }
    };
  }]);

angular.module('ui.bootstrap.accordion', ['ui.bootstrap.collapse'])

.constant('uibAccordionConfig', {
  closeOthers: true
})

.controller('UibAccordionController', ['$scope', '$attrs', 'uibAccordionConfig', function($scope, $attrs, accordionConfig) {
  // This array keeps track of the accordion groups
  this.groups = [];

  // Ensure that all the groups in this accordion are closed, unless close-others explicitly says not to
  this.closeOthers = function(openGroup) {
    var closeOthers = angular.isDefined($attrs.closeOthers) ?
      $scope.$eval($attrs.closeOthers) : accordionConfig.closeOthers;
    if (closeOthers) {
      angular.forEach(this.groups, function(group) {
        if (group !== openGroup) {
          group.isOpen = false;
        }
      });
    }
  };

  // This is called from the accordion-group directive to add itself to the accordion
  this.addGroup = function(groupScope) {
    var that = this;
    this.groups.push(groupScope);

    groupScope.$on('$destroy', function(event) {
      that.removeGroup(groupScope);
    });
  };

  // This is called from the accordion-group directive when to remove itself
  this.removeGroup = function(group) {
    var index = this.groups.indexOf(group);
    if (index !== -1) {
      this.groups.splice(index, 1);
    }
  };

}])

// The accordion directive simply sets up the directive controller
// and adds an accordion CSS class to itself element.
.directive('uibAccordion', function() {
  return {
    controller: 'UibAccordionController',
    controllerAs: 'accordion',
    transclude: true,
    templateUrl: function(element, attrs) {
      return attrs.templateUrl || 'template/accordion/accordion.html';
    }
  };
})

// The accordion-group directive indicates a block of html that will expand and collapse in an accordion
.directive('uibAccordionGroup', function() {
  return {
    require: '^uibAccordion',         // We need this directive to be inside an accordion
    transclude: true,              // It transcludes the contents of the directive into the template
    replace: true,                // The element containing the directive will be replaced with the template
    templateUrl: function(element, attrs) {
      return attrs.templateUrl || 'template/accordion/accordion-group.html';
    },
    scope: {
      heading: '@',               // Interpolate the heading attribute onto this scope
      isOpen: '=?',
      isDisabled: '=?'
    },
    controller: function() {
      this.setHeading = function(element) {
        this.heading = element;
      };
    },
    link: function(scope, element, attrs, accordionCtrl) {
      accordionCtrl.addGroup(scope);

      scope.openClass = attrs.openClass || 'panel-open';
      scope.panelClass = attrs.panelClass;
      scope.$watch('isOpen', function(value) {
        element.toggleClass(scope.openClass, !!value);
        if (value) {
          accordionCtrl.closeOthers(scope);
        }
      });

      scope.toggleOpen = function($event) {
        if (!scope.isDisabled) {
          if (!$event || $event.which === 32) {
            scope.isOpen = !scope.isOpen;
          }
        }
      };
    }
  };
})

// Use accordion-heading below an accordion-group to provide a heading containing HTML
.directive('uibAccordionHeading', function() {
  return {
    transclude: true,   // Grab the contents to be used as the heading
    template: '',       // In effect remove this element!
    replace: true,
    require: '^uibAccordionGroup',
    link: function(scope, element, attrs, accordionGroupCtrl, transclude) {
      // Pass the heading to the accordion-group controller
      // so that it can be transcluded into the right place in the template
      // [The second parameter to transclude causes the elements to be cloned so that they work in ng-repeat]
      accordionGroupCtrl.setHeading(transclude(scope, angular.noop));
    }
  };
})

// Use in the accordion-group template to indicate where you want the heading to be transcluded
// You must provide the property on the accordion-group controller that will hold the transcluded element
.directive('uibAccordionTransclude', function() {
  return {
    require: ['?^uibAccordionGroup', '?^accordionGroup'],
    link: function(scope, element, attrs, controller) {
      controller = controller[0] ? controller[0] : controller[1]; // Delete after we remove deprecation
      scope.$watch(function() { return controller[attrs.uibAccordionTransclude]; }, function(heading) {
        if (heading) {
          element.find('span').html('');
          element.find('span').append(heading);
        }
      });
    }
  };
});

/* Deprecated accordion below */

angular.module('ui.bootstrap.accordion')

  .value('$accordionSuppressWarning', false)

  .controller('AccordionController', ['$scope', '$attrs', '$controller', '$log', '$accordionSuppressWarning', function($scope, $attrs, $controller, $log, $accordionSuppressWarning) {
    if (!$accordionSuppressWarning) {
      $log.warn('AccordionController is now deprecated. Use UibAccordionController instead.');
    }

    angular.extend(this, $controller('UibAccordionController', {
      $scope: $scope,
      $attrs: $attrs
    }));
  }])

  .directive('accordion', ['$log', '$accordionSuppressWarning', function($log, $accordionSuppressWarning) {
    return {
      restrict: 'EA',
      controller: 'AccordionController',
      controllerAs: 'accordion',
      transclude: true,
      replace: false,
      templateUrl: function(element, attrs) {
        return attrs.templateUrl || 'template/accordion/accordion.html';
      },
      link: function() {
        if (!$accordionSuppressWarning) {
          $log.warn('accordion is now deprecated. Use uib-accordion instead.');
        }
      }
    };
  }])

  .directive('accordionGroup', ['$log', '$accordionSuppressWarning', function($log, $accordionSuppressWarning) {
    return {
      require: '^accordion',         // We need this directive to be inside an accordion
      restrict: 'EA',
      transclude: true,              // It transcludes the contents of the directive into the template
      replace: true,                // The element containing the directive will be replaced with the template
      templateUrl: function(element, attrs) {
        return attrs.templateUrl || 'template/accordion/accordion-group.html';
      },
      scope: {
        heading: '@',               // Interpolate the heading attribute onto this scope
        isOpen: '=?',
        isDisabled: '=?'
      },
      controller: function() {
        this.setHeading = function(element) {
          this.heading = element;
        };
      },
      link: function(scope, element, attrs, accordionCtrl) {
        if (!$accordionSuppressWarning) {
          $log.warn('accordion-group is now deprecated. Use uib-accordion-group instead.');
        }

        accordionCtrl.addGroup(scope);

        scope.openClass = attrs.openClass || 'panel-open';
        scope.panelClass = attrs.panelClass;
        scope.$watch('isOpen', function(value) {
          element.toggleClass(scope.openClass, !!value);
          if (value) {
            accordionCtrl.closeOthers(scope);
          }
        });

        scope.toggleOpen = function($event) {
          if (!scope.isDisabled) {
            if (!$event || $event.which === 32) {
              scope.isOpen = !scope.isOpen;
            }
          }
        };
      }
    };
  }])

  .directive('accordionHeading', ['$log', '$accordionSuppressWarning', function($log, $accordionSuppressWarning) {
    return {
      restrict: 'EA',
      transclude: true,   // Grab the contents to be used as the heading
      template: '',       // In effect remove this element!
      replace: true,
      require: '^accordionGroup',
      link: function(scope, element, attr, accordionGroupCtrl, transclude) {
        if (!$accordionSuppressWarning) {
          $log.warn('accordion-heading is now deprecated. Use uib-accordion-heading instead.');
        }
        // Pass the heading to the accordion-group controller
        // so that it can be transcluded into the right place in the template
        // [The second parameter to transclude causes the elements to be cloned so that they work in ng-repeat]
        accordionGroupCtrl.setHeading(transclude(scope, angular.noop));
      }
    };
  }])

  .directive('accordionTransclude', ['$log', '$accordionSuppressWarning', function($log, $accordionSuppressWarning) {
    return {
      require: '^accordionGroup',
      link: function(scope, element, attr, controller) {
        if (!$accordionSuppressWarning) {
          $log.warn('accordion-transclude is now deprecated. Use uib-accordion-transclude instead.');
        }

        scope.$watch(function() { return controller[attr.accordionTransclude]; }, function(heading) {
          if (heading) {
            element.find('span').html('');
            element.find('span').append(heading);
          }
        });
      }
    };
  }]);


angular.module('ui.bootstrap.alert', [])

.controller('UibAlertController', ['$scope', '$attrs', '$interpolate', '$timeout', function($scope, $attrs, $interpolate, $timeout) {
  $scope.closeable = !!$attrs.close;

  var dismissOnTimeout = angular.isDefined($attrs.dismissOnTimeout) ?
    $interpolate($attrs.dismissOnTimeout)($scope.$parent) : null;

  if (dismissOnTimeout) {
    $timeout(function() {
      $scope.close();
    }, parseInt(dismissOnTimeout, 10));
  }
}])

.directive('uibAlert', function() {
  return {
    controller: 'UibAlertController',
    controllerAs: 'alert',
    templateUrl: function(element, attrs) {
      return attrs.templateUrl || 'template/alert/alert.html';
    },
    transclude: true,
    replace: true,
    scope: {
      type: '@',
      close: '&'
    }
  };
});

/* Deprecated alert below */

angular.module('ui.bootstrap.alert')

  .value('$alertSuppressWarning', false)

  .controller('AlertController', ['$scope', '$attrs', '$controller', '$log', '$alertSuppressWarning', function($scope, $attrs, $controller, $log, $alertSuppressWarning) {
    if (!$alertSuppressWarning) {
      $log.warn('AlertController is now deprecated. Use UibAlertController instead.');
    }

    angular.extend(this, $controller('UibAlertController', {
      $scope: $scope,
      $attrs: $attrs
    }));
  }])

  .directive('alert', ['$log', '$alertSuppressWarning', function($log, $alertSuppressWarning) {
    return {
      controller: 'AlertController',
      controllerAs: 'alert',
      templateUrl: function(element, attrs) {
        return attrs.templateUrl || 'template/alert/alert.html';
      },
      transclude: true,
      replace: true,
      scope: {
        type: '@',
        close: '&'
      },
      link: function() {
        if (!$alertSuppressWarning) {
          $log.warn('alert is now deprecated. Use uib-alert instead.');
        }
      }
    };
  }]);

angular.module('ui.bootstrap.buttons', [])

.constant('uibButtonConfig', {
  activeClass: 'active',
  toggleEvent: 'click'
})

.controller('UibButtonsController', ['uibButtonConfig', function(buttonConfig) {
  this.activeClass = buttonConfig.activeClass || 'active';
  this.toggleEvent = buttonConfig.toggleEvent || 'click';
}])

.directive('uibBtnRadio', function() {
  return {
    require: ['uibBtnRadio', 'ngModel'],
    controller: 'UibButtonsController',
    controllerAs: 'buttons',
    link: function(scope, element, attrs, ctrls) {
      var buttonsCtrl = ctrls[0], ngModelCtrl = ctrls[1];

      element.find('input').css({display: 'none'});

      //model -> UI
      ngModelCtrl.$render = function() {
        element.toggleClass(buttonsCtrl.activeClass, angular.equals(ngModelCtrl.$modelValue, scope.$eval(attrs.uibBtnRadio)));
      };

      //ui->model
      element.on(buttonsCtrl.toggleEvent, function() {
        if (attrs.disabled) {
          return;
        }

        var isActive = element.hasClass(buttonsCtrl.activeClass);

        if (!isActive || angular.isDefined(attrs.uncheckable)) {
          scope.$apply(function() {
            ngModelCtrl.$setViewValue(isActive ? null : scope.$eval(attrs.uibBtnRadio));
            ngModelCtrl.$render();
          });
        }
      });
    }
  };
})

.directive('uibBtnCheckbox', function() {
  return {
    require: ['uibBtnCheckbox', 'ngModel'],
    controller: 'UibButtonsController',
    controllerAs: 'button',
    link: function(scope, element, attrs, ctrls) {
      var buttonsCtrl = ctrls[0], ngModelCtrl = ctrls[1];

      element.find('input').css({display: 'none'});

      function getTrueValue() {
        return getCheckboxValue(attrs.btnCheckboxTrue, true);
      }

      function getFalseValue() {
        return getCheckboxValue(attrs.btnCheckboxFalse, false);
      }

      function getCheckboxValue(attribute, defaultValue) {
        return angular.isDefined(attribute) ? scope.$eval(attribute) : defaultValue;
      }

      //model -> UI
      ngModelCtrl.$render = function() {
        element.toggleClass(buttonsCtrl.activeClass, angular.equals(ngModelCtrl.$modelValue, getTrueValue()));
      };

      //ui->model
      element.on(buttonsCtrl.toggleEvent, function() {
        if (attrs.disabled) {
          return;
        }

        scope.$apply(function() {
          ngModelCtrl.$setViewValue(element.hasClass(buttonsCtrl.activeClass) ? getFalseValue() : getTrueValue());
          ngModelCtrl.$render();
        });
      });
    }
  };
});

/* Deprecated buttons below */

angular.module('ui.bootstrap.buttons')

  .value('$buttonsSuppressWarning', false)

  .controller('ButtonsController', ['$controller', '$log', '$buttonsSuppressWarning', function($controller, $log, $buttonsSuppressWarning) {
    if (!$buttonsSuppressWarning) {
      $log.warn('ButtonsController is now deprecated. Use UibButtonsController instead.');
    }

    angular.extend(this, $controller('UibButtonsController'));
  }])

  .directive('btnRadio', ['$log', '$buttonsSuppressWarning', function($log, $buttonsSuppressWarning) {
    return {
      require: ['btnRadio', 'ngModel'],
      controller: 'ButtonsController',
      controllerAs: 'buttons',
      link: function(scope, element, attrs, ctrls) {
        if (!$buttonsSuppressWarning) {
          $log.warn('btn-radio is now deprecated. Use uib-btn-radio instead.');
        }

        var buttonsCtrl = ctrls[0], ngModelCtrl = ctrls[1];

        element.find('input').css({display: 'none'});

        //model -> UI
        ngModelCtrl.$render = function() {
          element.toggleClass(buttonsCtrl.activeClass, angular.equals(ngModelCtrl.$modelValue, scope.$eval(attrs.btnRadio)));
        };

        //ui->model
        element.bind(buttonsCtrl.toggleEvent, function() {
          if (attrs.disabled) {
            return;
          }

          var isActive = element.hasClass(buttonsCtrl.activeClass);

          if (!isActive || angular.isDefined(attrs.uncheckable)) {
            scope.$apply(function() {
              ngModelCtrl.$setViewValue(isActive ? null : scope.$eval(attrs.btnRadio));
              ngModelCtrl.$render();
            });
          }
        });
      }
    };
  }])

  .directive('btnCheckbox', ['$document', '$log', '$buttonsSuppressWarning', function($document, $log, $buttonsSuppressWarning) {
    return {
      require: ['btnCheckbox', 'ngModel'],
      controller: 'ButtonsController',
      controllerAs: 'button',
      link: function(scope, element, attrs, ctrls) {
        if (!$buttonsSuppressWarning) {
          $log.warn('btn-checkbox is now deprecated. Use uib-btn-checkbox instead.');
        }

        var buttonsCtrl = ctrls[0], ngModelCtrl = ctrls[1];

        element.find('input').css({display: 'none'});

        function getTrueValue() {
          return getCheckboxValue(attrs.btnCheckboxTrue, true);
        }

        function getFalseValue() {
          return getCheckboxValue(attrs.btnCheckboxFalse, false);
        }

        function getCheckboxValue(attributeValue, defaultValue) {
          var val = scope.$eval(attributeValue);
          return angular.isDefined(val) ? val : defaultValue;
        }

        //model -> UI
        ngModelCtrl.$render = function() {
          element.toggleClass(buttonsCtrl.activeClass, angular.equals(ngModelCtrl.$modelValue, getTrueValue()));
        };

        //ui->model
        element.bind(buttonsCtrl.toggleEvent, function() {
          if (attrs.disabled) {
            return;
          }

          scope.$apply(function() {
            ngModelCtrl.$setViewValue(element.hasClass(buttonsCtrl.activeClass) ? getFalseValue() : getTrueValue());
            ngModelCtrl.$render();
          });
        });

        //accessibility
        element.on('keypress', function(e) {
          if (attrs.disabled || e.which !== 32 || $document[0].activeElement !== element[0]) {
            return;
          }

          scope.$apply(function() {
            ngModelCtrl.$setViewValue(element.hasClass(buttonsCtrl.activeClass) ? getFalseValue() : getTrueValue());
            ngModelCtrl.$render();
          });
        });
      }
    };
  }]);


/**
 * @ngdoc overview
 * @name ui.bootstrap.carousel
 *
 * @description
 * AngularJS version of an image carousel.
 *
 */
angular.module('ui.bootstrap.carousel', [])

.controller('UibCarouselController', ['$scope', '$element', '$interval', '$animate', function($scope, $element, $interval, $animate) {
  var self = this,
    slides = self.slides = $scope.slides = [],
    NEW_ANIMATE = angular.version.minor >= 4,
    NO_TRANSITION = 'uib-noTransition',
    SLIDE_DIRECTION = 'uib-slideDirection',
    currentIndex = -1,
    currentInterval, isPlaying;
  self.currentSlide = null;

  var destroyed = false;
  /* direction: "prev" or "next" */
  self.select = $scope.select = function(nextSlide, direction) {
    var nextIndex = $scope.indexOfSlide(nextSlide);
    //Decide direction if it's not given
    if (direction === undefined) {
      direction = nextIndex > self.getCurrentIndex() ? 'next' : 'prev';
    }
    //Prevent this user-triggered transition from occurring if there is already one in progress
    if (nextSlide && nextSlide !== self.currentSlide && !$scope.$currentTransition) {
      goNext(nextSlide, nextIndex, direction);
    }
  };

  function goNext(slide, index, direction) {
    // Scope has been destroyed, stop here.
    if (destroyed) { return; }

    angular.extend(slide, {direction: direction, active: true});
    angular.extend(self.currentSlide || {}, {direction: direction, active: false});
    if ($animate.enabled() && !$scope.noTransition && !$scope.$currentTransition &&
      slide.$element && self.slides.length > 1) {
      slide.$element.data(SLIDE_DIRECTION, slide.direction);
      if (self.currentSlide && self.currentSlide.$element) {
        self.currentSlide.$element.data(SLIDE_DIRECTION, slide.direction);
      }

      $scope.$currentTransition = true;
      if (NEW_ANIMATE) {
        $animate.on('addClass', slide.$element, function(element, phase) {
          if (phase === 'close') {
            $scope.$currentTransition = null;
            $animate.off('addClass', element);
          }
        });
      } else {
        slide.$element.one('$animate:close', function closeFn() {
          $scope.$currentTransition = null;
        });
      }
    }

    self.currentSlide = slide;
    currentIndex = index;

    //every time you change slides, reset the timer
    restartTimer();
  }

  $scope.$on('$destroy', function() {
    destroyed = true;
  });

  function getSlideByIndex(index) {
    if (angular.isUndefined(slides[index].index)) {
      return slides[index];
    }
    var i, len = slides.length;
    for (i = 0; i < slides.length; ++i) {
      if (slides[i].index == index) {
        return slides[i];
      }
    }
  }

  self.getCurrentIndex = function() {
    if (self.currentSlide && angular.isDefined(self.currentSlide.index)) {
      return +self.currentSlide.index;
    }
    return currentIndex;
  };

  /* Allow outside people to call indexOf on slides array */
  $scope.indexOfSlide = function(slide) {
    return angular.isDefined(slide.index) ? +slide.index : slides.indexOf(slide);
  };

  $scope.next = function() {
    var newIndex = (self.getCurrentIndex() + 1) % slides.length;

    if (newIndex === 0 && $scope.noWrap()) {
      $scope.pause();
      return;
    }

    return self.select(getSlideByIndex(newIndex), 'next');
  };

  $scope.prev = function() {
    var newIndex = self.getCurrentIndex() - 1 < 0 ? slides.length - 1 : self.getCurrentIndex() - 1;

    if ($scope.noWrap() && newIndex === slides.length - 1) {
      $scope.pause();
      return;
    }

    return self.select(getSlideByIndex(newIndex), 'prev');
  };

  $scope.isActive = function(slide) {
     return self.currentSlide === slide;
  };

  $scope.$watch('interval', restartTimer);
  $scope.$watchCollection('slides', resetTransition);
  $scope.$on('$destroy', resetTimer);

  function restartTimer() {
    resetTimer();
    var interval = +$scope.interval;
    if (!isNaN(interval) && interval > 0) {
      currentInterval = $interval(timerFn, interval);
    }
  }

  function resetTimer() {
    if (currentInterval) {
      $interval.cancel(currentInterval);
      currentInterval = null;
    }
  }

  function timerFn() {
    var interval = +$scope.interval;
    if (isPlaying && !isNaN(interval) && interval > 0 && slides.length) {
      $scope.next();
    } else {
      $scope.pause();
    }
  }

  function resetTransition(slides) {
    if (!slides.length) {
      $scope.$currentTransition = null;
    }
  }

  $scope.play = function() {
    if (!isPlaying) {
      isPlaying = true;
      restartTimer();
    }
  };
  $scope.pause = function() {
    if (!$scope.noPause) {
      isPlaying = false;
      resetTimer();
    }
  };

  self.addSlide = function(slide, element) {
    slide.$element = element;
    slides.push(slide);
    //if this is the first slide or the slide is set to active, select it
    if (slides.length === 1 || slide.active) {
      self.select(slides[slides.length - 1]);
      if (slides.length === 1) {
        $scope.play();
      }
    } else {
      slide.active = false;
    }
  };

  self.removeSlide = function(slide) {
    if (angular.isDefined(slide.index)) {
      slides.sort(function(a, b) {
        return +a.index > +b.index;
      });
    }
    //get the index of the slide inside the carousel
    var index = slides.indexOf(slide);
    slides.splice(index, 1);
    if (slides.length > 0 && slide.active) {
      if (index >= slides.length) {
        self.select(slides[index - 1]);
      } else {
        self.select(slides[index]);
      }
    } else if (currentIndex > index) {
      currentIndex--;
    }

    //clean the currentSlide when no more slide
    if (slides.length === 0) {
      self.currentSlide = null;
    }
  };

  $scope.$watch('noTransition', function(noTransition) {
    $element.data(NO_TRANSITION, noTransition);
  });

}])

/**
 * @ngdoc directive
 * @name ui.bootstrap.carousel.directive:carousel
 * @restrict EA
 *
 * @description
 * Carousel is the outer container for a set of image 'slides' to showcase.
 *
 * @param {number=} interval The time, in milliseconds, that it will take the carousel to go to the next slide.
 * @param {boolean=} noTransition Whether to disable transitions on the carousel.
 * @param {boolean=} noPause Whether to disable pausing on the carousel (by default, the carousel interval pauses on hover).
 *
 * @example
<example module="ui.bootstrap">
  <file name="index.html">
    <uib-carousel>
      <uib-slide>
        <img src="http://placekitten.com/150/150" style="margin:auto;">
        <div class="carousel-caption">
          <p>Beautiful!</p>
        </div>
      </uib-slide>
      <uib-slide>
        <img src="http://placekitten.com/100/150" style="margin:auto;">
        <div class="carousel-caption">
          <p>D'aww!</p>
        </div>
      </uib-slide>
    </uib-carousel>
  </file>
  <file name="demo.css">
    .carousel-indicators {
      top: auto;
      bottom: 15px;
    }
  </file>
</example>
 */
.directive('uibCarousel', [function() {
  return {
    transclude: true,
    replace: true,
    controller: 'UibCarouselController',
    controllerAs: 'carousel',
    require: 'carousel',
    templateUrl: function(element, attrs) {
      return attrs.templateUrl || 'template/carousel/carousel.html';
    },
    scope: {
      interval: '=',
      noTransition: '=',
      noPause: '=',
      noWrap: '&'
    }
  };
}])

/**
 * @ngdoc directive
 * @name ui.bootstrap.carousel.directive:slide
 * @restrict EA
 *
 * @description
 * Creates a slide inside a {@link ui.bootstrap.carousel.directive:carousel carousel}.  Must be placed as a child of a carousel element.
 *
 * @param {boolean=} active Model binding, whether or not this slide is currently active.
 * @param {number=} index The index of the slide. The slides will be sorted by this parameter.
 *
 * @example
<example module="ui.bootstrap">
  <file name="index.html">
<div ng-controller="CarouselDemoCtrl">
  <uib-carousel>
    <uib-slide ng-repeat="slide in slides" active="slide.active" index="$index">
      <img ng-src="{{slide.image}}" style="margin:auto;">
      <div class="carousel-caption">
        <h4>Slide {{$index}}</h4>
        <p>{{slide.text}}</p>
      </div>
    </uib-slide>
  </uib-carousel>
  Interval, in milliseconds: <input type="number" ng-model="myInterval">
  <br />Enter a negative number to stop the interval.
</div>
  </file>
  <file name="script.js">
function CarouselDemoCtrl($scope) {
  $scope.myInterval = 5000;
}
  </file>
  <file name="demo.css">
    .carousel-indicators {
      top: auto;
      bottom: 15px;
    }
  </file>
</example>
*/

.directive('uibSlide', function() {
  return {
    require: '^uibCarousel',
    restrict: 'EA',
    transclude: true,
    replace: true,
    templateUrl: function(element, attrs) {
      return attrs.templateUrl || 'template/carousel/slide.html';
    },
    scope: {
      active: '=?',
      actual: '=?',
      index: '=?'
    },
    link: function (scope, element, attrs, carouselCtrl) {
      carouselCtrl.addSlide(scope, element);
      //when the scope is destroyed then remove the slide from the current slides array
      scope.$on('$destroy', function() {
        carouselCtrl.removeSlide(scope);
      });

      scope.$watch('active', function(active) {
        if (active) {
          carouselCtrl.select(scope);
        }
      });
    }
  };
})

.animation('.item', [
         '$injector', '$animate',
function ($injector, $animate) {
  var NO_TRANSITION = 'uib-noTransition',
    SLIDE_DIRECTION = 'uib-slideDirection',
    $animateCss = null;

  if ($injector.has('$animateCss')) {
    $animateCss = $injector.get('$animateCss');
  }

  function removeClass(element, className, callback) {
    element.removeClass(className);
    if (callback) {
      callback();
    }
  }

  return {
    beforeAddClass: function(element, className, done) {
      // Due to transclusion, noTransition property is on parent's scope
      if (className == 'active' && element.parent() && element.parent().parent() &&
          !element.parent().parent().data(NO_TRANSITION)) {
        var stopped = false;
        var direction = element.data(SLIDE_DIRECTION);
        var directionClass = direction == 'next' ? 'left' : 'right';
        var removeClassFn = removeClass.bind(this, element,
          directionClass + ' ' + direction, done);
        element.addClass(direction);

        if ($animateCss) {
          $animateCss(element, {addClass: directionClass})
            .start()
            .done(removeClassFn);
        } else {
          $animate.addClass(element, directionClass).then(function () {
            if (!stopped) {
              removeClassFn();
            }
            done();
          });
        }

        return function () {
          stopped = true;
        };
      }
      done();
    },
    beforeRemoveClass: function (element, className, done) {
      // Due to transclusion, noTransition property is on parent's scope
      if (className === 'active' && element.parent() && element.parent().parent() &&
          !element.parent().parent().data(NO_TRANSITION)) {
        var stopped = false;
        var direction = element.data(SLIDE_DIRECTION);
        var directionClass = direction == 'next' ? 'left' : 'right';
        var removeClassFn = removeClass.bind(this, element, directionClass, done);

        if ($animateCss) {
          $animateCss(element, {addClass: directionClass})
            .start()
            .done(removeClassFn);
        } else {
          $animate.addClass(element, directionClass).then(function() {
            if (!stopped) {
              removeClassFn();
            }
            done();
          });
        }
        return function() {
          stopped = true;
        };
      }
      done();
    }
  };
}]);

/* deprecated carousel below */

angular.module('ui.bootstrap.carousel')

.value('$carouselSuppressWarning', false)

.controller('CarouselController', ['$scope', '$element', '$controller', '$log', '$carouselSuppressWarning', function($scope, $element, $controller, $log, $carouselSuppressWarning) {
  if (!$carouselSuppressWarning) {
    $log.warn('CarouselController is now deprecated. Use UibCarouselController instead.');
  }

  angular.extend(this, $controller('UibCarouselController', {
    $scope: $scope,
    $element: $element
  }));
}])

.directive('carousel', ['$log', '$carouselSuppressWarning', function($log, $carouselSuppressWarning) {
  return {
    transclude: true,
    replace: true,
    controller: 'CarouselController',
    controllerAs: 'carousel',
    require: 'carousel',
    templateUrl: function(element, attrs) {
      return attrs.templateUrl || 'template/carousel/carousel.html';
    },
    scope: {
      interval: '=',
      noTransition: '=',
      noPause: '=',
      noWrap: '&'
    },
    link: function() {
      if (!$carouselSuppressWarning) {
        $log.warn('carousel is now deprecated. Use uib-carousel instead.');
      }
    }
  };
}])

.directive('slide', ['$log', '$carouselSuppressWarning', function($log, $carouselSuppressWarning) {
  return {
    require: '^carousel',
    transclude: true,
    replace: true,
    templateUrl: function(element, attrs) {
      return attrs.templateUrl || 'template/carousel/slide.html';
    },
    scope: {
      active: '=?',
      actual: '=?',
      index: '=?'
    },
    link: function (scope, element, attrs, carouselCtrl) {
      if (!$carouselSuppressWarning) {
        $log.warn('slide is now deprecated. Use uib-slide instead.');
      }

      carouselCtrl.addSlide(scope, element);
      //when the scope is destroyed then remove the slide from the current slides array
      scope.$on('$destroy', function() {
        carouselCtrl.removeSlide(scope);
      });

      scope.$watch('active', function(active) {
        if (active) {
          carouselCtrl.select(scope);
        }
      });
    }
  };
}]);

angular.module('ui.bootstrap.dateparser', [])

.service('uibDateParser', ['$log', '$locale', 'orderByFilter', function($log, $locale, orderByFilter) {
  // Pulled from https://github.com/mbostock/d3/blob/master/src/format/requote.js
  var SPECIAL_CHARACTERS_REGEXP = /[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;

  var localeId;
  var formatCodeToRegex;

  this.init = function() {
    localeId = $locale.id;

    this.parsers = {};

    formatCodeToRegex = {
      'yyyy': {
        regex: '\\d{4}',
        apply: function(value) { this.year = +value; }
      },
      'yy': {
        regex: '\\d{2}',
        apply: function(value) { this.year = +value + 2000; }
      },
      'y': {
        regex: '\\d{1,4}',
        apply: function(value) { this.year = +value; }
      },
      'MMMM': {
        regex: $locale.DATETIME_FORMATS.MONTH.join('|'),
        apply: function(value) { this.month = $locale.DATETIME_FORMATS.MONTH.indexOf(value); }
      },
      'MMM': {
        regex: $locale.DATETIME_FORMATS.SHORTMONTH.join('|'),
        apply: function(value) { this.month = $locale.DATETIME_FORMATS.SHORTMONTH.indexOf(value); }
      },
      'MM': {
        regex: '0[1-9]|1[0-2]',
        apply: function(value) { this.month = value - 1; }
      },
      'M': {
        regex: '[1-9]|1[0-2]',
        apply: function(value) { this.month = value - 1; }
      },
      'dd': {
        regex: '[0-2][0-9]{1}|3[0-1]{1}',
        apply: function(value) { this.date = +value; }
      },
      'd': {
        regex: '[1-2]?[0-9]{1}|3[0-1]{1}',
        apply: function(value) { this.date = +value; }
      },
      'EEEE': {
        regex: $locale.DATETIME_FORMATS.DAY.join('|')
      },
      'EEE': {
        regex: $locale.DATETIME_FORMATS.SHORTDAY.join('|')
      },
      'HH': {
        regex: '(?:0|1)[0-9]|2[0-3]',
        apply: function(value) { this.hours = +value; }
      },
      'hh': {
        regex: '0[0-9]|1[0-2]',
        apply: function(value) { this.hours = +value; }
      },
      'H': {
        regex: '1?[0-9]|2[0-3]',
        apply: function(value) { this.hours = +value; }
      },
      'h': {
        regex: '[0-9]|1[0-2]',
        apply: function(value) { this.hours = +value; }
      },
      'mm': {
        regex: '[0-5][0-9]',
        apply: function(value) { this.minutes = +value; }
      },
      'm': {
        regex: '[0-9]|[1-5][0-9]',
        apply: function(value) { this.minutes = +value; }
      },
      'sss': {
        regex: '[0-9][0-9][0-9]',
        apply: function(value) { this.milliseconds = +value; }
      },
      'ss': {
        regex: '[0-5][0-9]',
        apply: function(value) { this.seconds = +value; }
      },
      's': {
        regex: '[0-9]|[1-5][0-9]',
        apply: function(value) { this.seconds = +value; }
      },
      'a': {
        regex: $locale.DATETIME_FORMATS.AMPMS.join('|'),
        apply: function(value) {
          if (this.hours === 12) {
            this.hours = 0;
          }

          if (value === 'PM') {
            this.hours += 12;
          }
        }
      }
    };
  };

  this.init();

  function createParser(format) {
    var map = [], regex = format.split('');

    angular.forEach(formatCodeToRegex, function(data, code) {
      var index = format.indexOf(code);

      if (index > -1) {
        format = format.split('');

        regex[index] = '(' + data.regex + ')';
        format[index] = '$'; // Custom symbol to define consumed part of format
        for (var i = index + 1, n = index + code.length; i < n; i++) {
          regex[i] = '';
          format[i] = '$';
        }
        format = format.join('');

        map.push({ index: index, apply: data.apply });
      }
    });

    return {
      regex: new RegExp('^' + regex.join('') + '$'),
      map: orderByFilter(map, 'index')
    };
  }

  this.parse = function(input, format, baseDate) {
    if (!angular.isString(input) || !format) {
      return input;
    }

    format = $locale.DATETIME_FORMATS[format] || format;
    format = format.replace(SPECIAL_CHARACTERS_REGEXP, '\\$&');

    if ($locale.id !== localeId) {
      this.init();
    }

    if (!this.parsers[format]) {
      this.parsers[format] = createParser(format);
    }

    var parser = this.parsers[format],
        regex = parser.regex,
        map = parser.map,
        results = input.match(regex);

    if (results && results.length) {
      var fields, dt;
      if (angular.isDate(baseDate) && !isNaN(baseDate.getTime())) {
        fields = {
          year: baseDate.getFullYear(),
          month: baseDate.getMonth(),
          date: baseDate.getDate(),
          hours: baseDate.getHours(),
          minutes: baseDate.getMinutes(),
          seconds: baseDate.getSeconds(),
          milliseconds: baseDate.getMilliseconds()
        };
      } else {
        if (baseDate) {
          $log.warn('dateparser:', 'baseDate is not a valid date');
        }
        fields = { year: 1900, month: 0, date: 1, hours: 0, minutes: 0, seconds: 0, milliseconds: 0 };
      }

      for (var i = 1, n = results.length; i < n; i++) {
        var mapper = map[i-1];
        if (mapper.apply) {
          mapper.apply.call(fields, results[i]);
        }
      }

      if (isValid(fields.year, fields.month, fields.date)) {
        if (angular.isDate(baseDate) && !isNaN(baseDate.getTime())) {
          dt = new Date(baseDate);
          dt.setFullYear(fields.year, fields.month, fields.date,
            fields.hours, fields.minutes, fields.seconds,
            fields.milliseconds || 0);
        } else {
          dt = new Date(fields.year, fields.month, fields.date,
            fields.hours, fields.minutes, fields.seconds,
            fields.milliseconds || 0);
        }
      }

      return dt;
    }
  };

  // Check if date is valid for specific month (and year for February).
  // Month: 0 = Jan, 1 = Feb, etc
  function isValid(year, month, date) {
    if (date < 1) {
      return false;
    }

    if (month === 1 && date > 28) {
      return date === 29 && ((year % 4 === 0 && year % 100 !== 0) || year % 400 === 0);
    }

    if (month === 3 || month === 5 || month === 8 || month === 10) {
      return date < 31;
    }

    return true;
  }
}]);

/* Deprecated dateparser below */

angular.module('ui.bootstrap.dateparser')

.value('$dateParserSuppressWarning', false)

.service('dateParser', ['$log', '$dateParserSuppressWarning', 'uibDateParser', function($log, $dateParserSuppressWarning, uibDateParser) {
  if (!$dateParserSuppressWarning) {
    $log.warn('dateParser is now deprecated. Use uibDateParser instead.');
  }

  angular.extend(this, uibDateParser);
}]);

angular.module('ui.bootstrap.position', [])

/**
 * A set of utility methods that can be use to retrieve position of DOM elements.
 * It is meant to be used where we need to absolute-position DOM elements in
 * relation to other, existing elements (this is the case for tooltips, popovers,
 * typeahead suggestions etc.).
 */
  .factory('$uibPosition', ['$document', '$window', function($document, $window) {
    function getStyle(el, cssprop) {
      if (el.currentStyle) { //IE
        return el.currentStyle[cssprop];
      } else if ($window.getComputedStyle) {
        return $window.getComputedStyle(el)[cssprop];
      }
      // finally try and get inline style
      return el.style[cssprop];
    }

    /**
     * Checks if a given element is statically positioned
     * @param element - raw DOM element
     */
    function isStaticPositioned(element) {
      return (getStyle(element, 'position') || 'static' ) === 'static';
    }

    /**
     * returns the closest, non-statically positioned parentOffset of a given element
     * @param element
     */
    var parentOffsetEl = function(element) {
      var docDomEl = $document[0];
      var offsetParent = element.offsetParent || docDomEl;
      while (offsetParent && offsetParent !== docDomEl && isStaticPositioned(offsetParent) ) {
        offsetParent = offsetParent.offsetParent;
      }
      return offsetParent || docDomEl;
    };

    return {
      /**
       * Provides read-only equivalent of jQuery's position function:
       * http://api.jquery.com/position/
       */
      position: function(element) {
        var elBCR = this.offset(element);
        var offsetParentBCR = { top: 0, left: 0 };
        var offsetParentEl = parentOffsetEl(element[0]);
        if (offsetParentEl != $document[0]) {
          offsetParentBCR = this.offset(angular.element(offsetParentEl));
          offsetParentBCR.top += offsetParentEl.clientTop - offsetParentEl.scrollTop;
          offsetParentBCR.left += offsetParentEl.clientLeft - offsetParentEl.scrollLeft;
        }

        var boundingClientRect = element[0].getBoundingClientRect();
        return {
          width: boundingClientRect.width || element.prop('offsetWidth'),
          height: boundingClientRect.height || element.prop('offsetHeight'),
          top: elBCR.top - offsetParentBCR.top,
          left: elBCR.left - offsetParentBCR.left
        };
      },

      /**
       * Provides read-only equivalent of jQuery's offset function:
       * http://api.jquery.com/offset/
       */
      offset: function(element) {
        var boundingClientRect = element[0].getBoundingClientRect();
        return {
          width: boundingClientRect.width || element.prop('offsetWidth'),
          height: boundingClientRect.height || element.prop('offsetHeight'),
          top: boundingClientRect.top + ($window.pageYOffset || $document[0].documentElement.scrollTop),
          left: boundingClientRect.left + ($window.pageXOffset || $document[0].documentElement.scrollLeft)
        };
      },

      /**
       * Provides coordinates for the targetEl in relation to hostEl
       */
      positionElements: function(hostEl, targetEl, positionStr, appendToBody) {
        var positionStrParts = positionStr.split('-');
        var pos0 = positionStrParts[0], pos1 = positionStrParts[1] || 'center';

        var hostElPos,
          targetElWidth,
          targetElHeight,
          targetElPos;

        hostElPos = appendToBody ? this.offset(hostEl) : this.position(hostEl);

        targetElWidth = targetEl.prop('offsetWidth');
        targetElHeight = targetEl.prop('offsetHeight');

        var shiftWidth = {
          center: function() {
            return hostElPos.left + hostElPos.width / 2 - targetElWidth / 2;
          },
          left: function() {
            return hostElPos.left;
          },
          right: function() {
            return hostElPos.left + hostElPos.width;
          }
        };

        var shiftHeight = {
          center: function() {
            return hostElPos.top + hostElPos.height / 2 - targetElHeight / 2;
          },
          top: function() {
            return hostElPos.top;
          },
          bottom: function() {
            return hostElPos.top + hostElPos.height;
          }
        };

        switch (pos0) {
          case 'right':
            targetElPos = {
              top: shiftHeight[pos1](),
              left: shiftWidth[pos0]()
            };
            break;
          case 'left':
            targetElPos = {
              top: shiftHeight[pos1](),
              left: hostElPos.left - targetElWidth
            };
            break;
          case 'bottom':
            targetElPos = {
              top: shiftHeight[pos0](),
              left: shiftWidth[pos1]()
            };
            break;
          default:
            targetElPos = {
              top: hostElPos.top - targetElHeight,
              left: shiftWidth[pos1]()
            };
            break;
        }

        return targetElPos;
      }
    };
  }]);

/* Deprecated position below */

angular.module('ui.bootstrap.position')

.value('$positionSuppressWarning', false)

.service('$position', ['$log', '$positionSuppressWarning', '$uibPosition', function($log, $positionSuppressWarning, $uibPosition) {
  if (!$positionSuppressWarning) {
    $log.warn('$position is now deprecated. Use $uibPosition instead.');
  }

  angular.extend(this, $uibPosition);
}]);

angular.module('ui.bootstrap.datepicker', ['ui.bootstrap.dateparser', 'ui.bootstrap.position'])

.value('$datepickerSuppressError', false)

.constant('uibDatepickerConfig', {
  formatDay: 'dd',
  formatMonth: 'MMMM',
  formatYear: 'yyyy',
  formatDayHeader: 'EEE',
  formatDayTitle: 'MMMM yyyy',
  formatMonthTitle: 'yyyy',
  datepickerMode: 'day',
  minMode: 'day',
  maxMode: 'year',
  showWeeks: true,
  startingDay: 0,
  yearRange: 20,
  minDate: null,
  maxDate: null,
  shortcutPropagation: false
})

.controller('UibDatepickerController', ['$scope', '$attrs', '$parse', '$interpolate', '$log', 'dateFilter', 'uibDatepickerConfig', '$datepickerSuppressError', function($scope, $attrs, $parse, $interpolate, $log, dateFilter, datepickerConfig, $datepickerSuppressError) {
  var self = this,
      ngModelCtrl = { $setViewValue: angular.noop }; // nullModelCtrl;

  // Modes chain
  this.modes = ['day', 'month', 'year'];

  // Configuration attributes
  angular.forEach(['formatDay', 'formatMonth', 'formatYear', 'formatDayHeader', 'formatDayTitle', 'formatMonthTitle',
                   'showWeeks', 'startingDay', 'yearRange', 'shortcutPropagation'], function(key, index) {
    self[key] = angular.isDefined($attrs[key]) ? (index < 6 ? $interpolate($attrs[key])($scope.$parent) : $scope.$parent.$eval($attrs[key])) : datepickerConfig[key];
  });

  // Watchable date attributes
  angular.forEach(['minDate', 'maxDate'], function(key) {
    if ($attrs[key]) {
      $scope.$parent.$watch($parse($attrs[key]), function(value) {
        self[key] = value ? new Date(value) : null;
        self.refreshView();
      });
    } else {
      self[key] = datepickerConfig[key] ? new Date(datepickerConfig[key]) : null;
    }
  });

  angular.forEach(['minMode', 'maxMode'], function(key) {
    if ($attrs[key]) {
      $scope.$parent.$watch($parse($attrs[key]), function(value) {
        self[key] = angular.isDefined(value) ? value : $attrs[key];
        $scope[key] = self[key];
        if ((key == 'minMode' && self.modes.indexOf($scope.datepickerMode) < self.modes.indexOf(self[key])) || (key == 'maxMode' && self.modes.indexOf($scope.datepickerMode) > self.modes.indexOf(self[key]))) {
          $scope.datepickerMode = self[key];
        }
      });
    } else {
      self[key] = datepickerConfig[key] || null;
      $scope[key] = self[key];
    }
  });

  $scope.datepickerMode = $scope.datepickerMode || datepickerConfig.datepickerMode;
  $scope.uniqueId = 'datepicker-' + $scope.$id + '-' + Math.floor(Math.random() * 10000);

  if (angular.isDefined($attrs.initDate)) {
    this.activeDate = $scope.$parent.$eval($attrs.initDate) || new Date();
    $scope.$parent.$watch($attrs.initDate, function(initDate) {
      if (initDate && (ngModelCtrl.$isEmpty(ngModelCtrl.$modelValue) || ngModelCtrl.$invalid)) {
        self.activeDate = initDate;
        self.refreshView();
      }
    });
  } else {
    this.activeDate = new Date();
  }

  $scope.isActive = function(dateObject) {
    if (self.compare(dateObject.date, self.activeDate) === 0) {
      $scope.activeDateId = dateObject.uid;
      return true;
    }
    return false;
  };

  this.init = function(ngModelCtrl_) {
    ngModelCtrl = ngModelCtrl_;

    ngModelCtrl.$render = function() {
      self.render();
    };
  };

  this.render = function() {
    if (ngModelCtrl.$viewValue) {
      var date = new Date(ngModelCtrl.$viewValue),
          isValid = !isNaN(date);

      if (isValid) {
        this.activeDate = date;
      } else if (!$datepickerSuppressError) {
        $log.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.');
      }
    }
    this.refreshView();
  };

  this.refreshView = function() {
    if (this.element) {
      this._refreshView();

      var date = ngModelCtrl.$viewValue ? new Date(ngModelCtrl.$viewValue) : null;
      ngModelCtrl.$setValidity('dateDisabled', !date || (this.element && !this.isDisabled(date)));
    }
  };

  this.createDateObject = function(date, format) {
    var model = ngModelCtrl.$viewValue ? new Date(ngModelCtrl.$viewValue) : null;
    return {
      date: date,
      label: dateFilter(date, format),
      selected: model && this.compare(date, model) === 0,
      disabled: this.isDisabled(date),
      current: this.compare(date, new Date()) === 0,
      customClass: this.customClass(date)
    };
  };

  this.isDisabled = function(date) {
    return ((this.minDate && this.compare(date, this.minDate) < 0) || (this.maxDate && this.compare(date, this.maxDate) > 0) || ($attrs.dateDisabled && $scope.dateDisabled({date: date, mode: $scope.datepickerMode})));
  };

  this.customClass = function(date) {
    return $scope.customClass({date: date, mode: $scope.datepickerMode});
  };

  // Split array into smaller arrays
  this.split = function(arr, size) {
    var arrays = [];
    while (arr.length > 0) {
      arrays.push(arr.splice(0, size));
    }
    return arrays;
  };

  $scope.select = function(date) {
    if ($scope.datepickerMode === self.minMode) {
      var dt = ngModelCtrl.$viewValue ? new Date(ngModelCtrl.$viewValue) : new Date(0, 0, 0, 0, 0, 0, 0);
      dt.setFullYear(date.getFullYear(), date.getMonth(), date.getDate());
      ngModelCtrl.$setViewValue(dt);
      ngModelCtrl.$render();
    } else {
      self.activeDate = date;
      $scope.datepickerMode = self.modes[self.modes.indexOf($scope.datepickerMode) - 1];
    }
  };

  $scope.move = function(direction) {
    var year = self.activeDate.getFullYear() + direction * (self.step.years || 0),
        month = self.activeDate.getMonth() + direction * (self.step.months || 0);
    self.activeDate.setFullYear(year, month, 1);
    self.refreshView();
  };

  $scope.toggleMode = function(direction) {
    direction = direction || 1;

    if (($scope.datepickerMode === self.maxMode && direction === 1) || ($scope.datepickerMode === self.minMode && direction === -1)) {
      return;
    }

    $scope.datepickerMode = self.modes[self.modes.indexOf($scope.datepickerMode) + direction];
  };

  // Key event mapper
  $scope.keys = { 13: 'enter', 32: 'space', 33: 'pageup', 34: 'pagedown', 35: 'end', 36: 'home', 37: 'left', 38: 'up', 39: 'right', 40: 'down' };

  var focusElement = function() {
    self.element[0].focus();
  };

  // Listen for focus requests from popup directive
  $scope.$on('uib:datepicker.focus', focusElement);

  $scope.keydown = function(evt) {
    var key = $scope.keys[evt.which];

    if (!key || evt.shiftKey || evt.altKey) {
      return;
    }

    evt.preventDefault();
    if (!self.shortcutPropagation) {
      evt.stopPropagation();
    }

    if (key === 'enter' || key === 'space') {
      if (self.isDisabled(self.activeDate)) {
        return; // do nothing
      }
      $scope.select(self.activeDate);
    } else if (evt.ctrlKey && (key === 'up' || key === 'down')) {
      $scope.toggleMode(key === 'up' ? 1 : -1);
    } else {
      self.handleKeyDown(key, evt);
      self.refreshView();
    }
  };
}])

.controller('UibDaypickerController', ['$scope', '$element', 'dateFilter', function(scope, $element, dateFilter) {
  var DAYS_IN_MONTH = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];

  this.step = { months: 1 };
  this.element = $element;
  function getDaysInMonth(year, month) {
    return ((month === 1) && (year % 4 === 0) && ((year % 100 !== 0) || (year % 400 === 0))) ? 29 : DAYS_IN_MONTH[month];
  }

  this.init = function(ctrl) {
    angular.extend(ctrl, this);
    scope.showWeeks = ctrl.showWeeks;
    ctrl.refreshView();
  };

  this.getDates = function(startDate, n) {
    var dates = new Array(n), current = new Date(startDate), i = 0, date;
    while (i < n) {
      date = new Date(current);
      dates[i++] = date;
      current.setDate(current.getDate() + 1);
    }
    return dates;
  };

  this._refreshView = function() {
    var year = this.activeDate.getFullYear(),
      month = this.activeDate.getMonth(),
      firstDayOfMonth = new Date(this.activeDate);

    firstDayOfMonth.setFullYear(year, month, 1);

    var difference = this.startingDay - firstDayOfMonth.getDay(),
      numDisplayedFromPreviousMonth = (difference > 0) ? 7 - difference : - difference,
      firstDate = new Date(firstDayOfMonth);

    if (numDisplayedFromPreviousMonth > 0) {
      firstDate.setDate(-numDisplayedFromPreviousMonth + 1);
    }

    // 42 is the number of days on a six-month calendar
    var days = this.getDates(firstDate, 42);
    for (var i = 0; i < 42; i ++) {
      days[i] = angular.extend(this.createDateObject(days[i], this.formatDay), {
        secondary: days[i].getMonth() !== month,
        uid: scope.uniqueId + '-' + i
      });
    }

    scope.labels = new Array(7);
    for (var j = 0; j < 7; j++) {
      scope.labels[j] = {
        abbr: dateFilter(days[j].date, this.formatDayHeader),
        full: dateFilter(days[j].date, 'EEEE')
      };
    }

    scope.title = dateFilter(this.activeDate, this.formatDayTitle);
    scope.rows = this.split(days, 7);

    if (scope.showWeeks) {
      scope.weekNumbers = [];
      var thursdayIndex = (4 + 7 - this.startingDay) % 7,
          numWeeks = scope.rows.length;
      for (var curWeek = 0; curWeek < numWeeks; curWeek++) {
        scope.weekNumbers.push(
          getISO8601WeekNumber(scope.rows[curWeek][thursdayIndex].date));
      }
    }
  };

  this.compare = function(date1, date2) {
    return (new Date(date1.getFullYear(), date1.getMonth(), date1.getDate()) - new Date(date2.getFullYear(), date2.getMonth(), date2.getDate()));
  };

  function getISO8601WeekNumber(date) {
    var checkDate = new Date(date);
    checkDate.setDate(checkDate.getDate() + 4 - (checkDate.getDay() || 7)); // Thursday
    var time = checkDate.getTime();
    checkDate.setMonth(0); // Compare with Jan 1
    checkDate.setDate(1);
    return Math.floor(Math.round((time - checkDate) / 86400000) / 7) + 1;
  }

  this.handleKeyDown = function(key, evt) {
    var date = this.activeDate.getDate();

    if (key === 'left') {
      date = date - 1;   // up
    } else if (key === 'up') {
      date = date - 7;   // down
    } else if (key === 'right') {
      date = date + 1;   // down
    } else if (key === 'down') {
      date = date + 7;
    } else if (key === 'pageup' || key === 'pagedown') {
      var month = this.activeDate.getMonth() + (key === 'pageup' ? - 1 : 1);
      this.activeDate.setMonth(month, 1);
      date = Math.min(getDaysInMonth(this.activeDate.getFullYear(), this.activeDate.getMonth()), date);
    } else if (key === 'home') {
      date = 1;
    } else if (key === 'end') {
      date = getDaysInMonth(this.activeDate.getFullYear(), this.activeDate.getMonth());
    }
    this.activeDate.setDate(date);
  };
}])

.controller('UibMonthpickerController', ['$scope', '$element', 'dateFilter', function(scope, $element, dateFilter) {
  this.step = { years: 1 };
  this.element = $element;

  this.init = function(ctrl) {
    angular.extend(ctrl, this);
    ctrl.refreshView();
  };

  this._refreshView = function() {
    var months = new Array(12),
        year = this.activeDate.getFullYear(),
        date;

    for (var i = 0; i < 12; i++) {
      date = new Date(this.activeDate);
      date.setFullYear(year, i, 1);
      months[i] = angular.extend(this.createDateObject(date, this.formatMonth), {
        uid: scope.uniqueId + '-' + i
      });
    }

    scope.title = dateFilter(this.activeDate, this.formatMonthTitle);
    scope.rows = this.split(months, 3);
  };

  this.compare = function(date1, date2) {
    return new Date(date1.getFullYear(), date1.getMonth()) - new Date(date2.getFullYear(), date2.getMonth());
  };

  this.handleKeyDown = function(key, evt) {
    var date = this.activeDate.getMonth();

    if (key === 'left') {
      date = date - 1;   // up
    } else if (key === 'up') {
      date = date - 3;   // down
    } else if (key === 'right') {
      date = date + 1;   // down
    } else if (key === 'down') {
      date = date + 3;
    } else if (key === 'pageup' || key === 'pagedown') {
      var year = this.activeDate.getFullYear() + (key === 'pageup' ? - 1 : 1);
      this.activeDate.setFullYear(year);
    } else if (key === 'home') {
      date = 0;
    } else if (key === 'end') {
      date = 11;
    }
    this.activeDate.setMonth(date);
  };
}])

.controller('UibYearpickerController', ['$scope', '$element', 'dateFilter', function(scope, $element, dateFilter) {
  var range;
  this.element = $element;

  function getStartingYear(year) {
    return parseInt((year - 1) / range, 10) * range + 1;
  }

  this.yearpickerInit = function() {
    range = this.yearRange;
    this.step = { years: range };
  };

  this._refreshView = function() {
    var years = new Array(range), date;

    for (var i = 0, start = getStartingYear(this.activeDate.getFullYear()); i < range; i++) {
      date = new Date(this.activeDate);
      date.setFullYear(start + i, 0, 1);
      years[i] = angular.extend(this.createDateObject(date, this.formatYear), {
        uid: scope.uniqueId + '-' + i
      });
    }

    scope.title = [years[0].label, years[range - 1].label].join(' - ');
    scope.rows = this.split(years, 5);
  };

  this.compare = function(date1, date2) {
    return date1.getFullYear() - date2.getFullYear();
  };

  this.handleKeyDown = function(key, evt) {
    var date = this.activeDate.getFullYear();

    if (key === 'left') {
      date = date - 1;   // up
    } else if (key === 'up') {
      date = date - 5;   // down
    } else if (key === 'right') {
      date = date + 1;   // down
    } else if (key === 'down') {
      date = date + 5;
    } else if (key === 'pageup' || key === 'pagedown') {
      date += (key === 'pageup' ? - 1 : 1) * this.step.years;
    } else if (key === 'home') {
      date = getStartingYear(this.activeDate.getFullYear());
    } else if (key === 'end') {
      date = getStartingYear(this.activeDate.getFullYear()) + range - 1;
    }
    this.activeDate.setFullYear(date);
  };
}])

.directive('uibDatepicker', function() {
  return {
    replace: true,
    templateUrl: function(element, attrs) {
      return attrs.templateUrl || 'template/datepicker/datepicker.html';
    },
    scope: {
      datepickerMode: '=?',
      dateDisabled: '&',
      customClass: '&',
      shortcutPropagation: '&?'
    },
    require: ['uibDatepicker', '^ngModel'],
    controller: 'UibDatepickerController',
    controllerAs: 'datepicker',
    link: function(scope, element, attrs, ctrls) {
      var datepickerCtrl = ctrls[0], ngModelCtrl = ctrls[1];

      datepickerCtrl.init(ngModelCtrl);
    }
  };
})

.directive('uibDaypicker', function() {
  return {
    replace: true,
    templateUrl: function(element, attrs) {
      return attrs.templateUrl || 'template/datepicker/day.html';
    },
    require: ['^?uibDatepicker', 'uibDaypicker', '^?datepicker'],
    controller: 'UibDaypickerController',
    link: function(scope, element, attrs, ctrls) {
      var datepickerCtrl = ctrls[0] || ctrls[2],
        daypickerCtrl = ctrls[1];

      daypickerCtrl.init(datepickerCtrl);
    }
  };
})

.directive('uibMonthpicker', function() {
  return {
    replace: true,
    templateUrl: function(element, attrs) {
      return attrs.templateUrl || 'template/datepicker/month.html';
    },
    require: ['^?uibDatepicker', 'uibMonthpicker', '^?datepicker'],
    controller: 'UibMonthpickerController',
    link: function(scope, element, attrs, ctrls) {
      var datepickerCtrl = ctrls[0] || ctrls[2],
        monthpickerCtrl = ctrls[1];

      monthpickerCtrl.init(datepickerCtrl);
    }
  };
})

.directive('uibYearpicker', function() {
  return {
    replace: true,
    templateUrl: function(element, attrs) {
      return attrs.templateUrl || 'template/datepicker/year.html';
    },
    require: ['^?uibDatepicker', 'uibYearpicker', '^?datepicker'],
    controller: 'UibYearpickerController',
    link: function(scope, element, attrs, ctrls) {
      var ctrl = ctrls[0] || ctrls[2];
      angular.extend(ctrl, ctrls[1]);
      ctrl.yearpickerInit();

      ctrl.refreshView();
    }
  };
})

.constant('uibDatepickerPopupConfig', {
  datepickerPopup: 'yyyy-MM-dd',
  datepickerPopupTemplateUrl: 'template/datepicker/popup.html',
  datepickerTemplateUrl: 'template/datepicker/datepicker.html',
  html5Types: {
    date: 'yyyy-MM-dd',
    'datetime-local': 'yyyy-MM-ddTHH:mm:ss.sss',
    'month': 'yyyy-MM'
  },
  currentText: 'Today',
  clearText: 'Clear',
  closeText: 'Done',
  closeOnDateSelection: true,
  appendToBody: false,
  showButtonBar: true,
  onOpenFocus: true
})

.controller('UibDatepickerPopupController', ['$scope', '$element', '$attrs', '$compile', '$parse', '$document', '$rootScope', '$uibPosition', 'dateFilter', 'uibDateParser', 'uibDatepickerPopupConfig', '$timeout',
function(scope, element, attrs, $compile, $parse, $document, $rootScope, $position, dateFilter, dateParser, datepickerPopupConfig, $timeout) {
  var self = this;
  var cache = {},
    isHtml5DateInput = false;
  var dateFormat, closeOnDateSelection, appendToBody, onOpenFocus,
    datepickerPopupTemplateUrl, datepickerTemplateUrl, popupEl, datepickerEl,
    ngModel, $popup;

  scope.watchData = {};

  this.init = function(_ngModel_) {
    ngModel = _ngModel_;
    closeOnDateSelection = angular.isDefined(attrs.closeOnDateSelection) ? scope.$parent.$eval(attrs.closeOnDateSelection) : datepickerPopupConfig.closeOnDateSelection;
    appendToBody = angular.isDefined(attrs.datepickerAppendToBody) ? scope.$parent.$eval(attrs.datepickerAppendToBody) : datepickerPopupConfig.appendToBody;
    onOpenFocus = angular.isDefined(attrs.onOpenFocus) ? scope.$parent.$eval(attrs.onOpenFocus) : datepickerPopupConfig.onOpenFocus;
    datepickerPopupTemplateUrl = angular.isDefined(attrs.datepickerPopupTemplateUrl) ? attrs.datepickerPopupTemplateUrl : datepickerPopupConfig.datepickerPopupTemplateUrl;
    datepickerTemplateUrl = angular.isDefined(attrs.datepickerTemplateUrl) ? attrs.datepickerTemplateUrl : datepickerPopupConfig.datepickerTemplateUrl;

    scope.showButtonBar = angular.isDefined(attrs.showButtonBar) ? scope.$parent.$eval(attrs.showButtonBar) : datepickerPopupConfig.showButtonBar;

    if (datepickerPopupConfig.html5Types[attrs.type]) {
      dateFormat = datepickerPopupConfig.html5Types[attrs.type];
      isHtml5DateInput = true;
    } else {
      dateFormat = attrs.datepickerPopup || attrs.uibDatepickerPopup || datepickerPopupConfig.datepickerPopup;
      attrs.$observe('uibDatepickerPopup', function(value, oldValue) {
          var newDateFormat = value || datepickerPopupConfig.datepickerPopup;
          // Invalidate the $modelValue to ensure that formatters re-run
          // FIXME: Refactor when PR is merged: https://github.com/angular/angular.js/pull/10764
          if (newDateFormat !== dateFormat) {
            dateFormat = newDateFormat;
            ngModel.$modelValue = null;

            if (!dateFormat) {
              throw new Error('uibDatepickerPopup must have a date format specified.');
            }
          }
      });
    }

    if (!dateFormat) {
      throw new Error('uibDatepickerPopup must have a date format specified.');
    }

    if (isHtml5DateInput && attrs.datepickerPopup) {
      throw new Error('HTML5 date input types do not support custom formats.');
    }

    // popup element used to display calendar
    popupEl = angular.element('<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>');
    popupEl.attr({
      'ng-model': 'date',
      'ng-change': 'dateSelection(date)',
      'template-url': datepickerPopupTemplateUrl
    });

    // datepicker element
    datepickerEl = angular.element(popupEl.children()[0]);
    datepickerEl.attr('template-url', datepickerTemplateUrl);

    if (isHtml5DateInput) {
      if (attrs.type === 'month') {
        datepickerEl.attr('datepicker-mode', '"month"');
        datepickerEl.attr('min-mode', 'month');
      }
    }

    if (attrs.datepickerOptions) {
      var options = scope.$parent.$eval(attrs.datepickerOptions);
      if (options && options.initDate) {
        scope.initDate = options.initDate;
        datepickerEl.attr('init-date', 'initDate');
        delete options.initDate;
      }
      angular.forEach(options, function(value, option) {
        datepickerEl.attr(cameltoDash(option), value);
      });
    }

    angular.forEach(['minMode', 'maxMode', 'minDate', 'maxDate', 'datepickerMode', 'initDate', 'shortcutPropagation'], function(key) {
      if (attrs[key]) {
        var getAttribute = $parse(attrs[key]);
        scope.$parent.$watch(getAttribute, function(value) {
          scope.watchData[key] = value;
          if (key === 'minDate' || key === 'maxDate') {
            cache[key] = new Date(value);
          }
        });
        datepickerEl.attr(cameltoDash(key), 'watchData.' + key);

        // Propagate changes from datepicker to outside
        if (key === 'datepickerMode') {
          var setAttribute = getAttribute.assign;
          scope.$watch('watchData.' + key, function(value, oldvalue) {
            if (angular.isFunction(setAttribute) && value !== oldvalue) {
              setAttribute(scope.$parent, value);
            }
          });
        }
      }
    });
    if (attrs.dateDisabled) {
      datepickerEl.attr('date-disabled', 'dateDisabled({ date: date, mode: mode })');
    }

    if (attrs.showWeeks) {
      datepickerEl.attr('show-weeks', attrs.showWeeks);
    }

    if (attrs.customClass) {
      datepickerEl.attr('custom-class', 'customClass({ date: date, mode: mode })');
    }

    if (!isHtml5DateInput) {
      // Internal API to maintain the correct ng-invalid-[key] class
      ngModel.$$parserName = 'date';
      ngModel.$validators.date = validator;
      ngModel.$parsers.unshift(parseDate);
      ngModel.$formatters.push(function(value) {
        scope.date = value;
        return ngModel.$isEmpty(value) ? value : dateFilter(value, dateFormat);
      });
    } else {
      ngModel.$formatters.push(function(value) {
        scope.date = value;
        return value;
      });
    }

    // Detect changes in the view from the text box
    ngModel.$viewChangeListeners.push(function() {
      scope.date = dateParser.parse(ngModel.$viewValue, dateFormat, scope.date);
    });

    element.bind('keydown', inputKeydownBind);

    $popup = $compile(popupEl)(scope);
    // Prevent jQuery cache memory leak (template is now redundant after linking)
    popupEl.remove();

    if (appendToBody) {
      $document.find('body').append($popup);
    } else {
      element.after($popup);
    }

    scope.$on('$destroy', function() {
      if (scope.isOpen === true) {
        if (!$rootScope.$$phase) {
          scope.$apply(function() {
            scope.isOpen = false;
          });
        }
      }

      $popup.remove();
      element.unbind('keydown', inputKeydownBind);
      $document.unbind('click', documentClickBind);
    });
  };

  scope.getText = function(key) {
    return scope[key + 'Text'] || datepickerPopupConfig[key + 'Text'];
  };

  scope.isDisabled = function(date) {
    if (date === 'today') {
      date = new Date();
    }

    return ((scope.watchData.minDate && scope.compare(date, cache.minDate) < 0) ||
      (scope.watchData.maxDate && scope.compare(date, cache.maxDate) > 0));
  };

  scope.compare = function(date1, date2) {
    return (new Date(date1.getFullYear(), date1.getMonth(), date1.getDate()) - new Date(date2.getFullYear(), date2.getMonth(), date2.getDate()));
  };

  // Inner change
  scope.dateSelection = function(dt) {
    if (angular.isDefined(dt)) {
      scope.date = dt;
    }
    var date = scope.date ? dateFilter(scope.date, dateFormat) : null; // Setting to NULL is necessary for form validators to function
    element.val(date);
    ngModel.$setViewValue(date);

    if (closeOnDateSelection) {
      scope.isOpen = false;
      element[0].focus();
    }
  };

  scope.keydown = function(evt) {
    if (evt.which === 27) {
      scope.isOpen = false;
      element[0].focus();
    }
  };

  scope.select = function(date) {
    if (date === 'today') {
      var today = new Date();
      if (angular.isDate(scope.date)) {
        date = new Date(scope.date);
        date.setFullYear(today.getFullYear(), today.getMonth(), today.getDate());
      } else {
        date = new Date(today.setHours(0, 0, 0, 0));
      }
    }
    scope.dateSelection(date);
  };

  scope.close = function() {
    scope.isOpen = false;
    element[0].focus();
  };

  scope.$watch('isOpen', function(value) {
    if (value) {
      scope.position = appendToBody ? $position.offset(element) : $position.position(element);
      scope.position.top = scope.position.top + element.prop('offsetHeight');

      $timeout(function() {
        if (onOpenFocus) {
          scope.$broadcast('uib:datepicker.focus');
        }
        $document.bind('click', documentClickBind);
      }, 0, false);
    } else {
      $document.unbind('click', documentClickBind);
    }
  });

  function cameltoDash(string) {
    return string.replace(/([A-Z])/g, function($1) { return '-' + $1.toLowerCase(); });
  }

  function parseDate(viewValue) {
    if (angular.isNumber(viewValue)) {
      // presumably timestamp to date object
      viewValue = new Date(viewValue);
    }

    if (!viewValue) {
      return null;
    } else if (angular.isDate(viewValue) && !isNaN(viewValue)) {
      return viewValue;
    } else if (angular.isString(viewValue)) {
      var date = dateParser.parse(viewValue, dateFormat, scope.date);
      if (isNaN(date)) {
        return undefined;
      } else {
        return date;
      }
    } else {
      return undefined;
    }
  }

  function validator(modelValue, viewValue) {
    var value = modelValue || viewValue;

    if (!attrs.ngRequired && !value) {
      return true;
    }

    if (angular.isNumber(value)) {
      value = new Date(value);
    }
    if (!value) {
      return true;
    } else if (angular.isDate(value) && !isNaN(value)) {
      return true;
    } else if (angular.isString(value)) {
      var date = dateParser.parse(value, dateFormat);
      return !isNaN(date);
    } else {
      return false;
    }
  }

  function documentClickBind(event) {
    var popup = $popup[0];
    var dpContainsTarget = element[0].contains(event.target);
    // The popup node may not be an element node
    // In some browsers (IE) only element nodes have the 'contains' function
    var popupContainsTarget = popup.contains !== undefined && popup.contains(event.target);
    if (scope.isOpen && !(dpContainsTarget || popupContainsTarget)) {
      scope.$apply(function() {
        scope.isOpen = false;
      });
    }
  }

  function inputKeydownBind(evt) {
    if (evt.which === 27 && scope.isOpen) {
      evt.preventDefault();
      evt.stopPropagation();
      scope.$apply(function() {
        scope.isOpen = false;
      });
      element[0].focus();
    } else if (evt.which === 40 && !scope.isOpen) {
      evt.preventDefault();
      evt.stopPropagation();
      scope.$apply(function() {
        scope.isOpen = true;
      });
    }
  }
}])

.directive('uibDatepickerPopup', function() {
  return {
    require: ['ngModel', 'uibDatepickerPopup'],
    controller: 'UibDatepickerPopupController',
    scope: {
      isOpen: '=?',
      currentText: '@',
      clearText: '@',
      closeText: '@',
      dateDisabled: '&',
      customClass: '&'
    },
    link: function(scope, element, attrs, ctrls) {
      var ngModel = ctrls[0],
        ctrl = ctrls[1];

      ctrl.init(ngModel);
    }
  };
})

.directive('uibDatepickerPopupWrap', function() {
  return {
    replace: true,
    transclude: true,
    templateUrl: function(element, attrs) {
      return attrs.templateUrl || 'template/datepicker/popup.html';
    }
  };
});

/* Deprecated datepicker below */

angular.module('ui.bootstrap.datepicker')

.value('$datepickerSuppressWarning', false)

.controller('DatepickerController', ['$scope', '$attrs', '$parse', '$interpolate', '$log', 'dateFilter', 'uibDatepickerConfig', '$datepickerSuppressError', '$datepickerSuppressWarning', function($scope, $attrs, $parse, $interpolate, $log, dateFilter, datepickerConfig, $datepickerSuppressError, $datepickerSuppressWarning) {
  if (!$datepickerSuppressWarning) {
    $log.warn('DatepickerController is now deprecated. Use UibDatepickerController instead.');
  }

  var self = this,
    ngModelCtrl = { $setViewValue: angular.noop }; // nullModelCtrl;

  this.modes = ['day', 'month', 'year'];

  angular.forEach(['formatDay', 'formatMonth', 'formatYear', 'formatDayHeader', 'formatDayTitle', 'formatMonthTitle',
    'showWeeks', 'startingDay', 'yearRange', 'shortcutPropagation'], function(key, index) {
    self[key] = angular.isDefined($attrs[key]) ? (index < 6 ? $interpolate($attrs[key])($scope.$parent) : $scope.$parent.$eval($attrs[key])) : datepickerConfig[key];
  });

  angular.forEach(['minDate', 'maxDate'], function(key) {
    if ($attrs[key]) {
      $scope.$parent.$watch($parse($attrs[key]), function(value) {
        self[key] = value ? new Date(value) : null;
        self.refreshView();
      });
    } else {
      self[key] = datepickerConfig[key] ? new Date(datepickerConfig[key]) : null;
    }
  });

  angular.forEach(['minMode', 'maxMode'], function(key) {
    if ($attrs[key]) {
      $scope.$parent.$watch($parse($attrs[key]), function(value) {
        self[key] = angular.isDefined(value) ? value : $attrs[key];
        $scope[key] = self[key];
        if ((key == 'minMode' && self.modes.indexOf($scope.datepickerMode) < self.modes.indexOf(self[key])) || (key == 'maxMode' && self.modes.indexOf($scope.datepickerMode) > self.modes.indexOf(self[key]))) {
          $scope.datepickerMode = self[key];
        }
      });
    } else {
      self[key] = datepickerConfig[key] || null;
      $scope[key] = self[key];
    }
  });

  $scope.datepickerMode = $scope.datepickerMode || datepickerConfig.datepickerMode;
  $scope.uniqueId = 'datepicker-' + $scope.$id + '-' + Math.floor(Math.random() * 10000);

  if (angular.isDefined($attrs.initDate)) {
    this.activeDate = $scope.$parent.$eval($attrs.initDate) || new Date();
    $scope.$parent.$watch($attrs.initDate, function(initDate) {
      if (initDate && (ngModelCtrl.$isEmpty(ngModelCtrl.$modelValue) || ngModelCtrl.$invalid)) {
        self.activeDate = initDate;
        self.refreshView();
      }
    });
  } else {
    this.activeDate = new Date();
  }

  $scope.isActive = function(dateObject) {
    if (self.compare(dateObject.date, self.activeDate) === 0) {
      $scope.activeDateId = dateObject.uid;
      return true;
    }
    return false;
  };

  this.init = function(ngModelCtrl_) {
    ngModelCtrl = ngModelCtrl_;

    ngModelCtrl.$render = function() {
      self.render();
    };
  };

  this.render = function() {
    if (ngModelCtrl.$viewValue) {
      var date = new Date(ngModelCtrl.$viewValue),
        isValid = !isNaN(date);

      if (isValid) {
        this.activeDate = date;
      } else if (!$datepickerSuppressError) {
        $log.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.');
      }
    }
    this.refreshView();
  };

  this.refreshView = function() {
    if (this.element) {
      this._refreshView();

      var date = ngModelCtrl.$viewValue ? new Date(ngModelCtrl.$viewValue) : null;
      ngModelCtrl.$setValidity('dateDisabled', !date || (this.element && !this.isDisabled(date)));
    }
  };

  this.createDateObject = function(date, format) {
    var model = ngModelCtrl.$viewValue ? new Date(ngModelCtrl.$viewValue) : null;
    return {
      date: date,
      label: dateFilter(date, format),
      selected: model && this.compare(date, model) === 0,
      disabled: this.isDisabled(date),
      current: this.compare(date, new Date()) === 0,
      customClass: this.customClass(date)
    };
  };

  this.isDisabled = function(date) {
    return ((this.minDate && this.compare(date, this.minDate) < 0) || (this.maxDate && this.compare(date, this.maxDate) > 0) || ($attrs.dateDisabled && $scope.dateDisabled({date: date, mode: $scope.datepickerMode})));
  };

  this.customClass = function(date) {
    return $scope.customClass({date: date, mode: $scope.datepickerMode});
  };

  // Split array into smaller arrays
  this.split = function(arr, size) {
    var arrays = [];
    while (arr.length > 0) {
      arrays.push(arr.splice(0, size));
    }
    return arrays;
  };

  this.fixTimeZone = function(date) {
    var hours = date.getHours();
    date.setHours(hours === 23 ? hours + 2 : 0);
  };

  $scope.select = function(date) {
    if ($scope.datepickerMode === self.minMode) {
      var dt = ngModelCtrl.$viewValue ? new Date(ngModelCtrl.$viewValue) : new Date(0, 0, 0, 0, 0, 0, 0);
      dt.setFullYear(date.getFullYear(), date.getMonth(), date.getDate());
      ngModelCtrl.$setViewValue(dt);
      ngModelCtrl.$render();
    } else {
      self.activeDate = date;
      $scope.datepickerMode = self.modes[self.modes.indexOf($scope.datepickerMode) - 1];
    }
  };

  $scope.move = function(direction) {
    var year = self.activeDate.getFullYear() + direction * (self.step.years || 0),
      month = self.activeDate.getMonth() + direction * (self.step.months || 0);
    self.activeDate.setFullYear(year, month, 1);
    self.refreshView();
  };

  $scope.toggleMode = function(direction) {
    direction = direction || 1;

    if (($scope.datepickerMode === self.maxMode && direction === 1) || ($scope.datepickerMode === self.minMode && direction === -1)) {
      return;
    }

    $scope.datepickerMode = self.modes[self.modes.indexOf($scope.datepickerMode) + direction];
  };

  // Key event mapper
  $scope.keys = { 13: 'enter', 32: 'space', 33: 'pageup', 34: 'pagedown', 35: 'end', 36: 'home', 37: 'left', 38: 'up', 39: 'right', 40: 'down' };

  var focusElement = function() {
    self.element[0].focus();
  };

  $scope.$on('uib:datepicker.focus', focusElement);

  $scope.keydown = function(evt) {
    var key = $scope.keys[evt.which];

    if (!key || evt.shiftKey || evt.altKey) {
      return;
    }

    evt.preventDefault();
    if (!self.shortcutPropagation) {
      evt.stopPropagation();
    }

    if (key === 'enter' || key === 'space') {
      if (self.isDisabled(self.activeDate)) {
        return; // do nothing
      }
      $scope.select(self.activeDate);
    } else if (evt.ctrlKey && (key === 'up' || key === 'down')) {
      $scope.toggleMode(key === 'up' ? 1 : -1);
    } else {
      self.handleKeyDown(key, evt);
      self.refreshView();
    }
  };
}])

.directive('datepicker', ['$log', '$datepickerSuppressWarning', function($log, $datepickerSuppressWarning) {
  return {
    replace: true,
    templateUrl: function(element, attrs) {
      return attrs.templateUrl || 'template/datepicker/datepicker.html';
    },
    scope: {
      datepickerMode: '=?',
      dateDisabled: '&',
      customClass: '&',
      shortcutPropagation: '&?'
    },
    require: ['datepicker', '^ngModel'],
    controller: 'DatepickerController',
    controllerAs: 'datepicker',
    link: function(scope, element, attrs, ctrls) {
      if (!$datepickerSuppressWarning) {
        $log.warn('datepicker is now deprecated. Use uib-datepicker instead.');
      }

      var datepickerCtrl = ctrls[0], ngModelCtrl = ctrls[1];

      datepickerCtrl.init(ngModelCtrl);
    }
  };
}])

.directive('daypicker', ['$log', '$datepickerSuppressWarning', function($log, $datepickerSuppressWarning) {
  return {
    replace: true,
    templateUrl: 'template/datepicker/day.html',
    require: ['^datepicker', 'daypicker'],
    controller: 'UibDaypickerController',
    link: function(scope, element, attrs, ctrls) {
      if (!$datepickerSuppressWarning) {
        $log.warn('daypicker is now deprecated. Use uib-daypicker instead.');
      }

      var datepickerCtrl = ctrls[0],
        daypickerCtrl = ctrls[1];

      daypickerCtrl.init(datepickerCtrl);
    }
  };
}])

.directive('monthpicker', ['$log', '$datepickerSuppressWarning', function($log, $datepickerSuppressWarning) {
  return {
    replace: true,
    templateUrl: 'template/datepicker/month.html',
    require: ['^datepicker', 'monthpicker'],
    controller: 'UibMonthpickerController',
    link: function(scope, element, attrs, ctrls) {
      if (!$datepickerSuppressWarning) {
        $log.warn('monthpicker is now deprecated. Use uib-monthpicker instead.');
      }

      var datepickerCtrl = ctrls[0],
        monthpickerCtrl = ctrls[1];

      monthpickerCtrl.init(datepickerCtrl);
    }
  };
}])

.directive('yearpicker', ['$log', '$datepickerSuppressWarning', function($log, $datepickerSuppressWarning) {
  return {
    replace: true,
    templateUrl: 'template/datepicker/year.html',
    require: ['^datepicker', 'yearpicker'],
    controller: 'UibYearpickerController',
    link: function(scope, element, attrs, ctrls) {
      if (!$datepickerSuppressWarning) {
        $log.warn('yearpicker is now deprecated. Use uib-yearpicker instead.');
      }

      var ctrl = ctrls[0];
      angular.extend(ctrl, ctrls[1]);
      ctrl.yearpickerInit();

      ctrl.refreshView();
    }
  };
}])

.directive('datepickerPopup', ['$log', '$datepickerSuppressWarning', function($log, $datepickerSuppressWarning) {
  return {
    require: ['ngModel', 'datepickerPopup'],
    controller: 'UibDatepickerPopupController',
    scope: {
      isOpen: '=?',
      currentText: '@',
      clearText: '@',
      closeText: '@',
      dateDisabled: '&',
      customClass: '&'
    },
    link: function(scope, element, attrs, ctrls) {
      if (!$datepickerSuppressWarning) {
        $log.warn('datepicker-popup is now deprecated. Use uib-datepicker-popup instead.');
      }

      var ngModel = ctrls[0],
        ctrl = ctrls[1];

      ctrl.init(ngModel);
    }
  };
}])

.directive('datepickerPopupWrap', ['$log', '$datepickerSuppressWarning', function($log, $datepickerSuppressWarning) {
  return {
    replace: true,
    transclude: true,
    templateUrl: function(element, attrs) {
      return attrs.templateUrl || 'template/datepicker/popup.html';
    },
    link: function() {
      if (!$datepickerSuppressWarning) {
        $log.warn('datepicker-popup-wrap is now deprecated. Use uib-datepicker-popup-wrap instead.');
      }
    }
  };
}]);

angular.module('ui.bootstrap.dropdown', ['ui.bootstrap.position'])

.constant('uibDropdownConfig', {
  openClass: 'open'
})

.service('uibDropdownService', ['$document', '$rootScope', function($document, $rootScope) {
  var openScope = null;

  this.open = function(dropdownScope) {
    if (!openScope) {
      $document.bind('click', closeDropdown);
      $document.bind('keydown', keybindFilter);
    }

    if (openScope && openScope !== dropdownScope) {
      openScope.isOpen = false;
    }

    openScope = dropdownScope;
  };

  this.close = function(dropdownScope) {
    if (openScope === dropdownScope) {
      openScope = null;
      $document.unbind('click', closeDropdown);
      $document.unbind('keydown', keybindFilter);
    }
  };

  var closeDropdown = function(evt) {
    // This method may still be called during the same mouse event that
    // unbound this event handler. So check openScope before proceeding.
    if (!openScope) { return; }

    if (evt && openScope.getAutoClose() === 'disabled')  { return ; }

    var toggleElement = openScope.getToggleElement();
    if (evt && toggleElement && toggleElement[0].contains(evt.target)) {
      return;
    }

    var dropdownElement = openScope.getDropdownElement();
    if (evt && openScope.getAutoClose() === 'outsideClick' &&
      dropdownElement && dropdownElement[0].contains(evt.target)) {
      return;
    }

    openScope.isOpen = false;

    if (!$rootScope.$$phase) {
      openScope.$apply();
    }
  };

  var keybindFilter = function(evt) {
    if (evt.which === 27) {
      openScope.focusToggleElement();
      closeDropdown();
    } else if (openScope.isKeynavEnabled() && /(38|40)/.test(evt.which) && openScope.isOpen) {
      evt.preventDefault();
      evt.stopPropagation();
      openScope.focusDropdownEntry(evt.which);
    }
  };
}])

.controller('UibDropdownController', ['$scope', '$element', '$attrs', '$parse', 'uibDropdownConfig', 'uibDropdownService', '$animate', '$uibPosition', '$document', '$compile', '$templateRequest', function($scope, $element, $attrs, $parse, dropdownConfig, uibDropdownService, $animate, $position, $document, $compile, $templateRequest) {
  var self = this,
    scope = $scope.$new(), // create a child scope so we are not polluting original one
    templateScope,
    openClass = dropdownConfig.openClass,
    getIsOpen,
    setIsOpen = angular.noop,
    toggleInvoker = $attrs.onToggle ? $parse($attrs.onToggle) : angular.noop,
    appendToBody = false,
    keynavEnabled =false,
    selectedOption = null;


  $element.addClass('dropdown');

  this.init = function() {
    if ($attrs.isOpen) {
      getIsOpen = $parse($attrs.isOpen);
      setIsOpen = getIsOpen.assign;

      $scope.$watch(getIsOpen, function(value) {
        scope.isOpen = !!value;
      });
    }

    appendToBody = angular.isDefined($attrs.dropdownAppendToBody);
    keynavEnabled = angular.isDefined($attrs.uibKeyboardNav);

    if (appendToBody && self.dropdownMenu) {
      $document.find('body').append(self.dropdownMenu);
      $element.on('$destroy', function handleDestroyEvent() {
        self.dropdownMenu.remove();
      });
    }
  };

  this.toggle = function(open) {
    return scope.isOpen = arguments.length ? !!open : !scope.isOpen;
  };

  // Allow other directives to watch status
  this.isOpen = function() {
    return scope.isOpen;
  };

  scope.getToggleElement = function() {
    return self.toggleElement;
  };

  scope.getAutoClose = function() {
    return $attrs.autoClose || 'always'; //or 'outsideClick' or 'disabled'
  };

  scope.getElement = function() {
    return $element;
  };

  scope.isKeynavEnabled = function() {
    return keynavEnabled;
  };

  scope.focusDropdownEntry = function(keyCode) {
    var elems = self.dropdownMenu ? //If append to body is used.
      (angular.element(self.dropdownMenu).find('a')) :
      (angular.element($element).find('ul').eq(0).find('a'));

    switch (keyCode) {
      case (40): {
        if (!angular.isNumber(self.selectedOption)) {
          self.selectedOption = 0;
        } else {
          self.selectedOption = (self.selectedOption === elems.length - 1 ?
            self.selectedOption :
            self.selectedOption + 1);
        }
        break;
      }
      case (38): {
        if (!angular.isNumber(self.selectedOption)) {
          self.selectedOption = elems.length - 1;
        } else {
          self.selectedOption = self.selectedOption === 0 ?
            0 : self.selectedOption - 1;
        }
        break;
      }
    }
    elems[self.selectedOption].focus();
  };

  scope.getDropdownElement = function() {
    return self.dropdownMenu;
  };

  scope.focusToggleElement = function() {
    if (self.toggleElement) {
      self.toggleElement[0].focus();
    }
  };

  scope.$watch('isOpen', function(isOpen, wasOpen) {
    if (appendToBody && self.dropdownMenu) {
      var pos = $position.positionElements($element, self.dropdownMenu, 'bottom-left', true);
      var css = {
        top: pos.top + 'px',
        display: isOpen ? 'block' : 'none'
      };

      var rightalign = self.dropdownMenu.hasClass('dropdown-menu-right');
      if (!rightalign) {
        css.left = pos.left + 'px';
        css.right = 'auto';
      } else {
        css.left = 'auto';
        css.right = (window.innerWidth - (pos.left + $element.prop('offsetWidth'))) + 'px';
      }

      self.dropdownMenu.css(css);
    }

    $animate[isOpen ? 'addClass' : 'removeClass']($element, openClass).then(function() {
      if (angular.isDefined(isOpen) && isOpen !== wasOpen) {
        toggleInvoker($scope, { open: !!isOpen });
      }
    });

    if (isOpen) {
      if (self.dropdownMenuTemplateUrl) {
        $templateRequest(self.dropdownMenuTemplateUrl).then(function(tplContent) {
          templateScope = scope.$new();
          $compile(tplContent.trim())(templateScope, function(dropdownElement) {
            var newEl = dropdownElement;
            self.dropdownMenu.replaceWith(newEl);
            self.dropdownMenu = newEl;
          });
        });
      }

      scope.focusToggleElement();
      uibDropdownService.open(scope);
    } else {
      if (self.dropdownMenuTemplateUrl) {
        if (templateScope) {
          templateScope.$destroy();
        }
        var newEl = angular.element('<ul class="dropdown-menu"></ul>');
        self.dropdownMenu.replaceWith(newEl);
        self.dropdownMenu = newEl;
      }

      uibDropdownService.close(scope);
      self.selectedOption = null;
    }

    if (angular.isFunction(setIsOpen)) {
      setIsOpen($scope, isOpen);
    }
  });

  $scope.$on('$locationChangeSuccess', function() {
    if (scope.getAutoClose() !== 'disabled') {
      scope.isOpen = false;
    }
  });

  var offDestroy = $scope.$on('$destroy', function() {
    scope.$destroy();
  });
  scope.$on('$destroy', offDestroy);
}])

.directive('uibDropdown', function() {
  return {
    controller: 'UibDropdownController',
    link: function(scope, element, attrs, dropdownCtrl) {
      dropdownCtrl.init();
    }
  };
})

.directive('uibDropdownMenu', function() {
  return {
    restrict: 'AC',
    require: '?^uibDropdown',
    link: function(scope, element, attrs, dropdownCtrl) {
      if (!dropdownCtrl || angular.isDefined(attrs.dropdownNested)) {
        return;
      }

      element.addClass('dropdown-menu');

      var tplUrl = attrs.templateUrl;
      if (tplUrl) {
        dropdownCtrl.dropdownMenuTemplateUrl = tplUrl;
      }

      if (!dropdownCtrl.dropdownMenu) {
        dropdownCtrl.dropdownMenu = element;
      }
    }
  };
})

.directive('uibKeyboardNav', function() {
  return {
    restrict: 'A',
    require: '?^uibDropdown',
    link: function(scope, element, attrs, dropdownCtrl) {
      element.bind('keydown', function(e) {
        if ([38, 40].indexOf(e.which) !== -1) {
          e.preventDefault();
          e.stopPropagation();

          var elems = dropdownCtrl.dropdownMenu.find('a');

          switch (e.which) {
            case (40): { // Down
              if (!angular.isNumber(dropdownCtrl.selectedOption)) {
                dropdownCtrl.selectedOption = 0;
              } else {
                dropdownCtrl.selectedOption = dropdownCtrl.selectedOption === elems.length -1 ?
                  dropdownCtrl.selectedOption : dropdownCtrl.selectedOption + 1;
              }
              break;
            }
            case (38): { // Up
              if (!angular.isNumber(dropdownCtrl.selectedOption)) {
                dropdownCtrl.selectedOption = elems.length - 1;
              } else {
                dropdownCtrl.selectedOption = dropdownCtrl.selectedOption === 0 ?
                  0 : dropdownCtrl.selectedOption - 1;
              }
              break;
            }
          }
          elems[dropdownCtrl.selectedOption].focus();
        }
      });
    }
  };
})

.directive('uibDropdownToggle', function() {
  return {
    require: '?^uibDropdown',
    link: function(scope, element, attrs, dropdownCtrl) {
      if (!dropdownCtrl) {
        return;
      }

      element.addClass('dropdown-toggle');

      dropdownCtrl.toggleElement = element;

      var toggleDropdown = function(event) {
        event.preventDefault();

        if (!element.hasClass('disabled') && !attrs.disabled) {
          scope.$apply(function() {
            dropdownCtrl.toggle();
          });
        }
      };

      element.bind('click', toggleDropdown);

      // WAI-ARIA
      element.attr({ 'aria-haspopup': true, 'aria-expanded': false });
      scope.$watch(dropdownCtrl.isOpen, function(isOpen) {
        element.attr('aria-expanded', !!isOpen);
      });

      scope.$on('$destroy', function() {
        element.unbind('click', toggleDropdown);
      });
    }
  };
});

/* Deprecated dropdown below */

angular.module('ui.bootstrap.dropdown')

.value('$dropdownSuppressWarning', false)

.service('dropdownService', ['$log', '$dropdownSuppressWarning', 'uibDropdownService', function($log, $dropdownSuppressWarning, uibDropdownService) {
  if (!$dropdownSuppressWarning) {
    $log.warn('dropdownService is now deprecated. Use uibDropdownService instead.');
  }

  angular.extend(this, uibDropdownService);
}])

.controller('DropdownController', ['$scope', '$element', '$attrs', '$parse', 'uibDropdownConfig', 'uibDropdownService', '$animate', '$uibPosition', '$document', '$compile', '$templateRequest', '$log', '$dropdownSuppressWarning', function($scope, $element, $attrs, $parse, dropdownConfig, uibDropdownService, $animate, $position, $document, $compile, $templateRequest, $log, $dropdownSuppressWarning) {
  if (!$dropdownSuppressWarning) {
    $log.warn('DropdownController is now deprecated. Use UibDropdownController instead.');
  }

  var self = this,
    scope = $scope.$new(), // create a child scope so we are not polluting original one
    templateScope,
    openClass = dropdownConfig.openClass,
    getIsOpen,
    setIsOpen = angular.noop,
    toggleInvoker = $attrs.onToggle ? $parse($attrs.onToggle) : angular.noop,
    appendToBody = false,
    keynavEnabled =false,
    selectedOption = null;


  $element.addClass('dropdown');

  this.init = function() {
    if ($attrs.isOpen) {
      getIsOpen = $parse($attrs.isOpen);
      setIsOpen = getIsOpen.assign;

      $scope.$watch(getIsOpen, function(value) {
        scope.isOpen = !!value;
      });
    }

    appendToBody = angular.isDefined($attrs.dropdownAppendToBody);
    keynavEnabled = angular.isDefined($attrs.uibKeyboardNav);

    if (appendToBody && self.dropdownMenu) {
      $document.find('body').append(self.dropdownMenu);
      $element.on('$destroy', function handleDestroyEvent() {
        self.dropdownMenu.remove();
      });
    }
  };

  this.toggle = function(open) {
    return scope.isOpen = arguments.length ? !!open : !scope.isOpen;
  };

  // Allow other directives to watch status
  this.isOpen = function() {
    return scope.isOpen;
  };

  scope.getToggleElement = function() {
    return self.toggleElement;
  };

  scope.getAutoClose = function() {
    return $attrs.autoClose || 'always'; //or 'outsideClick' or 'disabled'
  };

  scope.getElement = function() {
    return $element;
  };

  scope.isKeynavEnabled = function() {
    return keynavEnabled;
  };

  scope.focusDropdownEntry = function(keyCode) {
    var elems = self.dropdownMenu ? //If append to body is used.
      (angular.element(self.dropdownMenu).find('a')) :
      (angular.element($element).find('ul').eq(0).find('a'));

    switch (keyCode) {
      case (40): {
        if (!angular.isNumber(self.selectedOption)) {
          self.selectedOption = 0;
        } else {
          self.selectedOption = (self.selectedOption === elems.length -1 ?
            self.selectedOption :
          self.selectedOption + 1);
        }
        break;
      }
      case (38): {
        if (!angular.isNumber(self.selectedOption)) {
          self.selectedOption = elems.length - 1;
        } else {
          self.selectedOption = self.selectedOption === 0 ?
            0 : self.selectedOption - 1;
        }
        break;
      }
    }
    elems[self.selectedOption].focus();
  };

  scope.getDropdownElement = function() {
    return self.dropdownMenu;
  };

  scope.focusToggleElement = function() {
    if (self.toggleElement) {
      self.toggleElement[0].focus();
    }
  };

  scope.$watch('isOpen', function(isOpen, wasOpen) {
    if (appendToBody && self.dropdownMenu) {
      var pos = $position.positionElements($element, self.dropdownMenu, 'bottom-left', true);
      var css = {
        top: pos.top + 'px',
        display: isOpen ? 'block' : 'none'
      };

      var rightalign = self.dropdownMenu.hasClass('dropdown-menu-right');
      if (!rightalign) {
        css.left = pos.left + 'px';
        css.right = 'auto';
      } else {
        css.left = 'auto';
        css.right = (window.innerWidth - (pos.left + $element.prop('offsetWidth'))) + 'px';
      }

      self.dropdownMenu.css(css);
    }

    $animate[isOpen ? 'addClass' : 'removeClass']($element, openClass).then(function() {
      if (angular.isDefined(isOpen) && isOpen !== wasOpen) {
        toggleInvoker($scope, { open: !!isOpen });
      }
    });

    if (isOpen) {
      if (self.dropdownMenuTemplateUrl) {
        $templateRequest(self.dropdownMenuTemplateUrl).then(function(tplContent) {
          templateScope = scope.$new();
          $compile(tplContent.trim())(templateScope, function(dropdownElement) {
            var newEl = dropdownElement;
            self.dropdownMenu.replaceWith(newEl);
            self.dropdownMenu = newEl;
          });
        });
      }

      scope.focusToggleElement();
      uibDropdownService.open(scope);
    } else {
      if (self.dropdownMenuTemplateUrl) {
        if (templateScope) {
          templateScope.$destroy();
        }
        var newEl = angular.element('<ul class="dropdown-menu"></ul>');
        self.dropdownMenu.replaceWith(newEl);
        self.dropdownMenu = newEl;
      }

      uibDropdownService.close(scope);
      self.selectedOption = null;
    }

    if (angular.isFunction(setIsOpen)) {
      setIsOpen($scope, isOpen);
    }
  });

  $scope.$on('$locationChangeSuccess', function() {
    if (scope.getAutoClose() !== 'disabled') {
      scope.isOpen = false;
    }
  });

  var offDestroy = $scope.$on('$destroy', function() {
    scope.$destroy();
  });
  scope.$on('$destroy', offDestroy);
}])

.directive('dropdown', ['$log', '$dropdownSuppressWarning', function($log, $dropdownSuppressWarning) {
  return {
    controller: 'DropdownController',
    link: function(scope, element, attrs, dropdownCtrl) {
      if (!$dropdownSuppressWarning) {
        $log.warn('dropdown is now deprecated. Use uib-dropdown instead.');
      }

      dropdownCtrl.init();
    }
  };
}])

.directive('dropdownMenu', ['$log', '$dropdownSuppressWarning', function($log, $dropdownSuppressWarning) {
  return {
    restrict: 'AC',
    require: '?^dropdown',
    link: function(scope, element, attrs, dropdownCtrl) {
      if (!dropdownCtrl || angular.isDefined(attrs.dropdownNested)) {
        return;
      }

      if (!$dropdownSuppressWarning) {
        $log.warn('dropdown-menu is now deprecated. Use uib-dropdown-menu instead.');
      }

      element.addClass('dropdown-menu');

      var tplUrl = attrs.templateUrl;
      if (tplUrl) {
        dropdownCtrl.dropdownMenuTemplateUrl = tplUrl;
      }

      if (!dropdownCtrl.dropdownMenu) {
        dropdownCtrl.dropdownMenu = element;
      }
    }
  };
}])

.directive('keyboardNav', ['$log', '$dropdownSuppressWarning', function($log, $dropdownSuppressWarning) {
  return {
    restrict: 'A',
    require: '?^dropdown',
    link: function(scope, element, attrs, dropdownCtrl) {
      if (!$dropdownSuppressWarning) {
        $log.warn('keyboard-nav is now deprecated. Use uib-keyboard-nav instead.');
      }

      element.bind('keydown', function(e) {
        if ([38, 40].indexOf(e.which) !== -1) {
          e.preventDefault();
          e.stopPropagation();

          var elems = dropdownCtrl.dropdownMenu.find('a');

          switch (e.which) {
            case (40): { // Down
              if (!angular.isNumber(dropdownCtrl.selectedOption)) {
                dropdownCtrl.selectedOption = 0;
              } else {
                dropdownCtrl.selectedOption = dropdownCtrl.selectedOption === elems.length -1 ?
                  dropdownCtrl.selectedOption : dropdownCtrl.selectedOption + 1;
              }
              break;
            }
            case (38): { // Up
              if (!angular.isNumber(dropdownCtrl.selectedOption)) {
                dropdownCtrl.selectedOption = elems.length - 1;
              } else {
                dropdownCtrl.selectedOption = dropdownCtrl.selectedOption === 0 ?
                  0 : dropdownCtrl.selectedOption - 1;
              }
              break;
            }
          }
          elems[dropdownCtrl.selectedOption].focus();
        }
      });
    }
  };
}])

.directive('dropdownToggle', ['$log', '$dropdownSuppressWarning', function($log, $dropdownSuppressWarning) {
  return {
    require: '?^dropdown',
    link: function(scope, element, attrs, dropdownCtrl) {
      if (!$dropdownSuppressWarning) {
        $log.warn('dropdown-toggle is now deprecated. Use uib-dropdown-toggle instead.');
      }

      if (!dropdownCtrl) {
        return;
      }

      element.addClass('dropdown-toggle');

      dropdownCtrl.toggleElement = element;

      var toggleDropdown = function(event) {
        event.preventDefault();

        if (!element.hasClass('disabled') && !attrs.disabled) {
          scope.$apply(function() {
            dropdownCtrl.toggle();
          });
        }
      };

      element.bind('click', toggleDropdown);

      // WAI-ARIA
      element.attr({ 'aria-haspopup': true, 'aria-expanded': false });
      scope.$watch(dropdownCtrl.isOpen, function(isOpen) {
        element.attr('aria-expanded', !!isOpen);
      });

      scope.$on('$destroy', function() {
        element.unbind('click', toggleDropdown);
      });
    }
  };
}]);

angular.module('ui.bootstrap.stackedMap', [])
/**
 * A helper, internal data structure that acts as a map but also allows getting / removing
 * elements in the LIFO order
 */
  .factory('$$stackedMap', function() {
    return {
      createNew: function() {
        var stack = [];

        return {
          add: function(key, value) {
            stack.push({
              key: key,
              value: value
            });
          },
          get: function(key) {
            for (var i = 0; i < stack.length; i++) {
              if (key == stack[i].key) {
                return stack[i];
              }
            }
          },
          keys: function() {
            var keys = [];
            for (var i = 0; i < stack.length; i++) {
              keys.push(stack[i].key);
            }
            return keys;
          },
          top: function() {
            return stack[stack.length - 1];
          },
          remove: function(key) {
            var idx = -1;
            for (var i = 0; i < stack.length; i++) {
              if (key == stack[i].key) {
                idx = i;
                break;
              }
            }
            return stack.splice(idx, 1)[0];
          },
          removeTop: function() {
            return stack.splice(stack.length - 1, 1)[0];
          },
          length: function() {
            return stack.length;
          }
        };
      }
    };
  });
angular.module('ui.bootstrap.modal', ['ui.bootstrap.stackedMap'])
/**
 * A helper, internal data structure that stores all references attached to key
 */
  .factory('$$multiMap', function() {
    return {
      createNew: function() {
        var map = {};

        return {
          entries: function() {
            return Object.keys(map).map(function(key) {
              return {
                key: key,
                value: map[key]
              };
            });
          },
          get: function(key) {
            return map[key];
          },
          hasKey: function(key) {
            return !!map[key];
          },
          keys: function() {
            return Object.keys(map);
          },
          put: function(key, value) {
            if (!map[key]) {
              map[key] = [];
            }

            map[key].push(value);
          },
          remove: function(key, value) {
            var values = map[key];

            if (!values) {
              return;
            }

            var idx = values.indexOf(value);

            if (idx !== -1) {
              values.splice(idx, 1);
            }

            if (!values.length) {
              delete map[key];
            }
          }
        };
      }
    };
  })

/**
 * A helper directive for the $modal service. It creates a backdrop element.
 */
  .directive('uibModalBackdrop', [
           '$animate', '$injector', '$uibModalStack',
  function($animate ,  $injector,   $modalStack) {
    var $animateCss = null;

    if ($injector.has('$animateCss')) {
      $animateCss = $injector.get('$animateCss');
    }

    return {
      replace: true,
      templateUrl: 'template/modal/backdrop.html',
      compile: function(tElement, tAttrs) {
        tElement.addClass(tAttrs.backdropClass);
        return linkFn;
      }
    };

    function linkFn(scope, element, attrs) {
      // Temporary fix for prefixing
      element.addClass('modal-backdrop');

      if (attrs.modalInClass) {
        if ($animateCss) {
          $animateCss(element, {
            addClass: attrs.modalInClass
          }).start();
        } else {
          $animate.addClass(element, attrs.modalInClass);
        }

        scope.$on($modalStack.NOW_CLOSING_EVENT, function(e, setIsAsync) {
          var done = setIsAsync();
          if ($animateCss) {
            $animateCss(element, {
              removeClass: attrs.modalInClass
            }).start().then(done);
          } else {
            $animate.removeClass(element, attrs.modalInClass).then(done);
          }
        });
      }
    }
  }])

  .directive('uibModalWindow', [
           '$uibModalStack', '$q', '$animate', '$injector',
  function($modalStack ,  $q ,  $animate,   $injector) {
    var $animateCss = null;

    if ($injector.has('$animateCss')) {
      $animateCss = $injector.get('$animateCss');
    }

    return {
      scope: {
        index: '@'
      },
      replace: true,
      transclude: true,
      templateUrl: function(tElement, tAttrs) {
        return tAttrs.templateUrl || 'template/modal/window.html';
      },
      link: function(scope, element, attrs) {
        element.addClass(attrs.windowClass || '');
        element.addClass(attrs.windowTopClass || '');
        scope.size = attrs.size;

        scope.close = function(evt) {
          var modal = $modalStack.getTop();
          if (modal && modal.value.backdrop && modal.value.backdrop !== 'static' && (evt.target === evt.currentTarget)) {
            evt.preventDefault();
            evt.stopPropagation();
            $modalStack.dismiss(modal.key, 'backdrop click');
          }
        };

        // moved from template to fix issue #2280
        element.on('click', scope.close);

        // This property is only added to the scope for the purpose of detecting when this directive is rendered.
        // We can detect that by using this property in the template associated with this directive and then use
        // {@link Attribute#$observe} on it. For more details please see {@link TableColumnResize}.
        scope.$isRendered = true;

        // Deferred object that will be resolved when this modal is render.
        var modalRenderDeferObj = $q.defer();
        // Observe function will be called on next digest cycle after compilation, ensuring that the DOM is ready.
        // In order to use this way of finding whether DOM is ready, we need to observe a scope property used in modal's template.
        attrs.$observe('modalRender', function(value) {
          if (value == 'true') {
            modalRenderDeferObj.resolve();
          }
        });

        modalRenderDeferObj.promise.then(function() {
          var animationPromise = null;

          if (attrs.modalInClass) {
            if ($animateCss) {
              animationPromise = $animateCss(element, {
                addClass: attrs.modalInClass
              }).start();
            } else {
              animationPromise = $animate.addClass(element, attrs.modalInClass);
            }

            scope.$on($modalStack.NOW_CLOSING_EVENT, function(e, setIsAsync) {
              var done = setIsAsync();
              if ($animateCss) {
                $animateCss(element, {
                  removeClass: attrs.modalInClass
                }).start().then(done);
              } else {
                $animate.removeClass(element, attrs.modalInClass).then(done);
              }
            });
          }


          $q.when(animationPromise).then(function() {
            var inputWithAutofocus = element[0].querySelector('[autofocus]');
            /**
             * Auto-focusing of a freshly-opened modal element causes any child elements
             * with the autofocus attribute to lose focus. This is an issue on touch
             * based devices which will show and then hide the onscreen keyboard.
             * Attempts to refocus the autofocus element via JavaScript will not reopen
             * the onscreen keyboard. Fixed by updated the focusing logic to only autofocus
             * the modal element if the modal does not contain an autofocus element.
             */
            if (inputWithAutofocus) {
              inputWithAutofocus.focus();
            } else {
              element[0].focus();
            }
          });

          // Notify {@link $modalStack} that modal is rendered.
          var modal = $modalStack.getTop();
          if (modal) {
            $modalStack.modalRendered(modal.key);
          }
        });
      }
    };
  }])

  .directive('uibModalAnimationClass', function() {
    return {
      compile: function(tElement, tAttrs) {
        if (tAttrs.modalAnimation) {
          tElement.addClass(tAttrs.uibModalAnimationClass);
        }
      }
    };
  })

  .directive('uibModalTransclude', function() {
    return {
      link: function($scope, $element, $attrs, controller, $transclude) {
        $transclude($scope.$parent, function(clone) {
          $element.empty();
          $element.append(clone);
        });
      }
    };
  })

  .factory('$uibModalStack', [
             '$animate', '$timeout', '$document', '$compile', '$rootScope',
             '$q',
             '$injector',
             '$$multiMap',
             '$$stackedMap',
    function($animate ,  $timeout ,  $document ,  $compile ,  $rootScope ,
              $q,
              $injector,
              $$multiMap,
              $$stackedMap) {
      var $animateCss = null;

      if ($injector.has('$animateCss')) {
        $animateCss = $injector.get('$animateCss');
      }

      var OPENED_MODAL_CLASS = 'modal-open';

      var backdropDomEl, backdropScope;
      var openedWindows = $$stackedMap.createNew();
      var openedClasses = $$multiMap.createNew();
      var $modalStack = {
        NOW_CLOSING_EVENT: 'modal.stack.now-closing'
      };

      //Modal focus behavior
      var focusableElementList;
      var focusIndex = 0;
      var tababbleSelector = 'a[href], area[href], input:not([disabled]), ' +
        'button:not([disabled]),select:not([disabled]), textarea:not([disabled]), ' +
        'iframe, object, embed, *[tabindex], *[contenteditable=true]';

      function backdropIndex() {
        var topBackdropIndex = -1;
        var opened = openedWindows.keys();
        for (var i = 0; i < opened.length; i++) {
          if (openedWindows.get(opened[i]).value.backdrop) {
            topBackdropIndex = i;
          }
        }
        return topBackdropIndex;
      }

      $rootScope.$watch(backdropIndex, function(newBackdropIndex) {
        if (backdropScope) {
          backdropScope.index = newBackdropIndex;
        }
      });

      function removeModalWindow(modalInstance, elementToReceiveFocus) {
        var body = $document.find('body').eq(0);
        var modalWindow = openedWindows.get(modalInstance).value;

        //clean up the stack
        openedWindows.remove(modalInstance);

        removeAfterAnimate(modalWindow.modalDomEl, modalWindow.modalScope, function() {
          var modalBodyClass = modalWindow.openedClass || OPENED_MODAL_CLASS;
          openedClasses.remove(modalBodyClass, modalInstance);
          body.toggleClass(modalBodyClass, openedClasses.hasKey(modalBodyClass));
          toggleTopWindowClass(true);
        });
        checkRemoveBackdrop();

        //move focus to specified element if available, or else to body
        if (elementToReceiveFocus && elementToReceiveFocus.focus) {
          elementToReceiveFocus.focus();
        } else {
          body.focus();
        }
      }

      // Add or remove "windowTopClass" from the top window in the stack
      function toggleTopWindowClass(toggleSwitch) {
        var modalWindow;

        if (openedWindows.length() > 0) {
          modalWindow = openedWindows.top().value;
          modalWindow.modalDomEl.toggleClass(modalWindow.windowTopClass || '', toggleSwitch);
        }
      }

      function checkRemoveBackdrop() {
        //remove backdrop if no longer needed
        if (backdropDomEl && backdropIndex() == -1) {
          var backdropScopeRef = backdropScope;
          removeAfterAnimate(backdropDomEl, backdropScope, function() {
            backdropScopeRef = null;
          });
          backdropDomEl = undefined;
          backdropScope = undefined;
        }
      }

      function removeAfterAnimate(domEl, scope, done) {
        var asyncDeferred;
        var asyncPromise = null;
        var setIsAsync = function() {
          if (!asyncDeferred) {
            asyncDeferred = $q.defer();
            asyncPromise = asyncDeferred.promise;
          }

          return function asyncDone() {
            asyncDeferred.resolve();
          };
        };
        scope.$broadcast($modalStack.NOW_CLOSING_EVENT, setIsAsync);

        // Note that it's intentional that asyncPromise might be null.
        // That's when setIsAsync has not been called during the
        // NOW_CLOSING_EVENT broadcast.
        return $q.when(asyncPromise).then(afterAnimating);

        function afterAnimating() {
          if (afterAnimating.done) {
            return;
          }
          afterAnimating.done = true;

          if ($animateCss) {
            $animateCss(domEl, {
              event: 'leave'
            }).start().then(function() {
              domEl.remove();
            });
          } else {
            $animate.leave(domEl);
          }
          scope.$destroy();
          if (done) {
            done();
          }
        }
      }

      $document.bind('keydown', function(evt) {
        if (evt.isDefaultPrevented()) {
          return evt;
        }

        var modal = openedWindows.top();
        if (modal && modal.value.keyboard) {
          switch (evt.which) {
            case 27: {
              evt.preventDefault();
              $rootScope.$apply(function() {
                $modalStack.dismiss(modal.key, 'escape key press');
              });
              break;
            }
            case 9: {
              $modalStack.loadFocusElementList(modal);
              var focusChanged = false;
              if (evt.shiftKey) {
                if ($modalStack.isFocusInFirstItem(evt)) {
                  focusChanged = $modalStack.focusLastFocusableElement();
                }
              } else {
                if ($modalStack.isFocusInLastItem(evt)) {
                  focusChanged = $modalStack.focusFirstFocusableElement();
                }
              }

              if (focusChanged) {
                evt.preventDefault();
                evt.stopPropagation();
              }
              break;
            }
          }
        }
      });

      $modalStack.open = function(modalInstance, modal) {
        var modalOpener = $document[0].activeElement,
          modalBodyClass = modal.openedClass || OPENED_MODAL_CLASS;

        toggleTopWindowClass(false);

        openedWindows.add(modalInstance, {
          deferred: modal.deferred,
          renderDeferred: modal.renderDeferred,
          modalScope: modal.scope,
          backdrop: modal.backdrop,
          keyboard: modal.keyboard,
          openedClass: modal.openedClass,
          windowTopClass: modal.windowTopClass
        });

        openedClasses.put(modalBodyClass, modalInstance);

        var body = $document.find('body').eq(0),
            currBackdropIndex = backdropIndex();

        if (currBackdropIndex >= 0 && !backdropDomEl) {
          backdropScope = $rootScope.$new(true);
          backdropScope.index = currBackdropIndex;
          var angularBackgroundDomEl = angular.element('<div uib-modal-backdrop="modal-backdrop"></div>');
          angularBackgroundDomEl.attr('backdrop-class', modal.backdropClass);
          if (modal.animation) {
            angularBackgroundDomEl.attr('modal-animation', 'true');
          }
          backdropDomEl = $compile(angularBackgroundDomEl)(backdropScope);
          body.append(backdropDomEl);
        }

        var angularDomEl = angular.element('<div uib-modal-window="modal-window"></div>');
        angularDomEl.attr({
          'template-url': modal.windowTemplateUrl,
          'window-class': modal.windowClass,
          'window-top-class': modal.windowTopClass,
          'size': modal.size,
          'index': openedWindows.length() - 1,
          'animate': 'animate'
        }).html(modal.content);
        if (modal.animation) {
          angularDomEl.attr('modal-animation', 'true');
        }

        var modalDomEl = $compile(angularDomEl)(modal.scope);
        openedWindows.top().value.modalDomEl = modalDomEl;
        openedWindows.top().value.modalOpener = modalOpener;
        body.append(modalDomEl);
        body.addClass(modalBodyClass);

        $modalStack.clearFocusListCache();
      };

      function broadcastClosing(modalWindow, resultOrReason, closing) {
        return !modalWindow.value.modalScope.$broadcast('modal.closing', resultOrReason, closing).defaultPrevented;
      }

      $modalStack.close = function(modalInstance, result) {
        var modalWindow = openedWindows.get(modalInstance);
        if (modalWindow && broadcastClosing(modalWindow, result, true)) {
          modalWindow.value.modalScope.$$uibDestructionScheduled = true;
          modalWindow.value.deferred.resolve(result);
          removeModalWindow(modalInstance, modalWindow.value.modalOpener);
          return true;
        }
        return !modalWindow;
      };

      $modalStack.dismiss = function(modalInstance, reason) {
        var modalWindow = openedWindows.get(modalInstance);
        if (modalWindow && broadcastClosing(modalWindow, reason, false)) {
          modalWindow.value.modalScope.$$uibDestructionScheduled = true;
          modalWindow.value.deferred.reject(reason);
          removeModalWindow(modalInstance, modalWindow.value.modalOpener);
          return true;
        }
        return !modalWindow;
      };

      $modalStack.dismissAll = function(reason) {
        var topModal = this.getTop();
        while (topModal && this.dismiss(topModal.key, reason)) {
          topModal = this.getTop();
        }
      };

      $modalStack.getTop = function() {
        return openedWindows.top();
      };

      $modalStack.modalRendered = function(modalInstance) {
        var modalWindow = openedWindows.get(modalInstance);
        if (modalWindow) {
          modalWindow.value.renderDeferred.resolve();
        }
      };

      $modalStack.focusFirstFocusableElement = function() {
        if (focusableElementList.length > 0) {
          focusableElementList[0].focus();
          return true;
        }
        return false;
      };
      $modalStack.focusLastFocusableElement = function() {
        if (focusableElementList.length > 0) {
          focusableElementList[focusableElementList.length - 1].focus();
          return true;
        }
        return false;
      };

      $modalStack.isFocusInFirstItem = function(evt) {
        if (focusableElementList.length > 0) {
          return (evt.target || evt.srcElement) == focusableElementList[0];
        }
        return false;
      };

      $modalStack.isFocusInLastItem = function(evt) {
        if (focusableElementList.length > 0) {
          return (evt.target || evt.srcElement) == focusableElementList[focusableElementList.length - 1];
        }
        return false;
      };

      $modalStack.clearFocusListCache = function() {
        focusableElementList = [];
        focusIndex = 0;
      };

      $modalStack.loadFocusElementList = function(modalWindow) {
        if (focusableElementList === undefined || !focusableElementList.length) {
          if (modalWindow) {
            var modalDomE1 = modalWindow.value.modalDomEl;
            if (modalDomE1 && modalDomE1.length) {
              focusableElementList = modalDomE1[0].querySelectorAll(tababbleSelector);
            }
          }
        }
      };

      return $modalStack;
    }])

  .provider('$uibModal', function() {
    var $modalProvider = {
      options: {
        animation: true,
        backdrop: true, //can also be false or 'static'
        keyboard: true
      },
      $get: ['$injector', '$rootScope', '$q', '$templateRequest', '$controller', '$uibModalStack', '$modalSuppressWarning', '$log',
        function ($injector, $rootScope, $q, $templateRequest, $controller, $modalStack, $modalSuppressWarning, $log) {
          var $modal = {};

          function getTemplatePromise(options) {
            return options.template ? $q.when(options.template) :
              $templateRequest(angular.isFunction(options.templateUrl) ? (options.templateUrl)() : options.templateUrl);
          }

          function getResolvePromises(resolves) {
            var promisesArr = [];
            angular.forEach(resolves, function(value) {
              if (angular.isFunction(value) || angular.isArray(value)) {
                promisesArr.push($q.when($injector.invoke(value)));
              } else if (angular.isString(value)) {
                promisesArr.push($q.when($injector.get(value)));
              } else {
                promisesArr.push($q.when(value));
              }
            });
            return promisesArr;
          }

          var promiseChain = null;
          $modal.getPromiseChain = function() {
            return promiseChain;
          };

          $modal.open = function(modalOptions) {
            var modalResultDeferred = $q.defer();
            var modalOpenedDeferred = $q.defer();
            var modalRenderDeferred = $q.defer();

            //prepare an instance of a modal to be injected into controllers and returned to a caller
            var modalInstance = {
              result: modalResultDeferred.promise,
              opened: modalOpenedDeferred.promise,
              rendered: modalRenderDeferred.promise,
              close: function (result) {
                return $modalStack.close(modalInstance, result);
              },
              dismiss: function (reason) {
                return $modalStack.dismiss(modalInstance, reason);
              }
            };

            //merge and clean up options
            modalOptions = angular.extend({}, $modalProvider.options, modalOptions);
            modalOptions.resolve = modalOptions.resolve || {};

            //verify options
            if (!modalOptions.template && !modalOptions.templateUrl) {
              throw new Error('One of template or templateUrl options is required.');
            }

            var templateAndResolvePromise =
              $q.all([getTemplatePromise(modalOptions)].concat(getResolvePromises(modalOptions.resolve)));

            function resolveWithTemplate() {
              return templateAndResolvePromise;
            }

            // Wait for the resolution of the existing promise chain.
            // Then switch to our own combined promise dependency (regardless of how the previous modal fared).
            // Then add to $modalStack and resolve opened.
            // Finally clean up the chain variable if no subsequent modal has overwritten it.
            var samePromise;
            samePromise = promiseChain = $q.all([promiseChain])
              .then(resolveWithTemplate, resolveWithTemplate)
              .then(function resolveSuccess(tplAndVars) {

                var modalScope = (modalOptions.scope || $rootScope).$new();
                modalScope.$close = modalInstance.close;
                modalScope.$dismiss = modalInstance.dismiss;

                modalScope.$on('$destroy', function() {
                  if (!modalScope.$$uibDestructionScheduled) {
                    modalScope.$dismiss('$uibUnscheduledDestruction');
                  }
                });

                var ctrlInstance, ctrlLocals = {};
                var resolveIter = 1;

                //controllers
                if (modalOptions.controller) {
                  ctrlLocals.$scope = modalScope;
                  ctrlLocals.$uibModalInstance = modalInstance;
                  Object.defineProperty(ctrlLocals, '$modalInstance', {
                    get: function() {
                      if (!$modalSuppressWarning) {
                        $log.warn('$modalInstance is now deprecated. Use $uibModalInstance instead.');
                      }

                      return modalInstance;
                    }
                  });
                  angular.forEach(modalOptions.resolve, function(value, key) {
                    ctrlLocals[key] = tplAndVars[resolveIter++];
                  });

                  ctrlInstance = $controller(modalOptions.controller, ctrlLocals);
                  if (modalOptions.controllerAs) {
                    if (modalOptions.bindToController) {
                      angular.extend(ctrlInstance, modalScope);
                    }

                    modalScope[modalOptions.controllerAs] = ctrlInstance;
                  }
                }

                $modalStack.open(modalInstance, {
                  scope: modalScope,
                  deferred: modalResultDeferred,
                  renderDeferred: modalRenderDeferred,
                  content: tplAndVars[0],
                  animation: modalOptions.animation,
                  backdrop: modalOptions.backdrop,
                  keyboard: modalOptions.keyboard,
                  backdropClass: modalOptions.backdropClass,
                  windowTopClass: modalOptions.windowTopClass,
                  windowClass: modalOptions.windowClass,
                  windowTemplateUrl: modalOptions.windowTemplateUrl,
                  size: modalOptions.size,
                  openedClass: modalOptions.openedClass
                });
                modalOpenedDeferred.resolve(true);

            }, function resolveError(reason) {
              modalOpenedDeferred.reject(reason);
              modalResultDeferred.reject(reason);
            })
            .finally(function() {
              if (promiseChain === samePromise) {
                promiseChain = null;
              }
            });

            return modalInstance;
          };

          return $modal;
        }
      ]
    };

    return $modalProvider;
  });

/* deprecated modal below */

angular.module('ui.bootstrap.modal')

  .value('$modalSuppressWarning', false)

  /**
   * A helper directive for the $modal service. It creates a backdrop element.
   */
  .directive('modalBackdrop', [
    '$animate', '$injector', '$modalStack', '$log', '$modalSuppressWarning',
    function($animate ,  $injector,   $modalStack, $log, $modalSuppressWarning) {
      var $animateCss = null;

      if ($injector.has('$animateCss')) {
        $animateCss = $injector.get('$animateCss');
      }

      return {
        replace: true,
        templateUrl: 'template/modal/backdrop.html',
        compile: function(tElement, tAttrs) {
          tElement.addClass(tAttrs.backdropClass);
          return linkFn;
        }
      };

      function linkFn(scope, element, attrs) {
        if (!$modalSuppressWarning) {
          $log.warn('modal-backdrop is now deprecated. Use uib-modal-backdrop instead.');
        }
        element.addClass('modal-backdrop');

        if (attrs.modalInClass) {
          if ($animateCss) {
            $animateCss(element, {
              addClass: attrs.modalInClass
            }).start();
          } else {
            $animate.addClass(element, attrs.modalInClass);
          }

          scope.$on($modalStack.NOW_CLOSING_EVENT, function(e, setIsAsync) {
            var done = setIsAsync();
            if ($animateCss) {
              $animateCss(element, {
                removeClass: attrs.modalInClass
              }).start().then(done);
            } else {
              $animate.removeClass(element, attrs.modalInClass).then(done);
            }
          });
        }
      }
    }])

  .directive('modalWindow', [
    '$modalStack', '$q', '$animate', '$injector', '$log', '$modalSuppressWarning',
    function($modalStack ,  $q ,  $animate,   $injector, $log, $modalSuppressWarning) {
      var $animateCss = null;

      if ($injector.has('$animateCss')) {
        $animateCss = $injector.get('$animateCss');
      }

      return {
        scope: {
          index: '@'
        },
        replace: true,
        transclude: true,
        templateUrl: function(tElement, tAttrs) {
          return tAttrs.templateUrl || 'template/modal/window.html';
        },
        link: function(scope, element, attrs) {
          if (!$modalSuppressWarning) {
            $log.warn('modal-window is now deprecated. Use uib-modal-window instead.');
          }
          element.addClass(attrs.windowClass || '');
          element.addClass(attrs.windowTopClass || '');
          scope.size = attrs.size;

          scope.close = function(evt) {
            var modal = $modalStack.getTop();
            if (modal && modal.value.backdrop && modal.value.backdrop !== 'static' && (evt.target === evt.currentTarget)) {
              evt.preventDefault();
              evt.stopPropagation();
              $modalStack.dismiss(modal.key, 'backdrop click');
            }
          };

          // moved from template to fix issue #2280
          element.on('click', scope.close);

          // This property is only added to the scope for the purpose of detecting when this directive is rendered.
          // We can detect that by using this property in the template associated with this directive and then use
          // {@link Attribute#$observe} on it. For more details please see {@link TableColumnResize}.
          scope.$isRendered = true;

          // Deferred object that will be resolved when this modal is render.
          var modalRenderDeferObj = $q.defer();
          // Observe function will be called on next digest cycle after compilation, ensuring that the DOM is ready.
          // In order to use this way of finding whether DOM is ready, we need to observe a scope property used in modal's template.
          attrs.$observe('modalRender', function(value) {
            if (value == 'true') {
              modalRenderDeferObj.resolve();
            }
          });

          modalRenderDeferObj.promise.then(function() {
            var animationPromise = null;

            if (attrs.modalInClass) {
              if ($animateCss) {
                animationPromise = $animateCss(element, {
                  addClass: attrs.modalInClass
                }).start();
              } else {
                animationPromise = $animate.addClass(element, attrs.modalInClass);
              }

              scope.$on($modalStack.NOW_CLOSING_EVENT, function(e, setIsAsync) {
                var done = setIsAsync();
                if ($animateCss) {
                  $animateCss(element, {
                    removeClass: attrs.modalInClass
                  }).start().then(done);
                } else {
                  $animate.removeClass(element, attrs.modalInClass).then(done);
                }
              });
            }


            $q.when(animationPromise).then(function() {
              var inputWithAutofocus = element[0].querySelector('[autofocus]');
              /**
               * Auto-focusing of a freshly-opened modal element causes any child elements
               * with the autofocus attribute to lose focus. This is an issue on touch
               * based devices which will show and then hide the onscreen keyboard.
               * Attempts to refocus the autofocus element via JavaScript will not reopen
               * the onscreen keyboard. Fixed by updated the focusing logic to only autofocus
               * the modal element if the modal does not contain an autofocus element.
               */
              if (inputWithAutofocus) {
                inputWithAutofocus.focus();
              } else {
                element[0].focus();
              }
            });

            // Notify {@link $modalStack} that modal is rendered.
            var modal = $modalStack.getTop();
            if (modal) {
              $modalStack.modalRendered(modal.key);
            }
          });
        }
      };
    }])

  .directive('modalAnimationClass', [
    '$log', '$modalSuppressWarning',
    function ($log, $modalSuppressWarning) {
      return {
        compile: function(tElement, tAttrs) {
          if (!$modalSuppressWarning) {
            $log.warn('modal-animation-class is now deprecated. Use uib-modal-animation-class instead.');
          }
          if (tAttrs.modalAnimation) {
            tElement.addClass(tAttrs.modalAnimationClass);
          }
        }
      };
    }])

  .directive('modalTransclude', [
    '$log', '$modalSuppressWarning',
    function ($log, $modalSuppressWarning) {
    return {
      link: function($scope, $element, $attrs, controller, $transclude) {
        if (!$modalSuppressWarning) {
          $log.warn('modal-transclude is now deprecated. Use uib-modal-transclude instead.');
        }
        $transclude($scope.$parent, function(clone) {
          $element.empty();
          $element.append(clone);
        });
      }
    };
  }])

  .service('$modalStack', [
    '$animate', '$timeout', '$document', '$compile', '$rootScope',
    '$q',
    '$injector',
    '$$multiMap',
    '$$stackedMap',
    '$uibModalStack',
    '$log',
    '$modalSuppressWarning',
    function($animate ,  $timeout ,  $document ,  $compile ,  $rootScope ,
             $q,
             $injector,
             $$multiMap,
             $$stackedMap,
             $uibModalStack,
             $log,
             $modalSuppressWarning) {
      if (!$modalSuppressWarning) {
        $log.warn('$modalStack is now deprecated. Use $uibModalStack instead.');
      }

      angular.extend(this, $uibModalStack);
    }])

  .provider('$modal', ['$uibModalProvider', function($uibModalProvider) {
    angular.extend(this, $uibModalProvider);

    this.$get = ['$injector', '$log', '$modalSuppressWarning',
      function ($injector, $log, $modalSuppressWarning) {
        if (!$modalSuppressWarning) {
          $log.warn('$modal is now deprecated. Use $uibModal instead.');
        }

        return $injector.invoke($uibModalProvider.$get);
      }];
  }]);

angular.module('ui.bootstrap.pagination', [])
.controller('UibPaginationController', ['$scope', '$attrs', '$parse', function($scope, $attrs, $parse) {
  var self = this,
      ngModelCtrl = { $setViewValue: angular.noop }, // nullModelCtrl
      setNumPages = $attrs.numPages ? $parse($attrs.numPages).assign : angular.noop;

  this.init = function(ngModelCtrl_, config) {
    ngModelCtrl = ngModelCtrl_;
    this.config = config;

    ngModelCtrl.$render = function() {
      self.render();
    };

    if ($attrs.itemsPerPage) {
      $scope.$parent.$watch($parse($attrs.itemsPerPage), function(value) {
        self.itemsPerPage = parseInt(value, 10);
        $scope.totalPages = self.calculateTotalPages();
      });
    } else {
      this.itemsPerPage = config.itemsPerPage;
    }

    $scope.$watch('totalItems', function() {
      $scope.totalPages = self.calculateTotalPages();
    });

    $scope.$watch('totalPages', function(value) {
      setNumPages($scope.$parent, value); // Readonly variable

      if ( $scope.page > value ) {
        $scope.selectPage(value);
      } else {
        ngModelCtrl.$render();
      }
    });
  };

  this.calculateTotalPages = function() {
    var totalPages = this.itemsPerPage < 1 ? 1 : Math.ceil($scope.totalItems / this.itemsPerPage);
    return Math.max(totalPages || 0, 1);
  };

  this.render = function() {
    $scope.page = parseInt(ngModelCtrl.$viewValue, 10) || 1;
  };

  $scope.selectPage = function(page, evt) {
    if (evt) {
      evt.preventDefault();
    }

    var clickAllowed = !$scope.ngDisabled || !evt;
    if (clickAllowed && $scope.page !== page && page > 0 && page <= $scope.totalPages) {
      if (evt && evt.target) {
        evt.target.blur();
      }
      ngModelCtrl.$setViewValue(page);
      ngModelCtrl.$render();
    }
  };

  $scope.getText = function(key) {
    return $scope[key + 'Text'] || self.config[key + 'Text'];
  };

  $scope.noPrevious = function() {
    return $scope.page === 1;
  };

  $scope.noNext = function() {
    return $scope.page === $scope.totalPages;
  };
}])

.constant('uibPaginationConfig', {
  itemsPerPage: 10,
  boundaryLinks: false,
  directionLinks: true,
  firstText: 'First',
  previousText: 'Previous',
  nextText: 'Next',
  lastText: 'Last',
  rotate: true
})

.directive('uibPagination', ['$parse', 'uibPaginationConfig', function($parse, paginationConfig) {
  return {
    restrict: 'EA',
    scope: {
      totalItems: '=',
      firstText: '@',
      previousText: '@',
      nextText: '@',
      lastText: '@',
      ngDisabled:'='
    },
    require: ['uibPagination', '?ngModel'],
    controller: 'UibPaginationController',
    controllerAs: 'pagination',
    templateUrl: function(element, attrs) {
      return attrs.templateUrl || 'template/pagination/pagination.html';
    },
    replace: true,
    link: function(scope, element, attrs, ctrls) {
      var paginationCtrl = ctrls[0], ngModelCtrl = ctrls[1];

      if (!ngModelCtrl) {
         return; // do nothing if no ng-model
      }

      // Setup configuration parameters
      var maxSize = angular.isDefined(attrs.maxSize) ? scope.$parent.$eval(attrs.maxSize) : paginationConfig.maxSize,
          rotate = angular.isDefined(attrs.rotate) ? scope.$parent.$eval(attrs.rotate) : paginationConfig.rotate;
      scope.boundaryLinks = angular.isDefined(attrs.boundaryLinks) ? scope.$parent.$eval(attrs.boundaryLinks) : paginationConfig.boundaryLinks;
      scope.directionLinks = angular.isDefined(attrs.directionLinks) ? scope.$parent.$eval(attrs.directionLinks) : paginationConfig.directionLinks;

      paginationCtrl.init(ngModelCtrl, paginationConfig);

      if (attrs.maxSize) {
        scope.$parent.$watch($parse(attrs.maxSize), function(value) {
          maxSize = parseInt(value, 10);
          paginationCtrl.render();
        });
      }

      // Create page object used in template
      function makePage(number, text, isActive) {
        return {
          number: number,
          text: text,
          active: isActive
        };
      }

      function getPages(currentPage, totalPages) {
        var pages = [];

        // Default page limits
        var startPage = 1, endPage = totalPages;
        var isMaxSized = angular.isDefined(maxSize) && maxSize < totalPages;

        // recompute if maxSize
        if (isMaxSized) {
          if (rotate) {
            // Current page is displayed in the middle of the visible ones
            startPage = Math.max(currentPage - Math.floor(maxSize/2), 1);
            endPage   = startPage + maxSize - 1;

            // Adjust if limit is exceeded
            if (endPage > totalPages) {
              endPage   = totalPages;
              startPage = endPage - maxSize + 1;
            }
          } else {
            // Visible pages are paginated with maxSize
            startPage = ((Math.ceil(currentPage / maxSize) - 1) * maxSize) + 1;

            // Adjust last page if limit is exceeded
            endPage = Math.min(startPage + maxSize - 1, totalPages);
          }
        }

        // Add page number links
        for (var number = startPage; number <= endPage; number++) {
          var page = makePage(number, number, number === currentPage);
          pages.push(page);
        }

        // Add links to move between page sets
        if (isMaxSized && ! rotate) {
          if (startPage > 1) {
            var previousPageSet = makePage(startPage - 1, '...', false);
            pages.unshift(previousPageSet);
          }

          if (endPage < totalPages) {
            var nextPageSet = makePage(endPage + 1, '...', false);
            pages.push(nextPageSet);
          }
        }

        return pages;
      }

      var originalRender = paginationCtrl.render;
      paginationCtrl.render = function() {
        originalRender();
        if (scope.page > 0 && scope.page <= scope.totalPages) {
          scope.pages = getPages(scope.page, scope.totalPages);
        }
      };
    }
  };
}])

.constant('uibPagerConfig', {
  itemsPerPage: 10,
  previousText: '« Previous',
  nextText: 'Next »',
  align: true
})

.directive('uibPager', ['uibPagerConfig', function(pagerConfig) {
  return {
    restrict: 'EA',
    scope: {
      totalItems: '=',
      previousText: '@',
      nextText: '@',
      ngDisabled: '='
    },
    require: ['uibPager', '?ngModel'],
    controller: 'UibPaginationController',
    controllerAs: 'pagination',
    templateUrl: function(element, attrs) {
      return attrs.templateUrl || 'template/pagination/pager.html';
    },
    replace: true,
    link: function(scope, element, attrs, ctrls) {
      var paginationCtrl = ctrls[0], ngModelCtrl = ctrls[1];

      if (!ngModelCtrl) {
         return; // do nothing if no ng-model
      }

      scope.align = angular.isDefined(attrs.align) ? scope.$parent.$eval(attrs.align) : pagerConfig.align;
      paginationCtrl.init(ngModelCtrl, pagerConfig);
    }
  };
}]);

/* Deprecated Pagination Below */

angular.module('ui.bootstrap.pagination')
.value('$paginationSuppressWarning', false)
.controller('PaginationController', ['$scope', '$attrs', '$parse', '$log', '$paginationSuppressWarning', function($scope, $attrs, $parse, $log, $paginationSuppressWarning) {
  if (!$paginationSuppressWarning) {
    $log.warn('PaginationController is now deprecated. Use UibPaginationController instead.');
  }

  var self = this,
    ngModelCtrl = { $setViewValue: angular.noop }, // nullModelCtrl
    setNumPages = $attrs.numPages ? $parse($attrs.numPages).assign : angular.noop;

  this.init = function(ngModelCtrl_, config) {
    ngModelCtrl = ngModelCtrl_;
    this.config = config;

    ngModelCtrl.$render = function() {
      self.render();
    };

    if ($attrs.itemsPerPage) {
      $scope.$parent.$watch($parse($attrs.itemsPerPage), function(value) {
        self.itemsPerPage = parseInt(value, 10);
        $scope.totalPages = self.calculateTotalPages();
      });
    } else {
      this.itemsPerPage = config.itemsPerPage;
    }

    $scope.$watch('totalItems', function() {
      $scope.totalPages = self.calculateTotalPages();
    });

    $scope.$watch('totalPages', function(value) {
      setNumPages($scope.$parent, value); // Readonly variable

      if ( $scope.page > value ) {
        $scope.selectPage(value);
      } else {
        ngModelCtrl.$render();
      }
    });
  };

  this.calculateTotalPages = function() {
    var totalPages = this.itemsPerPage < 1 ? 1 : Math.ceil($scope.totalItems / this.itemsPerPage);
    return Math.max(totalPages || 0, 1);
  };

  this.render = function() {
    $scope.page = parseInt(ngModelCtrl.$viewValue, 10) || 1;
  };

  $scope.selectPage = function(page, evt) {
    if (evt) {
      evt.preventDefault();
    }

    var clickAllowed = !$scope.ngDisabled || !evt;
    if (clickAllowed && $scope.page !== page && page > 0 && page <= $scope.totalPages) {
      if (evt && evt.target) {
        evt.target.blur();
      }
      ngModelCtrl.$setViewValue(page);
      ngModelCtrl.$render();
    }
  };

  $scope.getText = function(key) {
    return $scope[key + 'Text'] || self.config[key + 'Text'];
  };

  $scope.noPrevious = function() {
    return $scope.page === 1;
  };

  $scope.noNext = function() {
    return $scope.page === $scope.totalPages;
  };
}])
.directive('pagination', ['$parse', 'uibPaginationConfig', '$log', '$paginationSuppressWarning', function($parse, paginationConfig, $log, $paginationSuppressWarning) {
  return {
    restrict: 'EA',
    scope: {
      totalItems: '=',
      firstText: '@',
      previousText: '@',
      nextText: '@',
      lastText: '@',
      ngDisabled:'='
    },
    require: ['pagination', '?ngModel'],
    controller: 'PaginationController',
    controllerAs: 'pagination',
    templateUrl: function(element, attrs) {
      return attrs.templateUrl || 'template/pagination/pagination.html';
    },
    replace: true,
    link: function(scope, element, attrs, ctrls) {
      if (!$paginationSuppressWarning) {
        $log.warn('pagination is now deprecated. Use uib-pagination instead.');
      }
      var paginationCtrl = ctrls[0], ngModelCtrl = ctrls[1];

      if (!ngModelCtrl) {
         return; // do nothing if no ng-model
      }

      // Setup configuration parameters
      var maxSize = angular.isDefined(attrs.maxSize) ? scope.$parent.$eval(attrs.maxSize) : paginationConfig.maxSize,
          rotate = angular.isDefined(attrs.rotate) ? scope.$parent.$eval(attrs.rotate) : paginationConfig.rotate;
      scope.boundaryLinks = angular.isDefined(attrs.boundaryLinks) ? scope.$parent.$eval(attrs.boundaryLinks) : paginationConfig.boundaryLinks;
      scope.directionLinks = angular.isDefined(attrs.directionLinks) ? scope.$parent.$eval(attrs.directionLinks) : paginationConfig.directionLinks;

      paginationCtrl.init(ngModelCtrl, paginationConfig);

      if (attrs.maxSize) {
        scope.$parent.$watch($parse(attrs.maxSize), function(value) {
          maxSize = parseInt(value, 10);
          paginationCtrl.render();
        });
      }

      // Create page object used in template
      function makePage(number, text, isActive) {
        return {
          number: number,
          text: text,
          active: isActive
        };
      }

      function getPages(currentPage, totalPages) {
        var pages = [];

        // Default page limits
        var startPage = 1, endPage = totalPages;
        var isMaxSized = angular.isDefined(maxSize) && maxSize < totalPages;

        // recompute if maxSize
        if (isMaxSized) {
          if (rotate) {
            // Current page is displayed in the middle of the visible ones
            startPage = Math.max(currentPage - Math.floor(maxSize/2), 1);
            endPage   = startPage + maxSize - 1;

            // Adjust if limit is exceeded
            if (endPage > totalPages) {
              endPage   = totalPages;
              startPage = endPage - maxSize + 1;
            }
          } else {
            // Visible pages are paginated with maxSize
            startPage = ((Math.ceil(currentPage / maxSize) - 1) * maxSize) + 1;

            // Adjust last page if limit is exceeded
            endPage = Math.min(startPage + maxSize - 1, totalPages);
          }
        }

        // Add page number links
        for (var number = startPage; number <= endPage; number++) {
          var page = makePage(number, number, number === currentPage);
          pages.push(page);
        }

        // Add links to move between page sets
        if (isMaxSized && ! rotate) {
          if (startPage > 1) {
            var previousPageSet = makePage(startPage - 1, '...', false);
            pages.unshift(previousPageSet);
          }

          if (endPage < totalPages) {
            var nextPageSet = makePage(endPage + 1, '...', false);
            pages.push(nextPageSet);
          }
        }

        return pages;
      }

      var originalRender = paginationCtrl.render;
      paginationCtrl.render = function() {
        originalRender();
        if (scope.page > 0 && scope.page <= scope.totalPages) {
          scope.pages = getPages(scope.page, scope.totalPages);
        }
      };
    }
  };
}])

.directive('pager', ['uibPagerConfig', '$log', '$paginationSuppressWarning', function(pagerConfig, $log, $paginationSuppressWarning) {
  return {
    restrict: 'EA',
    scope: {
      totalItems: '=',
      previousText: '@',
      nextText: '@',
      ngDisabled: '='
    },
    require: ['pager', '?ngModel'],
    controller: 'PaginationController',
    controllerAs: 'pagination',
    templateUrl: function(element, attrs) {
      return attrs.templateUrl || 'template/pagination/pager.html';
    },
    replace: true,
    link: function(scope, element, attrs, ctrls) {
      if (!$paginationSuppressWarning) {
        $log.warn('pager is now deprecated. Use uib-pager instead.');
      }
      var paginationCtrl = ctrls[0], ngModelCtrl = ctrls[1];

      if (!ngModelCtrl) {
         return; // do nothing if no ng-model
      }

      scope.align = angular.isDefined(attrs.align) ? scope.$parent.$eval(attrs.align) : pagerConfig.align;
      paginationCtrl.init(ngModelCtrl, pagerConfig);
    }
  };
}]);

/**
 * The following features are still outstanding: animation as a
 * function, placement as a function, inside, support for more triggers than
 * just mouse enter/leave, html tooltips, and selector delegation.
 */
angular.module('ui.bootstrap.tooltip', ['ui.bootstrap.position', 'ui.bootstrap.stackedMap'])

/**
 * The $tooltip service creates tooltip- and popover-like directives as well as
 * houses global options for them.
 */
.provider('$uibTooltip', function() {
  // The default options tooltip and popover.
  var defaultOptions = {
    placement: 'top',
    animation: true,
    popupDelay: 0,
    popupCloseDelay: 0,
    useContentExp: false
  };

  // Default hide triggers for each show trigger
  var triggerMap = {
    'mouseenter': 'mouseleave',
    'click': 'click',
    'focus': 'blur',
    'none': ''
  };

  // The options specified to the provider globally.
  var globalOptions = {};

  /**
   * `options({})` allows global configuration of all tooltips in the
   * application.
   *
   *   var app = angular.module( 'App', ['ui.bootstrap.tooltip'], function( $tooltipProvider ) {
   *     // place tooltips left instead of top by default
   *     $tooltipProvider.options( { placement: 'left' } );
   *   });
   */
	this.options = function(value) {
		angular.extend(globalOptions, value);
	};

  /**
   * This allows you to extend the set of trigger mappings available. E.g.:
   *
   *   $tooltipProvider.setTriggers( 'openTrigger': 'closeTrigger' );
   */
  this.setTriggers = function setTriggers(triggers) {
    angular.extend(triggerMap, triggers);
  };

  /**
   * This is a helper function for translating camel-case to snake-case.
   */
  function snake_case(name) {
    var regexp = /[A-Z]/g;
    var separator = '-';
    return name.replace(regexp, function(letter, pos) {
      return (pos ? separator : '') + letter.toLowerCase();
    });
  }

  /**
   * Returns the actual instance of the $tooltip service.
   * TODO support multiple triggers
   */
  this.$get = ['$window', '$compile', '$timeout', '$document', '$uibPosition', '$interpolate', '$rootScope', '$parse', '$$stackedMap', function($window, $compile, $timeout, $document, $position, $interpolate, $rootScope, $parse, $$stackedMap) {
    var openedTooltips = $$stackedMap.createNew();
    $document.on('keypress', function(e) {
      if (e.which === 27) {
        var last = openedTooltips.top();
        if (last) {
          last.value.close();
          openedTooltips.removeTop();
          last = null;
        }
      }
    });

    return function $tooltip(ttType, prefix, defaultTriggerShow, options) {
      options = angular.extend({}, defaultOptions, globalOptions, options);

      /**
       * Returns an object of show and hide triggers.
       *
       * If a trigger is supplied,
       * it is used to show the tooltip; otherwise, it will use the `trigger`
       * option passed to the `$tooltipProvider.options` method; else it will
       * default to the trigger supplied to this directive factory.
       *
       * The hide trigger is based on the show trigger. If the `trigger` option
       * was passed to the `$tooltipProvider.options` method, it will use the
       * mapped trigger from `triggerMap` or the passed trigger if the map is
       * undefined; otherwise, it uses the `triggerMap` value of the show
       * trigger; else it will just use the show trigger.
       */
      function getTriggers(trigger) {
        var show = (trigger || options.trigger || defaultTriggerShow).split(' ');
        var hide = show.map(function(trigger) {
          return triggerMap[trigger] || trigger;
        });
        return {
          show: show,
          hide: hide
        };
      }

      var directiveName = snake_case(ttType);

      var startSym = $interpolate.startSymbol();
      var endSym = $interpolate.endSymbol();
      var template =
        '<div '+ directiveName + '-popup '+
          'title="' + startSym + 'title' + endSym + '" '+
          (options.useContentExp ?
            'content-exp="contentExp()" ' :
            'content="' + startSym + 'content' + endSym + '" ') +
          'placement="' + startSym + 'placement' + endSym + '" '+
          'popup-class="' + startSym + 'popupClass' + endSym + '" '+
          'animation="animation" ' +
          'is-open="isOpen"' +
          'origin-scope="origScope" ' +
          'style="visibility: hidden; display: block; top: -9999px; left: -9999px;"' +
          '>' +
        '</div>';

      return {
        compile: function(tElem, tAttrs) {
          var tooltipLinker = $compile(template);

          return function link(scope, element, attrs, tooltipCtrl) {
            var tooltip;
            var tooltipLinkedScope;
            var transitionTimeout;
            var showTimeout;
            var hideTimeout;
            var positionTimeout;
            var appendToBody = angular.isDefined(options.appendToBody) ? options.appendToBody : false;
            var triggers = getTriggers(undefined);
            var hasEnableExp = angular.isDefined(attrs[prefix + 'Enable']);
            var ttScope = scope.$new(true);
            var repositionScheduled = false;
            var isOpenParse = angular.isDefined(attrs[prefix + 'IsOpen']) ? $parse(attrs[prefix + 'IsOpen']) : false;
            var contentParse = options.useContentExp ? $parse(attrs[ttType]) : false;
            var observers = [];

            var positionTooltip = function() {
              // check if tooltip exists and is not empty
              if (!tooltip || !tooltip.html()) { return; }

              if (!positionTimeout) {
                positionTimeout = $timeout(function() {
                  // Reset the positioning.
                  tooltip.css({ top: 0, left: 0 });

                  // Now set the calculated positioning.
                  var ttCss = $position.positionElements(element, tooltip, ttScope.placement, appendToBody);
                  ttCss.top += 'px';
                  ttCss.left += 'px';
                  ttCss.visibility = 'visible';
                  tooltip.css(ttCss);

                  positionTimeout = null;
                }, 0, false);
              }
            };

            // Set up the correct scope to allow transclusion later
            ttScope.origScope = scope;

            // By default, the tooltip is not open.
            // TODO add ability to start tooltip opened
            ttScope.isOpen = false;
            openedTooltips.add(ttScope, {
              close: hide
            });

            function toggleTooltipBind() {
              if (!ttScope.isOpen) {
                showTooltipBind();
              } else {
                hideTooltipBind();
              }
            }

            // Show the tooltip with delay if specified, otherwise show it immediately
            function showTooltipBind() {
              if (hasEnableExp && !scope.$eval(attrs[prefix + 'Enable'])) {
                return;
              }

              cancelHide();
              prepareTooltip();

              if (ttScope.popupDelay) {
                // Do nothing if the tooltip was already scheduled to pop-up.
                // This happens if show is triggered multiple times before any hide is triggered.
                if (!showTimeout) {
                  showTimeout = $timeout(show, ttScope.popupDelay, false);
                }
              } else {
                show();
              }
            }

            function hideTooltipBind() {
              cancelShow();

              if (ttScope.popupCloseDelay) {
                if (!hideTimeout) {
                  hideTimeout = $timeout(hide, ttScope.popupCloseDelay, false);
                }
              } else {
                hide();
              }
            }

            // Show the tooltip popup element.
            function show() {
              cancelShow();
              cancelHide();

              // Don't show empty tooltips.
              if (!ttScope.content) {
                return angular.noop;
              }

              createTooltip();

              // And show the tooltip.
              ttScope.$evalAsync(function() {
                ttScope.isOpen = true;
                assignIsOpen(true);
                positionTooltip();
              });
            }

            function cancelShow() {
              if (showTimeout) {
                $timeout.cancel(showTimeout);
                showTimeout = null;
              }

              if (positionTimeout) {
                $timeout.cancel(positionTimeout);
                positionTimeout = null;
              }
            }

            // Hide the tooltip popup element.
            function hide() {
              cancelShow();
              cancelHide();

              if (!ttScope) {
                return;
              }

              // First things first: we don't show it anymore.
              ttScope.$evalAsync(function() {
                ttScope.isOpen = false;
                assignIsOpen(false);
                // And now we remove it from the DOM. However, if we have animation, we
                // need to wait for it to expire beforehand.
                // FIXME: this is a placeholder for a port of the transitions library.
                // The fade transition in TWBS is 150ms.
                if (ttScope.animation) {
                  if (!transitionTimeout) {
                    transitionTimeout = $timeout(removeTooltip, 150, false);
                  }
                } else {
                  removeTooltip();
                }
              });
            }

            function cancelHide() {
              if (hideTimeout) {
                $timeout.cancel(hideTimeout);
                hideTimeout = null;
              }
              if (transitionTimeout) {
                $timeout.cancel(transitionTimeout);
                transitionTimeout = null;
              }
            }

            function createTooltip() {
              // There can only be one tooltip element per directive shown at once.
              if (tooltip) {
                return;
              }

              tooltipLinkedScope = ttScope.$new();
              tooltip = tooltipLinker(tooltipLinkedScope, function(tooltip) {
                if (appendToBody) {
                  $document.find('body').append(tooltip);
                } else {
                  element.after(tooltip);
                }
              });

              prepObservers();
            }

            function removeTooltip() {
              unregisterObservers();

              transitionTimeout = null;
              if (tooltip) {
                tooltip.remove();
                tooltip = null;
              }
              if (tooltipLinkedScope) {
                tooltipLinkedScope.$destroy();
                tooltipLinkedScope = null;
              }
            }

            /**
             * Set the inital scope values. Once
             * the tooltip is created, the observers
             * will be added to keep things in synch.
             */
            function prepareTooltip() {
              ttScope.title = attrs[prefix + 'Title'];
              if (contentParse) {
                ttScope.content = contentParse(scope);
              } else {
                ttScope.content = attrs[ttType];
              }

              ttScope.popupClass = attrs[prefix + 'Class'];
              ttScope.placement = angular.isDefined(attrs[prefix + 'Placement']) ? attrs[prefix + 'Placement'] : options.placement;

              var delay = parseInt(attrs[prefix + 'PopupDelay'], 10);
              var closeDelay = parseInt(attrs[prefix + 'PopupCloseDelay'], 10);
              ttScope.popupDelay = !isNaN(delay) ? delay : options.popupDelay;
              ttScope.popupCloseDelay = !isNaN(closeDelay) ? closeDelay : options.popupCloseDelay;
            }

            function assignIsOpen(isOpen) {
              if (isOpenParse && angular.isFunction(isOpenParse.assign)) {
                isOpenParse.assign(scope, isOpen);
              }
            }

            ttScope.contentExp = function() {
              return ttScope.content;
            };

            /**
             * Observe the relevant attributes.
             */
            attrs.$observe('disabled', function(val) {
              if (val) {
                cancelShow();
              }

              if (val && ttScope.isOpen) {
                hide();
              }
            });

            if (isOpenParse) {
              scope.$watch(isOpenParse, function(val) {
                /*jshint -W018 */
                if (ttScope && !val === ttScope.isOpen) {
                  toggleTooltipBind();
                }
                /*jshint +W018 */
              });
            }

            function prepObservers() {
              observers.length = 0;

              if (contentParse) {
                observers.push(
                  scope.$watch(contentParse, function(val) {
                    ttScope.content = val;
                    if (!val && ttScope.isOpen) {
                      hide();
                    }
                  })
                );

                observers.push(
                  tooltipLinkedScope.$watch(function() {
                    if (!repositionScheduled) {
                      repositionScheduled = true;
                      tooltipLinkedScope.$$postDigest(function() {
                        repositionScheduled = false;
                        if (ttScope && ttScope.isOpen) {
                          positionTooltip();
                        }
                      });
                    }
                  })
                );
              } else {
                observers.push(
                  attrs.$observe(ttType, function(val) {
                    ttScope.content = val;
                    if (!val && ttScope.isOpen) {
                      hide();
                    } else {
                      positionTooltip();
                    }
                  })
                );
              }

              observers.push(
                attrs.$observe(prefix + 'Title', function(val) {
                  ttScope.title = val;
                  if (ttScope.isOpen) {
                    positionTooltip();
                  }
                })
              );

              observers.push(
                attrs.$observe(prefix + 'Placement', function(val) {
                  ttScope.placement = val ? val : options.placement;
                  if (ttScope.isOpen) {
                    positionTooltip();
                  }
                })
              );
            }

            function unregisterObservers() {
              if (observers.length) {
                angular.forEach(observers, function(observer) {
                  observer();
                });
                observers.length = 0;
              }
            }

            var unregisterTriggers = function() {
              triggers.show.forEach(function(trigger) {
                element.unbind(trigger, showTooltipBind);
              });
              triggers.hide.forEach(function(trigger) {
                trigger.split(' ').forEach(function(hideTrigger) {
                  element[0].removeEventListener(hideTrigger, hideTooltipBind);
                });
              });
            };

            function prepTriggers() {
              var val = attrs[prefix + 'Trigger'];
              unregisterTriggers();

              triggers = getTriggers(val);

              if (triggers.show !== 'none') {
                triggers.show.forEach(function(trigger, idx) {
                  // Using raw addEventListener due to jqLite/jQuery bug - #4060
                  if (trigger === triggers.hide[idx]) {
                    element[0].addEventListener(trigger, toggleTooltipBind);
                  } else if (trigger) {
                    element[0].addEventListener(trigger, showTooltipBind);
                    triggers.hide[idx].split(' ').forEach(function(trigger) {
                      element[0].addEventListener(trigger, hideTooltipBind);
                    });
                  }

                  element.on('keypress', function(e) {
                    if (e.which === 27) {
                      hideTooltipBind();
                    }
                  });
                });
              }
            }

            prepTriggers();

            var animation = scope.$eval(attrs[prefix + 'Animation']);
            ttScope.animation = angular.isDefined(animation) ? !!animation : options.animation;

            var appendToBodyVal = scope.$eval(attrs[prefix + 'AppendToBody']);
            appendToBody = angular.isDefined(appendToBodyVal) ? appendToBodyVal : appendToBody;

            // if a tooltip is attached to <body> we need to remove it on
            // location change as its parent scope will probably not be destroyed
            // by the change.
            if (appendToBody) {
              scope.$on('$locationChangeSuccess', function closeTooltipOnLocationChangeSuccess() {
                if (ttScope.isOpen) {
                  hide();
                }
              });
            }

            // Make sure tooltip is destroyed and removed.
            scope.$on('$destroy', function onDestroyTooltip() {
              cancelShow();
              cancelHide();
              unregisterTriggers();
              removeTooltip();
              openedTooltips.remove(ttScope);
              ttScope = null;
            });
          };
        }
      };
    };
  }];
})

// This is mostly ngInclude code but with a custom scope
.directive('uibTooltipTemplateTransclude', [
         '$animate', '$sce', '$compile', '$templateRequest',
function ($animate ,  $sce ,  $compile ,  $templateRequest) {
  return {
    link: function(scope, elem, attrs) {
      var origScope = scope.$eval(attrs.tooltipTemplateTranscludeScope);

      var changeCounter = 0,
        currentScope,
        previousElement,
        currentElement;

      var cleanupLastIncludeContent = function() {
        if (previousElement) {
          previousElement.remove();
          previousElement = null;
        }

        if (currentScope) {
          currentScope.$destroy();
          currentScope = null;
        }

        if (currentElement) {
          $animate.leave(currentElement).then(function() {
            previousElement = null;
          });
          previousElement = currentElement;
          currentElement = null;
        }
      };

      scope.$watch($sce.parseAsResourceUrl(attrs.uibTooltipTemplateTransclude), function(src) {
        var thisChangeId = ++changeCounter;

        if (src) {
          //set the 2nd param to true to ignore the template request error so that the inner
          //contents and scope can be cleaned up.
          $templateRequest(src, true).then(function(response) {
            if (thisChangeId !== changeCounter) { return; }
            var newScope = origScope.$new();
            var template = response;

            var clone = $compile(template)(newScope, function(clone) {
              cleanupLastIncludeContent();
              $animate.enter(clone, elem);
            });

            currentScope = newScope;
            currentElement = clone;

            currentScope.$emit('$includeContentLoaded', src);
          }, function() {
            if (thisChangeId === changeCounter) {
              cleanupLastIncludeContent();
              scope.$emit('$includeContentError', src);
            }
          });
          scope.$emit('$includeContentRequested', src);
        } else {
          cleanupLastIncludeContent();
        }
      });

      scope.$on('$destroy', cleanupLastIncludeContent);
    }
  };
}])

/**
 * Note that it's intentional that these classes are *not* applied through $animate.
 * They must not be animated as they're expected to be present on the tooltip on
 * initialization.
 */
.directive('uibTooltipClasses', function() {
  return {
    restrict: 'A',
    link: function(scope, element, attrs) {
      if (scope.placement) {
        element.addClass(scope.placement);
      }

      if (scope.popupClass) {
        element.addClass(scope.popupClass);
      }

      if (scope.animation()) {
        element.addClass(attrs.tooltipAnimationClass);
      }
    }
  };
})

.directive('uibTooltipPopup', function() {
  return {
    replace: true,
    scope: { content: '@', placement: '@', popupClass: '@', animation: '&', isOpen: '&' },
    templateUrl: 'template/tooltip/tooltip-popup.html',
    link: function(scope, element) {
      element.addClass('tooltip');
    }
  };
})

.directive('uibTooltip', [ '$uibTooltip', function($uibTooltip) {
  return $uibTooltip('uibTooltip', 'tooltip', 'mouseenter');
}])

.directive('uibTooltipTemplatePopup', function() {
  return {
    replace: true,
    scope: { contentExp: '&', placement: '@', popupClass: '@', animation: '&', isOpen: '&',
      originScope: '&' },
    templateUrl: 'template/tooltip/tooltip-template-popup.html',
    link: function(scope, element) {
      element.addClass('tooltip');
    }
  };
})

.directive('uibTooltipTemplate', ['$uibTooltip', function($uibTooltip) {
  return $uibTooltip('uibTooltipTemplate', 'tooltip', 'mouseenter', {
    useContentExp: true
  });
}])

.directive('uibTooltipHtmlPopup', function() {
  return {
    replace: true,
    scope: { contentExp: '&', placement: '@', popupClass: '@', animation: '&', isOpen: '&' },
    templateUrl: 'template/tooltip/tooltip-html-popup.html',
    link: function(scope, element) {
      element.addClass('tooltip');
    }
  };
})

.directive('uibTooltipHtml', ['$uibTooltip', function($uibTooltip) {
  return $uibTooltip('uibTooltipHtml', 'tooltip', 'mouseenter', {
    useContentExp: true
  });
}]);

/* Deprecated tooltip below */

angular.module('ui.bootstrap.tooltip')

.value('$tooltipSuppressWarning', false)

.provider('$tooltip', ['$uibTooltipProvider', function($uibTooltipProvider) {
  angular.extend(this, $uibTooltipProvider);

  this.$get = ['$log', '$tooltipSuppressWarning', '$injector', function($log, $tooltipSuppressWarning, $injector) {
    if (!$tooltipSuppressWarning) {
      $log.warn('$tooltip is now deprecated. Use $uibTooltip instead.');
    }

    return $injector.invoke($uibTooltipProvider.$get);
  }];
}])

// This is mostly ngInclude code but with a custom scope
.directive('tooltipTemplateTransclude', [
         '$animate', '$sce', '$compile', '$templateRequest', '$log', '$tooltipSuppressWarning',
function ($animate ,  $sce ,  $compile ,  $templateRequest,   $log,   $tooltipSuppressWarning) {
  return {
    link: function(scope, elem, attrs) {
      if (!$tooltipSuppressWarning) {
        $log.warn('tooltip-template-transclude is now deprecated. Use uib-tooltip-template-transclude instead.');
      }

      var origScope = scope.$eval(attrs.tooltipTemplateTranscludeScope);

      var changeCounter = 0,
        currentScope,
        previousElement,
        currentElement;

      var cleanupLastIncludeContent = function() {
        if (previousElement) {
          previousElement.remove();
          previousElement = null;
        }
        if (currentScope) {
          currentScope.$destroy();
          currentScope = null;
        }
        if (currentElement) {
          $animate.leave(currentElement).then(function() {
            previousElement = null;
          });
          previousElement = currentElement;
          currentElement = null;
        }
      };

      scope.$watch($sce.parseAsResourceUrl(attrs.tooltipTemplateTransclude), function(src) {
        var thisChangeId = ++changeCounter;

        if (src) {
          //set the 2nd param to true to ignore the template request error so that the inner
          //contents and scope can be cleaned up.
          $templateRequest(src, true).then(function(response) {
            if (thisChangeId !== changeCounter) { return; }
            var newScope = origScope.$new();
            var template = response;

            var clone = $compile(template)(newScope, function(clone) {
              cleanupLastIncludeContent();
              $animate.enter(clone, elem);
            });

            currentScope = newScope;
            currentElement = clone;

            currentScope.$emit('$includeContentLoaded', src);
          }, function() {
            if (thisChangeId === changeCounter) {
              cleanupLastIncludeContent();
              scope.$emit('$includeContentError', src);
            }
          });
          scope.$emit('$includeContentRequested', src);
        } else {
          cleanupLastIncludeContent();
        }
      });

      scope.$on('$destroy', cleanupLastIncludeContent);
    }
  };
}])

.directive('tooltipClasses', ['$log', '$tooltipSuppressWarning', function($log, $tooltipSuppressWarning) {
  return {
    restrict: 'A',
    link: function(scope, element, attrs) {
      if (!$tooltipSuppressWarning) {
        $log.warn('tooltip-classes is now deprecated. Use uib-tooltip-classes instead.');
      }

      if (scope.placement) {
        element.addClass(scope.placement);
      }
      if (scope.popupClass) {
        element.addClass(scope.popupClass);
      }
      if (scope.animation()) {
        element.addClass(attrs.tooltipAnimationClass);
      }
    }
  };
}])

.directive('tooltipPopup', ['$log', '$tooltipSuppressWarning', function($log, $tooltipSuppressWarning) {
  return {
    replace: true,
    scope: { content: '@', placement: '@', popupClass: '@', animation: '&', isOpen: '&' },
    templateUrl: 'template/tooltip/tooltip-popup.html',
    link: function(scope, element) {
      if (!$tooltipSuppressWarning) {
        $log.warn('tooltip-popup is now deprecated. Use uib-tooltip-popup instead.');
      }

      element.addClass('tooltip');
    }
  };
}])

.directive('tooltip', ['$tooltip', function($tooltip) {
  return $tooltip('tooltip', 'tooltip', 'mouseenter');
}])

.directive('tooltipTemplatePopup', ['$log', '$tooltipSuppressWarning', function($log, $tooltipSuppressWarning) {
  return {
    replace: true,
    scope: { contentExp: '&', placement: '@', popupClass: '@', animation: '&', isOpen: '&',
      originScope: '&' },
    templateUrl: 'template/tooltip/tooltip-template-popup.html',
    link: function(scope, element) {
      if (!$tooltipSuppressWarning) {
        $log.warn('tooltip-template-popup is now deprecated. Use uib-tooltip-template-popup instead.');
      }

      element.addClass('tooltip');
    }
  };
}])

.directive('tooltipTemplate', ['$tooltip', function($tooltip) {
  return $tooltip('tooltipTemplate', 'tooltip', 'mouseenter', {
    useContentExp: true
  });
}])

.directive('tooltipHtmlPopup', ['$log', '$tooltipSuppressWarning', function($log, $tooltipSuppressWarning) {
  return {
    replace: true,
    scope: { contentExp: '&', placement: '@', popupClass: '@', animation: '&', isOpen: '&' },
    templateUrl: 'template/tooltip/tooltip-html-popup.html',
    link: function(scope, element) {
      if (!$tooltipSuppressWarning) {
        $log.warn('tooltip-html-popup is now deprecated. Use uib-tooltip-html-popup instead.');
      }

      element.addClass('tooltip');
    }
  };
}])

.directive('tooltipHtml', ['$tooltip', function($tooltip) {
  return $tooltip('tooltipHtml', 'tooltip', 'mouseenter', {
    useContentExp: true
  });
}]);

/**
 * The following features are still outstanding: popup delay, animation as a
 * function, placement as a function, inside, support for more triggers than
 * just mouse enter/leave, and selector delegatation.
 */
angular.module('ui.bootstrap.popover', ['ui.bootstrap.tooltip'])

.directive('uibPopoverTemplatePopup', function() {
  return {
    replace: true,
    scope: { title: '@', contentExp: '&', placement: '@', popupClass: '@', animation: '&', isOpen: '&',
      originScope: '&' },
    templateUrl: 'template/popover/popover-template.html',
    link: function(scope, element) {
      element.addClass('popover');
    }
  };
})

.directive('uibPopoverTemplate', ['$uibTooltip', function($uibTooltip) {
  return $uibTooltip('uibPopoverTemplate', 'popover', 'click', {
    useContentExp: true
  });
}])

.directive('uibPopoverHtmlPopup', function() {
  return {
    replace: true,
    scope: { contentExp: '&', title: '@', placement: '@', popupClass: '@', animation: '&', isOpen: '&' },
    templateUrl: 'template/popover/popover-html.html',
    link: function(scope, element) {
      element.addClass('popover');
    }
  };
})

.directive('uibPopoverHtml', ['$uibTooltip', function($uibTooltip) {
  return $uibTooltip('uibPopoverHtml', 'popover', 'click', {
    useContentExp: true
  });
}])

.directive('uibPopoverPopup', function() {
  return {
    replace: true,
    scope: { title: '@', content: '@', placement: '@', popupClass: '@', animation: '&', isOpen: '&' },
    templateUrl: 'template/popover/popover.html',
    link: function(scope, element) {
      element.addClass('popover');
    }
  };
})

.directive('uibPopover', ['$uibTooltip', function($uibTooltip) {
  return $uibTooltip('uibPopover', 'popover', 'click');
}]);

/* Deprecated popover below */

angular.module('ui.bootstrap.popover')

.value('$popoverSuppressWarning', false)

.directive('popoverTemplatePopup', ['$log', '$popoverSuppressWarning', function($log, $popoverSuppressWarning) {
  return {
    replace: true,
    scope: { title: '@', contentExp: '&', placement: '@', popupClass: '@', animation: '&', isOpen: '&',
      originScope: '&' },
    templateUrl: 'template/popover/popover-template.html',
    link: function(scope, element) {
      if (!$popoverSuppressWarning) {
        $log.warn('popover-template-popup is now deprecated. Use uib-popover-template-popup instead.');
      }

      element.addClass('popover');
    }
  };
}])

.directive('popoverTemplate', ['$tooltip', function($tooltip) {
  return $tooltip('popoverTemplate', 'popover', 'click', {
    useContentExp: true
  });
}])

.directive('popoverHtmlPopup', ['$log', '$popoverSuppressWarning', function($log, $popoverSuppressWarning) {
  return {
    replace: true,
    scope: { contentExp: '&', title: '@', placement: '@', popupClass: '@', animation: '&', isOpen: '&' },
    templateUrl: 'template/popover/popover-html.html',
    link: function(scope, element) {
      if (!$popoverSuppressWarning) {
        $log.warn('popover-html-popup is now deprecated. Use uib-popover-html-popup instead.');
      }

      element.addClass('popover');
    }
  };
}])

.directive('popoverHtml', ['$tooltip', function($tooltip) {
  return $tooltip('popoverHtml', 'popover', 'click', {
    useContentExp: true
  });
}])

.directive('popoverPopup', ['$log', '$popoverSuppressWarning', function($log, $popoverSuppressWarning) {
  return {
    replace: true,
    scope: { title: '@', content: '@', placement: '@', popupClass: '@', animation: '&', isOpen: '&' },
    templateUrl: 'template/popover/popover.html',
    link: function(scope, element) {
      if (!$popoverSuppressWarning) {
        $log.warn('popover-popup is now deprecated. Use uib-popover-popup instead.');
      }

      element.addClass('popover');
    }
  };
}])

.directive('popover', ['$tooltip', function($tooltip) {

  return $tooltip('popover', 'popover', 'click');
}]);

angular.module('ui.bootstrap.progressbar', [])

.constant('uibProgressConfig', {
  animate: true,
  max: 100
})

.controller('UibProgressController', ['$scope', '$attrs', 'uibProgressConfig', function($scope, $attrs, progressConfig) {
  var self = this,
      animate = angular.isDefined($attrs.animate) ? $scope.$parent.$eval($attrs.animate) : progressConfig.animate;

  this.bars = [];
  $scope.max = angular.isDefined($scope.max) ? $scope.max : progressConfig.max;

  this.addBar = function(bar, element, attrs) {
    if (!animate) {
      element.css({'transition': 'none'});
    }

    this.bars.push(bar);

    bar.max = $scope.max;
    bar.title = attrs && angular.isDefined(attrs.title) ? attrs.title : 'progressbar';

    bar.$watch('value', function(value) {
      bar.recalculatePercentage();
    });

    bar.recalculatePercentage = function() {
      var totalPercentage = self.bars.reduce(function(total, bar) {
        bar.percent = +(100 * bar.value / bar.max).toFixed(2);
        return total + bar.percent;
      }, 0);

      if (totalPercentage > 100) {
        bar.percent -= totalPercentage - 100;
      }
    };

    bar.$on('$destroy', function() {
      element = null;
      self.removeBar(bar);
    });
  };

  this.removeBar = function(bar) {
    this.bars.splice(this.bars.indexOf(bar), 1);
    this.bars.forEach(function (bar) {
      bar.recalculatePercentage();
    });
  };

  $scope.$watch('max', function(max) {
    self.bars.forEach(function(bar) {
      bar.max = $scope.max;
      bar.recalculatePercentage();
    });
  });
}])

.directive('uibProgress', function() {
  return {
    replace: true,
    transclude: true,
    controller: 'UibProgressController',
    require: 'uibProgress',
    scope: {
      max: '=?'
    },
    templateUrl: 'template/progressbar/progress.html'
  };
})

.directive('uibBar', function() {
  return {
    replace: true,
    transclude: true,
    require: '^uibProgress',
    scope: {
      value: '=',
      type: '@'
    },
    templateUrl: 'template/progressbar/bar.html',
    link: function(scope, element, attrs, progressCtrl) {
      progressCtrl.addBar(scope, element, attrs);
    }
  };
})

.directive('uibProgressbar', function() {
  return {
    replace: true,
    transclude: true,
    controller: 'UibProgressController',
    scope: {
      value: '=',
      max: '=?',
      type: '@'
    },
    templateUrl: 'template/progressbar/progressbar.html',
    link: function(scope, element, attrs, progressCtrl) {
      progressCtrl.addBar(scope, angular.element(element.children()[0]), {title: attrs.title});
    }
  };
});

/* Deprecated progressbar below */

angular.module('ui.bootstrap.progressbar')

.value('$progressSuppressWarning', false)

.controller('ProgressController', ['$scope', '$attrs', 'uibProgressConfig', '$log', '$progressSuppressWarning', function($scope, $attrs, progressConfig, $log, $progressSuppressWarning) {
  if (!$progressSuppressWarning) {
    $log.warn('ProgressController is now deprecated. Use UibProgressController instead.');
  }

  var self = this,
    animate = angular.isDefined($attrs.animate) ? $scope.$parent.$eval($attrs.animate) : progressConfig.animate;

  this.bars = [];
  $scope.max = angular.isDefined($scope.max) ? $scope.max : progressConfig.max;

  this.addBar = function(bar, element, attrs) {
    if (!animate) {
      element.css({'transition': 'none'});
    }

    this.bars.push(bar);

    bar.max = $scope.max;
    bar.title = attrs && angular.isDefined(attrs.title) ? attrs.title : 'progressbar';

    bar.$watch('value', function(value) {
      bar.recalculatePercentage();
    });

    bar.recalculatePercentage = function() {
      bar.percent = +(100 * bar.value / bar.max).toFixed(2);

      var totalPercentage = self.bars.reduce(function(total, bar) {
        return total + bar.percent;
      }, 0);

      if (totalPercentage > 100) {
        bar.percent -= totalPercentage - 100;
      }
    };

    bar.$on('$destroy', function() {
      element = null;
      self.removeBar(bar);
    });
  };

  this.removeBar = function(bar) {
    this.bars.splice(this.bars.indexOf(bar), 1);
  };

  $scope.$watch('max', function(max) {
    self.bars.forEach(function(bar) {
      bar.max = $scope.max;
      bar.recalculatePercentage();
    });
  });
}])

.directive('progress', ['$log', '$progressSuppressWarning', function($log, $progressSuppressWarning) {
  return {
    replace: true,
    transclude: true,
    controller: 'ProgressController',
    require: 'progress',
    scope: {
      max: '=?',
      title: '@?'
    },
    templateUrl: 'template/progressbar/progress.html',
    link: function() {
      if (!$progressSuppressWarning) {
        $log.warn('progress is now deprecated. Use uib-progress instead.');
      }
    }
  };
}])

.directive('bar', ['$log', '$progressSuppressWarning', function($log, $progressSuppressWarning) {
  return {
    replace: true,
    transclude: true,
    require: '^progress',
    scope: {
      value: '=',
      type: '@'
    },
    templateUrl: 'template/progressbar/bar.html',
    link: function(scope, element, attrs, progressCtrl) {
      if (!$progressSuppressWarning) {
        $log.warn('bar is now deprecated. Use uib-bar instead.');
      }
      progressCtrl.addBar(scope, element);
    }
  };
}])

.directive('progressbar', ['$log', '$progressSuppressWarning', function($log, $progressSuppressWarning) {
  return {
    replace: true,
    transclude: true,
    controller: 'ProgressController',
    scope: {
      value: '=',
      max: '=?',
      type: '@'
    },
    templateUrl: 'template/progressbar/progressbar.html',
    link: function(scope, element, attrs, progressCtrl) {
      if (!$progressSuppressWarning) {
        $log.warn('progressbar is now deprecated. Use uib-progressbar instead.');
      }
      progressCtrl.addBar(scope, angular.element(element.children()[0]), {title: attrs.title});
    }
  };
}]);

angular.module('ui.bootstrap.rating', [])

.constant('uibRatingConfig', {
  max: 5,
  stateOn: null,
  stateOff: null,
  titles : ['one', 'two', 'three', 'four', 'five']
})

.controller('UibRatingController', ['$scope', '$attrs', 'uibRatingConfig', function($scope, $attrs, ratingConfig) {
  var ngModelCtrl  = { $setViewValue: angular.noop };

  this.init = function(ngModelCtrl_) {
    ngModelCtrl = ngModelCtrl_;
    ngModelCtrl.$render = this.render;

    ngModelCtrl.$formatters.push(function(value) {
      if (angular.isNumber(value) && value << 0 !== value) {
        value = Math.round(value);
      }
      return value;
    });

    this.stateOn = angular.isDefined($attrs.stateOn) ? $scope.$parent.$eval($attrs.stateOn) : ratingConfig.stateOn;
    this.stateOff = angular.isDefined($attrs.stateOff) ? $scope.$parent.$eval($attrs.stateOff) : ratingConfig.stateOff;
    var tmpTitles = angular.isDefined($attrs.titles)  ? $scope.$parent.$eval($attrs.titles) : ratingConfig.titles ;
    this.titles = angular.isArray(tmpTitles) && tmpTitles.length > 0 ?
      tmpTitles : ratingConfig.titles;

    var ratingStates = angular.isDefined($attrs.ratingStates) ?
      $scope.$parent.$eval($attrs.ratingStates) :
      new Array(angular.isDefined($attrs.max) ? $scope.$parent.$eval($attrs.max) : ratingConfig.max);
    $scope.range = this.buildTemplateObjects(ratingStates);
  };

  this.buildTemplateObjects = function(states) {
    for (var i = 0, n = states.length; i < n; i++) {
      states[i] = angular.extend({ index: i }, { stateOn: this.stateOn, stateOff: this.stateOff, title: this.getTitle(i) }, states[i]);
    }
    return states;
  };

  this.getTitle = function(index) {
    if (index >= this.titles.length) {
      return index + 1;
    } else {
      return this.titles[index];
    }
  };

  $scope.rate = function(value) {
    if (!$scope.readonly && value >= 0 && value <= $scope.range.length) {
      ngModelCtrl.$setViewValue(ngModelCtrl.$viewValue === value ? 0 : value);
      ngModelCtrl.$render();
    }
  };

  $scope.enter = function(value) {
    if (!$scope.readonly) {
      $scope.value = value;
    }
    $scope.onHover({value: value});
  };

  $scope.reset = function() {
    $scope.value = ngModelCtrl.$viewValue;
    $scope.onLeave();
  };

  $scope.onKeydown = function(evt) {
    if (/(37|38|39|40)/.test(evt.which)) {
      evt.preventDefault();
      evt.stopPropagation();
      $scope.rate($scope.value + (evt.which === 38 || evt.which === 39 ? 1 : -1));
    }
  };

  this.render = function() {
    $scope.value = ngModelCtrl.$viewValue;
  };
}])

.directive('uibRating', function() {
  return {
    require: ['uibRating', 'ngModel'],
    scope: {
      readonly: '=?',
      onHover: '&',
      onLeave: '&'
    },
    controller: 'UibRatingController',
    templateUrl: 'template/rating/rating.html',
    replace: true,
    link: function(scope, element, attrs, ctrls) {
      var ratingCtrl = ctrls[0], ngModelCtrl = ctrls[1];
      ratingCtrl.init(ngModelCtrl);
    }
  };
});

/* Deprecated rating below */

angular.module('ui.bootstrap.rating')

.value('$ratingSuppressWarning', false)

.controller('RatingController', ['$scope', '$attrs', '$controller', '$log', '$ratingSuppressWarning', function($scope, $attrs, $controller, $log, $ratingSuppressWarning) {
  if (!$ratingSuppressWarning) {
    $log.warn('RatingController is now deprecated. Use UibRatingController instead.');
  }

  angular.extend(this, $controller('UibRatingController', {
    $scope: $scope,
    $attrs: $attrs
  }));
}])

.directive('rating', ['$log', '$ratingSuppressWarning', function($log, $ratingSuppressWarning) {
  return {
    require: ['rating', 'ngModel'],
    scope: {
      readonly: '=?',
      onHover: '&',
      onLeave: '&'
    },
    controller: 'RatingController',
    templateUrl: 'template/rating/rating.html',
    replace: true,
    link: function(scope, element, attrs, ctrls) {
      if (!$ratingSuppressWarning) {
        $log.warn('rating is now deprecated. Use uib-rating instead.');
      }
      var ratingCtrl = ctrls[0], ngModelCtrl = ctrls[1];
      ratingCtrl.init(ngModelCtrl);
    }
  };
}]);


/**
 * @ngdoc overview
 * @name ui.bootstrap.tabs
 *
 * @description
 * AngularJS version of the tabs directive.
 */

angular.module('ui.bootstrap.tabs', [])

.controller('UibTabsetController', ['$scope', function ($scope) {
  var ctrl = this,
      tabs = ctrl.tabs = $scope.tabs = [];

  ctrl.select = function(selectedTab) {
    angular.forEach(tabs, function(tab) {
      if (tab.active && tab !== selectedTab) {
        tab.active = false;
        tab.onDeselect();
        selectedTab.selectCalled = false;
      }
    });
    selectedTab.active = true;
    // only call select if it has not already been called
    if (!selectedTab.selectCalled) {
      selectedTab.onSelect();
      selectedTab.selectCalled = true;
    }
  };

  ctrl.addTab = function addTab(tab) {
    tabs.push(tab);
    // we can't run the select function on the first tab
    // since that would select it twice
    if (tabs.length === 1 && tab.active !== false) {
      tab.active = true;
    } else if (tab.active) {
      ctrl.select(tab);
    } else {
      tab.active = false;
    }
  };

  ctrl.removeTab = function removeTab(tab) {
    var index = tabs.indexOf(tab);
    //Select a new tab if the tab to be removed is selected and not destroyed
    if (tab.active && tabs.length > 1 && !destroyed) {
      //If this is the last tab, select the previous tab. else, the next tab.
      var newActiveIndex = index == tabs.length - 1 ? index - 1 : index + 1;
      ctrl.select(tabs[newActiveIndex]);
    }
    tabs.splice(index, 1);
  };

  var destroyed;
  $scope.$on('$destroy', function() {
    destroyed = true;
  });
}])

/**
 * @ngdoc directive
 * @name ui.bootstrap.tabs.directive:tabset
 * @restrict EA
 *
 * @description
 * Tabset is the outer container for the tabs directive
 *
 * @param {boolean=} vertical Whether or not to use vertical styling for the tabs.
 * @param {boolean=} justified Whether or not to use justified styling for the tabs.
 *
 * @example
<example module="ui.bootstrap">
  <file name="index.html">
    <uib-tabset>
      <uib-tab heading="Tab 1"><b>First</b> Content!</uib-tab>
      <uib-tab heading="Tab 2"><i>Second</i> Content!</uib-tab>
    </uib-tabset>
    <hr />
    <uib-tabset vertical="true">
      <uib-tab heading="Vertical Tab 1"><b>First</b> Vertical Content!</uib-tab>
      <uib-tab heading="Vertical Tab 2"><i>Second</i> Vertical Content!</uib-tab>
    </uib-tabset>
    <uib-tabset justified="true">
      <uib-tab heading="Justified Tab 1"><b>First</b> Justified Content!</uib-tab>
      <uib-tab heading="Justified Tab 2"><i>Second</i> Justified Content!</uib-tab>
    </uib-tabset>
  </file>
</example>
 */
.directive('uibTabset', function() {
  return {
    restrict: 'EA',
    transclude: true,
    replace: true,
    scope: {
      type: '@'
    },
    controller: 'UibTabsetController',
    templateUrl: 'template/tabs/tabset.html',
    link: function(scope, element, attrs) {
      scope.vertical = angular.isDefined(attrs.vertical) ? scope.$parent.$eval(attrs.vertical) : false;
      scope.justified = angular.isDefined(attrs.justified) ? scope.$parent.$eval(attrs.justified) : false;
    }
  };
})

/**
 * @ngdoc directive
 * @name ui.bootstrap.tabs.directive:tab
 * @restrict EA
 *
 * @param {string=} heading The visible heading, or title, of the tab. Set HTML headings with {@link ui.bootstrap.tabs.directive:tabHeading tabHeading}.
 * @param {string=} select An expression to evaluate when the tab is selected.
 * @param {boolean=} active A binding, telling whether or not this tab is selected.
 * @param {boolean=} disabled A binding, telling whether or not this tab is disabled.
 *
 * @description
 * Creates a tab with a heading and content. Must be placed within a {@link ui.bootstrap.tabs.directive:tabset tabset}.
 *
 * @example
<example module="ui.bootstrap">
  <file name="index.html">
    <div ng-controller="TabsDemoCtrl">
      <button class="btn btn-small" ng-click="items[0].active = true">
        Select item 1, using active binding
      </button>
      <button class="btn btn-small" ng-click="items[1].disabled = !items[1].disabled">
        Enable/disable item 2, using disabled binding
      </button>
      <br />
      <uib-tabset>
        <uib-tab heading="Tab 1">First Tab</uib-tab>
        <uib-tab select="alertMe()">
          <uib-tab-heading><i class="icon-bell"></i> Alert me!</tab-heading>
          Second Tab, with alert callback and html heading!
        </uib-tab>
        <uib-tab ng-repeat="item in items"
          heading="{{item.title}}"
          disabled="item.disabled"
          active="item.active">
          {{item.content}}
        </uib-tab>
      </uib-tabset>
    </div>
  </file>
  <file name="script.js">
    function TabsDemoCtrl($scope) {
      $scope.items = [
        { title:"Dynamic Title 1", content:"Dynamic Item 0" },
        { title:"Dynamic Title 2", content:"Dynamic Item 1", disabled: true }
      ];

      $scope.alertMe = function() {
        setTimeout(function() {
          alert("You've selected the alert tab!");
        });
      };
    };
  </file>
</example>
 */

/**
 * @ngdoc directive
 * @name ui.bootstrap.tabs.directive:tabHeading
 * @restrict EA
 *
 * @description
 * Creates an HTML heading for a {@link ui.bootstrap.tabs.directive:tab tab}. Must be placed as a child of a tab element.
 *
 * @example
<example module="ui.bootstrap">
  <file name="index.html">
    <uib-tabset>
      <uib-tab>
        <uib-tab-heading><b>HTML</b> in my titles?!</tab-heading>
        And some content, too!
      </uib-tab>
      <uib-tab>
        <uib-tab-heading><i class="icon-heart"></i> Icon heading?!?</tab-heading>
        That's right.
      </uib-tab>
    </uib-tabset>
  </file>
</example>
 */
.directive('uibTab', ['$parse', function($parse) {
  return {
    require: '^uibTabset',
    restrict: 'EA',
    replace: true,
    templateUrl: 'template/tabs/tab.html',
    transclude: true,
    scope: {
      active: '=?',
      heading: '@',
      onSelect: '&select', //This callback is called in contentHeadingTransclude
                          //once it inserts the tab's content into the dom
      onDeselect: '&deselect'
    },
    controller: function() {
      //Empty controller so other directives can require being 'under' a tab
    },
    link: function(scope, elm, attrs, tabsetCtrl, transclude) {
      scope.$watch('active', function(active) {
        if (active) {
          tabsetCtrl.select(scope);
        }
      });

      scope.disabled = false;
      if (attrs.disable) {
        scope.$parent.$watch($parse(attrs.disable), function(value) {
          scope.disabled = !! value;
        });
      }

      scope.select = function() {
        if (!scope.disabled) {
          scope.active = true;
        }
      };

      tabsetCtrl.addTab(scope);
      scope.$on('$destroy', function() {
        tabsetCtrl.removeTab(scope);
      });

      //We need to transclude later, once the content container is ready.
      //when this link happens, we're inside a tab heading.
      scope.$transcludeFn = transclude;
    }
  };
}])

.directive('uibTabHeadingTransclude', function() {
  return {
    restrict: 'A',
    require: ['?^uibTab', '?^tab'], // TODO: change to '^uibTab' after deprecation removal
    link: function(scope, elm) {
      scope.$watch('headingElement', function updateHeadingElement(heading) {
        if (heading) {
          elm.html('');
          elm.append(heading);
        }
      });
    }
  };
})

.directive('uibTabContentTransclude', function() {
  return {
    restrict: 'A',
    require: ['?^uibTabset', '?^tabset'], // TODO: change to '^uibTabset' after deprecation removal
    link: function(scope, elm, attrs) {
      var tab = scope.$eval(attrs.uibTabContentTransclude);

      //Now our tab is ready to be transcluded: both the tab heading area
      //and the tab content area are loaded.  Transclude 'em both.
      tab.$transcludeFn(tab.$parent, function(contents) {
        angular.forEach(contents, function(node) {
          if (isTabHeading(node)) {
            //Let tabHeadingTransclude know.
            tab.headingElement = node;
          } else {
            elm.append(node);
          }
        });
      });
    }
  };

  function isTabHeading(node) {
    return node.tagName && (
      node.hasAttribute('tab-heading') || // TODO: remove after deprecation removal
      node.hasAttribute('data-tab-heading') || // TODO: remove after deprecation removal
      node.hasAttribute('x-tab-heading') || // TODO: remove after deprecation removal
      node.hasAttribute('uib-tab-heading') ||
      node.hasAttribute('data-uib-tab-heading') ||
      node.hasAttribute('x-uib-tab-heading') ||
      node.tagName.toLowerCase() === 'tab-heading' || // TODO: remove after deprecation removal
      node.tagName.toLowerCase() === 'data-tab-heading' || // TODO: remove after deprecation removal
      node.tagName.toLowerCase() === 'x-tab-heading' || // TODO: remove after deprecation removal
      node.tagName.toLowerCase() === 'uib-tab-heading' ||
      node.tagName.toLowerCase() === 'data-uib-tab-heading' ||
      node.tagName.toLowerCase() === 'x-uib-tab-heading'
    );
  }
});

/* deprecated tabs below */

angular.module('ui.bootstrap.tabs')

  .value('$tabsSuppressWarning', false)

  .controller('TabsetController', ['$scope', '$controller', '$log', '$tabsSuppressWarning', function($scope, $controller, $log, $tabsSuppressWarning) {
    if (!$tabsSuppressWarning) {
      $log.warn('TabsetController is now deprecated. Use UibTabsetController instead.');
    }

    angular.extend(this, $controller('UibTabsetController', {
      $scope: $scope
    }));
  }])

  .directive('tabset', ['$log', '$tabsSuppressWarning', function($log, $tabsSuppressWarning) {
    return {
      restrict: 'EA',
      transclude: true,
      replace: true,
      scope: {
        type: '@'
      },
      controller: 'TabsetController',
      templateUrl: 'template/tabs/tabset.html',
      link: function(scope, element, attrs) {

        if (!$tabsSuppressWarning) {
          $log.warn('tabset is now deprecated. Use uib-tabset instead.');
        }
        scope.vertical = angular.isDefined(attrs.vertical) ? scope.$parent.$eval(attrs.vertical) : false;
        scope.justified = angular.isDefined(attrs.justified) ? scope.$parent.$eval(attrs.justified) : false;
      }
    };
  }])

  .directive('tab', ['$parse', '$log', '$tabsSuppressWarning', function($parse, $log, $tabsSuppressWarning) {
    return {
      require: '^tabset',
      restrict: 'EA',
      replace: true,
      templateUrl: 'template/tabs/tab.html',
      transclude: true,
      scope: {
        active: '=?',
        heading: '@',
        onSelect: '&select', //This callback is called in contentHeadingTransclude
        //once it inserts the tab's content into the dom
        onDeselect: '&deselect'
      },
      controller: function() {
        //Empty controller so other directives can require being 'under' a tab
      },
      link: function(scope, elm, attrs, tabsetCtrl, transclude) {
        if (!$tabsSuppressWarning) {
          $log.warn('tab is now deprecated. Use uib-tab instead.');
        }

        scope.$watch('active', function(active) {
          if (active) {
            tabsetCtrl.select(scope);
          }
        });

        scope.disabled = false;
        if (attrs.disable) {
          scope.$parent.$watch($parse(attrs.disable), function(value) {
            scope.disabled = !!value;
          });
        }

        scope.select = function() {
          if (!scope.disabled) {
            scope.active = true;
          }
        };

        tabsetCtrl.addTab(scope);
        scope.$on('$destroy', function() {
          tabsetCtrl.removeTab(scope);
        });

        //We need to transclude later, once the content container is ready.
        //when this link happens, we're inside a tab heading.
        scope.$transcludeFn = transclude;
      }
    };
  }])

  .directive('tabHeadingTransclude', ['$log', '$tabsSuppressWarning', function($log, $tabsSuppressWarning) {
    return {
      restrict: 'A',
      require: '^tab',
      link: function(scope, elm) {
        if (!$tabsSuppressWarning) {
          $log.warn('tab-heading-transclude is now deprecated. Use uib-tab-heading-transclude instead.');
        }

        scope.$watch('headingElement', function updateHeadingElement(heading) {
          if (heading) {
            elm.html('');
            elm.append(heading);
          }
        });
      }
    };
  }])

  .directive('tabContentTransclude', ['$log', '$tabsSuppressWarning', function($log, $tabsSuppressWarning) {
    return {
      restrict: 'A',
      require: '^tabset',
      link: function(scope, elm, attrs) {
        if (!$tabsSuppressWarning) {
          $log.warn('tab-content-transclude is now deprecated. Use uib-tab-content-transclude instead.');
        }

        var tab = scope.$eval(attrs.tabContentTransclude);

        //Now our tab is ready to be transcluded: both the tab heading area
        //and the tab content area are loaded.  Transclude 'em both.
        tab.$transcludeFn(tab.$parent, function(contents) {
          angular.forEach(contents, function(node) {
            if (isTabHeading(node)) {
              //Let tabHeadingTransclude know.
              tab.headingElement = node;
            }
            else {
              elm.append(node);
            }
          });
        });
      }
    };

    function isTabHeading(node) {
      return node.tagName && (
          node.hasAttribute('tab-heading') ||
          node.hasAttribute('data-tab-heading') ||
          node.hasAttribute('x-tab-heading') ||
          node.tagName.toLowerCase() === 'tab-heading' ||
          node.tagName.toLowerCase() === 'data-tab-heading' ||
          node.tagName.toLowerCase() === 'x-tab-heading'
        );
    }
  }]);

angular.module('ui.bootstrap.timepicker', [])

.constant('uibTimepickerConfig', {
  hourStep: 1,
  minuteStep: 1,
  showMeridian: true,
  meridians: null,
  readonlyInput: false,
  mousewheel: true,
  arrowkeys: true,
  showSpinners: true
})

.controller('UibTimepickerController', ['$scope', '$element', '$attrs', '$parse', '$log', '$locale', 'uibTimepickerConfig', function($scope, $element, $attrs, $parse, $log, $locale, timepickerConfig) {
  var selected = new Date(),
      ngModelCtrl = { $setViewValue: angular.noop }, // nullModelCtrl
      meridians = angular.isDefined($attrs.meridians) ? $scope.$parent.$eval($attrs.meridians) : timepickerConfig.meridians || $locale.DATETIME_FORMATS.AMPMS;

  $scope.tabindex = angular.isDefined($attrs.tabindex) ? $attrs.tabindex : 0;
  $element.removeAttr('tabindex');

  this.init = function(ngModelCtrl_, inputs) {
    ngModelCtrl = ngModelCtrl_;
    ngModelCtrl.$render = this.render;

    ngModelCtrl.$formatters.unshift(function(modelValue) {
      return modelValue ? new Date(modelValue) : null;
    });

    var hoursInputEl = inputs.eq(0),
        minutesInputEl = inputs.eq(1);

    var mousewheel = angular.isDefined($attrs.mousewheel) ? $scope.$parent.$eval($attrs.mousewheel) : timepickerConfig.mousewheel;
    if (mousewheel) {
      this.setupMousewheelEvents(hoursInputEl, minutesInputEl);
    }

    var arrowkeys = angular.isDefined($attrs.arrowkeys) ? $scope.$parent.$eval($attrs.arrowkeys) : timepickerConfig.arrowkeys;
    if (arrowkeys) {
      this.setupArrowkeyEvents(hoursInputEl, minutesInputEl);
    }

    $scope.readonlyInput = angular.isDefined($attrs.readonlyInput) ? $scope.$parent.$eval($attrs.readonlyInput) : timepickerConfig.readonlyInput;
    this.setupInputEvents(hoursInputEl, minutesInputEl);
  };

  var hourStep = timepickerConfig.hourStep;
  if ($attrs.hourStep) {
    $scope.$parent.$watch($parse($attrs.hourStep), function(value) {
      hourStep = parseInt(value, 10);
    });
  }

  var minuteStep = timepickerConfig.minuteStep;
  if ($attrs.minuteStep) {
    $scope.$parent.$watch($parse($attrs.minuteStep), function(value) {
      minuteStep = parseInt(value, 10);
    });
  }

  var min;
  $scope.$parent.$watch($parse($attrs.min), function(value) {
    var dt = new Date(value);
    min = isNaN(dt) ? undefined : dt;
  });

  var max;
  $scope.$parent.$watch($parse($attrs.max), function(value) {
    var dt = new Date(value);
    max = isNaN(dt) ? undefined : dt;
  });

  $scope.noIncrementHours = function() {
    var incrementedSelected = addMinutes(selected, hourStep * 60);
    return incrementedSelected > max ||
      (incrementedSelected < selected && incrementedSelected < min);
  };

  $scope.noDecrementHours = function() {
    var decrementedSelected = addMinutes(selected, -hourStep * 60);
    return decrementedSelected < min ||
      (decrementedSelected > selected && decrementedSelected > max);
  };

  $scope.noIncrementMinutes = function() {
    var incrementedSelected = addMinutes(selected, minuteStep);
    return incrementedSelected > max ||
      (incrementedSelected < selected && incrementedSelected < min);
  };

  $scope.noDecrementMinutes = function() {
    var decrementedSelected = addMinutes(selected, -minuteStep);
    return decrementedSelected < min ||
      (decrementedSelected > selected && decrementedSelected > max);
  };

  $scope.noToggleMeridian = function() {
    if (selected.getHours() < 13) {
      return addMinutes(selected, 12 * 60) > max;
    } else {
      return addMinutes(selected, -12 * 60) < min;
    }
  };

  // 12H / 24H mode
  $scope.showMeridian = timepickerConfig.showMeridian;
  if ($attrs.showMeridian) {
    $scope.$parent.$watch($parse($attrs.showMeridian), function(value) {
      $scope.showMeridian = !!value;

      if (ngModelCtrl.$error.time) {
        // Evaluate from template
        var hours = getHoursFromTemplate(), minutes = getMinutesFromTemplate();
        if (angular.isDefined(hours) && angular.isDefined(minutes)) {
          selected.setHours(hours);
          refresh();
        }
      } else {
        updateTemplate();
      }
    });
  }

  // Get $scope.hours in 24H mode if valid
  function getHoursFromTemplate() {
    var hours = parseInt($scope.hours, 10);
    var valid = $scope.showMeridian ? (hours > 0 && hours < 13) : (hours >= 0 && hours < 24);
    if (!valid) {
      return undefined;
    }

    if ($scope.showMeridian) {
      if (hours === 12) {
        hours = 0;
      }
      if ($scope.meridian === meridians[1]) {
        hours = hours + 12;
      }
    }
    return hours;
  }

  function getMinutesFromTemplate() {
    var minutes = parseInt($scope.minutes, 10);
    return (minutes >= 0 && minutes < 60) ? minutes : undefined;
  }

  function pad(value) {
    return (angular.isDefined(value) && value.toString().length < 2) ? '0' + value : value.toString();
  }

  // Respond on mousewheel spin
  this.setupMousewheelEvents = function(hoursInputEl, minutesInputEl) {
    var isScrollingUp = function(e) {
      if (e.originalEvent) {
        e = e.originalEvent;
      }
      //pick correct delta variable depending on event
      var delta = (e.wheelDelta) ? e.wheelDelta : -e.deltaY;
      return (e.detail || delta > 0);
    };

    hoursInputEl.bind('mousewheel wheel', function(e) {
      $scope.$apply(isScrollingUp(e) ? $scope.incrementHours() : $scope.decrementHours());
      e.preventDefault();
    });

    minutesInputEl.bind('mousewheel wheel', function(e) {
      $scope.$apply(isScrollingUp(e) ? $scope.incrementMinutes() : $scope.decrementMinutes());
      e.preventDefault();
    });

  };

  // Respond on up/down arrowkeys
  this.setupArrowkeyEvents = function(hoursInputEl, minutesInputEl) {
    hoursInputEl.bind('keydown', function(e) {
      if (e.which === 38) { // up
        e.preventDefault();
        $scope.incrementHours();
        $scope.$apply();
      } else if (e.which === 40) { // down
        e.preventDefault();
        $scope.decrementHours();
        $scope.$apply();
      }
    });

    minutesInputEl.bind('keydown', function(e) {
      if (e.which === 38) { // up
        e.preventDefault();
        $scope.incrementMinutes();
        $scope.$apply();
      } else if (e.which === 40) { // down
        e.preventDefault();
        $scope.decrementMinutes();
        $scope.$apply();
      }
    });
  };

  this.setupInputEvents = function(hoursInputEl, minutesInputEl) {
    if ($scope.readonlyInput) {
      $scope.updateHours = angular.noop;
      $scope.updateMinutes = angular.noop;
      return;
    }

    var invalidate = function(invalidHours, invalidMinutes) {
      ngModelCtrl.$setViewValue(null);
      ngModelCtrl.$setValidity('time', false);
      if (angular.isDefined(invalidHours)) {
        $scope.invalidHours = invalidHours;
      }
      if (angular.isDefined(invalidMinutes)) {
        $scope.invalidMinutes = invalidMinutes;
      }
    };

    $scope.updateHours = function() {
      var hours = getHoursFromTemplate(),
        minutes = getMinutesFromTemplate();

      if (angular.isDefined(hours) && angular.isDefined(minutes)) {
        selected.setHours(hours);
        if (selected < min || selected > max) {
          invalidate(true);
        } else {
          refresh('h');
        }
      } else {
        invalidate(true);
      }
    };

    hoursInputEl.bind('blur', function(e) {
      if (!$scope.invalidHours && $scope.hours < 10) {
        $scope.$apply(function() {
          $scope.hours = pad($scope.hours);
        });
      }
    });

    $scope.updateMinutes = function() {
      var minutes = getMinutesFromTemplate(),
        hours = getHoursFromTemplate();

      if (angular.isDefined(minutes) && angular.isDefined(hours)) {
        selected.setMinutes(minutes);
        if (selected < min || selected > max) {
          invalidate(undefined, true);
        } else {
          refresh('m');
        }
      } else {
        invalidate(undefined, true);
      }
    };

    minutesInputEl.bind('blur', function(e) {
      if (!$scope.invalidMinutes && $scope.minutes < 10) {
        $scope.$apply(function() {
          $scope.minutes = pad($scope.minutes);
        });
      }
    });

  };

  this.render = function() {
    var date = ngModelCtrl.$viewValue;

    if (isNaN(date)) {
      ngModelCtrl.$setValidity('time', false);
      $log.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.');
    } else {
      if (date) {
        selected = date;
      }

      if (selected < min || selected > max) {
        ngModelCtrl.$setValidity('time', false);
        $scope.invalidHours = true;
        $scope.invalidMinutes = true;
      } else {
        makeValid();
      }
      updateTemplate();
    }
  };

  // Call internally when we know that model is valid.
  function refresh(keyboardChange) {
    makeValid();
    ngModelCtrl.$setViewValue(new Date(selected));
    updateTemplate(keyboardChange);
  }

  function makeValid() {
    ngModelCtrl.$setValidity('time', true);
    $scope.invalidHours = false;
    $scope.invalidMinutes = false;
  }

  function updateTemplate(keyboardChange) {
    var hours = selected.getHours(), minutes = selected.getMinutes();

    if ($scope.showMeridian) {
      hours = (hours === 0 || hours === 12) ? 12 : hours % 12; // Convert 24 to 12 hour system
    }

    $scope.hours = keyboardChange === 'h' ? hours : pad(hours);
    if (keyboardChange !== 'm') {
      $scope.minutes = pad(minutes);
    }
    $scope.meridian = selected.getHours() < 12 ? meridians[0] : meridians[1];
  }

  function addMinutes(date, minutes) {
    var dt = new Date(date.getTime() + minutes * 60000);
    var newDate = new Date(date);
    newDate.setHours(dt.getHours(), dt.getMinutes());
    return newDate;
  }

  function addMinutesToSelected(minutes) {
    selected = addMinutes(selected, minutes);
    refresh();
  }

  $scope.showSpinners = angular.isDefined($attrs.showSpinners) ?
    $scope.$parent.$eval($attrs.showSpinners) : timepickerConfig.showSpinners;

  $scope.incrementHours = function() {
    if (!$scope.noIncrementHours()) {
      addMinutesToSelected(hourStep * 60);
    }
  };

  $scope.decrementHours = function() {
    if (!$scope.noDecrementHours()) {
      addMinutesToSelected(-hourStep * 60);
    }
  };

  $scope.incrementMinutes = function() {
    if (!$scope.noIncrementMinutes()) {
      addMinutesToSelected(minuteStep);
    }
  };

  $scope.decrementMinutes = function() {
    if (!$scope.noDecrementMinutes()) {
      addMinutesToSelected(-minuteStep);
    }
  };

  $scope.toggleMeridian = function() {
    if (!$scope.noToggleMeridian()) {
      addMinutesToSelected(12 * 60 * (selected.getHours() < 12 ? 1 : -1));
    }
  };
}])

.directive('uibTimepicker', function() {
  return {
    restrict: 'EA',
    require: ['uibTimepicker', '?^ngModel'],
    controller: 'UibTimepickerController',
    controllerAs: 'timepicker',
    replace: true,
    scope: {},
    templateUrl: function(element, attrs) {
      return attrs.templateUrl || 'template/timepicker/timepicker.html';
    },
    link: function(scope, element, attrs, ctrls) {
      var timepickerCtrl = ctrls[0], ngModelCtrl = ctrls[1];

      if (ngModelCtrl) {
        timepickerCtrl.init(ngModelCtrl, element.find('input'));
      }
    }
  };
});

/* Deprecated timepicker below */

angular.module('ui.bootstrap.timepicker')

.value('$timepickerSuppressWarning', false)

.controller('TimepickerController', ['$scope', '$element', '$attrs', '$controller', '$log', '$timepickerSuppressWarning', function($scope, $element, $attrs, $controller, $log, $timepickerSuppressWarning) {
  if (!$timepickerSuppressWarning) {
    $log.warn('TimepickerController is now deprecated. Use UibTimepickerController instead.');
  }

  angular.extend(this, $controller('UibTimepickerController', {
    $scope: $scope,
    $element: $element,
    $attrs: $attrs
  }));
}])

.directive('timepicker', ['$log', '$timepickerSuppressWarning', function($log, $timepickerSuppressWarning) {
  return {
    restrict: 'EA',
    require: ['timepicker', '?^ngModel'],
    controller: 'TimepickerController',
    controllerAs: 'timepicker',
    replace: true,
    scope: {},
    templateUrl: function(element, attrs) {
      return attrs.templateUrl || 'template/timepicker/timepicker.html';
    },
    link: function(scope, element, attrs, ctrls) {
      if (!$timepickerSuppressWarning) {
        $log.warn('timepicker is now deprecated. Use uib-timepicker instead.');
      }
      var timepickerCtrl = ctrls[0], ngModelCtrl = ctrls[1];

      if (ngModelCtrl) {
        timepickerCtrl.init(ngModelCtrl, element.find('input'));
      }
    }
  };
}]);

angular.module('ui.bootstrap.typeahead', ['ui.bootstrap.position'])

/**
 * A helper service that can parse typeahead's syntax (string provided by users)
 * Extracted to a separate service for ease of unit testing
 */
  .factory('uibTypeaheadParser', ['$parse', function($parse) {
    //                      00000111000000000000022200000000000000003333333333333330000000000044000
    var TYPEAHEAD_REGEXP = /^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;
    return {
      parse: function(input) {
        var match = input.match(TYPEAHEAD_REGEXP);
        if (!match) {
          throw new Error(
            'Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_"' +
              ' but got "' + input + '".');
        }

        return {
          itemName: match[3],
          source: $parse(match[4]),
          viewMapper: $parse(match[2] || match[1]),
          modelMapper: $parse(match[1])
        };
      }
    };
  }])

  .controller('UibTypeaheadController', ['$scope', '$element', '$attrs', '$compile', '$parse', '$q', '$timeout', '$document', '$window', '$rootScope', '$uibPosition', 'uibTypeaheadParser',
    function(originalScope, element, attrs, $compile, $parse, $q, $timeout, $document, $window, $rootScope, $position, typeaheadParser) {
    var HOT_KEYS = [9, 13, 27, 38, 40];
    var eventDebounceTime = 200;
    var modelCtrl, ngModelOptions;
    //SUPPORTED ATTRIBUTES (OPTIONS)

    //minimal no of characters that needs to be entered before typeahead kicks-in
    var minLength = originalScope.$eval(attrs.typeaheadMinLength);
    if (!minLength && minLength !== 0) {
      minLength = 1;
    }

    //minimal wait time after last character typed before typeahead kicks-in
    var waitTime = originalScope.$eval(attrs.typeaheadWaitMs) || 0;

    //should it restrict model values to the ones selected from the popup only?
    var isEditable = originalScope.$eval(attrs.typeaheadEditable) !== false;

    //binding to a variable that indicates if matches are being retrieved asynchronously
    var isLoadingSetter = $parse(attrs.typeaheadLoading).assign || angular.noop;

    //a callback executed when a match is selected
    var onSelectCallback = $parse(attrs.typeaheadOnSelect);

    //should it select highlighted popup value when losing focus?
    var isSelectOnBlur = angular.isDefined(attrs.typeaheadSelectOnBlur) ? originalScope.$eval(attrs.typeaheadSelectOnBlur) : false;

    //binding to a variable that indicates if there were no results after the query is completed
    var isNoResultsSetter = $parse(attrs.typeaheadNoResults).assign || angular.noop;

    var inputFormatter = attrs.typeaheadInputFormatter ? $parse(attrs.typeaheadInputFormatter) : undefined;

    var appendToBody =  attrs.typeaheadAppendToBody ? originalScope.$eval(attrs.typeaheadAppendToBody) : false;

    var appendToElementId =  attrs.typeaheadAppendToElementId || false;

    var focusFirst = originalScope.$eval(attrs.typeaheadFocusFirst) !== false;

    //If input matches an item of the list exactly, select it automatically
    var selectOnExact = attrs.typeaheadSelectOnExact ? originalScope.$eval(attrs.typeaheadSelectOnExact) : false;

    //INTERNAL VARIABLES

    //model setter executed upon match selection
    var parsedModel = $parse(attrs.ngModel);
    var invokeModelSetter = $parse(attrs.ngModel + '($$$p)');
    var $setModelValue = function(scope, newValue) {
      if (angular.isFunction(parsedModel(originalScope)) &&
        ngModelOptions && ngModelOptions.$options && ngModelOptions.$options.getterSetter) {
        return invokeModelSetter(scope, {$$$p: newValue});
      } else {
        return parsedModel.assign(scope, newValue);
      }
    };

    //expressions used by typeahead
    var parserResult = typeaheadParser.parse(attrs.uibTypeahead);

    var hasFocus;

    //Used to avoid bug in iOS webview where iOS keyboard does not fire
    //mousedown & mouseup events
    //Issue #3699
    var selected;

    //create a child scope for the typeahead directive so we are not polluting original scope
    //with typeahead-specific data (matches, query etc.)
    var scope = originalScope.$new();
    var offDestroy = originalScope.$on('$destroy', function() {
      scope.$destroy();
    });
    scope.$on('$destroy', offDestroy);

    // WAI-ARIA
    var popupId = 'typeahead-' + scope.$id + '-' + Math.floor(Math.random() * 10000);
    element.attr({
      'aria-autocomplete': 'list',
      'aria-expanded': false,
      'aria-owns': popupId
    });

    //pop-up element used to display matches
    var popUpEl = angular.element('<div uib-typeahead-popup></div>');
    popUpEl.attr({
      id: popupId,
      matches: 'matches',
      active: 'activeIdx',
      select: 'select(activeIdx)',
      'move-in-progress': 'moveInProgress',
      query: 'query',
      position: 'position'
    });
    //custom item template
    if (angular.isDefined(attrs.typeaheadTemplateUrl)) {
      popUpEl.attr('template-url', attrs.typeaheadTemplateUrl);
    }

    if (angular.isDefined(attrs.typeaheadPopupTemplateUrl)) {
      popUpEl.attr('popup-template-url', attrs.typeaheadPopupTemplateUrl);
    }

    var resetMatches = function() {
      scope.matches = [];
      scope.activeIdx = -1;
      element.attr('aria-expanded', false);
    };

    var getMatchId = function(index) {
      return popupId + '-option-' + index;
    };

    // Indicate that the specified match is the active (pre-selected) item in the list owned by this typeahead.
    // This attribute is added or removed automatically when the `activeIdx` changes.
    scope.$watch('activeIdx', function(index) {
      if (index < 0) {
        element.removeAttr('aria-activedescendant');
      } else {
        element.attr('aria-activedescendant', getMatchId(index));
      }
    });

    var inputIsExactMatch = function(inputValue, index) {
      if (scope.matches.length > index && inputValue) {
        return inputValue.toUpperCase() === scope.matches[index].label.toUpperCase();
      }

      return false;
    };

    var getMatchesAsync = function(inputValue) {
      var locals = {$viewValue: inputValue};
      isLoadingSetter(originalScope, true);
      isNoResultsSetter(originalScope, false);
      $q.when(parserResult.source(originalScope, locals)).then(function(matches) {
        //it might happen that several async queries were in progress if a user were typing fast
        //but we are interested only in responses that correspond to the current view value
        var onCurrentRequest = (inputValue === modelCtrl.$viewValue);
        if (onCurrentRequest && hasFocus) {
          if (matches && matches.length > 0) {
            scope.activeIdx = focusFirst ? 0 : -1;
            isNoResultsSetter(originalScope, false);
            scope.matches.length = 0;

            //transform labels
            for (var i = 0; i < matches.length; i++) {
              locals[parserResult.itemName] = matches[i];
              scope.matches.push({
                id: getMatchId(i),
                label: parserResult.viewMapper(scope, locals),
                model: matches[i]
              });
            }

            scope.query = inputValue;
            //position pop-up with matches - we need to re-calculate its position each time we are opening a window
            //with matches as a pop-up might be absolute-positioned and position of an input might have changed on a page
            //due to other elements being rendered
            recalculatePosition();

            element.attr('aria-expanded', true);

            //Select the single remaining option if user input matches
            if (selectOnExact && scope.matches.length === 1 && inputIsExactMatch(inputValue, 0)) {
              scope.select(0);
            }
          } else {
            resetMatches();
            isNoResultsSetter(originalScope, true);
          }
        }
        if (onCurrentRequest) {
          isLoadingSetter(originalScope, false);
        }
      }, function() {
        resetMatches();
        isLoadingSetter(originalScope, false);
        isNoResultsSetter(originalScope, true);
      });
    };

    // bind events only if appendToBody params exist - performance feature
    if (appendToBody) {
      angular.element($window).bind('resize', fireRecalculating);
      $document.find('body').bind('scroll', fireRecalculating);
    }

    // Declare the timeout promise var outside the function scope so that stacked calls can be cancelled later
    var timeoutEventPromise;

    // Default progress type
    scope.moveInProgress = false;

    function fireRecalculating() {
      if (!scope.moveInProgress) {
        scope.moveInProgress = true;
        scope.$digest();
      }

      // Cancel previous timeout
      if (timeoutEventPromise) {
        $timeout.cancel(timeoutEventPromise);
      }

      // Debounced executing recalculate after events fired
      timeoutEventPromise = $timeout(function() {
        // if popup is visible
        if (scope.matches.length) {
          recalculatePosition();
        }

        scope.moveInProgress = false;
      }, eventDebounceTime);
    }

    // recalculate actual position and set new values to scope
    // after digest loop is popup in right position
    function recalculatePosition() {
      scope.position = appendToBody ? $position.offset(element) : $position.position(element);
      scope.position.top += element.prop('offsetHeight');
    }

    //we need to propagate user's query so we can higlight matches
    scope.query = undefined;

    //Declare the timeout promise var outside the function scope so that stacked calls can be cancelled later
    var timeoutPromise;

    var scheduleSearchWithTimeout = function(inputValue) {
      timeoutPromise = $timeout(function() {
        getMatchesAsync(inputValue);
      }, waitTime);
    };

    var cancelPreviousTimeout = function() {
      if (timeoutPromise) {
        $timeout.cancel(timeoutPromise);
      }
    };

    resetMatches();

    scope.select = function(activeIdx) {
      //called from within the $digest() cycle
      var locals = {};
      var model, item;

      selected = true;
      locals[parserResult.itemName] = item = scope.matches[activeIdx].model;
      model = parserResult.modelMapper(originalScope, locals);
      $setModelValue(originalScope, model);
      modelCtrl.$setValidity('editable', true);
      modelCtrl.$setValidity('parse', true);

      onSelectCallback(originalScope, {
        $item: item,
        $model: model,
        $label: parserResult.viewMapper(originalScope, locals)
      });

      resetMatches();

      //return focus to the input element if a match was selected via a mouse click event
      // use timeout to avoid $rootScope:inprog error
      if (scope.$eval(attrs.typeaheadFocusOnSelect) !== false) {
        $timeout(function() { element[0].focus(); }, 0, false);
      }
    };

    //bind keyboard events: arrows up(38) / down(40), enter(13) and tab(9), esc(27)
    element.bind('keydown', function(evt) {
      //typeahead is open and an "interesting" key was pressed
      if (scope.matches.length === 0 || HOT_KEYS.indexOf(evt.which) === -1) {
        return;
      }

      // if there's nothing selected (i.e. focusFirst) and enter or tab is hit, clear the results
      if (scope.activeIdx === -1 && (evt.which === 9 || evt.which === 13)) {
        resetMatches();
        scope.$digest();
        return;
      }

      evt.preventDefault();

      if (evt.which === 40) {
        scope.activeIdx = (scope.activeIdx + 1) % scope.matches.length;
        scope.$digest();
      } else if (evt.which === 38) {
        scope.activeIdx = (scope.activeIdx > 0 ? scope.activeIdx : scope.matches.length) - 1;
        scope.$digest();
      } else if (evt.which === 13 || evt.which === 9) {
        scope.$apply(function () {
          scope.select(scope.activeIdx);
        });
      } else if (evt.which === 27) {
        evt.stopPropagation();

        resetMatches();
        scope.$digest();
      }
    });

    element.bind('blur', function() {
      if (isSelectOnBlur && scope.matches.length && scope.activeIdx !== -1 && !selected) {
        selected = true;
        scope.$apply(function() {
          scope.select(scope.activeIdx);
        });
      }
      hasFocus = false;
      selected = false;
    });

    // Keep reference to click handler to unbind it.
    var dismissClickHandler = function(evt) {
      // Issue #3973
      // Firefox treats right click as a click on document
      if (element[0] !== evt.target && evt.which !== 3 && scope.matches.length !== 0) {
        resetMatches();
        if (!$rootScope.$$phase) {
          scope.$digest();
        }
      }
    };

    $document.bind('click', dismissClickHandler);

    originalScope.$on('$destroy', function() {
      $document.unbind('click', dismissClickHandler);
      if (appendToBody || appendToElementId) {
        $popup.remove();
      }

      if (appendToBody) {
        angular.element($window).unbind('resize', fireRecalculating);
        $document.find('body').unbind('scroll', fireRecalculating);
      }
      // Prevent jQuery cache memory leak
      popUpEl.remove();
    });

    var $popup = $compile(popUpEl)(scope);

    if (appendToBody) {
      $document.find('body').append($popup);
    } else if (appendToElementId !== false) {
      angular.element($document[0].getElementById(appendToElementId)).append($popup);
    } else {
      element.after($popup);
    }

    this.init = function(_modelCtrl, _ngModelOptions) {
      modelCtrl = _modelCtrl;
      ngModelOptions = _ngModelOptions;

      //plug into $parsers pipeline to open a typeahead on view changes initiated from DOM
      //$parsers kick-in on all the changes coming from the view as well as manually triggered by $setViewValue
      modelCtrl.$parsers.unshift(function(inputValue) {
        hasFocus = true;

        if (minLength === 0 || inputValue && inputValue.length >= minLength) {
          if (waitTime > 0) {
            cancelPreviousTimeout();
            scheduleSearchWithTimeout(inputValue);
          } else {
            getMatchesAsync(inputValue);
          }
        } else {
          isLoadingSetter(originalScope, false);
          cancelPreviousTimeout();
          resetMatches();
        }

        if (isEditable) {
          return inputValue;
        } else {
          if (!inputValue) {
            // Reset in case user had typed something previously.
            modelCtrl.$setValidity('editable', true);
            return null;
          } else {
            modelCtrl.$setValidity('editable', false);
            return undefined;
          }
        }
      });

      modelCtrl.$formatters.push(function(modelValue) {
        var candidateViewValue, emptyViewValue;
        var locals = {};

        // The validity may be set to false via $parsers (see above) if
        // the model is restricted to selected values. If the model
        // is set manually it is considered to be valid.
        if (!isEditable) {
          modelCtrl.$setValidity('editable', true);
        }

        if (inputFormatter) {
          locals.$model = modelValue;
          return inputFormatter(originalScope, locals);
        } else {
          //it might happen that we don't have enough info to properly render input value
          //we need to check for this situation and simply return model value if we can't apply custom formatting
          locals[parserResult.itemName] = modelValue;
          candidateViewValue = parserResult.viewMapper(originalScope, locals);
          locals[parserResult.itemName] = undefined;
          emptyViewValue = parserResult.viewMapper(originalScope, locals);

          return candidateViewValue !== emptyViewValue ? candidateViewValue : modelValue;
        }
      });
    };
  }])

  .directive('uibTypeahead', function() {
    return {
      controller: 'UibTypeaheadController',
      require: ['ngModel', '^?ngModelOptions', 'uibTypeahead'],
      link: function(originalScope, element, attrs, ctrls) {
        ctrls[2].init(ctrls[0], ctrls[1]);
      }
    };
  })

  .directive('uibTypeaheadPopup', function() {
    return {
      scope: {
        matches: '=',
        query: '=',
        active: '=',
        position: '&',
        moveInProgress: '=',
        select: '&'
      },
      replace: true,
      templateUrl: function(element, attrs) {
        return attrs.popupTemplateUrl || 'template/typeahead/typeahead-popup.html';
      },
      link: function(scope, element, attrs) {
        scope.templateUrl = attrs.templateUrl;

        scope.isOpen = function() {
          return scope.matches.length > 0;
        };

        scope.isActive = function(matchIdx) {
          return scope.active == matchIdx;
        };

        scope.selectActive = function(matchIdx) {
          scope.active = matchIdx;
        };

        scope.selectMatch = function(activeIdx) {
          scope.select({activeIdx:activeIdx});
        };
      }
    };
  })

  .directive('uibTypeaheadMatch', ['$templateRequest', '$compile', '$parse', function($templateRequest, $compile, $parse) {
    return {
      scope: {
        index: '=',
        match: '=',
        query: '='
      },
      link:function(scope, element, attrs) {
        var tplUrl = $parse(attrs.templateUrl)(scope.$parent) || 'template/typeahead/typeahead-match.html';
        $templateRequest(tplUrl).then(function(tplContent) {
          $compile(tplContent.trim())(scope, function(clonedElement) {
            element.replaceWith(clonedElement);
          });
        });
      }
    };
  }])

  .filter('uibTypeaheadHighlight', ['$sce', '$injector', '$log', function($sce, $injector, $log) {
    var isSanitizePresent;
    isSanitizePresent = $injector.has('$sanitize');

    function escapeRegexp(queryToEscape) {
      // Regex: capture the whole query string and replace it with the string that will be used to match
      // the results, for example if the capture is "a" the result will be \a
      return queryToEscape.replace(/([.?*+^$[\]\\(){}|-])/g, '\\$1');
    }

    function containsHtml(matchItem) {
      return /<.*>/g.test(matchItem);
    }

    return function(matchItem, query) {
      if (!isSanitizePresent && containsHtml(matchItem)) {
        $log.warn('Unsafe use of typeahead please use ngSanitize'); // Warn the user about the danger
      }
      matchItem = query? ('' + matchItem).replace(new RegExp(escapeRegexp(query), 'gi'), '<strong>$&</strong>') : matchItem; // Replaces the capture string with a the same string inside of a "strong" tag
      if (!isSanitizePresent) {
        matchItem = $sce.trustAsHtml(matchItem); // If $sanitize is not present we pack the string in a $sce object for the ng-bind-html directive
      }
      return matchItem;
    };
  }]);

/* Deprecated typeahead below */
  
angular.module('ui.bootstrap.typeahead')
  .value('$typeaheadSuppressWarning', false)
  .service('typeaheadParser', ['$parse', 'uibTypeaheadParser', '$log', '$typeaheadSuppressWarning', function($parse, uibTypeaheadParser, $log, $typeaheadSuppressWarning) {
    if (!$typeaheadSuppressWarning) {
      $log.warn('typeaheadParser is now deprecated. Use uibTypeaheadParser instead.');
    }

    return uibTypeaheadParser;
  }])

  .directive('typeahead', ['$compile', '$parse', '$q', '$timeout', '$document', '$window', '$rootScope', '$uibPosition', 'typeaheadParser', '$log', '$typeaheadSuppressWarning',
    function($compile, $parse, $q, $timeout, $document, $window, $rootScope, $position, typeaheadParser, $log, $typeaheadSuppressWarning) {
    var HOT_KEYS = [9, 13, 27, 38, 40];
    var eventDebounceTime = 200;
    return {
      require: ['ngModel', '^?ngModelOptions'],
      link: function(originalScope, element, attrs, ctrls) {
        if (!$typeaheadSuppressWarning) {
          $log.warn('typeahead is now deprecated. Use uib-typeahead instead.');
        }
        var modelCtrl = ctrls[0];
        var ngModelOptions = ctrls[1];
        //SUPPORTED ATTRIBUTES (OPTIONS)

        //minimal no of characters that needs to be entered before typeahead kicks-in
        var minLength = originalScope.$eval(attrs.typeaheadMinLength);
        if (!minLength && minLength !== 0) {
          minLength = 1;
        }

        //minimal wait time after last character typed before typeahead kicks-in
        var waitTime = originalScope.$eval(attrs.typeaheadWaitMs) || 0;

        //should it restrict model values to the ones selected from the popup only?
        var isEditable = originalScope.$eval(attrs.typeaheadEditable) !== false;

        //binding to a variable that indicates if matches are being retrieved asynchronously
        var isLoadingSetter = $parse(attrs.typeaheadLoading).assign || angular.noop;

        //a callback executed when a match is selected
        var onSelectCallback = $parse(attrs.typeaheadOnSelect);

        //should it select highlighted popup value when losing focus?
        var isSelectOnBlur = angular.isDefined(attrs.typeaheadSelectOnBlur) ? originalScope.$eval(attrs.typeaheadSelectOnBlur) : false;

        //binding to a variable that indicates if there were no results after the query is completed
        var isNoResultsSetter = $parse(attrs.typeaheadNoResults).assign || angular.noop;

        var inputFormatter = attrs.typeaheadInputFormatter ? $parse(attrs.typeaheadInputFormatter) : undefined;

        var appendToBody =  attrs.typeaheadAppendToBody ? originalScope.$eval(attrs.typeaheadAppendToBody) : false;

        var appendToElementId =  attrs.typeaheadAppendToElementId || false;

        var focusFirst = originalScope.$eval(attrs.typeaheadFocusFirst) !== false;

        //If input matches an item of the list exactly, select it automatically
        var selectOnExact = attrs.typeaheadSelectOnExact ? originalScope.$eval(attrs.typeaheadSelectOnExact) : false;

        //INTERNAL VARIABLES

        //model setter executed upon match selection
        var parsedModel = $parse(attrs.ngModel);
        var invokeModelSetter = $parse(attrs.ngModel + '($$$p)');
        var $setModelValue = function(scope, newValue) {
          if (angular.isFunction(parsedModel(originalScope)) &&
            ngModelOptions && ngModelOptions.$options && ngModelOptions.$options.getterSetter) {
            return invokeModelSetter(scope, {$$$p: newValue});
          } else {
            return parsedModel.assign(scope, newValue);
          }
        };

        //expressions used by typeahead
        var parserResult = typeaheadParser.parse(attrs.typeahead);

        var hasFocus;

        //Used to avoid bug in iOS webview where iOS keyboard does not fire
        //mousedown & mouseup events
        //Issue #3699
        var selected;

        //create a child scope for the typeahead directive so we are not polluting original scope
        //with typeahead-specific data (matches, query etc.)
        var scope = originalScope.$new();
        var offDestroy = originalScope.$on('$destroy', function() {
			    scope.$destroy();
        });
        scope.$on('$destroy', offDestroy);

        // WAI-ARIA
        var popupId = 'typeahead-' + scope.$id + '-' + Math.floor(Math.random() * 10000);
        element.attr({
          'aria-autocomplete': 'list',
          'aria-expanded': false,
          'aria-owns': popupId
        });

        //pop-up element used to display matches
        var popUpEl = angular.element('<div typeahead-popup></div>');
        popUpEl.attr({
          id: popupId,
          matches: 'matches',
          active: 'activeIdx',
          select: 'select(activeIdx)',
          'move-in-progress': 'moveInProgress',
          query: 'query',
          position: 'position'
        });
        //custom item template
        if (angular.isDefined(attrs.typeaheadTemplateUrl)) {
          popUpEl.attr('template-url', attrs.typeaheadTemplateUrl);
        }

        if (angular.isDefined(attrs.typeaheadPopupTemplateUrl)) {
          popUpEl.attr('popup-template-url', attrs.typeaheadPopupTemplateUrl);
        }

        var resetMatches = function() {
          scope.matches = [];
          scope.activeIdx = -1;
          element.attr('aria-expanded', false);
        };

        var getMatchId = function(index) {
          return popupId + '-option-' + index;
        };

        // Indicate that the specified match is the active (pre-selected) item in the list owned by this typeahead.
        // This attribute is added or removed automatically when the `activeIdx` changes.
        scope.$watch('activeIdx', function(index) {
          if (index < 0) {
            element.removeAttr('aria-activedescendant');
          } else {
            element.attr('aria-activedescendant', getMatchId(index));
          }
        });

        var inputIsExactMatch = function(inputValue, index) {
          if (scope.matches.length > index && inputValue) {
            return inputValue.toUpperCase() === scope.matches[index].label.toUpperCase();
          }

          return false;
        };

        var getMatchesAsync = function(inputValue) {
          var locals = {$viewValue: inputValue};
          isLoadingSetter(originalScope, true);
          isNoResultsSetter(originalScope, false);
          $q.when(parserResult.source(originalScope, locals)).then(function(matches) {
            //it might happen that several async queries were in progress if a user were typing fast
            //but we are interested only in responses that correspond to the current view value
            var onCurrentRequest = (inputValue === modelCtrl.$viewValue);
            if (onCurrentRequest && hasFocus) {
              if (matches && matches.length > 0) {
                scope.activeIdx = focusFirst ? 0 : -1;
                isNoResultsSetter(originalScope, false);
                scope.matches.length = 0;

                //transform labels
                for (var i = 0; i < matches.length; i++) {
                  locals[parserResult.itemName] = matches[i];
                  scope.matches.push({
                    id: getMatchId(i),
                    label: parserResult.viewMapper(scope, locals),
                    model: matches[i]
                  });
                }

                scope.query = inputValue;
                //position pop-up with matches - we need to re-calculate its position each time we are opening a window
                //with matches as a pop-up might be absolute-positioned and position of an input might have changed on a page
                //due to other elements being rendered
                recalculatePosition();

                element.attr('aria-expanded', true);

                //Select the single remaining option if user input matches
                if (selectOnExact && scope.matches.length === 1 && inputIsExactMatch(inputValue, 0)) {
                  scope.select(0);
                }
              } else {
                resetMatches();
                isNoResultsSetter(originalScope, true);
              }
            }
            if (onCurrentRequest) {
              isLoadingSetter(originalScope, false);
            }
          }, function() {
            resetMatches();
            isLoadingSetter(originalScope, false);
            isNoResultsSetter(originalScope, true);
          });
        };

        // bind events only if appendToBody params exist - performance feature
        if (appendToBody) {
          angular.element($window).bind('resize', fireRecalculating);
          $document.find('body').bind('scroll', fireRecalculating);
        }

        // Declare the timeout promise var outside the function scope so that stacked calls can be cancelled later
        var timeoutEventPromise;

        // Default progress type
        scope.moveInProgress = false;

        function fireRecalculating() {
          if (!scope.moveInProgress) {
            scope.moveInProgress = true;
            scope.$digest();
          }

          // Cancel previous timeout
          if (timeoutEventPromise) {
            $timeout.cancel(timeoutEventPromise);
          }

          // Debounced executing recalculate after events fired
          timeoutEventPromise = $timeout(function() {
            // if popup is visible
            if (scope.matches.length) {
              recalculatePosition();
            }

            scope.moveInProgress = false;
          }, eventDebounceTime);
        }

        // recalculate actual position and set new values to scope
        // after digest loop is popup in right position
        function recalculatePosition() {
          scope.position = appendToBody ? $position.offset(element) : $position.position(element);
          scope.position.top += element.prop('offsetHeight');
        }

        resetMatches();

        //we need to propagate user's query so we can higlight matches
        scope.query = undefined;

        //Declare the timeout promise var outside the function scope so that stacked calls can be cancelled later
        var timeoutPromise;

        var scheduleSearchWithTimeout = function(inputValue) {
          timeoutPromise = $timeout(function() {
            getMatchesAsync(inputValue);
          }, waitTime);
        };

        var cancelPreviousTimeout = function() {
          if (timeoutPromise) {
            $timeout.cancel(timeoutPromise);
          }
        };

        //plug into $parsers pipeline to open a typeahead on view changes initiated from DOM
        //$parsers kick-in on all the changes coming from the view as well as manually triggered by $setViewValue
        modelCtrl.$parsers.unshift(function(inputValue) {
          hasFocus = true;

          if (minLength === 0 || inputValue && inputValue.length >= minLength) {
            if (waitTime > 0) {
              cancelPreviousTimeout();
              scheduleSearchWithTimeout(inputValue);
            } else {
              getMatchesAsync(inputValue);
            }
          } else {
            isLoadingSetter(originalScope, false);
            cancelPreviousTimeout();
            resetMatches();
          }

          if (isEditable) {
            return inputValue;
          } else {
            if (!inputValue) {
              // Reset in case user had typed something previously.
              modelCtrl.$setValidity('editable', true);
              return null;
            } else {
              modelCtrl.$setValidity('editable', false);
              return undefined;
            }
          }
        });

        modelCtrl.$formatters.push(function(modelValue) {
          var candidateViewValue, emptyViewValue;
          var locals = {};

          // The validity may be set to false via $parsers (see above) if
          // the model is restricted to selected values. If the model
          // is set manually it is considered to be valid.
          if (!isEditable) {
            modelCtrl.$setValidity('editable', true);
          }

          if (inputFormatter) {
            locals.$model = modelValue;
            return inputFormatter(originalScope, locals);
          } else {
            //it might happen that we don't have enough info to properly render input value
            //we need to check for this situation and simply return model value if we can't apply custom formatting
            locals[parserResult.itemName] = modelValue;
            candidateViewValue = parserResult.viewMapper(originalScope, locals);
            locals[parserResult.itemName] = undefined;
            emptyViewValue = parserResult.viewMapper(originalScope, locals);

            return candidateViewValue !== emptyViewValue ? candidateViewValue : modelValue;
          }
        });

        scope.select = function(activeIdx) {
          //called from within the $digest() cycle
          var locals = {};
          var model, item;

          selected = true;
          locals[parserResult.itemName] = item = scope.matches[activeIdx].model;
          model = parserResult.modelMapper(originalScope, locals);
          $setModelValue(originalScope, model);
          modelCtrl.$setValidity('editable', true);
          modelCtrl.$setValidity('parse', true);

          onSelectCallback(originalScope, {
            $item: item,
            $model: model,
            $label: parserResult.viewMapper(originalScope, locals)
          });

          resetMatches();

          //return focus to the input element if a match was selected via a mouse click event
          // use timeout to avoid $rootScope:inprog error
          if (scope.$eval(attrs.typeaheadFocusOnSelect) !== false) {
            $timeout(function() { element[0].focus(); }, 0, false);
          }
        };

        //bind keyboard events: arrows up(38) / down(40), enter(13) and tab(9), esc(27)
        element.bind('keydown', function(evt) {
          //typeahead is open and an "interesting" key was pressed
          if (scope.matches.length === 0 || HOT_KEYS.indexOf(evt.which) === -1) {
            return;
          }

          // if there's nothing selected (i.e. focusFirst) and enter or tab is hit, clear the results
          if (scope.activeIdx === -1 && (evt.which === 9 || evt.which === 13)) {
            resetMatches();
            scope.$digest();
            return;
          }

          evt.preventDefault();

          if (evt.which === 40) {
            scope.activeIdx = (scope.activeIdx + 1) % scope.matches.length;
            scope.$digest();
          } else if (evt.which === 38) {
            scope.activeIdx = (scope.activeIdx > 0 ? scope.activeIdx : scope.matches.length) - 1;
            scope.$digest();
          } else if (evt.which === 13 || evt.which === 9) {
            scope.$apply(function () {
              scope.select(scope.activeIdx);
            });
          } else if (evt.which === 27) {
            evt.stopPropagation();

            resetMatches();
            scope.$digest();
          }
        });

        element.bind('blur', function() {
          if (isSelectOnBlur && scope.matches.length && scope.activeIdx !== -1 && !selected) {
            selected = true;
            scope.$apply(function() {
              scope.select(scope.activeIdx);
            });
          }
          hasFocus = false;
          selected = false;
        });

        // Keep reference to click handler to unbind it.
        var dismissClickHandler = function(evt) {
          // Issue #3973
          // Firefox treats right click as a click on document
          if (element[0] !== evt.target && evt.which !== 3 && scope.matches.length !== 0) {
            resetMatches();
            if (!$rootScope.$$phase) {
              scope.$digest();
            }
          }
        };

        $document.bind('click', dismissClickHandler);

        originalScope.$on('$destroy', function() {
          $document.unbind('click', dismissClickHandler);
          if (appendToBody || appendToElementId) {
            $popup.remove();
          }

          if (appendToBody) {
            angular.element($window).unbind('resize', fireRecalculating);
            $document.find('body').unbind('scroll', fireRecalculating);
          }
          // Prevent jQuery cache memory leak
          popUpEl.remove();
        });

        var $popup = $compile(popUpEl)(scope);

        if (appendToBody) {
          $document.find('body').append($popup);
        } else if (appendToElementId !== false) {
          angular.element($document[0].getElementById(appendToElementId)).append($popup);
        } else {
          element.after($popup);
        }
      }
    };
  }])
  
  .directive('typeaheadPopup', ['$typeaheadSuppressWarning', '$log', function($typeaheadSuppressWarning, $log) {
    return {
      scope: {
        matches: '=',
        query: '=',
        active: '=',
        position: '&',
        moveInProgress: '=',
        select: '&'
      },
      replace: true,
      templateUrl: function(element, attrs) {
        return attrs.popupTemplateUrl || 'template/typeahead/typeahead-popup.html';
      },
      link: function(scope, element, attrs) {
        
        if (!$typeaheadSuppressWarning) {
          $log.warn('typeahead-popup is now deprecated. Use uib-typeahead-popup instead.');
        }
        scope.templateUrl = attrs.templateUrl;

        scope.isOpen = function() {
          return scope.matches.length > 0;
        };

        scope.isActive = function(matchIdx) {
          return scope.active == matchIdx;
        };

        scope.selectActive = function(matchIdx) {
          scope.active = matchIdx;
        };

        scope.selectMatch = function(activeIdx) {
          scope.select({activeIdx:activeIdx});
        };
      }
    };
  }])
  
  .directive('typeaheadMatch', ['$templateRequest', '$compile', '$parse', '$typeaheadSuppressWarning', '$log', function($templateRequest, $compile, $parse, $typeaheadSuppressWarning, $log) {
    return {
      restrict: 'EA',
      scope: {
        index: '=',
        match: '=',
        query: '='
      },
      link:function(scope, element, attrs) {
        if (!$typeaheadSuppressWarning) {
          $log.warn('typeahead-match is now deprecated. Use uib-typeahead-match instead.');
        }

        var tplUrl = $parse(attrs.templateUrl)(scope.$parent) || 'template/typeahead/typeahead-match.html';
        $templateRequest(tplUrl).then(function(tplContent) {
          $compile(tplContent.trim())(scope, function(clonedElement) {
            element.replaceWith(clonedElement);
          });
        });
      }
    };
  }])
  
  .filter('typeaheadHighlight', ['$sce', '$injector', '$log', '$typeaheadSuppressWarning', function($sce, $injector, $log, $typeaheadSuppressWarning) {
    var isSanitizePresent;
    isSanitizePresent = $injector.has('$sanitize');

    function escapeRegexp(queryToEscape) {
      // Regex: capture the whole query string and replace it with the string that will be used to match
      // the results, for example if the capture is "a" the result will be \a
      return queryToEscape.replace(/([.?*+^$[\]\\(){}|-])/g, '\\$1');
    }

    function containsHtml(matchItem) {
      return /<.*>/g.test(matchItem);
    }

    return function(matchItem, query) {
      if (!$typeaheadSuppressWarning) {
        $log.warn('typeaheadHighlight is now deprecated. Use uibTypeaheadHighlight instead.');
      }

      if (!isSanitizePresent && containsHtml(matchItem)) {
        $log.warn('Unsafe use of typeahead please use ngSanitize'); // Warn the user about the danger
      }

      matchItem = query? ('' + matchItem).replace(new RegExp(escapeRegexp(query), 'gi'), '<strong>$&</strong>') : matchItem; // Replaces the capture string with a the same string inside of a "strong" tag
      if (!isSanitizePresent) {
        matchItem = $sce.trustAsHtml(matchItem); // If $sanitize is not present we pack the string in a $sce object for the ng-bind-html directive
      }

      return matchItem;
    };
  }]);

angular.module("template/accordion/accordion-group.html", []).run(["$templateCache", function($templateCache) {
  $templateCache.put("template/accordion/accordion-group.html",
    "<div class=\"panel {{panelClass || 'panel-default'}}\">\n" +
    "  <div class=\"panel-heading\" ng-keypress=\"toggleOpen($event)\">\n" +
    "    <h4 class=\"panel-title\">\n" +
    "      <a href tabindex=\"0\" class=\"accordion-toggle\" ng-click=\"toggleOpen()\" uib-accordion-transclude=\"heading\"><span ng-class=\"{'text-muted': isDisabled}\">{{heading}}</span></a>\n" +
    "    </h4>\n" +
    "  </div>\n" +
    "  <div class=\"panel-collapse collapse\" uib-collapse=\"!isOpen\">\n" +
    "	  <div class=\"panel-body\" ng-transclude></div>\n" +
    "  </div>\n" +
    "</div>\n" +
    "");
}]);

angular.module("template/accordion/accordion.html", []).run(["$templateCache", function($templateCache) {
  $templateCache.put("template/accordion/accordion.html",
    "<div class=\"panel-group\" ng-transclude></div>");
}]);

angular.module("template/alert/alert.html", []).run(["$templateCache", function($templateCache) {
  $templateCache.put("template/alert/alert.html",
    "<div class=\"alert\" ng-class=\"['alert-' + (type || 'warning'), closeable ? 'alert-dismissible' : null]\" role=\"alert\">\n" +
    "    <button ng-show=\"closeable\" type=\"button\" class=\"close\" ng-click=\"close({$event: $event})\">\n" +
    "        <span aria-hidden=\"true\">&times;</span>\n" +
    "        <span class=\"sr-only\">Close</span>\n" +
    "    </button>\n" +
    "    <div ng-transclude></div>\n" +
    "</div>\n" +
    "");
}]);

angular.module("template/carousel/carousel.html", []).run(["$templateCache", function($templateCache) {
  $templateCache.put("template/carousel/carousel.html",
    "<div ng-mouseenter=\"pause()\" ng-mouseleave=\"play()\" class=\"carousel\" ng-swipe-right=\"prev()\" ng-swipe-left=\"next()\">\n" +
    "  <div class=\"carousel-inner\" ng-transclude></div>\n" +
    "  <a role=\"button\" href class=\"left carousel-control\" ng-click=\"prev()\" ng-show=\"slides.length > 1\">\n" +
    "    <span aria-hidden=\"true\" class=\"glyphicon glyphicon-chevron-left\"></span>\n" +
    "    <span class=\"sr-only\">previous</span>\n" +
    "  </a>\n" +
    "  <a role=\"button\" href class=\"right carousel-control\" ng-click=\"next()\" ng-show=\"slides.length > 1\">\n" +
    "    <span aria-hidden=\"true\" class=\"glyphicon glyphicon-chevron-right\"></span>\n" +
    "    <span class=\"sr-only\">next</span>\n" +
    "  </a>\n" +
    "  <ol class=\"carousel-indicators\" ng-show=\"slides.length > 1\">\n" +
    "    <li ng-repeat=\"slide in slides | orderBy:indexOfSlide track by $index\" ng-class=\"{ active: isActive(slide) }\" ng-click=\"select(slide)\">\n" +
    "      <span class=\"sr-only\">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if=\"isActive(slide)\">, currently active</span></span>\n" +
    "    </li>\n" +
    "  </ol>\n" +
    "</div>");
}]);

angular.module("template/carousel/slide.html", []).run(["$templateCache", function($templateCache) {
  $templateCache.put("template/carousel/slide.html",
    "<div ng-class=\"{\n" +
    "    'active': active\n" +
    "  }\" class=\"item text-center\" ng-transclude></div>\n" +
    "");
}]);

angular.module("template/datepicker/datepicker.html", []).run(["$templateCache", function($templateCache) {
  $templateCache.put("template/datepicker/datepicker.html",
    "<div ng-switch=\"datepickerMode\" role=\"application\" ng-keydown=\"keydown($event)\">\n" +
    "  <uib-daypicker ng-switch-when=\"day\" tabindex=\"0\"></uib-daypicker>\n" +
    "  <uib-monthpicker ng-switch-when=\"month\" tabindex=\"0\"></uib-monthpicker>\n" +
    "  <uib-yearpicker ng-switch-when=\"year\" tabindex=\"0\"></uib-yearpicker>\n" +
    "</div>");
}]);

angular.module("template/datepicker/day.html", []).run(["$templateCache", function($templateCache) {
  $templateCache.put("template/datepicker/day.html",
    "<table role=\"grid\" aria-labelledby=\"{{::uniqueId}}-title\" aria-activedescendant=\"{{activeDateId}}\">\n" +
    "  <thead>\n" +
    "    <tr>\n" +
    "      <th><button type=\"button\" class=\"btn btn-default btn-sm pull-left\" ng-click=\"move(-1)\" tabindex=\"-1\"><i class=\"glyphicon glyphicon-chevron-left\"></i></button></th>\n" +
    "      <th colspan=\"{{::5 + showWeeks}}\"><button id=\"{{::uniqueId}}-title\" role=\"heading\" aria-live=\"assertive\" aria-atomic=\"true\" type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"toggleMode()\" ng-disabled=\"datepickerMode === maxMode\" tabindex=\"-1\" style=\"width:100%;\"><strong>{{title}}</strong></button></th>\n" +
    "      <th><button type=\"button\" class=\"btn btn-default btn-sm pull-right\" ng-click=\"move(1)\" tabindex=\"-1\"><i class=\"glyphicon glyphicon-chevron-right\"></i></button></th>\n" +
    "    </tr>\n" +
    "    <tr>\n" +
    "      <th ng-if=\"showWeeks\" class=\"text-center\"></th>\n" +
    "      <th ng-repeat=\"label in ::labels track by $index\" class=\"text-center\"><small aria-label=\"{{::label.full}}\">{{::label.abbr}}</small></th>\n" +
    "    </tr>\n" +
    "  </thead>\n" +
    "  <tbody>\n" +
    "    <tr ng-repeat=\"row in rows track by $index\">\n" +
    "      <td ng-if=\"showWeeks\" class=\"text-center h6\"><em>{{ weekNumbers[$index] }}</em></td>\n" +
    "      <td ng-repeat=\"dt in row track by dt.date\" class=\"text-center\" role=\"gridcell\" id=\"{{::dt.uid}}\" ng-class=\"::dt.customClass\">\n" +
    "        <button type=\"button\" style=\"min-width:100%;\" class=\"btn btn-default btn-sm\" ng-class=\"{'btn-info': dt.selected, active: isActive(dt)}\" ng-click=\"select(dt.date)\" ng-disabled=\"dt.disabled\" tabindex=\"-1\"><span ng-class=\"::{'text-muted': dt.secondary, 'text-info': dt.current}\">{{::dt.label}}</span></button>\n" +
    "      </td>\n" +
    "    </tr>\n" +
    "  </tbody>\n" +
    "</table>\n" +
    "");
}]);

angular.module("template/datepicker/month.html", []).run(["$templateCache", function($templateCache) {
  $templateCache.put("template/datepicker/month.html",
    "<table role=\"grid\" aria-labelledby=\"{{::uniqueId}}-title\" aria-activedescendant=\"{{activeDateId}}\">\n" +
    "  <thead>\n" +
    "    <tr>\n" +
    "      <th><button type=\"button\" class=\"btn btn-default btn-sm pull-left\" ng-click=\"move(-1)\" tabindex=\"-1\"><i class=\"glyphicon glyphicon-chevron-left\"></i></button></th>\n" +
    "      <th><button id=\"{{::uniqueId}}-title\" role=\"heading\" aria-live=\"assertive\" aria-atomic=\"true\" type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"toggleMode()\" ng-disabled=\"datepickerMode === maxMode\" tabindex=\"-1\" style=\"width:100%;\"><strong>{{title}}</strong></button></th>\n" +
    "      <th><button type=\"button\" class=\"btn btn-default btn-sm pull-right\" ng-click=\"move(1)\" tabindex=\"-1\"><i class=\"glyphicon glyphicon-chevron-right\"></i></button></th>\n" +
    "    </tr>\n" +
    "  </thead>\n" +
    "  <tbody>\n" +
    "    <tr ng-repeat=\"row in rows track by $index\">\n" +
    "      <td ng-repeat=\"dt in row track by dt.date\" class=\"text-center\" role=\"gridcell\" id=\"{{::dt.uid}}\" ng-class=\"::dt.customClass\">\n" +
    "        <button type=\"button\" style=\"min-width:100%;\" class=\"btn btn-default\" ng-class=\"{'btn-info': dt.selected, active: isActive(dt)}\" ng-click=\"select(dt.date)\" ng-disabled=\"dt.disabled\" tabindex=\"-1\"><span ng-class=\"::{'text-info': dt.current}\">{{::dt.label}}</span></button>\n" +
    "      </td>\n" +
    "    </tr>\n" +
    "  </tbody>\n" +
    "</table>\n" +
    "");
}]);

angular.module("template/datepicker/popup.html", []).run(["$templateCache", function($templateCache) {
  $templateCache.put("template/datepicker/popup.html",
    "<ul class=\"dropdown-menu\" dropdown-nested ng-if=\"isOpen\" style=\"display: block\" ng-style=\"{top: position.top+'px', left: position.left+'px'}\" ng-keydown=\"keydown($event)\" ng-click=\"$event.stopPropagation()\">\n" +
    "	<li ng-transclude></li>\n" +
    "	<li ng-if=\"showButtonBar\" style=\"padding:10px 9px 2px\">\n" +
    "		<span class=\"btn-group pull-left\">\n" +
    "			<button type=\"button\" class=\"btn btn-sm btn-info\" ng-click=\"select('today')\" ng-disabled=\"isDisabled('today')\">{{ getText('current') }}</button>\n" +
    "			<button type=\"button\" class=\"btn btn-sm btn-danger\" ng-click=\"select(null)\">{{ getText('clear') }}</button>\n" +
    "		</span>\n" +
    "		<button type=\"button\" class=\"btn btn-sm btn-success pull-right\" ng-click=\"close()\">{{ getText('close') }}</button>\n" +
    "	</li>\n" +
    "</ul>\n" +
    "");
}]);

angular.module("template/datepicker/year.html", []).run(["$templateCache", function($templateCache) {
  $templateCache.put("template/datepicker/year.html",
    "<table role=\"grid\" aria-labelledby=\"{{::uniqueId}}-title\" aria-activedescendant=\"{{activeDateId}}\">\n" +
    "  <thead>\n" +
    "    <tr>\n" +
    "      <th><button type=\"button\" class=\"btn btn-default btn-sm pull-left\" ng-click=\"move(-1)\" tabindex=\"-1\"><i class=\"glyphicon glyphicon-chevron-left\"></i></button></th>\n" +
    "      <th colspan=\"3\"><button id=\"{{::uniqueId}}-title\" role=\"heading\" aria-live=\"assertive\" aria-atomic=\"true\" type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"toggleMode()\" ng-disabled=\"datepickerMode === maxMode\" tabindex=\"-1\" style=\"width:100%;\"><strong>{{title}}</strong></button></th>\n" +
    "      <th><button type=\"button\" class=\"btn btn-default btn-sm pull-right\" ng-click=\"move(1)\" tabindex=\"-1\"><i class=\"glyphicon glyphicon-chevron-right\"></i></button></th>\n" +
    "    </tr>\n" +
    "  </thead>\n" +
    "  <tbody>\n" +
    "    <tr ng-repeat=\"row in rows track by $index\">\n" +
    "      <td ng-repeat=\"dt in row track by dt.date\" class=\"text-center\" role=\"gridcell\" id=\"{{::dt.uid}}\" ng-class=\"::dt.customClass\">\n" +
    "        <button type=\"button\" style=\"min-width:100%;\" class=\"btn btn-default\" ng-class=\"{'btn-info': dt.selected, active: isActive(dt)}\" ng-click=\"select(dt.date)\" ng-disabled=\"dt.disabled\" tabindex=\"-1\"><span ng-class=\"::{'text-info': dt.current}\">{{::dt.label}}</span></button>\n" +
    "      </td>\n" +
    "    </tr>\n" +
    "  </tbody>\n" +
    "</table>\n" +
    "");
}]);

angular.module("template/modal/backdrop.html", []).run(["$templateCache", function($templateCache) {
  $templateCache.put("template/modal/backdrop.html",
    "<div uib-modal-animation-class=\"fade\"\n" +
    "     modal-in-class=\"in\"\n" +
    "     ng-style=\"{'z-index': 1040 + (index && 1 || 0) + index*10}\"\n" +
    "></div>\n" +
    "");
}]);

angular.module("template/modal/window.html", []).run(["$templateCache", function($templateCache) {
  $templateCache.put("template/modal/window.html",
    "<div modal-render=\"{{$isRendered}}\" tabindex=\"-1\" role=\"dialog\" class=\"modal\"\n" +
    "    uib-modal-animation-class=\"fade\"\n" +
    "    modal-in-class=\"in\"\n" +
    "    ng-style=\"{'z-index': 1050 + index*10, display: 'block'}\">\n" +
    "    <div class=\"modal-dialog\" ng-class=\"size ? 'modal-' + size : ''\"><div class=\"modal-content\" uib-modal-transclude></div></div>\n" +
    "</div>\n" +
    "");
}]);

angular.module("template/pagination/pager.html", []).run(["$templateCache", function($templateCache) {
  $templateCache.put("template/pagination/pager.html",
    "<ul class=\"pager\">\n" +
    "  <li ng-class=\"{disabled: noPrevious()||ngDisabled, previous: align}\"><a href ng-click=\"selectPage(page - 1, $event)\">{{::getText('previous')}}</a></li>\n" +
    "  <li ng-class=\"{disabled: noNext()||ngDisabled, next: align}\"><a href ng-click=\"selectPage(page + 1, $event)\">{{::getText('next')}}</a></li>\n" +
    "</ul>\n" +
    "");
}]);

angular.module("template/pagination/pagination.html", []).run(["$templateCache", function($templateCache) {
  $templateCache.put("template/pagination/pagination.html",
    "<ul class=\"pagination\">\n" +
    "  <li ng-if=\"::boundaryLinks\" ng-class=\"{disabled: noPrevious()||ngDisabled}\" class=\"pagination-first\"><a href ng-click=\"selectPage(1, $event)\">{{::getText('first')}}</a></li>\n" +
    "  <li ng-if=\"::directionLinks\" ng-class=\"{disabled: noPrevious()||ngDisabled}\" class=\"pagination-prev\"><a href ng-click=\"selectPage(page - 1, $event)\">{{::getText('previous')}}</a></li>\n" +
    "  <li ng-repeat=\"page in pages track by $index\" ng-class=\"{active: page.active,disabled: ngDisabled&&!page.active}\" class=\"pagination-page\"><a href ng-click=\"selectPage(page.number, $event)\">{{page.text}}</a></li>\n" +
    "  <li ng-if=\"::directionLinks\" ng-class=\"{disabled: noNext()||ngDisabled}\" class=\"pagination-next\"><a href ng-click=\"selectPage(page + 1, $event)\">{{::getText('next')}}</a></li>\n" +
    "  <li ng-if=\"::boundaryLinks\" ng-class=\"{disabled: noNext()||ngDisabled}\" class=\"pagination-last\"><a href ng-click=\"selectPage(totalPages, $event)\">{{::getText('last')}}</a></li>\n" +
    "</ul>\n" +
    "");
}]);

angular.module("template/tooltip/tooltip-html-popup.html", []).run(["$templateCache", function($templateCache) {
  $templateCache.put("template/tooltip/tooltip-html-popup.html",
    "<div\n" +
    "  tooltip-animation-class=\"fade\"\n" +
    "  uib-tooltip-classes\n" +
    "  ng-class=\"{ in: isOpen() }\">\n" +
    "  <div class=\"tooltip-arrow\"></div>\n" +
    "  <div class=\"tooltip-inner\" ng-bind-html=\"contentExp()\"></div>\n" +
    "</div>\n" +
    "");
}]);

angular.module("template/tooltip/tooltip-popup.html", []).run(["$templateCache", function($templateCache) {
  $templateCache.put("template/tooltip/tooltip-popup.html",
    "<div\n" +
    "  tooltip-animation-class=\"fade\"\n" +
    "  uib-tooltip-classes\n" +
    "  ng-class=\"{ in: isOpen() }\">\n" +
    "  <div class=\"tooltip-arrow\"></div>\n" +
    "  <div class=\"tooltip-inner\" ng-bind=\"content\"></div>\n" +
    "</div>\n" +
    "");
}]);

angular.module("template/tooltip/tooltip-template-popup.html", []).run(["$templateCache", function($templateCache) {
  $templateCache.put("template/tooltip/tooltip-template-popup.html",
    "<div\n" +
    "  tooltip-animation-class=\"fade\"\n" +
    "  uib-tooltip-classes\n" +
    "  ng-class=\"{ in: isOpen() }\">\n" +
    "  <div class=\"tooltip-arrow\"></div>\n" +
    "  <div class=\"tooltip-inner\"\n" +
    "    uib-tooltip-template-transclude=\"contentExp()\"\n" +
    "    tooltip-template-transclude-scope=\"originScope()\"></div>\n" +
    "</div>\n" +
    "");
}]);

angular.module("template/popover/popover-html.html", []).run(["$templateCache", function($templateCache) {
  $templateCache.put("template/popover/popover-html.html",
    "<div tooltip-animation-class=\"fade\"\n" +
    "  uib-tooltip-classes\n" +
    "  ng-class=\"{ in: isOpen() }\">\n" +
    "  <div class=\"arrow\"></div>\n" +
    "\n" +
    "  <div class=\"popover-inner\">\n" +
    "      <h3 class=\"popover-title\" ng-bind=\"title\" ng-if=\"title\"></h3>\n" +
    "      <div class=\"popover-content\" ng-bind-html=\"contentExp()\"></div>\n" +
    "  </div>\n" +
    "</div>\n" +
    "");
}]);

angular.module("template/popover/popover-template.html", []).run(["$templateCache", function($templateCache) {
  $templateCache.put("template/popover/popover-template.html",
    "<div tooltip-animation-class=\"fade\"\n" +
    "  uib-tooltip-classes\n" +
    "  ng-class=\"{ in: isOpen() }\">\n" +
    "  <div class=\"arrow\"></div>\n" +
    "\n" +
    "  <div class=\"popover-inner\">\n" +
    "      <h3 class=\"popover-title\" ng-bind=\"title\" ng-if=\"title\"></h3>\n" +
    "      <div class=\"popover-content\"\n" +
    "        uib-tooltip-template-transclude=\"contentExp()\"\n" +
    "        tooltip-template-transclude-scope=\"originScope()\"></div>\n" +
    "  </div>\n" +
    "</div>\n" +
    "");
}]);

angular.module("template/popover/popover.html", []).run(["$templateCache", function($templateCache) {
  $templateCache.put("template/popover/popover.html",
    "<div tooltip-animation-class=\"fade\"\n" +
    "  uib-tooltip-classes\n" +
    "  ng-class=\"{ in: isOpen() }\">\n" +
    "  <div class=\"arrow\"></div>\n" +
    "\n" +
    "  <div class=\"popover-inner\">\n" +
    "      <h3 class=\"popover-title\" ng-bind=\"title\" ng-if=\"title\"></h3>\n" +
    "      <div class=\"popover-content\" ng-bind=\"content\"></div>\n" +
    "  </div>\n" +
    "</div>\n" +
    "");
}]);

angular.module("template/progressbar/bar.html", []).run(["$templateCache", function($templateCache) {
  $templateCache.put("template/progressbar/bar.html",
    "<div class=\"progress-bar\" ng-class=\"type && 'progress-bar-' + type\" role=\"progressbar\" aria-valuenow=\"{{value}}\" aria-valuemin=\"0\" aria-valuemax=\"{{max}}\" ng-style=\"{width: (percent < 100 ? percent : 100) + '%'}\" aria-valuetext=\"{{percent | number:0}}%\" aria-labelledby=\"{{::title}}\" style=\"min-width: 0;\" ng-transclude></div>\n" +
    "");
}]);

angular.module("template/progressbar/progress.html", []).run(["$templateCache", function($templateCache) {
  $templateCache.put("template/progressbar/progress.html",
    "<div class=\"progress\" ng-transclude aria-labelledby=\"{{::title}}\"></div>");
}]);

angular.module("template/progressbar/progressbar.html", []).run(["$templateCache", function($templateCache) {
  $templateCache.put("template/progressbar/progressbar.html",
    "<div class=\"progress\">\n" +
    "  <div class=\"progress-bar\" ng-class=\"type && 'progress-bar-' + type\" role=\"progressbar\" aria-valuenow=\"{{value}}\" aria-valuemin=\"0\" aria-valuemax=\"{{max}}\" ng-style=\"{width: (percent < 100 ? percent : 100) + '%'}\" aria-valuetext=\"{{percent | number:0}}%\" aria-labelledby=\"{{::title}}\" style=\"min-width: 0;\" ng-transclude></div>\n" +
    "</div>\n" +
    "");
}]);

angular.module("template/rating/rating.html", []).run(["$templateCache", function($templateCache) {
  $templateCache.put("template/rating/rating.html",
    "<span ng-mouseleave=\"reset()\" ng-keydown=\"onKeydown($event)\" tabindex=\"0\" role=\"slider\" aria-valuemin=\"0\" aria-valuemax=\"{{range.length}}\" aria-valuenow=\"{{value}}\">\n" +
    "    <span ng-repeat-start=\"r in range track by $index\" class=\"sr-only\">({{ $index < value ? '*' : ' ' }})</span>\n" +
    "    <i ng-repeat-end ng-mouseenter=\"enter($index + 1)\" ng-click=\"rate($index + 1)\" class=\"glyphicon\" ng-class=\"$index < value && (r.stateOn || 'glyphicon-star') || (r.stateOff || 'glyphicon-star-empty')\" ng-attr-title=\"{{r.title}}\" aria-valuetext=\"{{r.title}}\"></i>\n" +
    "</span>\n" +
    "");
}]);

angular.module("template/tabs/tab.html", []).run(["$templateCache", function($templateCache) {
  $templateCache.put("template/tabs/tab.html",
    "<li ng-class=\"{active: active, disabled: disabled}\">\n" +
    "  <a href ng-click=\"select()\" uib-tab-heading-transclude>{{heading}}</a>\n" +
    "</li>\n" +
    "");
}]);

angular.module("template/tabs/tabset.html", []).run(["$templateCache", function($templateCache) {
  $templateCache.put("template/tabs/tabset.html",
    "<div>\n" +
    "  <ul class=\"nav nav-{{type || 'tabs'}}\" ng-class=\"{'nav-stacked': vertical, 'nav-justified': justified}\" ng-transclude></ul>\n" +
    "  <div class=\"tab-content\">\n" +
    "    <div class=\"tab-pane\" \n" +
    "         ng-repeat=\"tab in tabs\" \n" +
    "         ng-class=\"{active: tab.active}\"\n" +
    "         uib-tab-content-transclude=\"tab\">\n" +
    "    </div>\n" +
    "  </div>\n" +
    "</div>\n" +
    "");
}]);

angular.module("template/timepicker/timepicker.html", []).run(["$templateCache", function($templateCache) {
  $templateCache.put("template/timepicker/timepicker.html",
    "<table>\n" +
    "  <tbody>\n" +
    "    <tr class=\"text-center\" ng-show=\"::showSpinners\">\n" +
    "      <td><a ng-click=\"incrementHours()\" ng-class=\"{disabled: noIncrementHours()}\" class=\"btn btn-link\" ng-disabled=\"noIncrementHours()\" tabindex=\"{{::tabindex}}\"><span class=\"glyphicon glyphicon-chevron-up\"></span></a></td>\n" +
    "      <td>&nbsp;</td>\n" +
    "      <td><a ng-click=\"incrementMinutes()\" ng-class=\"{disabled: noIncrementMinutes()}\" class=\"btn btn-link\" ng-disabled=\"noIncrementMinutes()\" tabindex=\"{{::tabindex}}\"><span class=\"glyphicon glyphicon-chevron-up\"></span></a></td>\n" +
    "      <td ng-show=\"showMeridian\"></td>\n" +
    "    </tr>\n" +
    "    <tr>\n" +
    "      <td class=\"form-group\" ng-class=\"{'has-error': invalidHours}\">\n" +
    "        <input style=\"width:50px;\" type=\"text\" ng-model=\"hours\" ng-change=\"updateHours()\" class=\"form-control text-center\" ng-readonly=\"::readonlyInput\" maxlength=\"2\" tabindex=\"{{::tabindex}}\">\n" +
    "      </td>\n" +
    "      <td>:</td>\n" +
    "      <td class=\"form-group\" ng-class=\"{'has-error': invalidMinutes}\">\n" +
    "        <input style=\"width:50px;\" type=\"text\" ng-model=\"minutes\" ng-change=\"updateMinutes()\" class=\"form-control text-center\" ng-readonly=\"::readonlyInput\" maxlength=\"2\" tabindex=\"{{::tabindex}}\">\n" +
    "      </td>\n" +
    "      <td ng-show=\"showMeridian\"><button type=\"button\" ng-class=\"{disabled: noToggleMeridian()}\" class=\"btn btn-default text-center\" ng-click=\"toggleMeridian()\" ng-disabled=\"noToggleMeridian()\" tabindex=\"{{::tabindex}}\">{{meridian}}</button></td>\n" +
    "    </tr>\n" +
    "    <tr class=\"text-center\" ng-show=\"::showSpinners\">\n" +
    "      <td><a ng-click=\"decrementHours()\" ng-class=\"{disabled: noDecrementHours()}\" class=\"btn btn-link\" ng-disabled=\"noDecrementHours()\" tabindex=\"{{::tabindex}}\"><span class=\"glyphicon glyphicon-chevron-down\"></span></a></td>\n" +
    "      <td>&nbsp;</td>\n" +
    "      <td><a ng-click=\"decrementMinutes()\" ng-class=\"{disabled: noDecrementMinutes()}\" class=\"btn btn-link\" ng-disabled=\"noDecrementMinutes()\" tabindex=\"{{::tabindex}}\"><span class=\"glyphicon glyphicon-chevron-down\"></span></a></td>\n" +
    "      <td ng-show=\"showMeridian\"></td>\n" +
    "    </tr>\n" +
    "  </tbody>\n" +
    "</table>\n" +
    "");
}]);

angular.module("template/typeahead/typeahead-match.html", []).run(["$templateCache", function($templateCache) {
  $templateCache.put("template/typeahead/typeahead-match.html",
    "<a href tabindex=\"-1\" ng-bind-html=\"match.label | uibTypeaheadHighlight:query\"></a>\n" +
    "");
}]);

angular.module("template/typeahead/typeahead-popup.html", []).run(["$templateCache", function($templateCache) {
  $templateCache.put("template/typeahead/typeahead-popup.html",
    "<ul class=\"dropdown-menu\" ng-show=\"isOpen() && !moveInProgress\" ng-style=\"{top: position().top+'px', left: position().left+'px'}\" style=\"display: block;\" role=\"listbox\" aria-hidden=\"{{!isOpen()}}\">\n" +
    "    <li ng-repeat=\"match in matches track by $index\" ng-class=\"{active: isActive($index) }\" ng-mouseenter=\"selectActive($index)\" ng-click=\"selectMatch($index)\" role=\"option\" id=\"{{::match.id}}\">\n" +
    "        <div uib-typeahead-match index=\"$index\" match=\"match\" query=\"query\" template-url=\"templateUrl\"></div>\n" +
    "    </li>\n" +
    "</ul>\n" +
    "");
}]);
!angular.$$csp() && angular.element(document).find('head').prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>');

/***/ }),
/* 566 */
/***/ ((module) => {

module.exports = "<div ng-controller=\"LocalSettingsCtrl\" class=\"widget-container fluid-height\"><div class=\"heading\"><i class=\"fa fa-save\"></i><span translate=\"translate\">Local Settings</span></div><div class=\"widget-content padded\"><button ng-click=\"resetSettings()\" class=\"btn btn-danger\"><i class=\"fa fa-trash-o\"></i><span translate=\"translate\">Reset Settings</span></button></div></div>"

/***/ }),
/* 567 */
/***/ ((module) => {

module.exports = function($scope, SettingsService) {
  $scope.resetSettings = function() {
    SettingsService.reset()
    alert('Settings cleared')
  }

}


/***/ }),
/* 568 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/**
* Copyright © 2019 code initially contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0
**/

module.exports = angular.module('stf.settings.general.email-address-separator', [
  (__webpack_require__(210).name)
])
  .run(['$templateCache', function($templateCache) {
    $templateCache.put(
      'settings/general/email-address-separator/email-address-separator.pug'
    , __webpack_require__(569)
    )
  }])
  .controller('EmailAddressSeparatorCtrl', __webpack_require__(570))


/***/ }),
/* 569 */
/***/ ((module) => {

module.exports = "<!--Copyright © 2019 code initially contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0--><!----><div ng-controller=\"EmailAddressSeparatorCtrl\" class=\"widget-container fluid-height\"><div class=\"heading\"><i class=\"fa fa-envelope-o\"></i><span translate=\"translate\">Email address separator </span></div><div class=\"widget-content padded\"><div class=\"form-horizontal\"><div class=\"form-group\"><div class=\"input-group\"><div class=\"input-group-addon input-sm\"><i uib-tooltip=\"{{'Define your own Email address separator' | translate}}\" tooltip-placement=\"auto top-right\" tooltip-popup-delay=\"500\" class=\"fa fa-envelope-o\"></i></div><input size=\"2\" type=\"text\" placeholder=\",\" ng-model=\"emailAddressSeparator\" class=\"form-control input-sm\"/></div></div></div></div></div>"

/***/ }),
/* 570 */
/***/ ((module) => {

/**
* Copyright © 2019 code initially contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0
**/

module.exports = function EmailAddressSeparatorCtrl(
  $scope
, SettingsService
) {

  $scope.defaultEmailAddressSeparator = ','
  SettingsService.bind($scope, {
    target: 'emailAddressSeparator'
  , source: 'emailAddressSeparator'
  , defaultValue: $scope.defaultEmailAddressSeparator
  })

  $scope.$watch(
    function() {
      return SettingsService.get('emailAddressSeparator')
    }
  , function(newvalue) {
      if (typeof newvalue === 'undefined') {
        SettingsService.set('emailAddressSeparator', $scope.defaultEmailAddressSeparator)
      }
    }
  )
}


/***/ }),
/* 571 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/**
* Copyright © 2019 code initially contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0
**/

module.exports = angular.module('stf.settings.general.date-format', [
  (__webpack_require__(210).name)
])
  .run(['$templateCache', function($templateCache) {
    $templateCache.put(
      'settings/general/date-format/date-format.pug', __webpack_require__(572)
    )
  }])
  .controller('DateFormatCtrl', __webpack_require__(573))


/***/ }),
/* 572 */
/***/ ((module) => {

module.exports = "<!--Copyright © 2019 code initially contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0--><!----><div ng-controller=\"DateFormatCtrl\" class=\"widget-container fluid-height\"><div class=\"heading\"><i class=\"fa fa-clock-o\"></i><span translate=\"translate\">Date format</span></div><div class=\"widget-content padded\"><div class=\"form-horizontal\"><div class=\"form-group\"><div class=\"input-group\"><div class=\"input-group-addon input-sm\"><i uib-tooltip=\"{{'Define your own Date format' | translate}}\" tooltip-placement=\"auto top-right\" tooltip-popup-delay=\"500\" class=\"fa fa-clock-o\"></i></div><input size=\"30\" type=\"text\" placeholder=\"M/d/yy h:mm:ss a\" ng-model=\"dateFormat\" class=\"form-control input-sm\"/></div></div></div></div></div>"

/***/ }),
/* 573 */
/***/ ((module) => {

/**
* Copyright © 2019 code initially contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0
**/

module.exports = function DateFormatCtrl(
  $scope
, SettingsService
) {

  $scope.defaultDateFormat = 'M/d/yy h:mm:ss a'
  SettingsService.bind($scope, {
    target: 'dateFormat'
  , source: 'dateFormat'
  , defaultValue: $scope.defaultDateFormat
  })

  $scope.$watch(
    function() {
      return SettingsService.get('dateFormat')
    }
  , function(newvalue) {
      if (typeof newvalue === 'undefined') {
        SettingsService.set('dateFormat', $scope.defaultDateFormat)
      }
    }
  )
}


/***/ }),
/* 574 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/**
* Copyright © 2024 code initially contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0
**/

module.exports = angular.module('stf.settings.general.alert-message', [
  (__webpack_require__(210).name)
])
  .run(['$templateCache', function($templateCache) {
    $templateCache.put(
      'settings/general/alert-message/alert-message.pug'
    , __webpack_require__(575)
    )
  }])
  .controller('AlertMessageCtrl', __webpack_require__(576))


/***/ }),
/* 575 */
/***/ ((module) => {

module.exports = "<!--Copyright © 2024 code initially contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0--><!----><div ng-controller=\"AlertMessageCtrl\" class=\"widget-container fluid-height\"><div class=\"heading\"><i class=\"fa fa-exclamation-triangle\"></i><span translate=\"translate\">Alert Message</span></div><div class=\"widget-content padded\"><div class=\"form-horizontal\"><div class=\"form-group general-item\"><div class=\"input-group\"><div class=\"input-group-addon input-sm\"><i uib-tooltip=\"{{'Define your own alert message' | translate}}\" tooltip-placement=\"auto top-right\" tooltip-popup-delay=\"500\" class=\"fa fa-exclamation-triangle\"></i></div><input size=\"20\" type=\"text\" placeholder=\"\" ng-model=\"alertMessage.data\" class=\"form-control input-sm\"/></div></div><div class=\"form-group general-item\"><label translate=\"translate\" uib-tooltip=\"{{'Alert message activation' | translate}}\" tooltip-placement=\"auto top-right\" tooltip-popup-delay=\"500\" class=\"general-label\">Activation</label><select ng-model=\"alertMessage.activation\" ng-options=\"option for option in alertMessageActivationOptions\"></select></div><div class=\"form-group general-item\"><label translate=\"translate\" uib-tooltip=\"{{'Alert message level' | translate}}\" tooltip-placement=\"auto top-right\" tooltip-popup-delay=\"500\" class=\"general-label\">Level</label><select ng-model=\"alertMessage.level\" ng-options=\"option for option in alertMessageLevelOptions\"></select></div></div></div></div>"

/***/ }),
/* 576 */
/***/ ((module) => {

/**
* Copyright © 2024 code initially contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0
**/

module.exports = function AlertMessageCtrl(
  $scope
, SettingsService
) {

  $scope.defaultAlertMessage = {
    data: '*** This site is currently under maintenance, please wait ***'
  , activation: 'False'
  , level: 'Critical'
  }

  SettingsService.bind($scope, {
    target: 'alertMessage'
  , source: 'alertMessage'
  , defaultValue: $scope.defaultAlertMessage
  })

  $scope.alertMessageActivationOptions = ['True', 'False']
  $scope.alertMessageLevelOptions = ['Information', 'Warning', 'Critical']

  $scope.$watch(
    function() {
      return SettingsService.get('alertMessage')
    }
  , function(newvalue) {
      if (typeof newvalue === 'undefined') {
        SettingsService.set('alertMessage', $scope.defaultAlertMessage)
      }
    }
  )

  $scope.$on('user.menu.users.updated', function(event, message) {
    if (message.user.privilege === 'admin') {
      $scope.alertMessage = message.user.settings.alertMessage
    }
  })
}


/***/ }),
/* 577 */
/***/ ((module) => {

module.exports = "<!--Copyright © 2019-2024 contains code contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0--><!----><div ng-controller=\"GeneralCtrl\" class=\"div\"><div class=\"row stf-general\"><div class=\"col-md-3\"><div ng-include=\"&quot;settings/general/local/local-settings.pug&quot;\"></div></div><div class=\"col-md-3\"><div ng-include=\"&quot;settings/general/language/language.pug&quot;\"></div></div><div class=\"col-md-3\"><div ng-include=\"&quot;settings/general/date-format/date-format.pug&quot;\"></div></div><div class=\"col-md-3\"><div ng-include=\"&quot;settings/general/email-address-separator/email-address-separator.pug&quot;\"></div></div></div><div ng-if=\"isAdmin()\" class=\"row stf-general\"><div class=\"col-md-12\"><div ng-include=\"&quot;settings/general/alert-message/alert-message.pug&quot;\"></div></div></div></div>"

/***/ }),
/* 578 */
/***/ ((module) => {

/**
*  Copyright © 2024 contains code contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0
**/

module.exports = function GeneralCtrl($scope, AppState) {
  $scope.isAdmin = function() {
    return AppState.user.privilege === 'admin'
  }
}


/***/ }),
/* 579 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

__webpack_require__(580)

module.exports = angular.module('stf.settings.keys', [
  (__webpack_require__(582).name),
  (__webpack_require__(593).name)
])
  .run(['$templateCache', function($templateCache) {
    $templateCache.put(
      'settings/keys/keys.pug', __webpack_require__(605)
    )
  }])
  .controller('KeysCtrl', __webpack_require__(606))


/***/ }),
/* 580 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14);
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(15);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(17);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(18);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(19);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_keys_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(581);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_keys_css__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_cjs_js_keys_css__WEBPACK_IMPORTED_MODULE_6__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_css_loader_dist_cjs_js_keys_css__WEBPACK_IMPORTED_MODULE_6__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_css_loader_dist_cjs_js_keys_css__WEBPACK_IMPORTED_MODULE_6__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()((_node_modules_css_loader_dist_cjs_js_keys_css__WEBPACK_IMPORTED_MODULE_6___default()), options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((_node_modules_css_loader_dist_cjs_js_keys_css__WEBPACK_IMPORTED_MODULE_6___default()) && (_node_modules_css_loader_dist_cjs_js_keys_css__WEBPACK_IMPORTED_MODULE_6___default().locals) ? (_node_modules_css_loader_dist_cjs_js_keys_css__WEBPACK_IMPORTED_MODULE_6___default().locals) : undefined);


/***/ }),
/* 581 */
/***/ ((module, exports, __webpack_require__) => {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(21);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.id, ".stf-keys .key-list-icon {\n\n}\n\n.stf-keys .key-list a {\n  padding: 10px;\n  border-bottom: 1px solid #dddddd;\n}\n\n.stf-keys .key-list-details {\n  display: inline-block;\n}\n\n.stf-keys .key-list-title {\n  color: #007aff;\n  font-size: 14px;\n  font-weight: 300;\n  margin: 2px 0 6px;\n}\n\n.stf-keys .key-list-remove {\n  display: inline-block;\n}\n\n.animate-repeat.ng-move,\n.animate-repeat.ng-enter,\n.animate-repeat.ng-leave {\n  -webkit-transition: all ease-out 150ms;\n  transition: all ease-out 150ms;\n}\n\n.animate-repeat.ng-leave.ng-leave-active,\n.animate-repeat.ng-move,\n.animate-repeat.ng-enter {\n  opacity: 0;\n  max-height: 0;\n}\n\n.animate-repeat.ng-leave,\n.animate-repeat.ng-move.ng-move-active,\n.animate-repeat.ng-enter.ng-enter-active {\n  opacity: 1;\n  max-height: 100px;\n}\n", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 582 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

__webpack_require__(583)

module.exports = angular.module('stf.settings.keys.adb-keys', [
  (__webpack_require__(195).name),
  (__webpack_require__(36).name),
  (__webpack_require__(585).name)
])
  .run(['$templateCache', function($templateCache) {
    $templateCache.put(
      'settings/keys/adb-keys/adb-keys.pug', __webpack_require__(591)
    )
  }])
  .controller('AdbKeysCtrl', __webpack_require__(592))


/***/ }),
/* 583 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14);
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(15);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(17);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(18);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(19);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_adb_keys_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(584);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_adb_keys_css__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_cjs_js_adb_keys_css__WEBPACK_IMPORTED_MODULE_6__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_css_loader_dist_cjs_js_adb_keys_css__WEBPACK_IMPORTED_MODULE_6__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_css_loader_dist_cjs_js_adb_keys_css__WEBPACK_IMPORTED_MODULE_6__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()((_node_modules_css_loader_dist_cjs_js_adb_keys_css__WEBPACK_IMPORTED_MODULE_6___default()), options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((_node_modules_css_loader_dist_cjs_js_adb_keys_css__WEBPACK_IMPORTED_MODULE_6___default()) && (_node_modules_css_loader_dist_cjs_js_adb_keys_css__WEBPACK_IMPORTED_MODULE_6___default().locals) ? (_node_modules_css_loader_dist_cjs_js_adb_keys_css__WEBPACK_IMPORTED_MODULE_6___default().locals) : undefined);


/***/ }),
/* 584 */
/***/ ((module, exports, __webpack_require__) => {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(21);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.id, ".stf-adb-keys .key-list-fingerprint {\n  font-family: Monaco, Menlo, Consolas, \"Courier New\", monospace;\n  font-size: 10px;\n  margin-bottom: 2px;\n  color: #999999;\n  font-weight: 300;\n}\n", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 585 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

__webpack_require__(586)

module.exports = angular.module('stf.add-adb-key', [
  (__webpack_require__(9).name),
  (__webpack_require__(36).name)
])
  .directive('addAdbKey', __webpack_require__(588))
  .factory('AdbKeysService', __webpack_require__(590))



/***/ }),
/* 586 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14);
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(15);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(17);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(18);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(19);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_add_adb_key_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(587);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_add_adb_key_css__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_cjs_js_add_adb_key_css__WEBPACK_IMPORTED_MODULE_6__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_css_loader_dist_cjs_js_add_adb_key_css__WEBPACK_IMPORTED_MODULE_6__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_css_loader_dist_cjs_js_add_adb_key_css__WEBPACK_IMPORTED_MODULE_6__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()((_node_modules_css_loader_dist_cjs_js_add_adb_key_css__WEBPACK_IMPORTED_MODULE_6___default()), options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((_node_modules_css_loader_dist_cjs_js_add_adb_key_css__WEBPACK_IMPORTED_MODULE_6___default()) && (_node_modules_css_loader_dist_cjs_js_add_adb_key_css__WEBPACK_IMPORTED_MODULE_6___default().locals) ? (_node_modules_css_loader_dist_cjs_js_add_adb_key_css__WEBPACK_IMPORTED_MODULE_6___default().locals) : undefined);


/***/ }),
/* 587 */
/***/ ((module, exports, __webpack_require__) => {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(21);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.id, ".stf-add-adb-key .form-adb-key {\n  margin-bottom: 60px;\n}\n\n.stf-add-adb-key .clip-board {\n  margin-bottom: 20px;\n}\n", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 588 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = function addAdbKeyDirective(AdbKeysService) {
  return {
    restrict: 'EA',
    replace: true,
    scope: {
      showAdd: '=',
      showClipboard: '='
    },
    template: __webpack_require__(589),
    controller: function($scope, UserService) {
      $scope.addForm = {
        title: ''
      , key: ''
      }

      $scope.$on('user.keys.adb.error', function(event, error) {
        $scope.safeApply(function() {
          $scope.error = error.message
        })
      })

      $scope.$on('user.keys.adb.updated', function() {
        $scope.closeAddKey()
      })

      $scope.addKey = function() {
        UserService.addAdbKey({
          title: $scope.addForm.title
        , key: $scope.addForm.key
        })
      }

      $scope.closeAddKey = function() {
        $scope.addForm.title = ''
        $scope.addForm.key = ''
        // TODO: cannot access to the form by name inside a directive?
        //$scope.adbkeyform.$setPristine()
        $scope.showAdd = false
        $scope.error = ''
      }
    },
    link: function(scope) {
      scope.$watch('addForm.key', function(newValue) {
        if (newValue && !scope.addForm.title) {
          // By default sets the title to the ADB key comment because
          // usually it happens to be username@hostname.
          scope.addForm.title = AdbKeysService.commentFromKey(newValue)
        }
      })
    }
  }
}


/***/ }),
/* 589 */
/***/ ((module) => {

module.exports = "<div ng-show=\"showAdd\" class=\"panel panel-default stf-add-adb-key\"><div class=\"panel-heading\"><h3 translate=\"translate\" class=\"panel-title\">Add ADB Key</h3></div><div class=\"panel-body\"><form name=\"adbkeyform\" ng-submit=\"addKey(key)\" class=\"form-horizontal stf-add-adb-key form-adb-key\"><div ng-show=\"showClipboard\" class=\"stf-add-adb-key clip-board\"><div class=\"alert alert-info selectable\"><strong translate=\"translate\">Tip:</strong><span>&nbsp;</span><span translate=\"translate\">Run this command to copy the key to your clipboard</span><textarea readonly=\"readonly\" rows=\"1\" text-focus-select=\"text-focus-select\" ng-copy=\"focusAddKey = true\" class=\"form-control remote-debug-textarea\">pbcopy < ~/.android/adbkey.pub</textarea></div></div><div class=\"form-group\"><label for=\"adb-device-key\" class=\"control-label\"><i class=\"fa fa-key fa-fw\"></i><span translate=\"translate\">Key</span></label><textarea id=\"adb-device-key\" rows=\"4\" name=\"deviceKey\" ng-model=\"addForm.key\" ng-required=\"true\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" focus-element=\"focusAddKey\" ng-paste=\"focusAddTitle = true\" class=\"form-control\"></textarea></div><div class=\"form-group\"><label for=\"adb-device-title\" class=\"control-label\"><i class=\"fa fa-laptop fa-fw\"></i><span translate=\"translate\"> Device</span></label><input id=\"adb-device-title\" type=\"text\" name=\"deviceTitle\" ng-model=\"addForm.title\" ng-required=\"true\" text-focus-select=\"text-focus-select\" focus-element=\"focusAddTitle\" class=\"form-control\"/></div><button type=\"submit\" class=\"btn btn-primary-outline btn-sm pull-right\"><i class=\"fa fa-plus fa-fw\"></i><span translate=\"translate\">Add Key</span></button></form><error-message message=\"{{error}}\"></error-message></div></div>"

/***/ }),
/* 590 */
/***/ ((module) => {

module.exports = function AdbKeysServiceFactory() {
  var service = {}

  service.commentFromKey = function(key) {
    if (key.match(/.+= (.+)/)) {
      return key.replace(/.+= (.+)/g, '$1')
    }
    return ''
  }

  return service
}


/***/ }),
/* 591 */
/***/ ((module) => {

module.exports = "<div ng-controller=\"AdbKeysCtrl\" class=\"widget-container fluid-height stf-keys stf-adb-keys\"><div class=\"heading\"><i class=\"fa fa-android\"></i><span translate=\"translate\">ADB Keys</span><button ng-click=\"showAdd = !showAdd\" ng-class=\"{ &quot;btn-primary-outline&quot;: !showAdd, &quot;btn-primary&quot;: showAdd }\" class=\"btn pull-right btn-sm\"><i class=\"fa fa-plus fa-fw\"></i></button><a ng-href=\"/#!/docs/ADB-Keys\" class=\"pull-right btn btn-sm\"><i uib-tooltip=\"{{&quot;More about ADB Keys&quot; | translate}}\" tooltip-placement=\"left\" class=\"fa fa-question-circle\"></i></a></div><div class=\"widget-content padded\"><nothing-to-show icon=\"fa-android\" message=\"{{&quot;No ADB keys&quot; | translate}}\" ng-if=\"!adbKeys.length &amp;&amp; !showAdd\"></nothing-to-show><add-adb-key show-clipboard=\"true\" show-add=\"showAdd\"></add-adb-key><ul class=\"list-group key-list\"><li ng-repeat=\"key in adbKeys\" class=\"list-group-item animate-repeat\"><a><i class=\"fa fa-key fa-2x fa-fw key-list-icon\"></i><div class=\"key-list-details selectable\"><div ng-bind=\"key.title\" class=\"key-list-title\"></div><div ng-bind=\"key.fingerprint\" class=\"key-list-fingerprint\"></div></div><button ng-click=\"removeKey(key)\" class=\"btn btn-xs btn-danger-outline pull-right key-list-remove\"><i class=\"fa fa-trash-o\"></i><span translate=\"translate\">Remove</span></button></a></li></ul></div></div>"

/***/ }),
/* 592 */
/***/ ((module) => {

module.exports =
  function AdbKeysCtrl($scope, $http, UserService) {
    $scope.adbKeys = []

    function updateKeys() {
      $scope.adbKeys = UserService.getAdbKeys()
    }

    $scope.removeKey = function(key) {
      UserService.removeAdbKey(key)
    }

    $scope.$on('user.keys.adb.updated', updateKeys)
    updateKeys()
  }


/***/ }),
/* 593 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

__webpack_require__(594)

module.exports = angular.module('stf.settings.keys.access-tokens', [
  (__webpack_require__(133).name),
  (__webpack_require__(36).name),
  (__webpack_require__(596).name),
  (__webpack_require__(597).name)
])
  .run(['$templateCache', function($templateCache) {
    $templateCache.put(
      'settings/keys/access-tokens/access-tokens.pug', __webpack_require__(603)
    )
  }])
  .controller('AccessTokensCtrl', __webpack_require__(604))


/***/ }),
/* 594 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14);
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(15);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(17);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(18);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(19);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_access_tokens_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(595);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_access_tokens_css__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_cjs_js_access_tokens_css__WEBPACK_IMPORTED_MODULE_6__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_css_loader_dist_cjs_js_access_tokens_css__WEBPACK_IMPORTED_MODULE_6__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_css_loader_dist_cjs_js_access_tokens_css__WEBPACK_IMPORTED_MODULE_6__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()((_node_modules_css_loader_dist_cjs_js_access_tokens_css__WEBPACK_IMPORTED_MODULE_6___default()), options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((_node_modules_css_loader_dist_cjs_js_access_tokens_css__WEBPACK_IMPORTED_MODULE_6___default()) && (_node_modules_css_loader_dist_cjs_js_access_tokens_css__WEBPACK_IMPORTED_MODULE_6___default().locals) ? (_node_modules_css_loader_dist_cjs_js_access_tokens_css__WEBPACK_IMPORTED_MODULE_6___default().locals) : undefined);


/***/ }),
/* 595 */
/***/ ((module, exports, __webpack_require__) => {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(21);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.id, ".stf-access-tokens .access-token-generated-okay {\n  display: inline-block;\n}\n\n.stf-access-tokens .token-id-textarea {\n  resize: none;\n  cursor: text;\n  font-family: Monaco, Menlo, Consolas, \"Courier New\", monospace;\n  font-size: 12px;\n  width: 85%;\n}\n", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 596 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = angular.module('stf.tokens', [
  (__webpack_require__(597).name)
])
.factory('AccessTokenService', __webpack_require__(602))


/***/ }),
/* 597 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

__webpack_require__(598)

module.exports = angular.module('stf.tokens.generate-access-token', [

])
  .directive('generateAccessToken', __webpack_require__(600))


/***/ }),
/* 598 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14);
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(15);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(17);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(18);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(19);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_generate_access_token_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(599);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_generate_access_token_css__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_cjs_js_generate_access_token_css__WEBPACK_IMPORTED_MODULE_6__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_css_loader_dist_cjs_js_generate_access_token_css__WEBPACK_IMPORTED_MODULE_6__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_css_loader_dist_cjs_js_generate_access_token_css__WEBPACK_IMPORTED_MODULE_6__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()((_node_modules_css_loader_dist_cjs_js_generate_access_token_css__WEBPACK_IMPORTED_MODULE_6___default()), options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((_node_modules_css_loader_dist_cjs_js_generate_access_token_css__WEBPACK_IMPORTED_MODULE_6___default()) && (_node_modules_css_loader_dist_cjs_js_generate_access_token_css__WEBPACK_IMPORTED_MODULE_6___default().locals) ? (_node_modules_css_loader_dist_cjs_js_generate_access_token_css__WEBPACK_IMPORTED_MODULE_6___default().locals) : undefined);


/***/ }),
/* 599 */
/***/ ((module, exports, __webpack_require__) => {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(21);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.id, ".stf-generate-access-token {\n\n}\n", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 600 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = function generateAccessTokenDirective() {
  return {
    restrict: 'EA',
    replace: true,
    scope: {
      showGenerate: '='
    },
    template: __webpack_require__(601),
    controller: function($scope, AccessTokenService) {
      $scope.generateForm = {
        title: ''
      }

      $scope.generateToken = function() {
        AccessTokenService.generateAccessToken($scope.generateForm.title)
        $scope.closeGenerateToken()
      }

      $scope.closeGenerateToken = function() {
        $scope.title = ''
        $scope.showGenerate = false
      }
    }
  }
}


/***/ }),
/* 601 */
/***/ ((module) => {

module.exports = "<div ng-show=\"showGenerate\" class=\"panel panel-default stf-generate-access-token\"><div class=\"panel-heading\"><h3 translate=\"translate\" class=\"panel-title\">Generate Access Token</h3></div><div class=\"panel-body\"><form name=\"generateAccessTokenForm\" ng-submit=\"generateToken(title)\" class=\"form-horizontal\"><div class=\"form-group\"><label class=\"control-label\"><i class=\"fa fa-key fa-fw\"></i><span translate=\"translate\">Title</span></label><input id=\"access-token-title\" type=\"text\" name=\"accessTokenTitle\" ng-model=\"generateForm.title\" ng-required=\"true\" text-focus-select=\"text-focus-select\" class=\"form-control\"/></div><button type=\"submit\" class=\"btn btn-primary-outline btn-sm pull-right\"><i class=\"fa fa-plus fa-fw\"></i><span translate=\"translate\">Generate New Token</span></button></form><error-message message=\"{{error}}\"></error-message></div></div>"

/***/ }),
/* 602 */
/***/ ((module) => {

/**
* Copyright © 2019 contains code contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0
**/

module.exports = function AccessTokenServiceFactory(
  $rootScope
, $http
, socket
) {
  var AccessTokenService = {}

  AccessTokenService.getAccessTokens = function() {
    return $http.get('/api/v1/user/accessTokens')
  }

  AccessTokenService.generateAccessToken = function(title) {
    socket.emit('user.keys.accessToken.generate', {
      title: title
    })
  }

  AccessTokenService.removeAccessToken = function(title) {
    socket.emit('user.keys.accessToken.remove', {
      title: title
    })
  }

  socket.on('user.keys.accessToken.generated', function(token) {
    $rootScope.$broadcast('user.keys.accessTokens.generated', token)
    $rootScope.safeApply()
  })

  socket.on('user.keys.accessToken.updated', function() {
    $rootScope.$broadcast('user.keys.accessTokens.updated')
    $rootScope.safeApply()
  })

  return AccessTokenService
}


/***/ }),
/* 603 */
/***/ ((module) => {

module.exports = "<div ng-controller=\"AccessTokensCtrl\" class=\"widget-container fluid-height stf-keys stf-access-tokens\"><div class=\"heading\"><i class=\"fa fa-key\"></i><span translate=\"translate\">Access Tokens</span><button ng-click=\"showGenerate = !showGenerate\" ng-class=\"{ &quot;btn-primary-outline&quot;: !showGenerate, &quot;btn-primary&quot;: showGenerate }\" class=\"btn pull-right btn-sm\"><i class=\"fa fa-plus fa-fw\"></i></button><a ng-href=\"/#!/docs/Access-Tokens\" class=\"pull-right btn btn-sm\"><i uib-tooltip=\"{{&quot;More about Access Tokens&quot; | translate}}\" tooltip-placement=\"left\" class=\"fa fa-question-circle\"></i></a></div><div class=\"widget-content padded\"><nothing-to-show icon=\"fa-key\" message=\"{{&quot;No access tokens&quot; | translate}}\" ng-if=\"!accessTokenTitles.length &amp;&amp; !showGenerate &amp;&amp; !showGenerated\"></nothing-to-show><generate-access-token show-clipboard=\"true\" show-generate=\"showGenerate\"></generate-access-token><div ng-show=\"showGenerated\"><div class=\"alert alert-info selectable\"><strong translate=\"translate\">Warning:</strong><span>&nbsp;</span><span translate=\"translate\">Make sure to copy your access token now. You won't be able to see it again.</span><br/><button ng-click=\"closeGenerated()\" class=\"btn pull-right btn-primary btn-sm\"><i class=\"fa fa-check fa-fw\"></i></button><textarea readonly=\"readonly\" rows=\"2\" text-focus-select=\"text-focus-select\" ng-model=\"newToken.tokenId\" class=\"form-control token-id-textarea\"></textarea></div></div><ul class=\"list-group key-list\"><li ng-repeat=\"title in accessTokenTitles track by $index\" class=\"list-group-item animate-repeat\"><a><i class=\"fa fa-key fa-2x fa-fw key-list-icon\"></i><div class=\"key-list-details selectable\"><div ng-bind=\"title\" class=\"key-list-title\"></div></div><button ng-click=\"removeToken(title)\" class=\"btn btn-xs btn-danger-outline pull-right key-list-remove\"><i class=\"fa fa-trash-o\"></i><span translate=\"translate\">Remove</span></button></a></li></ul></div></div>"

/***/ }),
/* 604 */
/***/ ((module) => {

/**
* Copyright © 2024 contains code contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0
**/

module.exports = function AccessTokensCtrl($scope, AccessTokenService) {

    $scope.accessTokenTitles = []
    $scope.newToken = null

    function updateTokens() {
      AccessTokenService.getAccessTokens()
        .then(function(response) {
          $scope.accessTokenTitles = response.data.titles || []
        })
    }

    $scope.removeToken = function(title) {
      AccessTokenService.removeAccessToken(title)
    }

    $scope.closeGenerated = function() {
      $scope.showGenerated = false
      $scope.newToken = null
      updateTokens()
    }

    $scope.$on('user.keys.accessTokens.generated', function(event, token) {
      $scope.newToken = token
      $scope.showGenerated = true
    })

    $scope.$on('user.keys.accessTokens.updated', updateTokens)

    updateTokens()
}


/***/ }),
/* 605 */
/***/ ((module) => {

module.exports = "<div class=\"row\"><div class=\"col-md-6\"><div ng-include=\"&quot;settings/keys/access-tokens/access-tokens.pug&quot;\"></div></div><div class=\"col-md-6\"><div ng-include=\"&quot;settings/keys/adb-keys/adb-keys.pug&quot;\"></div></div></div>"

/***/ }),
/* 606 */
/***/ ((module) => {

module.exports = function KeysCtrl() {

}


/***/ }),
/* 607 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/**
* Copyright © 2019 code initially contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0
**/

__webpack_require__(608)

module.exports = angular.module('stf.settings.groups', [
  (__webpack_require__(277).name),
  (__webpack_require__(279).name),
  (__webpack_require__(195).name),
  (__webpack_require__(273).name),
  (__webpack_require__(210).name),
  (__webpack_require__(274).name),
  (__webpack_require__(36).name)
])
  .run(['$templateCache', function($templateCache) {
    $templateCache.put(
      'settings/groups/groups.pug', __webpack_require__(610)
    )
    $templateCache.put(
      'settings/groups/schedule/schedule.pug', __webpack_require__(611)
    )
    $templateCache.put(
      'settings/groups/devices/devices.pug', __webpack_require__(612)
    )
    $templateCache.put(
      'settings/groups/users/users.pug', __webpack_require__(613)
    )
    $templateCache.put(
      'settings/groups/conflicts/conflicts.pug', __webpack_require__(614)
    )
  }])
  .controller('GroupsCtrl', __webpack_require__(615))
  .filter('availableObjectsFilter', __webpack_require__(616))
  .filter('groupObjectsFilter', __webpack_require__(617))


/***/ }),
/* 608 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14);
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(15);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(17);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(18);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(19);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_groups_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(609);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_groups_css__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_cjs_js_groups_css__WEBPACK_IMPORTED_MODULE_6__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_css_loader_dist_cjs_js_groups_css__WEBPACK_IMPORTED_MODULE_6__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_css_loader_dist_cjs_js_groups_css__WEBPACK_IMPORTED_MODULE_6__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()((_node_modules_css_loader_dist_cjs_js_groups_css__WEBPACK_IMPORTED_MODULE_6___default()), options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((_node_modules_css_loader_dist_cjs_js_groups_css__WEBPACK_IMPORTED_MODULE_6___default()) && (_node_modules_css_loader_dist_cjs_js_groups_css__WEBPACK_IMPORTED_MODULE_6___default().locals) ? (_node_modules_css_loader_dist_cjs_js_groups_css__WEBPACK_IMPORTED_MODULE_6___default().locals) : undefined);


/***/ }),
/* 609 */
/***/ ((module, exports, __webpack_require__) => {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(21);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.id, "/**\n* Copyright © 2019 code initially contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0\n**/\n\n.stf-groups .selectable {\n  user-select: text;\n}\n\n.stf-pager-groups-total-items {\n  margin-top: 5px;\n}\n\n.stf-groups .groups-header {\n  margin-left: 10px;\n}\n\n.stf-groups .group-users-header, .group-devices-header {\n  margin-bottom: 15px;\n}\n\n.stf-groups .btn-check-name, .btn-group-devices-action, .btn-group-users-action {\n  margin-top: 5px;\n}\n\n.stf-groups .groups-action {\n  margin-top: 10px;\n}\n\n.stf-groups .group-schedule-item {\n  margin: 0px 10px 15px 15px;\n}\n\n.stf-groups td,th {\n  padding: 0px;\n  white-space: nowrap;\n  font-size: small;\n}\n\n.stf-groups .group-list-icon {\n  margin-right: 10px;\n}\n\n.stf-groups .group-list-label {\n  font-weight: bold;\n  margin-right: 10px;\n}\n\n.stf-groups .group-span-label, .group-conflicts {\n  margin-left: 10px;\n}\n\n.stf-groups .group-span-label-error {\n  margin-left: 10px;\n  color: #FF2D55;\n}\n\n.stf-groups .group-span-label-warning {\n  margin-left: 10px;\n  color: #FFA101;\n}\n\n.stf-groups .group-span-label-success {\n  margin-left: 10px;\n  color: #60c561;\n}\n\n.stf-groups input.ng-invalid {\n  border-color: red;\n}\n\n.stf-groups .groups-list a.link {\n  padding: 0px;\n  border-bottom: none;\n  color: #167FFC;\n}\n\n.stf-groups .groups-list .group-line {\n  padding: 10px;\n  border-bottom: 1px solid #dddddd;\n}\n\n.stf-groups .groups-list .group-line.group-actions {\n  padding-bottom: 23px;\n}\n\n.stf-groups .groups-list .heading.group-action-body {\n  margin-top: 22px;\n}\n\n.stf-groups .group-list-details {\n  display: inline-block;\n}\n\n.stf-groups .group-list-name {\n  color: #007aff;\n  font-size: 14px;\n  font-weight: 300;\n  margin: 2px 0 6px;\n}\n\n.stf-groups .group-list-id {\n  font-family: Monaco, Menlo, Consolas, \"Courier New\", monospace;\n  font-size: 10px;\n  margin-bottom: 2px;\n  color: #999999;\n  font-weight: 300;\n}\n", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 610 */
/***/ ((module) => {

module.exports = "<!--Copyright © 2019-2024 code initially contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0--><!----><div ng-controller=\"GroupsCtrl\" class=\"widget-container fluid-height stf-groups\"><div class=\"heading\"><i class=\"fa fa-object-group\"></i><span translate=\"translate\">Group list </span><button type=\"button\" ng-disabled=\"!conditionForGroupCreation() || hideGroupCreation\" uib-tooltip=\"{{'Groups number quota is reached' | translate}}\" tooltip-placement=\"bottom\" tooltip-enable=\"!conditionForGroupCreation()\" tooltip-popup-delay=\"500\" ng-click=\"createGroup()\" class=\"btn btn-xs btn-primary-outline pull-right\"><i class=\"fa fa-plus fa-fw\"></i></button><a ng-href=\"\" class=\"pull-right btn btn-xs\"><i uib-tooltip=\"{{&quot;More about Groups&quot; | translate}}\" tooltip-placement=\"left\" tooltip-popup-delay=\"500\" class=\"fa fa-question-circle fa-fw\"></i></a></div><div class=\"widget-content padded\"><nothing-to-show icon=\"fa-object-group\" message=\"{{&quot;No Groups&quot; | translate}}\" ng-if=\"!groups.length\"></nothing-to-show><div ng-if=\"groups.length\"><ul class=\"list-group groups-list\"><li class=\"list-group-item\"><div class=\"group-line group-actions\"><form class=\"form-inline groups-header\"><div class=\"form-group\"><stf-pager tooltip-label=\"{{'Group selection' | translate}}\" total-items=\"filteredGroups.length\" total-items-style=\"stf-pager-groups-total-items\" items-per-page=\"scopeGroupsCtrl.groupItemsPerPage\" items-per-page-options=\"itemsPerPageOptions\" current-page=\"scopeGroupsCtrl.groupCurrentPage\" items-search=\"search\"></stf-pager></div><button type=\"button\" ng-disabled=\"!filteredGroups.length || filteredGroups.length === 1 &amp;&amp; filteredGroups[0].privilege === 'root'\" uib-tooltip=\"{{'Remove the group selection' | translate}}\" tooltip-placement=\"bottom\" tooltip-popup-delay=\"500\" ng-click=\"removeGroups(search, filteredGroups, confirmRemove.value)\" class=\"btn btn-xs btn-danger pull-right\"><i class=\"fa fa-trash-o\"></i><span translate=\"translate\">Remove</span></button><button type=\"button\" uib-tooltip=\"{{'Enable/Disable confirmation for group removing' | translate}}\" tooltip-placement=\"top\" tooltip-popup-delay=\"500\" ng-click=\"confirmRemove.value = !confirmRemove.value\" ng-class=\"{&quot;btn-warning-outline&quot;: !confirmRemove.value, &quot;btn-success&quot;: confirmRemove.value}\" class=\"btn btn-xs btn-success pull-right\"><i ng-if=\"confirmRemove.value\" class=\"fa fa-lock\"></i><i ng-if=\"!confirmRemove.value\" class=\"fa fa-unlock\"></i><span translate=\"translate\">Confirm Remove</span></button><button ng-if=\"isAdmin()\" type=\"button\" uib-tooltip=\"{{'Write an email to the group owner selection' | translate}}\" ng-disabled=\"!filteredGroups.length\" ng-click=\"mailToGroupOwners(filteredGroups)\" tooltip-placement=\"top\" tooltip-popup-delay=\"500\" class=\"btn btn-xs btn-primary-outline pull-right\"><i class=\"fa fa-envelope-o\"></i><span translate=\"translate\">Contact Owners</span></button></form></div></li><li ng-repeat=\"group in groups           | filter:search           | orderBy: 'name'           | pagedObjectsFilter:scopeGroupsCtrl:'groupCurrentPage':'groupItemsPerPage':'filteredGroups'             track by group.id\" class=\"list-group-item\"> <div class=\"group-line group-actions\"><i class=\"fa fa-object-group fa-2x fa-fw group-list-icon\"></i><div class=\"group-list-details selectable\"><form name=\"nameForm\" ng-if=\"showName\" class=\"form-inline\"><input size=\"35\" type=\"text\" placeholder=\"Name\" ng-model=\"groupsEnv[group.id].tmpName\" ng-pattern=\"nameRegex\" uib-tooltip=\"{{'Regex syntax' | translate}}: {{::nameRegexStr}}\" tooltip-placement=\"top\" tooltip-popup-delay=\"500\" tooltip-enable=\"nameForm.$invalid\" required=\"required\" class=\"form-control input-sm\"/><button type=\"button\" ng-click=\"updateGroupName(group)\" ng-disabled=\"!conditionForNameSaving(group, nameForm.$invalid)\" class=\"btn btn-sm btn-primary btn-check-name\"><i class=\"fa fa-check\"></i></button></form><div ng-bind-template=\"{{group.name}}\" ng-if=\"!showName\" class=\"group-list-name\"></div><div class=\"group-list-id\"><span translate=\"translate\">Identifier</span><span ng-bind-template=\"{{::': ' +  group.id + ' - '}}\"></span><span translate=\"translate\">Class </span><span ng-bind-template=\"{{': ' +  getClassName(group.class) + ' - '}}\"></span><span translate=\"translate\">Devices </span><span ng-bind-template=\"{{': ' +  group.devices.length + ' - '}}\"></span><span translate=\"translate\">Users </span><span ng-bind-template=\"{{': ' +  group.users.length}}\"></span><span ng-if=\"isAdmin()\" ng-bind-template=\"{{::' - '}}\"></span><span ng-if=\"isAdmin()\" translate=\"translate\">Owner </span><span ng-if=\"isAdmin()\" ng-bind-template=\"{{::': ' + group.owner.name}}\"></span></div></div><button type=\"button\" ng-click=\"removeGroup(group, confirmRemove.value)\" ng-disabled=\"group.privilege === &quot;root&quot;\" class=\"btn btn-xs btn-danger-outline pull-right\"><i class=\"fa fa-trash-o\"></i><span translate=\"translate\">Remove</span></button><button type=\"button\" ng-if=\"group.state === 'pending'\" ng-click=\"updateGroupState(group)\" class=\"btn btn-xs btn-danger-outline pull-right\"><i class=\"fa fa-unlock\"></i><span translate=\"translate\">Get ready </span></button><button type=\"button\" ng-click=\"initTemporaryName(group); showName = !showName\" ng-class=\"{&quot;btn-primary-outline&quot;: !showName,                         &quot;btn-primary&quot;: showName}\" class=\"btn btn-xs pull-right\"><i class=\"fa fa-tag\"></i><span translate=\"translate\">Name </span></button><button type=\"button\" ng-click=\"initTemporarySchedule(group); showSchedule = !showSchedule\" ng-class=\"{&quot;btn-primary-outline&quot;: !showSchedule &amp;&amp; group.state === &quot;pending&quot;,                         &quot;btn-primary&quot;: showSchedule  &amp;&amp; group.state === &quot;pending&quot;,                         &quot;btn-warning-outline&quot;: !showSchedule &amp;&amp; !group.isActive &amp;&amp; group.state !== &quot;pending&quot;,                         &quot;btn-warning&quot;: showSchedule &amp;&amp; !group.isActive &amp;&amp; group.state !== &quot;pending&quot;,                         &quot;btn-success-outline&quot;: !showSchedule &amp;&amp; group.isActive &amp;&amp; group.state !== &quot;pending&quot;,                         &quot;btn-success&quot;: showSchedule &amp;&amp; group.isActive &amp;&amp; group.state !== &quot;pending&quot;}\" class=\"btn btn-xs pull-right\"><i class=\"fa fa-clock-o\"></i><span translate=\"translate\">Schedule</span></button><button type=\"button\" ng-click=\"initShowDevices(group, !showDevices); showDevices = !showDevices\" ng-class=\"{&quot;btn-primary-outline&quot;: !showDevices, &quot;btn-primary&quot;: showDevices}\" class=\"btn btn-xs btn-primary-outline pull-right\"><i class=\"fa fa-mobile\"></i><span translate=\"translate\">Devices</span></button><button type=\"button\" ng-click=\"initShowUsers(group); showUsers = !showUsers\" ng-class=\"{&quot;btn-primary-outline&quot;: !showUsers, &quot;btn-primary&quot;: showUsers}\" class=\"btn btn-xs btn-primary-outline pull-right\"><i class=\"fa fa-user\"></i><span translate=\"translate\">Users </span></button><button type=\"button\" ng-if=\"groupsEnv[group.id].showConflicts\" ng-click=\"groupsEnv[group.id].showConflicts = !groupsEnv[group.id].showConflicts\" ng-class=\"{&quot;btn-danger-outline&quot;: !groupsEnv[group.id].showConflicts,                          &quot;btn-danger&quot;: groupsEnv[group.id].showConflicts}\" class=\"btn btn-xs btn-danger pull-right\"><i class=\"fa fa-ban\"></i><span translate=\"translate\">Conflicts</span></button><ul ng-if=\"groupsEnv[group.id].showConflicts\" class=\"list-group groups-action\"><div ng-include=\"'settings/groups/conflicts/conflicts.pug'\"></div></ul><ul ng-if=\"showSchedule\" class=\"list-group groups-action\"><div ng-include=\"'settings/groups/schedule/schedule.pug'\"></div></ul><ul ng-if=\"showDevices\" class=\"list-group groups-action\"><div ng-include=\"'settings/groups/devices/devices.pug'\"></div></ul><ul ng-if=\"showUsers\" class=\"list-group groups-action\"><div ng-include=\"'settings/groups/users/users.pug'\"></div></ul></div></li></ul></div></div></div>"

/***/ }),
/* 611 */
/***/ ((module) => {

module.exports = "<!--Copyright © 2019 code initially contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0--><!----><li class=\"list-group-item groups-list\"><div class=\"heading group-action-body\"><i class=\"fa fa-clock-o\"></i><span translate=\"translate\">Schedule</span></div><form name=\"scheduleForm\" class=\"form-inline\"><fieldset ng-disabled=\"group.state !== 'pending'\"><div class=\"form-group group-schedule-item\"><label translate=\"translate\" class=\"group-list-label\">Class</label><select ng-model=\"groupsEnv[group.id].tmpClass\" ng-change=\"watchGroupClass(group)\"><option ng-if=\"option.privilege === 'user' ||                   option.privilege === currentUser.privilege &amp;&amp; currentUser.email === group.owner.email\" ng-repeat=\"option in classOptions\" value=\"{{option.id}}\">{{option.name}}</option></select></div><div ng-if=\"conditionForRepetitions(group)\" class=\"form-group group-schedule-item\"><label translate=\"translate\" class=\"group-list-label\">Repetitions</label><input type=\"range\" min=\"0\" max=\"{{getRepetitionsQuotas(group.owner.email)}}\" ng-model=\"groupsEnv[group.id].tmpRepetitions\" required=\"required\" class=\"form-control input-sm\"/><span class=\"group-span-label\">{{groupsEnv[group.id].tmpRepetitions}}</span></div><div class=\"form-group group-schedule-item\"><label translate=\"translate\" class=\"group-list-label\">Starting Date</label><input size=\"21\" type=\"datetime-local\" ng-model=\"groupsEnv[group.id].tmpStartDate\" placeholder=\"yyyy-MM-ddTHH:mm:ss:sss\" required=\"required\" class=\"form-control input-sm\"/></div><div class=\"form-group group-schedule-item\"><label translate=\"translate\" class=\"group-list-label\">Expiration Date</label><input size=\"21\" type=\"datetime-local\" ng-model=\"groupsEnv[group.id].tmpStopDate\" placeholder=\"yyyy-MM-ddTHH:mm:ss:sss\" required=\"required\" class=\"form-control input-sm\"/></div><div class=\"form-group group-schedule-item\"><button type=\"button\" ng-click=\"updateGroupSchedule(group)\" ng-disabled=\"!conditionForScheduleSaving(group, scheduleForm.$invalid)\" class=\"btn btn-sm btn-primary\"><span translate=\"translate\">Save</span></button><span translate=\"translate\" ng-if=\"group.state === 'pending' &amp;&amp;                  conditionForScheduleSaving(group, scheduleForm.$invalid) &amp;&amp;                  (groupsEnv[group.id].tmpClass === 'bookable' ||                   groupsEnv[group.id].tmpClass === 'standard')\" class=\"group-span-label-warning\">Saving will also get ready the group!</span><span translate=\"translate\" ng-if=\"group.state === 'pending' &amp;&amp;                  !conditionForScheduleSaving(group, scheduleForm.$invalid) &amp;&amp;                  groupsEnv[group.id].tmpScheduleTooltip !== 'No change'\" class=\"group-span-label-error\">{{groupsEnv[group.id].tmpScheduleTooltip}}</span></div></fieldset></form></li>"

/***/ }),
/* 612 */
/***/ ((module) => {

module.exports = "<!--Copyright © 2019 code initially contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0--><!----><li class=\"list-group-item groups-list\"><div class=\"heading group-action-body\"><i class=\"fa fa-mobile\"></i><span translate=\"translate\">Devices </span></div><div class=\"row\"><div class=\"panel-group\"><div class=\"panel panel-default\"><div class=\"panel-heading text-center\"><button type=\"button\" ng-click=\"showGroupDevices = !showGroupDevices\" ng-class=\"{&quot;btn-primary-outline&quot;: showGroupDevices, &quot;btn-primary&quot;: !showGroupDevices}\" class=\"btn btn-xs btn-primary btn-group-devices-action\"><i class=\"fa fa-mobile\"></i><span translate=\"translate\">Group devices </span></button></div><div ng-show=\"!showGroupDevices\" class=\"panel-body\"><nothing-to-show icon=\"fa-mobile\" message=\"{{&quot;No group devices&quot; | translate}}\" ng-if=\"!groupsEnv[group.id].filteredGroupDevices.length &amp;&amp;                    (!groupsEnv[group.id].availableDevices.length || !group.devices.length)\"></nothing-to-show><div ng-show=\"groupsEnv[group.id].filteredGroupDevices.length ||                        groupsEnv[group.id].availableDevices.length &amp;&amp; group.devices.length\"><div class=\"form-inline\"><div class=\"form-group group-devices-header\"><stf-pager tooltip-label=\"{{'Group device selection' | translate}}\" total-items=\"groupsEnv[filteredGroups[getGroupIndex($parent.$index)].id].filteredGroupDevices.length\" total-items-style=\"stf-pager-groups-total-items\" items-per-page=\"groupsEnv[filteredGroups[getGroupIndex($parent.$index)].id].groupDeviceItemsPerPage\" items-per-page-options=\"itemsPerPageOptions\" current-page=\"groupsEnv[filteredGroups[getGroupIndex($parent.$index)].id].groupDeviceCurrentPage\" items-search=\"groupDeviceSearch\"></stf-pager></div><div class=\"form-group group-devices-header\"><stf-column-choice button-style=\"margin: 5px 0px 0px 15px\" reset-data=\"resetGroupDeviceData()\" column-data=\"groupDeviceData.columns\"></stf-column-choice></div></div><div class=\"widget-container fluid-height overflow-auto\"><table class=\"table table-hover dataTable ng-table\"><thead><tr><th class=\"header\"><button type=\"button\" ng-if=\"groupsEnv[filteredGroups[getGroupIndex($parent.$index)].id].hasOwnProperty('filteredGroupDevices')\" ng-disabled=\"!groupsEnv[filteredGroups[getGroupIndex($parent.$index)].id].filteredGroupDevices.length ||                                      group.privilege === 'root'\" ng-click=\"removeGroupDevices(                                    group,                                     groupDeviceSearch,                                     groupsEnv[filteredGroups[getGroupIndex($parent.$index)].id].filteredGroupDevices)\" class=\"btn btn-sm btn-danger btn-group-devices-action\"><i class=\"fa fa-trash-o\"></i></button></th><th ng-class=\"[column.sort]\" ng-repeat=\"column in groupDeviceData.columns | filter: {selected: true}\" ng-click=\"sortBy(groupDeviceData, column)\" class=\"header sortable\"><div ng-bind-template=\"{{column.name | translate}}\" class=\"strong\"></div></th></tr></thead><tbody><tr ng-repeat=\"device in filteredGroups[getGroupIndex($parent.$index)].devices                   | groupObjectsFilter:                    groupsEnv[filteredGroups[getGroupIndex($parent.$index)].id].availableDevices:                    groupsEnv[filteredGroups[getGroupIndex($parent.$index)].id].availableDevicesBySerial                   | filter:groupDeviceSearch                   | orderBy:deviceColumns[groupDeviceData.sort.index].property:groupDeviceData.sort.reverse                   | pagedObjectsFilter:                    groupsEnv[filteredGroups[getGroupIndex($parent.$index)].id]:                    'groupDeviceCurrentPage':'groupDeviceItemsPerPage':'filteredGroupDevices'                     track by device.serial\" class=\"selectable\"><td><button ng-disabled=\"filteredGroups[getGroupIndex($parent.$index)].privilege === 'root'\" ng-click=\"removeGroupDevice(filteredGroups[getGroupIndex($parent.$index)], device)\" class=\"btn btn-danger-outline btn-xs\"><i class=\"fa fa-trash-o fa-fw\"></i></button></td><td ng-if=\"groupDeviceData.columns[0].selected\">{{device.model}}</td><td ng-if=\"groupDeviceData.columns[1].selected\">{{device.serial}}</td><td ng-if=\"groupDeviceData.columns[2].selected\">{{device.operator}}</td><td ng-if=\"groupDeviceData.columns[3].selected\">{{device.version}}</td><td ng-if=\"groupDeviceData.columns[4].selected\">{{device.networkStr}}</td><td ng-if=\"groupDeviceData.columns[5].selected\">{{device.displayStr}}</td><td ng-if=\"groupDeviceData.columns[6].selected\">{{device.manufacturer}}</td><td ng-if=\"groupDeviceData.columns[7].selected\">{{device.sdk}}</td><td ng-if=\"groupDeviceData.columns[8].selected\">{{device.abi}}</td><td ng-if=\"groupDeviceData.columns[9].selected\">{{device.cpuPlatform}}</td><td ng-if=\"groupDeviceData.columns[10].selected\">{{device.openGLESVersion}}</td><td ng-if=\"groupDeviceData.columns[11].selected\">{{device.marketName}}</td><td ng-if=\"groupDeviceData.columns[12].selected\">{{device.phone.imei}}</td><td ng-if=\"groupDeviceData.columns[13].selected\">{{device.provider.name}}</td><td ng-if=\"groupDeviceData.columns[14].selected\">{{device.group.originName}}</td></tr></tbody></table></div></div></div></div><div class=\"panel panel-default\"><div class=\"panel-heading text-center\"><button type=\"button\" ng-click=\"showAvailableDevices = !showAvailableDevices\" ng-class=\"{&quot;btn-primary-outline&quot;: !showAvailableDevices, &quot;btn-primary&quot;: showAvailableDevices}\" class=\"btn btn-xs btn-primary-outline btn-group-devices-action\"><i class=\"fa fa-mobile\"></i><span translate=\"translate\">Available devices </span></button></div><div ng-show=\"showAvailableDevices\" class=\"panel-body\"><nothing-to-show icon=\"fa-mobile\" message=\"{{&quot;No available devices&quot; | translate}}\" ng-if=\"!(groupsEnv[group.id].filteredAvailableDevices &amp;&amp;                      groupsEnv[group.id].filteredAvailableDevices.length ||                      groupsEnv[group.id].availableDevices.length !== group.devices.length)\"></nothing-to-show><div ng-if=\"groupsEnv[group.id].filteredAvailableDevices &amp;&amp;                      groupsEnv[group.id].filteredAvailableDevices.length ||                      groupsEnv[group.id].availableDevices.length !== group.devices.length\"><div class=\"form-inline\"><div class=\"form-group group-devices-header\"><stf-pager tooltip-label=\"{{'Available device selection' | translate}}\" total-items=\"groupsEnv[filteredGroups[getGroupIndex($parent.$index)].id].filteredAvailableDevices.length\" total-items-style=\"stf-pager-groups-total-items\" items-per-page=\"groupsEnv[filteredGroups[getGroupIndex($parent.$index)].id].availableDeviceItemsPerPage\" items-per-page-options=\"itemsPerPageOptions\" current-page=\"groupsEnv[filteredGroups[getGroupIndex($parent.$index)].id].availableDeviceCurrentPage\" items-search=\"deviceSearch\"></stf-pager></div><div class=\"form-group group-devices-header\"><stf-column-choice button-style=\"margin: 5px 0px 0px 15px\" reset-data=\"resetDeviceData()\" column-data=\"deviceData.columns\"></stf-column-choice></div></div><div class=\"widget-container fluid-height overflow-auto\"><table class=\"table table-hover dataTable ng-table\"><thead><tr><th class=\"header\"><button type=\"button\" ng-if=\"groupsEnv[filteredGroups[getGroupIndex($parent.$index)].id].hasOwnProperty('filteredAvailableDevices')\" ng-disabled=\"!groupsEnv[filteredGroups[getGroupIndex($parent.$index)].id].filteredAvailableDevices.length ||                                      !conditionForDevicesAddition(                                       filteredGroups[getGroupIndex($parent.$index)],                                        groupsEnv[filteredGroups[getGroupIndex($parent.$index)].id].filteredAvailableDevices.length)\" uib-tooltip=\"{{'Groups duration quota is reached' | translate}}\" tooltip-placement=\"auto top-right\" tooltip-enable=\"groupsEnv[filteredGroups[getGroupIndex($parent.$index)].id].filteredAvailableDevices.length &amp;&amp;                                         !conditionForDevicesAddition(                                          filteredGroups[getGroupIndex($parent.$index)],                                           groupsEnv[filteredGroups[getGroupIndex($parent.$index)].id].filteredAvailableDevices.length)\" tooltip-popup-delay=\"500\" ng-click=\"addGroupDevices(group,                                                   deviceSearch,                                                   groupsEnv[filteredGroups[getGroupIndex($parent.$index)].id].filteredAvailableDevices)\" class=\"btn btn-sm btn-primary btn-group-devices-action\"><i class=\"fa fa-cart-plus\"></i></button></th><th ng-class=\"[column.sort]\" ng-repeat=\"column in deviceData.columns | filter: {selected: true}\" ng-click=\"sortBy(deviceData, column)\" class=\"header sortable\"><div ng-bind-template=\"{{column.name | translate}}\" class=\"strong\"></div></th></tr></thead><tbody><tr ng-repeat=\"device in groupsEnv[filteredGroups[getGroupIndex($parent.$index)].id].availableDevices                   | availableObjectsFilter:filteredGroups[getGroupIndex($parent.$index)]:'devices':'serial'                   | filter:deviceSearch                   | orderBy:deviceColumns[deviceData.sort.index].property:deviceData.sort.reverse                   | pagedObjectsFilter:                    groupsEnv[filteredGroups[getGroupIndex($parent.$index)].id]:                    'availableDeviceCurrentPage':'availableDeviceItemsPerPage':'filteredAvailableDevices'                     track by device.serial\" class=\"selectable\"><td><button type=\"button\" ng-disabled=\"!conditionForDevicesAddition(filteredGroups[getGroupIndex($parent.$index)], 1)\" uib-tooltip=\"{{'Groups duration quota is reached' | translate}}\" tooltip-placement=\"auto top-right\" tooltip-enable=\"!conditionForDevicesAddition(filteredGroups[getGroupIndex($parent.$index)], 1)\" tooltip-popup-delay=\"500\" ng-click=\"addGroupDevice(filteredGroups[getGroupIndex($parent.$index)], device)\" class=\"btn btn-primary-outline btn-xs\"><i class=\"fa fa-cart-plus fa-fw\"></i></button></td><td ng-if=\"deviceData.columns[0].selected\">{{device.model}}</td><td ng-if=\"deviceData.columns[1].selected\">{{device.serial}}</td><td ng-if=\"deviceData.columns[2].selected\">{{device.operator}}</td><td ng-if=\"deviceData.columns[3].selected\">{{device.version}}</td><td ng-if=\"deviceData.columns[4].selected\">{{device.networkStr}}</td><td ng-if=\"deviceData.columns[5].selected\">{{device.displayStr}}</td><td ng-if=\"deviceData.columns[6].selected\">{{device.manufacturer}}</td><td ng-if=\"deviceData.columns[7].selected\">{{device.sdk}}</td><td ng-if=\"deviceData.columns[8].selected\">{{device.abi}}</td><td ng-if=\"deviceData.columns[9].selected\">{{device.cpuPlatform}}</td><td ng-if=\"deviceData.columns[10].selected\">{{device.openGLESVersion}}</td><td ng-if=\"deviceData.columns[11].selected\">{{device.marketName}}</td><td ng-if=\"deviceData.columns[12].selected\">{{device.phone.imei}}</td><td ng-if=\"deviceData.columns[13].selected\">{{device.provider.name}}</td><td ng-if=\"deviceData.columns[14].selected\">{{device.group.originName}}</td></tr></tbody></table></div></div></div></div></div></div></li>"

/***/ }),
/* 613 */
/***/ ((module) => {

module.exports = "<!--Copyright © 2019 code initially contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0--><!----><li class=\"list-group-item groups-list\"><div class=\"heading group-action-body\"><i class=\"fa fa-user\"></i><span translate=\"translate\">Users </span></div><div class=\"row\"><div class=\"panel-group\"><div class=\"panel panel-default\"><div class=\"panel-heading text-center\"><button type=\"button\" ng-click=\"showGroupUsers = !showGroupUsers\" ng-class=\"{&quot;btn-primary-outline&quot;: showGroupUsers, &quot;btn-primary&quot;: !showGroupUsers}\" class=\"btn btn-xs btn-primary btn-group-users-action\"><i class=\"fa fa-user\"></i><span translate=\"translate\">Group users </span></button></div><div ng-show=\"!showGroupUsers\" class=\"panel-body\"><div><div class=\"form-inline\"><div class=\"form-group group-users-header\"><stf-pager tooltip-label=\"{{'Group user selection' | translate}}\" total-items=\"groupsEnv[filteredGroups[getGroupIndex($parent.$index)].id].filteredGroupUsers.length\" total-items-style=\"stf-pager-groups-total-items\" items-per-page=\"groupsEnv[filteredGroups[getGroupIndex($parent.$index)].id].groupUserItemsPerPage\" items-per-page-options=\"itemsPerPageOptions\" current-page=\"groupsEnv[filteredGroups[getGroupIndex($parent.$index)].id].groupUserCurrentPage\" items-search=\"groupUserSearch\"></stf-pager></div><button type=\"button\" uib-tooltip=\"{{'Write a mail to the group user selection' | translate}}\" ng-disabled=\"!groupsEnv[filteredGroups[getGroupIndex($parent.$index)].id].filteredGroupUsers.length\" ng-click=\"mailToGroupUsers(                filteredGroups[getGroupIndex($parent.$index)],                groupsEnv[filteredGroups[getGroupIndex($parent.$index)].id].filteredGroupUsers)\" tooltip-placement=\"top\" tooltip-popup-delay=\"500\" class=\"btn btn-xs btn-primary-outline pull-right\"><i class=\"fa fa-envelope-o\"></i><span translate=\"translate\">Contact Users</span></button></div><div class=\"widget-container fluid-height overflow-auto\"><table class=\"table table-hover dataTable ng-table\"><thead><tr><th class=\"header\"><button type=\"button\" ng-if=\"groupsEnv[filteredGroups[getGroupIndex($parent.$index)].id].hasOwnProperty('filteredGroupUsers')\" ng-disabled=\"!conditionForGroupUsersRemoving(                                      group,                                       groupsEnv[filteredGroups[getGroupIndex($parent.$index)].id].filteredGroupUsers)\" ng-click=\"removeGroupUsers(                                  group,                                  groupUserSearch,                                  groupsEnv[filteredGroups[getGroupIndex($parent.$index)].id].filteredGroupUsers)\" class=\"btn btn-sm btn-danger btn-group-users-action\"><i class=\"fa fa-trash-o\"></i></button></th><th ng-class=\"[column.sort]\" ng-repeat=\"column in groupUserData.columns\" ng-click=\"sortBy(groupUserData, column)\" class=\"header sortable\"><div ng-bind-template=\"{{column.name | translate}}\" class=\"strong\"></div></th></tr></thead><tbody><tr ng-repeat=\"user in group.users                 | groupObjectsFilter:users:usersByEmail                 | filter:groupUserSearch                 | orderBy:userColumns[groupUserData.sort.index].property:groupUserData.sort.reverse                 | pagedObjectsFilter:                  groupsEnv[filteredGroups[getGroupIndex($parent.$index)].id]:                  'groupUserCurrentPage':'groupUserItemsPerPage':'filteredGroupUsers'                   track by user.email\" class=\"selectable\"><td><button type=\"button\" ng-disabled=\"user.privilege === 'admin' ||                                    user.email === filteredGroups[getGroupIndex($parent.$index)].owner.email\" ng-click=\"removeGroupUser(filteredGroups[getGroupIndex($parent.$index)], user)\" class=\"btn btn-danger-outline btn-xs\"><i class=\"fa fa-trash-o fa-fw\"></i></button></td><td>{{user.name}}</td><td><a ng-href=\"{{'mailto:' + user.email}}\" ng-click=\"$event.stopPropagation()\" class=\"link\">{{user.email}}</a></td><td>{{user.privilege}}</td></tr></tbody></table></div></div></div></div><div class=\"panel panel-default\"><div class=\"panel-heading text-center\"><button type=\"button\" ng-click=\"showAvailableUsers = !showAvailableUsers\" ng-class=\"{&quot;btn-primary-outline&quot;: !showAvailableUsers, &quot;btn-primary&quot;: showAvailableUsers}\" class=\"btn btn-xs btn-primary-outline btn-group-users-action\"><i class=\"fa fa-user\"></i><span translate=\"translate\">Available users</span></button></div><div ng-show=\"showAvailableUsers\" class=\"panel-body\"><nothing-to-show icon=\"fa-user\" message=\"{{&quot;No available users&quot; | translate}}\" ng-if=\"!groupsEnv[group.id].filteredAvailableUsers.length &amp;&amp; users.length === group.users.length\"></nothing-to-show><div ng-if=\"groupsEnv[group.id].filteredAvailableUsers.length || users.length !== group.users.length\"><div class=\"form-inline\"><div class=\"form-group group-users-header\"><stf-pager tooltip-label=\"{{'Available user selection' | translate}}\" total-items=\"groupsEnv[filteredGroups[getGroupIndex($parent.$index)].id].filteredAvailableUsers.length\" total-items-style=\"stf-pager-groups-total-items\" items-per-page=\"groupsEnv[filteredGroups[getGroupIndex($parent.$index)].id].availableUserItemsPerPage\" items-per-page-options=\"itemsPerPageOptions\" current-page=\"groupsEnv[filteredGroups[getGroupIndex($parent.$index)].id].availableUserCurrentPage\" items-search=\"userSearch\"></stf-pager></div><button type=\"button\" uib-tooltip=\"{{'Write a mail to the available user selection' | translate}}\" ng-disabled=\"!groupsEnv[filteredGroups[getGroupIndex($parent.$index)].id].filteredAvailableUsers.length\" ng-click=\"mailToAvailableUsers(groupsEnv[filteredGroups[getGroupIndex($parent.$index)].id].filteredAvailableUsers)\" tooltip-placement=\"top\" tooltip-popup-delay=\"500\" class=\"btn btn-xs btn-primary-outline pull-right\"><i class=\"fa fa-envelope-o\"></i><span translate=\"translate\">Contact Users</span></button><div class=\"widget-container fluid-height overflow-auto\"><table class=\"table table-hover dataTable ng-table\"><thead><tr><th class=\"header\"><button type=\"button\" ng-if=\"groupsEnv[filteredGroups[getGroupIndex($parent.$index)].id].hasOwnProperty('filteredAvailableUsers')\" ng-disabled=\"!groupsEnv[filteredGroups[getGroupIndex($parent.$index)].id].filteredAvailableUsers.length\" ng-click=\"addGroupUsers(                                      group,                                      userSearch,                                      groupsEnv[filteredGroups[getGroupIndex($parent.$index)].id].filteredAvailableUsers)\" class=\"btn btn-sm btn-primary btn-group-users-action\"><i class=\"fa fa-cart-plus\"></i></button></th><th ng-class=\"[column.sort]\" ng-repeat=\"column in userData.columns\" ng-click=\"sortBy(userData, column)\" class=\"header sortable\"><div ng-bind-template=\"{{column.name | translate}}\" class=\"strong\"></div></th></tr></thead><tbody><tr ng-repeat=\"user in users                     | availableObjectsFilter:filteredGroups[getGroupIndex($parent.$index)]:'users':'email'                     | filter:userSearch                     | orderBy:userColumns[userData.sort.index].property:userData.sort.reverse                     | pagedObjectsFilter:                      groupsEnv[filteredGroups[getGroupIndex($parent.$index)].id]:                      'availableUserCurrentPage':'availableUserItemsPerPage':'filteredAvailableUsers'                       track by user.email\" class=\"selectable\"><td><button type=\"button\" ng-click=\"addGroupUser(filteredGroups[getGroupIndex($parent.$index)], user)\" class=\"btn btn-primary-outline btn-xs\"><i class=\"fa fa-cart-plus fa-fw\"></i></button></td><td>{{user.name}}</td><td><a ng-href=\"{{'mailto:' + user.email}}\" ng-click=\"$event.stopPropagation()\" class=\"link\">{{user.email}}</a></td><td>{{user.privilege}}</td></tr></tbody></table></div></div></div></div></div></div></div></li>"

/***/ }),
/* 614 */
/***/ ((module) => {

module.exports = "<!--Copyright © 2019 code initially contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0--><!----><li class=\"list-group-item groups-list\"><div class=\"heading group-action-body\"><i class=\"fa fa-ban\"></i><span translate=\"translate\">Conflicts</span></div><div class=\"widget-container fluid-height overflow-auto group-conflicts\"><table class=\"table table-hover dataTable ng-table\"><thead><tr><th ng-class=\"[column.sort]\" ng-repeat=\"column in conflictData.columns\" ng-click=\"sortBy(conflictData, column)\" class=\"header sortable\"><div ng-bind-template=\"{{column.name | translate}}\" class=\"strong\"></div></th></tr></thead><tbody><tr ng-repeat=\"conflict in groupsEnv[group.id].conflicts           | orderBy:conflictColumns[conflictData.sort.index].property:conflictData.sort.reverse\" class=\"selectable\"><td>{{conflict.serial}}</td><td>{{conflict.startDate}}</td><td>{{conflict.stopDate}}</td><td>{{conflict.group}}</td><td><a ng-href=\"{{'mailto:' + conflict.ownerEmail}}\" ng-click=\"$event.stopPropagation()\" class=\"link\">{{conflict.ownerName}}</a></td></tr></tbody></table></div></li>"

/***/ }),
/* 615 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/**
* Copyright © 2019-2024 code initially contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0
**/

const _ = __webpack_require__(190)
const Promise = __webpack_require__(192)

module.exports = function GroupsCtrl(
  $scope
, $filter
, GroupsService
, UserService
, UsersService
, DevicesService
, SettingsService
, ItemsPerPageOptionsService
, GenericModalService
, CommonService
) {
  const originDevices = []
  const originDevicesBySerial = {}
  const standardizableDevices = []
  const standardizableDevicesBySerial = {}
  const groupsById = {}
  const cachedGroupsClass = {}
  const deviceFields =
    'serial,' +
    'model,' +
    'version,' +
    'operator,' +
    'network.type,' +
    'network.subtype,' +
    'display.height,' +
    'display.width,' +
    'manufacturer,' +
    'sdk,' +
    'abi,' +
    'cpuPlatform,' +
    'openGLESVersion,' +
    'marketName,' +
    'phone.imei,' +
    'provider.name,' +
    'group.originName'
  const userFields =
    'email,' +
    'name,' +
    'privilege,' +
    'groups.subscribed,' +
    'groups.quotas.allocated,' +
    'groups.quotas.consumed'
  var rootGroupId

  function publishDevice(device) {
    if (!device.model) {
      device.display = device.phone = device.network = {}
    }
    else {
      device.displayStr = device.display.width + 'x' + device.display.height
      device.networkStr = $scope.computeNetwork(device)
    }
    return device
  }

  function initAvailableGroupDevices(group, availableDevices, availableDevicesBySerial) {
    $scope.groupsEnv[group.id].availableDevices = availableDevices
    $scope.groupsEnv[group.id].availableDevicesBySerial = availableDevicesBySerial
    $scope.groupsEnv[group.id].availableDevices.forEach(function(device) {
      publishDevice(device)
    })
  }

  function getAvailableGroupDevices(group) {
    if (group.class === 'bookable') {
      initAvailableGroupDevices(group, originDevices, originDevicesBySerial)
    }
    else if (group.class === 'standard') {
      initAvailableGroupDevices(group, standardizableDevices, standardizableDevicesBySerial)
    }
    else if ($scope.groupsEnv[group.id].showDevices) {
      GroupsService.getGroupDevices(group.id, true, deviceFields).then(function(response) {
        if (CommonService.isExisting($scope.groupsEnv[group.id])) {
          $scope.groupsEnv[group.id].availableDevicesBySerial = {}
          $scope.groupsEnv[group.id].availableDevices = []
          response.data.devices.forEach(function(device) {
            addAvailableGroupDevice(group.id, device, -1)
          })
          initAvailableGroupDevices(
            group
          , $scope.groupsEnv[group.id].availableDevices
          , $scope.groupsEnv[group.id].availableDevicesBySerial)
        }
      })
    }
  }

  function checkDurationQuota(group, deviceNumber, startDate, stopDate, repetitions) {
    if (CommonService.isOriginGroup(group.class)) {
      return true
    }
    if (CommonService.isExisting($scope.usersByEmail[group.owner.email])) {
      const duration =
        (group.devices.length + deviceNumber) *
        ((new Date(stopDate)) - (new Date(startDate))) *
        (repetitions + 1)

      if (duration <=
          $scope.users[$scope.usersByEmail[group.owner.email].index]
                .groups.quotas.allocated.duration) {
        return true
      }
    }
    return false
  }

  function isBookedDevice(serial) {
    if (CommonService.isExisting(originDevicesBySerial[serial])) {
      for(var i in $scope.groups) {
        if (!CommonService.isOriginGroup($scope.groups[i].class) &&
            $scope.groups[i].devices.indexOf(serial) > -1) {
          return true
        }
      }
    }
    return false
  }

  function addStandardizableDevicesIfNotBooked(devices, timeStamp) {
    devices.forEach(function(serial) {
      if (!isBookedDevice(serial)) {
        addStandardizableDevice(
          originDevices[originDevicesBySerial[serial].index]
        , timeStamp
        )
      }
    })
  }

  function updateStandardizableDeviceIfNotBooked(device, timeStamp) {
    if (!isBookedDevice(device.serial)) {
      updateStandardizableDevice(device, timeStamp)
    }
  }

  function initGroup(group) {
    cachedGroupsClass[group.id] = group.class
    if (typeof $scope.groupsEnv[group.id] === 'undefined') {
      $scope.groupsEnv[group.id] = {}
      initAvailableGroupDevices(group, [], {})
      if (group.privilege === 'root') {
        rootGroupId = group.id
      }
    }
    return group
  }

  function addGroup(group, timeStamp) {
    if (CommonService.add($scope.groups, groupsById, group, 'id', timeStamp)) {
      return initGroup(group)
    }
    return null
  }

  function updateGroup(group, timeStamp, noAdding) {
    if (CommonService.update($scope.groups, groupsById, group, 'id', timeStamp, noAdding)) {
      return initGroup($scope.groups[groupsById[group.id].index])
    }
    return null
  }

  function deleteGroup(id, timeStamp) {
    const group = CommonService.delete($scope.groups, groupsById, id, timeStamp)

    if (group) {
      delete $scope.groupsEnv[group.id]
    }
    return group
  }

  function addOriginDevice(device, timeStamp) {
    return CommonService.add(originDevices, originDevicesBySerial, device, 'serial', timeStamp)
  }

  function updateOriginDevice(device, timeStamp) {
    return CommonService.update(originDevices, originDevicesBySerial, device, 'serial', timeStamp)
  }

  function deleteOriginDevice(serial, timeStamp) {
    return CommonService.delete(originDevices, originDevicesBySerial, serial, timeStamp)
  }

  function addStandardizableDevice(device, timeStamp) {
    return CommonService.add(
      standardizableDevices, standardizableDevicesBySerial, device, 'serial', timeStamp)
  }

  function updateStandardizableDevice(device, timeStamp) {
    return CommonService.update(
      standardizableDevices, standardizableDevicesBySerial, device, 'serial', timeStamp)
  }

  function deleteStandardizableDevice(serial, timeStamp) {
    return CommonService.delete(
      standardizableDevices, standardizableDevicesBySerial, serial, timeStamp)
  }

  function addAvailableGroupDevice(id, device, timeStamp) {
    return CommonService.add(
      $scope.groupsEnv[id].availableDevices
    , $scope.groupsEnv[id].availableDevicesBySerial, device, 'serial', timeStamp)
  }

  function updateAvailableGroupDevice(id, device, timeStamp, noAdding) {
    return CommonService.update(
      $scope.groupsEnv[id].availableDevices
    , $scope.groupsEnv[id].availableDevicesBySerial, device, 'serial', timeStamp, noAdding)
  }

  function deleteAvailableGroupDevice(id, serial, timeStamp) {
    return CommonService.delete(
      $scope.groupsEnv[id].availableDevices
    , $scope.groupsEnv[id].availableDevicesBySerial, serial, timeStamp)
  }

  function addUser(user, timeStamp) {
    return CommonService.add($scope.users, $scope.usersByEmail, user, 'email', timeStamp)
  }

  function updateUser(user, timeStamp) {
    return CommonService.update($scope.users, $scope.usersByEmail, user, 'email', timeStamp)
  }

  function deleteUser(email, timeStamp) {
    return CommonService.delete($scope.users, $scope.usersByEmail, email, timeStamp)
  }

  function initScope() {
    GroupsService.getOboeMyGroups(function(group) {
      addGroup(group, -1)
    })
    .done(function() {
      $scope.$digest()
    })

    UsersService.getOboeUsers(userFields, function(user) {
      addUser(user, -1)
    })
    .done(function() {
      if (CommonService.isExisting($scope.usersByEmail[$scope.currentUser.email])) {
        $scope.users[$scope.usersByEmail[$scope.currentUser.email].index] = $scope.currentUser
      }
    })

    UserService.getUser().then(function(response) {
      CommonService.merge($scope.currentUser, response.data.user)
    })

    if ($scope.isAdmin()) {
      DevicesService.getOboeDevices('origin', deviceFields, function(device) {
        addOriginDevice(device, -1)
      })
      DevicesService.getOboeDevices('standardizable', deviceFields, function(device) {
        addStandardizableDevice(device, -1)
      })
    }
  }

  $scope.currentUser = CommonService.merge({}, UserService.currentUser)
  $scope.users = []
  $scope.usersByEmail = {}
  $scope.groups = []
  $scope.groupsEnv = {}
  $scope.confirmRemove = {value: true}
  $scope.scopeGroupsCtrl = $scope
  $scope.itemsPerPageOptions = ItemsPerPageOptionsService

  SettingsService.bind($scope, {
    target: 'groupItemsPerPage'
  , source: 'groupItemsPerPage'
  , defaultValue: $scope.itemsPerPageOptions[2]
  })

  $scope.userColumns = [
    {name: 'Name', property: 'name'}
  , {name: 'Email', property: 'email'}
  , {name: 'Privilege', property: 'privilege'}
  ]
  $scope.defaultUserData = {
    columns: [
      {name: 'Name', sort: 'sort-asc'}
    , {name: 'Email', sort: 'none'}
    , {name: 'Privilege', sort: 'none'}
    ]
  , sort: {index: 0, reverse: false}
  }
  SettingsService.bind($scope, {
    target: 'userData'
  , source: 'userData'
  , defaultValue: $scope.defaultUserData
  })
  SettingsService.bind($scope, {
    target: 'groupUserData'
  , source: 'groupUserData'
  , defaultValue: $scope.defaultUserData
  })

  $scope.conflictColumns = [
    {name: 'Serial', property: 'serial'}
  , {name: 'Starting Date', property: 'startDate'}
  , {name: 'Expiration Date', property: 'stopDate'}
  , {name: 'Group Name', property: 'group'}
  , {name: 'Group Owner', property: 'ownerName'}
  ]
  $scope.defaultConflictData = {
    columns: [
      {name: 'Serial', sort: 'sort-asc'}
    , {name: 'Starting Date', sort: 'none'}
    , {name: 'Expiration Date', sort: 'none'}
    , {name: 'Group Name', sort: 'none'}
    , {name: 'Group Owner', sort: 'none'}
    ]
  , sort: {index: 0, reverse: false}
  }
  SettingsService.bind($scope, {
    target: 'conflictData'
  , source: 'conflictData'
  , defaultValue: $scope.defaultConflictData
  })

  $scope.mailToGroupOwners = function(groups) {
    CommonService.copyToClipboard(_.uniq(groups.map(function(group) {
      return group.owner.email
    }))
    .join(SettingsService.get('emailAddressSeparator')))
    .url('mailto:?body=*** Paste the email addresses from the clipboard! ***')
  }

  $scope.mailToGroupUsers = function(group, users) {
    // group unused actually..
    $scope.mailToAvailableUsers(users)
  }

  $scope.mailToAvailableUsers = function(users) {
    CommonService.copyToClipboard(users.map(function(user) {
      return user.email
    })
    .join(SettingsService.get('emailAddressSeparator')))
    .url('mailto:?body=*** Paste the email addresses from the clipboard! ***')
  }

  $scope.getGroupIndex = function(relativeIndex) {
    return relativeIndex + ($scope.groupCurrentPage - 1) * $scope.groupItemsPerPage.value
  }

  $scope.computeDisplay = function(device) {
    return device.display.width * device.display.height
  }

  $scope.computeNetwork = function(device) {
    if (!device.network || !device.network.type) {
      return ''
    }
    else if (device.network.subtype) {
      return device.network.type + ' (' + device.network.subtype + ')'
    }
    return device.network.type
  }

  $scope.resetDeviceData = function() {
    $scope.deviceData = JSON.parse(JSON.stringify($scope.defaultDeviceData))
  }

  $scope.resetGroupDeviceData = function() {
    $scope.groupDeviceData = JSON.parse(JSON.stringify($scope.defaultDeviceData))
  }

  $scope.deviceColumns = [
    {name: 'Model', property: 'model'}
  , {name: 'Serial', property: 'serial'}
  , {name: 'Carrier', property: 'operator'}
  , {name: 'OS', property: 'version'}
  , {name: 'Network', property: $scope.computeNetwork}
  , {name: 'Screen', property: $scope.computeDisplay}
  , {name: 'Manufacturer', property: 'manufacturer'}
  , {name: 'SDK', property: 'sdk'}
  , {name: 'ABI', property: 'abi'}
  , {name: 'CPU Platform', property: 'cpuPlatform'}
  , {name: 'OpenGL ES version', property: 'openGLESVersion'}
  , {name: 'Market name', property: 'marketName'}
  , {name: 'Phone IMEI', property: 'phone.imei'}
  , {name: 'Location', property: 'provider.name'}
  , {name: 'Group Origin', property: 'group.originName'}
  ]
  $scope.defaultDeviceData = {
    columns: [
      {name: 'Model', selected: true, sort: 'sort-asc'}
    , {name: 'Serial', selected: true, sort: 'none'}
    , {name: 'Carrier', selected: false, sort: 'none'}
    , {name: 'OS', selected: true, sort: 'none'}
    , {name: 'Network', selected: false, sort: 'none'}
    , {name: 'Screen', selected: true, sort: 'none'}
    , {name: 'Manufacturer', selected: true, sort: 'none'}
    , {name: 'SDK', selected: true, sort: 'none'}
    , {name: 'ABI', selected: false, sort: 'none'}
    , {name: 'CPU Platform', selected: false, sort: 'none'}
    , {name: 'OpenGL ES version', selected: false, sort: 'none'}
    , {name: 'Market name', selected: true, sort: 'none'}
    , {name: 'Phone IMEI', selected: false, sort: 'none'}
    , {name: 'Location', selected: true, sort: 'none'}
    , {name: 'Group Origin', selected: true, sort: 'none'}
    ]
  , sort: {index: 0, reverse: false}
  }
  SettingsService.bind($scope, {
    target: 'deviceData'
  , source: 'deviceData'
  , defaultValue: $scope.defaultDeviceData
  })
  SettingsService.bind($scope, {
    target: 'groupDeviceData'
  , source: 'groupDeviceData'
  , defaultValue: $scope.defaultDeviceData
  })
  $scope.nameRegex = /^[0-9a-zA-Z-_./: ]{1,50}$/
  $scope.nameRegexStr = '/^[0-9a-zA-Z-_./: ]{1,50}$/'
  $scope.classOptions = CommonService.classOptions
  $scope.getClassName = CommonService.getClassName
  $scope.sortBy = CommonService.sortBy

  $scope.isAdmin = function() {
    return $scope.currentUser.privilege === 'admin'
  }

  $scope.getRepetitionsQuotas = function(email) {
    if (CommonService.isExisting($scope.usersByEmail[email])) {
      return $scope.users[$scope.usersByEmail[email].index].groups.quotas.repetitions
    }
    return null
  }

  $scope.initShowDevices = function(group, showDevices) {
    if (typeof $scope.groupsEnv[group.id].groupDeviceCurrentPage === 'undefined') {
      $scope.groupsEnv[group.id].groupDeviceCurrentPage = 1
      $scope.groupsEnv[group.id].groupDeviceItemsPerPage = $scope.itemsPerPageOptions[1]
      $scope.groupsEnv[group.id].availableDeviceCurrentPage = 1
      $scope.groupsEnv[group.id].availableDeviceItemsPerPage = $scope.itemsPerPageOptions[1]
    }
    $scope.groupsEnv[group.id].showDevices = showDevices
    getAvailableGroupDevices(group)
  }

  $scope.initShowUsers = function(group) {
    if (typeof $scope.groupsEnv[group.id].groupUserCurrentPage === 'undefined') {
      $scope.groupsEnv[group.id].groupUserCurrentPage = 1
      $scope.groupsEnv[group.id].groupUserItemsPerPage = $scope.itemsPerPageOptions[1]
      $scope.groupsEnv[group.id].availableUserCurrentPage = 1
      $scope.groupsEnv[group.id].availableUserItemsPerPage = $scope.itemsPerPageOptions[1]
    }
  }

  $scope.watchGroupClass = function(group) {
    if (CommonService.isNoRepetitionsGroup($scope.groupsEnv[group.id].tmpClass)) {
      $scope.groupsEnv[group.id].tmpRepetitions = 0
    }
    else if ($scope.groupsEnv[group.id].tmpRepetitions === 0) {
      $scope.groupsEnv[group.id].tmpRepetitions = 1
    }
  }

  $scope.initTemporaryName = function(group) {
    $scope.groupsEnv[group.id].tmpName = group.name
    $scope.groupsEnv[group.id].tmpNameTooltip = 'No change'
  }

  $scope.initTemporarySchedule = function(group) {
    $scope.groupsEnv[group.id].tmpClass = group.class
    $scope.groupsEnv[group.id].tmpRepetitions = group.repetitions
    $scope.groupsEnv[group.id].tmpStartDate = new Date(group.dates[0].start)
    $scope.groupsEnv[group.id].tmpStopDate = new Date(group.dates[0].stop)
    $scope.groupsEnv[group.id].tmpScheduleTooltip = 'No change'
  }

  $scope.conditionForDevicesAddition = function(group, deviceNumber) {
    return checkDurationQuota(
      group
    , deviceNumber
    , group.dates[0].start
    , group.dates[0].stop
    , group.repetitions
    )
  }

  $scope.conditionForGroupCreation = function() {
    return $scope.currentUser.groups.quotas.consumed.number <
           $scope.currentUser.groups.quotas.allocated.number
  }

  $scope.conditionForGroupUsersRemoving = function(group, users) {
    return !(users.length === 0 ||
             group.privilege === 'root' && users.length === 1 && users[0].privilege === 'admin' ||
             group.privilege !== 'root' &&
               (users.length === 2 &&
                (users[0].privilege === 'admin' && users[1].email === group.owner.email ||
                 users[0].email === group.owner.email && users[1].privilege === 'admin') ||
                users.length === 1 &&
                (users[0].email === group.owner.email || users[0].privilege === 'admin'))
            )
  }

  $scope.conditionForNameSaving = function(group, formInvalidStatus) {
    return !formInvalidStatus && $scope.groupsEnv[group.id].tmpName !== group.name
  }

  $scope.conditionForScheduleSaving = function(group, formInvalidStatus) {
    if (formInvalidStatus) {
      $scope.groupsEnv[group.id].tmpScheduleTooltip = 'Bad syntax'
      return false
    }
    if ($scope.groupsEnv[group.id].tmpClass !== group.class ||
        parseInt($scope.groupsEnv[group.id].tmpRepetitions, 10) !== group.repetitions ||
        $scope.groupsEnv[group.id].tmpStartDate.getTime() !==
        (new Date(group.dates[0].start)).getTime() ||
        $scope.groupsEnv[group.id].tmpStopDate.getTime() !==
        (new Date(group.dates[0].stop)).getTime()) {
      if (!CommonService.isNoRepetitionsGroup($scope.groupsEnv[group.id].tmpClass)) {
        if (parseInt($scope.groupsEnv[group.id].tmpRepetitions, 10) === 0) {
          $scope.groupsEnv[group.id].tmpScheduleTooltip = 'Repetitions must be > 0 for this Class'
          return false
        }
      }
      if ($scope.groupsEnv[group.id].tmpStartDate >= $scope.groupsEnv[group.id].tmpStopDate) {
        $scope.groupsEnv[group.id].tmpScheduleTooltip = 'Starting date >= Expiration date'
        return false
      }
      if (($scope.groupsEnv[group.id].tmpStopDate - $scope.groupsEnv[group.id].tmpStartDate) >
          CommonService.getClassDuration($scope.groupsEnv[group.id].tmpClass)) {
        $scope.groupsEnv[group.id].tmpScheduleTooltip =
          '(Expiration date - Starting date) must be <= Class duration'
        return false
      }
      if ($scope.isAdmin() &&
          group.devices.length &&
          (CommonService.isOriginGroup(group.class) &&
           !CommonService.isOriginGroup($scope.groupsEnv[group.id].tmpClass) ||
           CommonService.isOriginGroup($scope.groupsEnv[group.id].tmpClass) &&
           !CommonService.isOriginGroup(group.class))) {
        $scope.groupsEnv[group.id].tmpScheduleTooltip =
          'Unauthorized class while device list is not empty'
        return false
      }
      if (!checkDurationQuota(
        group
      , 0
      , $scope.groupsEnv[group.id].tmpStartDate
      , $scope.groupsEnv[group.id].tmpStopDate
      , $scope.groupsEnv[group.id].tmpRepetitions)) {
        $scope.groupsEnv[group.id].tmpScheduleTooltip = 'Group duration quotas is reached'
        return false
      }
      $scope.groupsEnv[group.id].tmpScheduleTooltip = ''
      return true
    }
    $scope.groupsEnv[group.id].tmpScheduleTooltip = 'No change'
    return false
  }

  $scope.conditionForRepetitions = function(group) {
    return !CommonService.isNoRepetitionsGroup($scope.groupsEnv[group.id].tmpClass)
  }

  $scope.addGroupDevice = function(group, device) {
    if (CommonService.isOriginGroup(group.class)) {
      CommonService.errorWrapper(
        DevicesService.addOriginGroupDevice
      , [group.id, device.serial])
    }
    else {
      CommonService.errorWrapper(
        GroupsService.addGroupDevice
        , [group.id, device.serial])
        .then(function(response) {
          if (!response.success &&
              response.status === 409 &&
              response.data.hasOwnProperty('conflicts')) {
            $scope.groupsEnv[group.id].showConflicts = true
            $scope.groupsEnv[group.id].conflicts = response.data.conflicts
          }
        })
    }
  }

  $scope.addGroupDevices = function(group, deviceSearch, filteredDevices) {
    CommonService.errorWrapper(
      CommonService.isOriginGroup(group.class) ?
        DevicesService.addOriginGroupDevices :
        GroupsService.addGroupDevices
    , deviceSearch ?
        [group.id, filteredDevices.map(function(device) { return device.serial }).join()] :
        [group.id])
  }

  $scope.removeGroupDevice = function(group, device) {
    CommonService.errorWrapper(
      CommonService.isOriginGroup(group.class) ?
        DevicesService.removeOriginGroupDevice :
        GroupsService.removeGroupDevice
    , [group.id, device.serial])
  }

  $scope.removeGroupDevices = function(group, deviceSearch, filteredDevices) {
    CommonService.errorWrapper(
      CommonService.isOriginGroup(group.class) ?
        DevicesService.removeOriginGroupDevices :
        GroupsService.removeGroupDevices
    , deviceSearch ?
        [group.id, filteredDevices.map(function(device) { return device.serial }).join()] :
        [group.id])
  }

  $scope.addGroupUser = function(group, user) {
    CommonService.errorWrapper(
      GroupsService.addGroupUser
    , [group.id, user.email])
  }

  $scope.addGroupUsers = function(group, userSearch, filteredUsers) {
    CommonService.errorWrapper(
      GroupsService.addGroupUsers
    , userSearch ?
        [group.id, filteredUsers.map(function(user) { return user.email }).join()] :
        [group.id])
  }

  $scope.removeGroupUser = function(group, user) {
    CommonService.errorWrapper(
      GroupsService.removeGroupUser
    , [group.id, user.email])
  }

  $scope.removeGroupUsers = function(group, userSearch, filteredUsers) {
    CommonService.errorWrapper(
      GroupsService.removeGroupUsers
    , userSearch ?
        [group.id, filteredUsers.map(function(user) { return user.email }).join()] :
        [group.id])
  }

  $scope.removeGroup = function(group, askConfirmation) {
    if (askConfirmation) {
      GenericModalService.open({
        message: 'Really delete this group?'
      , type: 'Warning'
      , size: 'sm'
      , cancel: true
      })
      .then(function() {
        CommonService.errorWrapper(
          GroupsService.removeGroup
        , [group.id])
      })
    }
    else {
      CommonService.errorWrapper(
        GroupsService.removeGroup
      , [group.id])
    }
  }

  $scope.removeGroups = function(search, filteredGroups, askConfirmation) {
    function removeGroups() {
      if (!search) {
        CommonService.errorWrapper(GroupsService.removeGroups)
      }
      else {
        CommonService.errorWrapper(
          GroupsService.removeGroups
        , [filteredGroups.map(function(group) { return group.id }).join()])
      }
    }

    if (askConfirmation) {
      GenericModalService.open({
        message: 'Really delete this selection of groups?'
      , type: 'Warning'
      , size: 'sm'
      , cancel: true
      })
      .then(function() {
        removeGroups()
      })
    }
    else {
      removeGroups()
    }
  }

  $scope.createGroup = function() {
    $scope.hideGroupCreation = true
    CommonService.errorWrapper(GroupsService.createGroup)
      .then(function() {
        delete $scope.hideGroupCreation
      })
  }

  $scope.updateGroupSchedule = function(group) {
    CommonService.errorWrapper(GroupsService.updateGroup, [group.id, {
      'class': $scope.groupsEnv[group.id].tmpClass
    , 'repetitions': parseInt($scope.groupsEnv[group.id].tmpRepetitions, 10)
    , 'startTime': $scope.groupsEnv[group.id].tmpStartDate
    , 'stopTime': $scope.groupsEnv[group.id].tmpStopDate
    }])
    .then(function(response) {
      if (!response.success &&
          response.status === 409 &&
          response.data.hasOwnProperty('conflicts')) {
        $scope.groupsEnv[group.id].conflicts = []
        response.data.conflicts.forEach(function(conflict) {
          conflict.devices.forEach(function(serial) {
            $scope.groupsEnv[group.id].conflicts.push({
              serial: serial
            , startDate: $filter('date')(conflict.date.start, SettingsService.get('dateFormat'))
            , stopDate: $filter('date')(conflict.date.stop, SettingsService.get('dateFormat'))
            , group: conflict.group
            , ownerName: conflict.owner.name
            , ownerEmail: conflict.owner.email
            })
          })
        })
        $scope.groupsEnv[group.id].showConflicts = true
      }
    })
  }

  $scope.updateGroupState = function(group) {
    CommonService.errorWrapper(
      GroupsService.updateGroup
    , [group.id, {'state': 'ready'}])
  }

  $scope.updateGroupName = function(group) {
    CommonService.errorWrapper(
      GroupsService.updateGroup
    , [group.id, {'name': $scope.groupsEnv[group.id].tmpName}])
  }

  $scope.$on('user.settings.groups.updated', function(event, message) {
    const isChangedSchedule = message.isChangedDates || message.isChangedClass
    const doGetDevices =
      !CommonService.isOriginGroup(message.group.class) &&
      (isChangedSchedule || message.devices.length)
    const isGroupOwner = $scope.isAdmin() || $scope.currentUser.email === message.group.owner.email
    const group = updateGroup(
      message.group
    , message.timeStamp
    , !isGroupOwner)

    if (group) {
      if ($scope.isAdmin()) {
        if (!CommonService.isOriginGroup(group.class)) {
          if (message.devices.length) {
            if (!message.isAddedDevice) {
              addStandardizableDevicesIfNotBooked(message.devices, message.timeStamp)
            }
            else {
              message.devices.forEach(function(serial) {
                deleteStandardizableDevice(serial, message.timeStamp)
              })
            }
          }
        }
        else if (message.isChangedClass) {
          getAvailableGroupDevices(group)
        }
      }
      if (isChangedSchedule) {
        $scope.initTemporarySchedule(group)
      }
      if (doGetDevices) {
        $scope.groups.forEach(function(group) {
          if (group.id !== message.group.id || isChangedSchedule) {
            getAvailableGroupDevices(group)
          }
        })
      }
    }
    else if (!isGroupOwner && doGetDevices) { // a completer ... soit propriétaire et event obsolete, soit non propriétaire donc non admin
      $scope.groups.forEach(function(group) {
        getAvailableGroupDevices(group)
      })
    }
  })

  $scope.$on('user.settings.groups.created', function(event, message) {
    addGroup(message.group, message.timeStamp)
  })

  $scope.$on('user.settings.groups.deleted', function(event, message) {
    const group = message.group

    if (deleteGroup(group.id, message.timeStamp)) {
      if ($scope.isAdmin() && !CommonService.isOriginGroup(group.class)) {
        addStandardizableDevicesIfNotBooked(group.devices, message.timeStamp)
      }
    }
    if (!CommonService.isOriginGroup(group.class) && group.devices.length) {
      $scope.groups.forEach(function(group) {
        if (!CommonService.isOriginGroup(group.class)) {
          getAvailableGroupDevices(group)
        }
      })
    }
  })

  $scope.$on('user.settings.users.updated', function(event, message) {
    function getGroupClass(id) {
      if (CommonService.isExisting(groupsById[id])) {
        return Promise.resolve($scope.groups[groupsById[id].index].class)
      }
      else if (cachedGroupsClass[id]) {
        return Promise.resolve(cachedGroupsClass[id])
      }
      else {
        return GroupsService.getGroup(id).then(function(response) {
          cachedGroupsClass[id] = response.data.group.class
          return cachedGroupsClass[id]
        })
        .catch(function(error) {
          return false
        })
      }
    }

    if (($scope.isAdmin() &&
         CommonService.isExisting($scope.usersByEmail[message.user.email]) ||
         message.user.email === $scope.currentUser.email
        ) &&
        updateUser(message.user, message.timeStamp) &&
        message.groups.length) {

      Promise.map(message.groups, function(groupId) {
        return getGroupClass(groupId).then(function(_class) {
          return !_class || _class === 'bookable'
        })
      })
      .then(function(results) {
        if (_.without(results, false).length) {
          Promise.map($scope.groups, function(group) {
            if (group.owner.email === message.user.email &&
                !CommonService.isOriginGroup(group.class)) {
              getAvailableGroupDevices(group)
            }
          })
        }
      })
    }
  })

  $scope.$on('user.settings.users.created', function(event, message) {
    addUser(message.user, message.timeStamp)
  })

  $scope.$on('user.settings.users.deleted', function(event, message) {
    deleteUser(message.user.email, message.timeStamp)
  })

  $scope.$on('user.settings.devices.deleted', function(event, message) {
    if ($scope.isAdmin()) {
      deleteOriginDevice(message.device.serial, message.timeStamp)
      deleteStandardizableDevice(message.device.serial, message.timeStamp)
    }
    $scope.groups.forEach(function(group) {
      if (!CommonService.isOriginGroup(group.class)) {
        deleteAvailableGroupDevice(group.id, message.device.serial, message.timeStamp)
      }
    })
  })

  $scope.$on('user.settings.devices.created', function(event, message) {
    const device = publishDevice(message.device)

    if ($scope.isAdmin()) {
      addOriginDevice(device, message.timeStamp)
      addStandardizableDevice(device, message.timeStamp)
    }
  })

  $scope.$on('user.settings.devices.updated', function(event, message) {
    const device = publishDevice(message.device)

    if ($scope.isAdmin()) {
      updateOriginDevice(device, message.timeStamp)
      updateStandardizableDeviceIfNotBooked(device, message.timeStamp)
    }
    $scope.groups.forEach(function(group) {
      if (!CommonService.isOriginGroup(group.class)) {
        if (device.group.origin !== message.oldOriginGroupId) {
          if ($scope.currentUser.groups.subscribed.indexOf(device.group.origin) > -1) {
            getAvailableGroupDevices(group, message.timeStamp)
          }
          else {
            deleteAvailableGroupDevice(group.id, device.serial, message.timeStamp)
          }
        }
        else {
          updateAvailableGroupDevice(group.id, device, message.timeStamp, true)
        }
      }
    })
  })

  initScope()
}


/***/ }),
/* 616 */
/***/ ((module) => {

/**
* Copyright © 2019 code initially contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0
**/

module.exports = function() {
  return function(objects, group, groupKey, objectKey) {
    const objectList = []

    objects.forEach(function(object) {
      if (group[groupKey].indexOf(object[objectKey]) < 0) {
        objectList.push(object)
      }
    })
    return objectList
  }
}



/***/ }),
/* 617 */
/***/ ((module) => {

/**
* Copyright © 2019 code initially contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0
**/

module.exports = function(CommonService) {
  return function(keys, objects, objectsIndex) {
    const objectList = []

    keys.forEach(function(key) {
      if (CommonService.isExisting(objectsIndex[key])) {
        objectList.push(objects[objectsIndex[key].index])
      }
    })
    return objectList
  }
}



/***/ }),
/* 618 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/**
* Copyright © 2019 code initially contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0
**/

__webpack_require__(619)

module.exports = angular.module('stf.settings.devices', [
  (__webpack_require__(36).name),
  (__webpack_require__(210).name),
  (__webpack_require__(274).name),
  (__webpack_require__(279).name)
])
  .run(['$templateCache', function($templateCache) {
    $templateCache.put(
      'settings/devices/devices.pug', __webpack_require__(621)
    )
  }])
  .controller('DevicesCtrl', __webpack_require__(622))


/***/ }),
/* 619 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14);
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(15);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(17);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(18);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(19);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_devices_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(620);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_devices_css__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_cjs_js_devices_css__WEBPACK_IMPORTED_MODULE_6__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_css_loader_dist_cjs_js_devices_css__WEBPACK_IMPORTED_MODULE_6__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_css_loader_dist_cjs_js_devices_css__WEBPACK_IMPORTED_MODULE_6__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()((_node_modules_css_loader_dist_cjs_js_devices_css__WEBPACK_IMPORTED_MODULE_6___default()), options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((_node_modules_css_loader_dist_cjs_js_devices_css__WEBPACK_IMPORTED_MODULE_6___default()) && (_node_modules_css_loader_dist_cjs_js_devices_css__WEBPACK_IMPORTED_MODULE_6___default().locals) ? (_node_modules_css_loader_dist_cjs_js_devices_css__WEBPACK_IMPORTED_MODULE_6___default().locals) : undefined);


/***/ }),
/* 620 */
/***/ ((module, exports, __webpack_require__) => {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(21);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.id, "/**\n* Copyright © 2019 code initially contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0\n**/\n\n.stf-devices .selectable {\n  user-select: text;\n}\n\n.stf-pager-devices-total-items {\n  margin-top: 5px;\n}\n\n.stf-devices .device-header {\n  margin-left: 10px;\n}\n\n.stf-devices .heading .device-header-icon {\n  font-size: 16px;\n}\n\n.stf-devices .device-list-icon {\n  margin-right: 10px;\n}\n\n.stf-devices .device-filters-items {\n  margin-top: 5px;\n}\n\n.stf-devices .device-filters-item {\n  margin: 0px 10px 15px 15px;\n}\n\n.stf-devices .devices-list .device-line {\n  padding: 10px;\n  border-bottom: 1px solid #dddddd;\n  margin-left: 0px;\n}\n\n.stf-devices .devices-list .device-line.device-actions {\n  padding-bottom: 23px;\n}\n\n.stf-devices .device-list-details {\n  display: inline-block;\n}\n\n.stf-devices .device-list-label {\n  font-weight: bold;\n  margin-right: 10px;\n}\n\n.stf-devices .device-list-name {\n  color: #007aff;\n  font-size: 14px;\n  font-weight: 300;\n  margin: 2px 0 6px;\n}\n\n.stf-devices .device-list-id {\n  font-family: Monaco, Menlo, Consolas, \"Courier New\", monospace;\n  font-size: 10px;\n  margin-bottom: 2px;\n  color: #999999;\n  font-weight: 300;\n}\n", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 621 */
/***/ ((module) => {

module.exports = "<!--Copyright © 2019 code initially contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0--><!----><div ng-controller=\"DevicesCtrl\" class=\"widget-container fluid-height stf-devices\"><div class=\"heading\"><i class=\"fa fa-mobile device-header-icon\"></i><span translate=\"translate\">Device list </span><a ng-href=\"\" class=\"pull-right btn btn-sm\"><i uib-tooltip=\"{{&quot;More about Devices&quot; | translate}}\" tooltip-placement=\"left\" class=\"fa fa-question-circle fa-fw\"></i></a></div><div class=\"widget-content padded\"><nothing-to-show icon=\"fa-mobile\" message=\"{{&quot;No Devices&quot; | translate}}\" ng-if=\"!devices.length\"></nothing-to-show><div ng-if=\"devices.length\"><ul class=\"list-group devices-list\"><li class=\"list-group-item\"><div class=\"device-line device-actions\"><form class=\"form-inline device-header\"><div class=\"form-group\"><stf-pager tooltip-label=\"{{'Device selection' | translate}}\" total-items=\"filteredDevices.length\" total-items-style=\"stf-pager-devices-total-items\" items-per-page=\"scopeDevicesCtrl.deviceItemsPerPage\" items-per-page-options=\"itemsPerPageOptions\" current-page=\"scopeDevicesCtrl.deviceCurrentPage\" items-search=\"search\"></stf-pager></div><button type=\"button\" uib-tooltip=\"{{'Remove the device selection' | translate}}\" tooltip-placement=\"bottom\" tooltip-popup-delay=\"500\" ng-disabled=\"!filteredDevices.length\" ng-click=\"removeDevices(search, filteredDevices, confirmRemove.value)\" class=\"btn btn-xs btn-danger pull-right\"><i class=\"fa fa-trash-o\"></i><span translate=\"translate\">Remove</span></button><button type=\"button\" uib-tooltip=\"{{'Enable/Disable confirmation for device removing' | translate}}\" tooltip-placement=\"top\" tooltip-popup-delay=\"500\" ng-click=\"confirmRemove.value = !confirmRemove.value\" ng-class=\"{&quot;btn-warning-outline&quot;: !confirmRemove.value, &quot;btn-success&quot;: confirmRemove.value}\" class=\"btn btn-xs btn-success pull-right\"><i ng-if=\"confirmRemove.value\" class=\"fa fa-lock\"></i><i ng-if=\"!confirmRemove.value\" class=\"fa fa-unlock\"></i><span translate=\"translate\">Confirm Remove</span></button><button type=\"button\" uib-tooltip=\"{{'Set filters for device removing' | translate}}\" tooltip-placement=\"top\" tooltip-popup-delay=\"500\" ng-click=\"showFilters = !showFilters\" ng-class=\"{&quot;btn-danger-outline&quot;: !showFilters, &quot;btn-danger&quot;: showFilters}\" class=\"btn btn-xs btn-danger-outline pull-right\"><i class=\"fa fa-trash-o\"></i><span translate=\"translate\">Filters</span></button></form></div></li><li ng-if=\"showFilters\" class=\"list-group-item\"><div class=\"device-line\"><div class=\"heading\"><i class=\"fa fa-trash-o\"></i><span translate=\"translate\">Removing filters</span></div><form class=\"form-inline device-filters-items\"><div class=\"form-group device-filters-item\"><label translate=\"translate\" uib-tooltip=\"{{'Device presence state' | translate}}\" tooltip-placement=\"top\" tooltip-popup-delay=\"500\" class=\"device-list-label\">Present</label><select ng-model=\"removingFilters.present\" ng-options=\"option for option in removingFilterOptions\"></select></div><div class=\"form-group device-filters-item\"><label translate=\"translate\" uib-tooltip=\"{{'Device booking state' | translate}}\" tooltip-placement=\"top\" tooltip-popup-delay=\"500\" class=\"device-list-label\">Booked</label><select ng-model=\"removingFilters.booked\" ng-options=\"option for option in removingFilterOptions\"></select></div><div class=\"form-group device-filters-item\"><label translate=\"translate\" uib-tooltip=\"{{'Device notes state' | translate}}\" tooltip-placement=\"top\" tooltip-popup-delay=\"500\" class=\"device-list-label\">Annotated</label><select ng-model=\"removingFilters.annotated\" ng-options=\"option for option in removingFilterOptions\"></select></div><div class=\"form-group device-filters-item\"><label translate=\"translate\" uib-tooltip=\"{{'Device controlling state' | translate}}\" tooltip-placement=\"top\" tooltip-popup-delay=\"500\" class=\"device-list-label\">Controlled</label><select ng-model=\"removingFilters.controlled\" ng-options=\"option for option in removingFilterOptions\"></select></div></form></div></li><li ng-repeat=\"device in devices           | filter:search           | orderBy: 'model'           | pagedObjectsFilter:scopeDevicesCtrl:'deviceCurrentPage':'deviceItemsPerPage':'filteredDevices'             track by device.serial\" class=\"list-group-item\"> <div class=\"device-line device-actions\"><i class=\"fa fa-mobile fa-2x fa-fw device-list-icon\"></i><div class=\"device-list-details selectable\"><div ng-bind-template=\"{{device.manufacturer + ' ' + device.model + ' (' + device.marketName + ')'}}\" class=\"device-list-name\"></div><div class=\"device-list-id\"><span translate=\"translate\">Serial</span><span ng-bind-template=\"{{::': ' + device.serial + ' - '}}\"></span><span translate=\"translate\">OS</span><span ng-bind-template=\"{{': ' + device.version + ' - '}}\"></span><span translate=\"translate\">Screen </span><span ng-bind-template=\"{{': ' + device.displayStr + ' - '}}\"></span><span translate=\"translate\">SDK</span><span ng-bind-template=\"{{': ' + device.sdk + ' - '}}\"></span><span translate=\"translate\">Location </span><span ng-bind-template=\"{{': ' + device.provider.name + ' - '}}\"></span><span translate=\"translate\">Group Origin</span><span ng-bind-template=\"{{': ' + device.group.originName}}\"></span></div></div><button type=\"button\" ng-click=\"removeDevice(device.serial, confirmRemove.value)\" class=\"btn btn-xs btn-danger-outline pull-right\"><i class=\"fa fa-trash-o\"></i><span translate=\"translate\">Remove</span></button></div></li></ul></div></div></div>"

/***/ }),
/* 622 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/**
* Copyright © 2019 code initially contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0
**/

const _ = __webpack_require__(190)

module.exports = function DevicesCtrl(
  $scope
, DevicesService
, SettingsService
, ItemsPerPageOptionsService
, GenericModalService
, CommonService
) {
  const devicesBySerial = {}
  const deviceFields =
    'model,' +
    'serial,' +
    'version,' +
    'display.height,' +
    'display.width,' +
    'manufacturer,' +
    'sdk,' +
    'abi,' +
    'cpuPlatform,' +
    'openGLESVersion,' +
    'marketName,' +
    'phone.imei,' +
    'provider.name,' +
    'group.originName'


  function publishDevice(device) {
    if (!device.model) {
      device.display = {}
    }
    else {
      device.displayStr = device.display.width + 'x' + device.display.height
    }
    for (var i in device) {
      if (device[i] === null) {
        device[i] = ''
      }
    }
    return device
  }

  function addDevice(device, timeStamp) {
    return CommonService.add(
      $scope.devices
    , devicesBySerial
    , device
    , 'serial'
    , timeStamp)
  }

  function updateDevice(device, timeStamp) {
    return CommonService.update(
      $scope.devices
    , devicesBySerial
    , device
    , 'serial'
    , timeStamp)
  }

  function deleteDevice(serial, timeStamp) {
    return CommonService.delete(
      $scope.devices
    , devicesBySerial
    , serial
    , timeStamp)
  }

  function initScope() {
    DevicesService.getOboeDevices('user', deviceFields, function(device) {
      addDevice(publishDevice(device), -1)
    })
    .done(function() {
      $scope.$digest()
    })
  }

  SettingsService.bind($scope, {
    target: 'removingFilters'
  , source: 'DevicesRemovingFilters'
  , defaultValue: {
      present: 'False'
    , booked: 'False'
    , annotated: 'False'
    , controlled: 'False'
    }
  })
  $scope.devices = []
  $scope.confirmRemove = {value: true}
  $scope.scopeDevicesCtrl = $scope
  $scope.itemsPerPageOptions = ItemsPerPageOptionsService
  SettingsService.bind($scope, {
    target: 'deviceItemsPerPage'
  , source: 'deviceItemsPerPage'
  , defaultValue: $scope.itemsPerPageOptions[2]
  })
  $scope.removingFilterOptions = ['True', 'False', 'Any']

  $scope.removeDevice = function(serial, askConfirmation) {
    if (askConfirmation) {
      GenericModalService.open({
        message: 'Really delete this device?'
      , type: 'Warning'
      , size: 'sm'
      , cancel: true
      })
      .then(function() {
        CommonService.errorWrapper(
          DevicesService.removeDevice
        , [serial, $scope.removingFilters]
        )
      })
    }
    else {
      CommonService.errorWrapper(
        DevicesService.removeDevice
      , [serial, $scope.removingFilters]
      )
    }
  }

  $scope.removeDevices = function(search, filteredDevices, askConfirmation) {
    function removeDevices() {
      CommonService.errorWrapper(
        DevicesService.removeDevices
      , search ?
          [$scope.removingFilters, filteredDevices.map(function(device) {
            return device.serial
          })
          .join()] :
          [$scope.removingFilters]
      )
    }

    if (askConfirmation) {
      GenericModalService.open({
        message: 'Really delete this selection of devices?'
      , type: 'Warning'
      , size: 'sm'
      , cancel: true
      })
      .then(function() {
        removeDevices()
      })
    }
    else {
      removeDevices()
    }
  }

  $scope.$on('user.settings.devices.created', function(event, message) {
    addDevice(publishDevice(message.device), message.timeStamp)
  })

  $scope.$on('user.settings.devices.deleted', function(event, message) {
    deleteDevice(message.device.serial, message.timeStamp)
  })

  $scope.$on('user.settings.devices.updated', function(event, message) {
    updateDevice(publishDevice(message.device), message.timeStamp)
  })

  initScope()
}


/***/ }),
/* 623 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/**
* Copyright © 2019 code initially contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0
**/

__webpack_require__(624)

module.exports = angular.module('stf.settings.users', [
  (__webpack_require__(134).name),
  (__webpack_require__(210).name),
  (__webpack_require__(274).name),
  (__webpack_require__(277).name)
])
  .run(['$templateCache', function($templateCache) {
    $templateCache.put(
      'settings/users/users.pug', __webpack_require__(626)
    )
  }])
  .controller('UsersCtrl', __webpack_require__(627))


/***/ }),
/* 624 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14);
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(15);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(17);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(18);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(19);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_users_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(625);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_users_css__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_cjs_js_users_css__WEBPACK_IMPORTED_MODULE_6__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_css_loader_dist_cjs_js_users_css__WEBPACK_IMPORTED_MODULE_6__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_css_loader_dist_cjs_js_users_css__WEBPACK_IMPORTED_MODULE_6__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()((_node_modules_css_loader_dist_cjs_js_users_css__WEBPACK_IMPORTED_MODULE_6___default()), options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((_node_modules_css_loader_dist_cjs_js_users_css__WEBPACK_IMPORTED_MODULE_6___default()) && (_node_modules_css_loader_dist_cjs_js_users_css__WEBPACK_IMPORTED_MODULE_6___default().locals) ? (_node_modules_css_loader_dist_cjs_js_users_css__WEBPACK_IMPORTED_MODULE_6___default().locals) : undefined);


/***/ }),
/* 625 */
/***/ ((module, exports, __webpack_require__) => {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(21);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.id, "/**\n* Copyright © 2019 code initially contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0\n**/\n\n.stf-users .selectable {\n  user-select: text;\n}\n\n.stf-pager-users-total-items {\n  margin-top: 5px;\n}\n\n.stf-users .user-creation, .user-default-quotas-item, .user-filters-item, .form-group.user-quotas-item {\n  margin: 0px 10px 15px 15px;\n}\n\n.stf-users .user-save, .user-default-quotas-save, .form-group.user-quotas-save {\n  margin: 5px 10px 15px 15px;\n}\n\n.stf-users .user-header {\n  margin-left: 10px;\n}\n\n.stf-users .user-filters-items {\n  margin-top: 5px;\n  margin-bottom: 15px;\n}\n\n.stf-users .user-default-quotas-items, .user-quotas-items {\n  margin: 0px 0px 15px 0px;\n}\n\n.stf-users .user-list-icon {\n  margin-right: 10px;\n}\n\n.stf-users .user-list-label {\n  font-weight: bold;\n  margin-right: 10px;\n}\n\n.stf-users input.ng-invalid {\n  border-color: red;\n}\n\n.stf-users .user-list .user-list-items {\n  margin: 10px 0px 0px 0px;\n}\n\n.stf-users .user-list .user-line {\n  padding: 10px;\n  border-bottom: 1px solid #dddddd;\n}\n\n.stf-users .user-list .user-line.user-actions {\n  padding-bottom: 23px;\n}\n\n.stf-users .user-list .heading.user-action-body {\n  margin-top: 22px;\n}\n\n.stf-users .user-list-details.selectable a {\n  padding: 0px;\n  border-bottom: none;\n  color: #167FFC;\n}\n\n.stf-users .user-list-details {\n  display: inline-block;\n}\n\n.stf-users .user-list-name {\n  color: #007aff;\n  font-size: 14px;\n  font-weight: 300;\n  margin: 2px 0 6px;\n}\n\n.stf-users .user-list-id {\n  font-family: Monaco, Menlo, Consolas, \"Courier New\", monospace;\n  font-size: 10px;\n  margin-bottom: 2px;\n  color: #999999;\n  font-weight: 300;\n}\n", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 626 */
/***/ ((module) => {

module.exports = "<!--Copyright © 2019 code initially contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0--><!----><div ng-controller=\"UsersCtrl\" class=\"widget-container fluid-height stf-users\"><div class=\"heading\"><i class=\"fa fa-user\"></i><span translate=\"translate\">User list </span><button ng-click=\"showCreateUser = !showCreateUser; initTemporaryUser()\" ng-class=\"{ &quot;btn-primary-outline&quot;: !showCreateUser, &quot;btn-primary&quot;: showCreateUser }\" class=\"btn btn-primary-outline pull-right btn-sm\"><i class=\"fa fa-plus fa-fw\"></i></button><a ng-href=\"\" class=\"pull-right btn btn-sm\"><i uib-tooltip=\"{{&quot;More about Users&quot; | translate}}\" tooltip-placement=\"left\" class=\"fa fa-question-circle fa-fw\"></i></a></div><div class=\"widget-content padded\"><nothing-to-show icon=\"fa-user\" message=\"{{&quot;No Users&quot; | translate}}\" ng-if=\"!users.length\"></nothing-to-show><div ng-if=\"users.length\"><ul class=\"list-group user-list\"><li ng-if=\"showCreateUser\" class=\"list-group-item\"><div class=\"user-line\"><div class=\"heading\"><i class=\"fa fa-user\"></i><span translate=\"translate\">Create new user </span></div><form name=\"userForm\" class=\"form-inline\"><div class=\"form-group user-creation\"><label translate=\"translate\" class=\"user-list-label\">Name</label><input name=\"nameForm\" uib-tooltip=\"{{'Regex syntax' | translate}}: {{::nameRegexStr}}\" tooltip-placement=\"top\" tooltip-popup-delay=\"500\" tooltip-enable=\"userForm.nameForm.$invalid\" type=\"text\" ng-model=\"tmpEnv.userName\" ng-pattern=\"nameRegex\" required=\"required\" class=\"form-control input-sm\"/></div><div class=\"form-group user-creation\"><label translate=\"translate\" class=\"user-list-label\">Email</label><input size=\"35\" type=\"email\" ng-model=\"tmpEnv.userEmail\" required=\"required\" class=\"form-control input-sm\"/></div><div class=\"form-group user-save\"><button type=\"button\" ng-click=\"createUser()\" ng-disabled=\"userForm.$invalid\" class=\"btn btn-sm btn-primary\"><span translate=\"translate\">Save</span></button></div></form></div></li><li class=\"list-group-item\"><div class=\"user-line user-actions\"><form class=\"form-inline user-header\"><div class=\"form-group\"><stf-pager tooltip-label=\"{{'User selection' | translate}}\" total-items=\"filteredUsers.length\" total-items-style=\"stf-pager-users-total-items\" items-per-page=\"scopeUsersCtrl.userItemsPerPage\" items-per-page-options=\"itemsPerPageOptions\" current-page=\"scopeUsersCtrl.userCurrentPage\" items-search=\"search\"></stf-pager></div><button type=\"button\" uib-tooltip=\"{{'Remove the user selection' | translate}}\" tooltip-placement=\"bottom\" tooltip-popup-delay=\"500\" ng-disabled=\"!filteredUsers.length || filteredUsers.length === 1 &amp;&amp; filteredUsers[0].privilege === 'admin'\" ng-click=\"removeUsers(search, filteredUsers, confirmRemove.value)\" class=\"btn btn-xs btn-danger pull-right\"><i class=\"fa fa-trash-o\"></i><span translate=\"translate\">Remove </span></button><button type=\"button\" uib-tooltip=\"{{'Enable/Disable confirmation for user removing' | translate}}\" tooltip-placement=\"top\" tooltip-popup-delay=\"500\" ng-click=\"confirmRemove.value = !confirmRemove.value\" ng-class=\"{&quot;btn-warning-outline&quot;: !confirmRemove.value, &quot;btn-success&quot;: confirmRemove.value}\" class=\"btn btn-xs btn-success pull-right\"><i ng-if=\"confirmRemove.value\" class=\"fa fa-lock\"></i><i ng-if=\"!confirmRemove.value\" class=\"fa fa-unlock\"></i><span translate=\"translate\">Confirm Remove </span></button><button type=\"button\" uib-tooltip=\"{{'Set filters for user removing' | translate}}\" tooltip-placement=\"top\" tooltip-popup-delay=\"500\" ng-click=\"showFilters = !showFilters\" ng-class=\"{&quot;btn-danger-outline&quot;: !showFilters, &quot;btn-danger&quot;: showFilters}\" class=\"btn btn-xs btn-danger-outline pull-right\"><i class=\"fa fa-trash-o\"></i><span translate=\"translate\">Filters</span></button><button type=\"button\" uib-tooltip=\"{{'Set groups quotas for new users' | translate}}\" tooltip-placement=\"top\" tooltip-popup-delay=\"500\" ng-click=\"showDefaultGroupsQuotas = !showDefaultGroupsQuotas; initTemporaryDefaultQuotas()\" ng-class=\"{&quot;btn-primary-outline&quot;: !showDefaultGroupsQuotas, &quot;btn-primary&quot;: showDefaultGroupsQuotas}\" class=\"btn btn-xs btn-primary-outline pull-right\"><i class=\"fa fa-object-group\"></i><span translate=\"translate\">Default Groups Quotas </span></button><button type=\"button\" uib-tooltip=\"{{'Write an email to the user selection' | translate}}\" ng-disabled=\"!filteredUsers.length\" ng-click=\"mailTo(filteredUsers)\" tooltip-placement=\"top\" tooltip-popup-delay=\"500\" class=\"btn btn-xs btn-primary-outline pull-right\"><i class=\"fa fa-envelope-o\"></i><span translate=\"translate\">Contact Users</span></button></form></div></li><li ng-if=\"showFilters\" class=\"list-group-item\"><div class=\"user-line\"><div class=\"heading\"><i class=\"fa fa-trash-o\"></i><span translate=\"translate\">Removing filters  </span></div><form class=\"form-inline user-filters-items\"><div class=\"form-group user-filters-item\"><label translate=\"translate\" uib-tooltip=\"{{'Filter on user group ownership' | translate}}\" tooltip-placement=\"top\" tooltip-popup-delay=\"500\" class=\"user-list-label\">Group Owner</label><select ng-model=\"removingFilters.groupOwner\" ng-options=\"option for option in removingFilterOptions\"></select></div></form></div></li><li ng-if=\"showDefaultGroupsQuotas\" class=\"list-group-item\"><div class=\"user-line\"><div class=\"heading\"><i class=\"fa fa-object-group\"></i><span translate=\"translate\">Default groups quotas</span></div><form name=\"dafaultQuotasForm\" class=\"form-inline user-default-quotas-items\"><div class=\"form-group user-default-quotas-item\"><label translate=\"translate\" class=\"user-list-label\">Number of groups</label><input type=\"number\" min=\"0\" ng-model=\"tmpEnv.defaultGroupsNumber\" required=\"required\" class=\"form-control input-sm\"/></div><div class=\"form-group user-default-quotas-item\"><label class=\"user-list-label\">Total duration of groups (ms)</label><input type=\"number\" min=\"0\" ng-model=\"tmpEnv.defaultGroupsDuration\" required=\"required\" class=\"form-control input-sm\"/></div><div class=\"form-group user-default-quotas-item\"><label translate=\"translate\" class=\"user-list-label\">Number of repetitions per group</label><input type=\"number\" min=\"0\" ng-model=\"tmpEnv.defaultGroupsRepetitions\" required=\"required\" class=\"form-control input-sm\"/></div><div class=\"form-group user-default-quotas-save\"><button uib-tooltip=\"{{tmpEnv.defaultQuotasTooltip | translate}}\" tooltip-enable=\"tmpEnv.defaultQuotasTooltip\" tooltip-placement=\"top\" tooltip-popup-delay=\"500\" ng-click=\"updateDefaultUserGroupsQuotas()\" ng-disabled=\"!conditionForDefaultQuotasSaving(defaultQuotasForm.$invalid)\" class=\"btn btn-sm btn-primary\"><span translate=\"translate\">Save</span></button></div></form></div></li><li ng-repeat=\"user in users           | filter:search           | orderBy: 'name'            | pagedObjectsFilter:scopeUsersCtrl:'userCurrentPage':'userItemsPerPage':'filteredUsers'             track by user.email\" class=\"list-group-item\"> <div class=\"user-line user-actions\"><i class=\"fa fa-user fa-2x fa-fw user-list-icon\"></i><div class=\"user-list-details selectable\"><a ng-href=\"{{::'mailto:' + user.email}}\" class=\"user-list-name\">{{::user.name}}</a><div class=\"user-list-id\"><span translate=\"translate\">Email</span><span ng-bind-template=\"{{::': ' + user.email + ' - '}}\"></span><span translate=\"translate\">Privilege</span><span ng-bind-template=\"{{::': ' + user.privilege}}\"></span></div></div><button type=\"button\" ng-click=\"removeUser(user.email, confirmRemove.value)\" ng-disabled=\"user.privilege === &quot;admin&quot;\" class=\"btn btn-xs btn-danger-outline pull-right\"><i class=\"fa fa-trash-o\"></i><span translate=\"translate\">Remove</span></button><button type=\"button\" ng-click=\"showGroupsQuotas = !showGroupsQuotas; initTemporaryQuotas(user)\" ng-class=\"{&quot;btn-primary-outline&quot;: !showGroupsQuotas, &quot;btn-primary&quot;: showGroupsQuotas}\" class=\"btn btn-xs btn-primary-outline pull-right\"><i class=\"fa fa-object-group\"></i><span translate=\"translate\">Groups Quotas </span></button><ul ng-if=\"showGroupsQuotas\" class=\"list-group user-list user-list-items\"><li class=\"list-group-item\"><div class=\"heading user-action-body\"><i class=\"fa fa-object-group\"></i><span translate=\"translate\">Groups Quotas</span></div><form name=\"quotasForm\" class=\"form-inline\"><div class=\"form-group user-quotas-item\"><label translate=\"translate\" class=\"user-list-label\">Number of groups</label><input type=\"number\" min=\"0\" ng-max-length=\"5\" ng-model=\"user.groupsNumber\" required=\"required\" class=\"form-control input-sm\"/></div><div class=\"form-group user-quotas-item\"><label translate=\"translate\" class=\"user-list-label\">Total duration of groups (ms)</label><input type=\"number\" min=\"0\" ng-model=\"user.groupsDuration\" required=\"required\" class=\"form-control input-sm\"/></div><div class=\"form-group user-quotas-item\"><label translate=\"translate\" class=\"user-list-label\">Number of repetitions per group</label><input type=\"number\" min=\"0\" ng-model=\"user.groupsRepetitions\" required=\"required\" class=\"form-control input-sm\"/></div><div class=\"form-group user-quotas-save\"><button uib-tooltip=\"{{user.quotasTooltip | translate}}\" tooltip-enable=\"user.quotasTooltip\" tooltip-placement=\"top\" tooltip-popup-delay=\"500\" ng-click=\"updateUserGroupsQuotas(user)\" ng-disabled=\"!conditionForQuotasSaving(user, quotasForm.$invalid)\" class=\"btn btn-sm btn-primary\"><span translate=\"translate\">Save </span></button></div></form></li></ul></div></li></ul></div></div></div>"

/***/ }),
/* 627 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/**
* Copyright © 2019-2024 code initially contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0
**/

const _ = __webpack_require__(190)

module.exports = function UsersCtrl(
  $scope
, UsersService
, AppState
, SettingsService
, ItemsPerPageOptionsService
, GenericModalService
, CommonService
) {
  const usersByEmail = {}
  const userFields =
    'email,' +
    'name,' +
    'privilege,' +
    'groups.quotas'

  function addUser(user, timeStamp) {
    return CommonService.add(
      $scope.users
    , usersByEmail
    , user
    , 'email'
    , timeStamp)
  }

  function updateUser(user, timeStamp) {
    return CommonService.update(
      $scope.users
    , usersByEmail
    , user
    , 'email'
    , timeStamp)
  }

  function deleteUser(email, timeStamp) {
    return CommonService.delete(
      $scope.users
    , usersByEmail
    , email
    , timeStamp)
  }

  function initScope() {
    UsersService.getOboeUsers(userFields, function(user) {
      addUser(user, -1)
    })
    .done(function() {
      $scope.$digest()
      if (CommonService.isExisting(usersByEmail[AppState.user.email])) {
        $scope.adminUser = $scope.users[usersByEmail[AppState.user.email].index]
      }
    })
  }

  SettingsService.bind($scope, {
    target: 'removingFilters'
  , source: 'UsersRemovingFilters'
  , defaultValue: {
      groupOwner: 'False'
    }
  })
  $scope.users = []
  $scope.confirmRemove = {value: true}
  $scope.scopeUsersCtrl = $scope
  $scope.itemsPerPageOptions = ItemsPerPageOptionsService
  SettingsService.bind($scope, {
    target: 'userItemsPerPage'
  , source: 'userItemsPerPage'
  , defaultValue: $scope.itemsPerPageOptions[2]
  })
  $scope.tmpEnv = {}
  $scope.nameRegex = /^[0-9a-zA-Z-_. ]{1,50}$/
  $scope.nameRegexStr = '/^[0-9a-zA-Z-_. ]{1,50}$/'
  $scope.removingFilterOptions = ['True', 'False', 'Any']

  $scope.mailTo = function(users) {
    CommonService.copyToClipboard(users.map(function(user) {
      return user.email
    })
    .join(SettingsService.get('emailAddressSeparator')))
    .url('mailto:?body=*** Paste the email addresses from the clipboard! ***')
  }

  $scope.removeUser = function(email, askConfirmation) {
    if (askConfirmation) {
      GenericModalService.open({
        message: 'Really delete this user?'
      , type: 'Warning'
      , size: 'sm'
      , cancel: true
      })
      .then(function() {
        CommonService.errorWrapper(
          UsersService.removeUser
        , [email, $scope.removingFilters]
        )
      })
    }
    else {
      CommonService.errorWrapper(
        UsersService.removeUser
      , [email, $scope.removingFilters]
      )
    }
  }

  $scope.removeUsers = function(search, filteredUsers, askConfirmation) {
    function removeUsers() {
      CommonService.errorWrapper(
        UsersService.removeUsers
      , search ?
          [$scope.removingFilters, filteredUsers.map(function(user) { return user.email }).join()] :
          [$scope.removingFilters]
      )
    }

    if (askConfirmation) {
      GenericModalService.open({
        message: 'Really delete this selection of users?'
      , type: 'Warning'
      , size: 'sm'
      , cancel: true
      })
      .then(function() {
        removeUsers()
      })
    }
    else {
      removeUsers()
    }
  }

  $scope.conditionForDefaultQuotasSaving = function(formInvalidStatus) {
    if (formInvalidStatus) {
      $scope.tmpEnv.defaultQuotasTooltip = 'Bad syntax'
      return false
    }
    if ($scope.tmpEnv.defaultGroupsNumber
          !== $scope.adminUser.groups.quotas.defaultGroupsNumber ||
        $scope.tmpEnv.defaultGroupsDuration
          !== $scope.adminUser.groups.quotas.defaultGroupsDuration ||
        $scope.tmpEnv.defaultGroupsRepetitions
          !== $scope.adminUser.groups.quotas.defaultGroupsRepetitions
       ) {
      $scope.tmpEnv.defaultQuotasTooltip = ''
      return true
    }
    $scope.tmpEnv.defaultQuotasTooltip = 'No change'
    return false
  }

  $scope.initTemporaryDefaultQuotas = function() {
    $scope.tmpEnv.defaultGroupsNumber = $scope.adminUser.groups.quotas.defaultGroupsNumber
    $scope.tmpEnv.defaultGroupsDuration = $scope.adminUser.groups.quotas.defaultGroupsDuration
    $scope.tmpEnv.defaultGroupsRepetitions = $scope.adminUser.groups.quotas.defaultGroupsRepetitions
    $scope.tmpEnv.defaultQuotasTooltip = 'No change'
  }

  $scope.updateDefaultUserGroupsQuotas = function() {
    CommonService.errorWrapper(UsersService.updateDefaultUserGroupsQuotas, [
      $scope.tmpEnv.defaultGroupsNumber
    , $scope.tmpEnv.defaultGroupsDuration
    , $scope.tmpEnv.defaultGroupsRepetitions
    ])
  }

  $scope.updateUserGroupsQuotas = function(user) {
    CommonService.errorWrapper(UsersService.updateUserGroupsQuotas, [
      user.email
    , user.groupsNumber
    , user.groupsDuration
    , user.groupsRepetitions
    ])
  }

  $scope.initTemporaryUser = function() {
    $scope.tmpEnv.userName = $scope.tmpEnv.userEmail = ''
    $scope.tmpEnv.userTooltip = 'Bad syntax'
  }

  $scope.conditionForQuotasSaving = function(user, formInvalidStatus) {
    if (formInvalidStatus) {
      user.quotasTooltip = 'Bad syntax'
      return false
    }
    if (user.groupsNumber !== user.groups.quotas.allocated.number ||
        user.groupsDuration !== user.groups.quotas.allocated.duration ||
        user.groupsRepetitions !== user.groups.quotas.repetitions) {
      user.quotasTooltip = ''
      return true
    }
    user.quotasTooltip = 'No change'
    return false
  }

  $scope.initTemporaryQuotas = function(user) {
    user.groupsNumber = user.groups.quotas.allocated.number
    user.groupsDuration = user.groups.quotas.allocated.duration
    user.groupsRepetitions = user.groups.quotas.repetitions
    user.quotasTooltip = 'No change'
  }

  $scope.createUser = function() {
    CommonService.errorWrapper(
      UsersService.createUser
    , [$scope.tmpEnv.userName, $scope.tmpEnv.userEmail]
    )
  }

  $scope.$on('user.settings.users.created', function(event, message) {
    addUser(message.user, message.timeStamp)
  })

  $scope.$on('user.settings.users.deleted', function(event, message) {
    deleteUser(message.user.email, message.timeStamp)
  })

  $scope.$on('user.settings.users.updated', function(event, message) {
    updateUser(message.user, message.timeStamp)
  })

  initScope()
}


/***/ }),
/* 628 */
/***/ ((module) => {

module.exports = "<div pane=\"center\" ng-controller=\"SettingsCtrl\"><div class=\"widget-container fluid-height\"><nice-tabs key=\"SettingsTabs\" tabs=\"settingTabs\" filter=\"\"></nice-tabs></div></div>"

/***/ }),
/* 629 */
/***/ ((module) => {

/**
* Copyright © 2019 contains code contributed by Orange SA, authors: Denis Barbaron - Licensed under the Apache license 2.0
**/

module.exports = function SettingsCtrl($scope, gettext, AppState) {

  $scope.settingTabs = []
  $scope.settingTabs.push(
    {
      title: gettext('General'),
      icon: 'fa-gears fa-fw',
      templateUrl: 'settings/general/general.pug'
    }
  )
  $scope.settingTabs.push(
    {
      title: gettext('Keys'),
      icon: 'fa-key fa-fw',
      templateUrl: 'settings/keys/keys.pug'
    }
  )
  $scope.settingTabs.push(
    {
      title: gettext('Groups'),
      icon: 'fa-object-group fa-fw',
      templateUrl: 'settings/groups/groups.pug'
    }
  )
  if (AppState.user.privilege === 'admin') {
    $scope.settingTabs.push(
      {
        title: gettext('Devices'),
        icon: 'fa-mobile stf-settings-tabs-device-icon fa-fw',
        templateUrl: 'settings/devices/devices.pug'
      }
    )
    $scope.settingTabs.push(
      {
        title: gettext('Users'),
        icon: 'fa-user fa-fw',
        templateUrl: 'settings/users/users.pug'
      }
    )
  }
}


/***/ }),
/* 630 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

__webpack_require__(631)

module.exports = angular.module('stf.help.docs', [
  (__webpack_require__(557).name)
])
  .config(function($routeProvider, languageProvider) {
    // TODO: Solutions to the lang problem
    //
    // 1) Use $route inside a controller instead of $routeProvider
    // 2) Use $routeProvider along with languageProvider
    // In this case languageProvider depends on Settings and gettext
    // which are not providers
    // 3) Easiest way is to use AppState
    // 4) It needs a fallback if the language doesn't exists, it can be made
    // in Express side.

    $routeProvider
      .when('/docs/:document*', {
        templateUrl: function(params) {
          var lang = languageProvider.$get().selectedLanguage
          lang = 'en' // Only English for now
          var document = params.document.replace('.md', '')
          return '/static/wiki/[' + lang + ']-' + document
        }
      })
      .when('/help', {
        templateUrl: function() {
          var lang = languageProvider.$get().selectedLanguage
          lang = 'en' // Only English for now
          return '/static/wiki/[' + lang + ']-Help'
        }
      })
      //.when('/docs/:lang/:document*', {
      //  templateUrl: function (params) {
      //    var lang = params.lang
      //    var document = params.document.replace('.md', '')
      //    return '/static/docs/' + lang + '/' + document
      //  }
      //})

  })
  .controller('DocsCtrl', __webpack_require__(633))


/***/ }),
/* 631 */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14);
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(15);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(16);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(17);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(18);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(19);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_docs_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(632);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_docs_css__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_cjs_js_docs_css__WEBPACK_IMPORTED_MODULE_6__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _node_modules_css_loader_dist_cjs_js_docs_css__WEBPACK_IMPORTED_MODULE_6__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _node_modules_css_loader_dist_cjs_js_docs_css__WEBPACK_IMPORTED_MODULE_6__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()((_node_modules_css_loader_dist_cjs_js_docs_css__WEBPACK_IMPORTED_MODULE_6___default()), options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((_node_modules_css_loader_dist_cjs_js_docs_css__WEBPACK_IMPORTED_MODULE_6___default()) && (_node_modules_css_loader_dist_cjs_js_docs_css__WEBPACK_IMPORTED_MODULE_6___default().locals) ? (_node_modules_css_loader_dist_cjs_js_docs_css__WEBPACK_IMPORTED_MODULE_6___default().locals) : undefined);


/***/ }),
/* 632 */
/***/ ((module, exports, __webpack_require__) => {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(21);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.id, ".stf-docs .widget-container {\n  padding: 10px;\n}\n\n.stf-docs h1 {\n  font-size: 32px;\n  color: #157afb;\n}\n\n.stf-docs h1 {\n  margin-top: 10px;\n}\n\n.stf-docs h2,\n.stf-docs h3 {\n  margin-top: 40px;\n}\n\n.stf-docs p,\n.stf-docs li,\n.stf-docs a {\n  font-size: 15px;\n}\n\n.stf-docs h1:after,\n.stf-docs h2:after,\n.stf-docs h3:after {\n  content: ' ';\n  display: block;\n  margin-top: 10px;\n  margin-bottom: 10px;\n  border: 0;\n  border-top: 1px solid #eee;\n}\n\n.stf-docs-navigation {\n  text-align: center;\n}\n\n.stf-docs .docs-back {\n  position: absolute;\n  left: 10px;\n}\n\n", ""]);
// Exports
module.exports = exports;


/***/ }),
/* 633 */
/***/ ((module) => {

module.exports =
  function DocsCtrl($rootScope, $scope, $window, $location) {

    function hasHistory() {
      return $window.history.length > 1
    }

    $scope.hasHistory = hasHistory()

    $scope.goBack = function() {
      $window.history.back()
    }

    $scope.goHome = function() {
      $location.path('/docs/Help')
    }

    /* eslint no-console:0 */
    $rootScope.$on('$routeChangeError',
      function(event, current, previous, rejection) {
        console.error('ROUTE CHANGE ERROR: ' + rejection)
        console.log('event', event)
        console.log('current', current)
        console.log('previous', previous)
      })
  }


/***/ }),
/* 634 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = angular.module('stf.user-profile', [])
  .config(function($routeProvider) {

    $routeProvider
      .when('/user/:user*', {
        template: __webpack_require__(635)
      })
  })
  .controller('UserProfileCtrl', __webpack_require__(636))


/***/ }),
/* 635 */
/***/ ((module) => {

module.exports = "<h1>User</h1>"

/***/ }),
/* 636 */
/***/ ((module) => {

module.exports =
  function UserCtrl() {


  }


/***/ }),
/* 637 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

angular.module('gettext').run(['gettextCatalog', function(gettextCatalog) {
  // Load all supported languages
  angular.forEach(__webpack_require__(559), function(value, key) {
    if (key !== 'en') {
      gettextCatalog.setStrings(key,
        __webpack_require__(638)("./stf." + key + ".json")[key])
    }
  })
}])

module.exports = angular.module('stf/lang', [
  'gettext'
])


/***/ }),
/* 638 */
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var map = {
	"./stf.es.json": 639,
	"./stf.fr.json": 640,
	"./stf.ja.json": 641,
	"./stf.ko_KR.json": 642,
	"./stf.pl.json": 643,
	"./stf.pt_BR.json": 644,
	"./stf.ru_RU.json": 645,
	"./stf.zh-Hant.json": 646,
	"./stf.zh_CN.json": 647
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = 638;

/***/ }),
/* 639 */
/***/ ((module) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"es":{"A new version of STF is available":"Una nueva versión de STF está disponible","A package is already installed with the same name.":"Ya hay un paquete instalado con el mismo nombre","A previously installed package of the same name has a different signature than the new package (and the old package\'s data was not removed).":"Se ha instalado un paquete previamente con el mismo nombre pero con una firma diferente a la del nuevo paquete (y el paquete antiguo no ha sido eliminado).","A secure container mount point couldn\'t be accessed on external media.":"Un punto de montaje de contenedor seguro no puede ser accedido desde un medio externo.","Access Tokens":"Tokens de acceso","Account":"Cuenta","Action":"Acción","Actions":"Acciones","Activity":"Actividad","Add":"Añadir","Add ADB Key":"Añadir Llave de ADB","Add Key":"Añadir Llave","Add the following ADB Key to STF?":"¿Añadir las siguientes llaves ADB a STF?","Admin mode has been disabled.":"El modo administrador se ha desactivado","Admin mode has been enabled.":"El modo administrador se ha activado","Advanced":"Avanzado","Airplane Mode":"Modo avión","App Store":"Tienda de aplicaciones","App Upload":"Subir aplicación","Apps":"Aplicaciones","Are you sure you want to reboot this device?":"¿Estás seguro de querer reiniciar este dispositivo?","Automating":"Automatizando","Automation":"Automatización","Available":"Disponible","Back":"Atrás","Battery":"Batería","Battery Health":"Salud de la batería","Battery Level":"Nivel de batería","Battery Source":"Fuente de batería","Battery Status":"Estado de la batería","Battery Temp":"Temperatura de batería","Bluetooth":"Bluetooth","Browser":"Navegador","Busy":"En uso","Busy Devices":"Dispositivos en uso","CPU":"CPU","Camera":"Cámara","Cancel":"Cancelar","Cannot access specified URL":"No se puedo accecer a la URL especificada","Category":"Categoría","Charging":"Cargando","Check errors below":"Comprueba los siguientes errores","Clear":"Limpiar","Clipboard":"Portapapeles","Cold":"Frío","Connected":"Conectado","Connected successfully.":"Conectado con éxito","Control":"Control","Cookies":"Cookies","Cores":"Núcleos","Current rotation:":"Rotación actual","Customize":"Personalizar","Dashboard":"Tablero","Data":"Datos","Date":"Fecha","Dead":"Muerto","Delete":"Borrar","Density":"Densidad","Details":"Detalles","Developer":"Desarrollador","Device":"Dispositivo","Device Photo":"Foto de dispositivo","Device Settings":"Configuración de Dispositivo","Device cannot get kicked from the group":"El dispositivo no puede ser expulsado del grupo","Device is not present anymore for some reason.":"Por algún motivo el dispositivo ya no está presente","Device is present but offline.":"El dispositivo está presente pero no disponible","Device was disconnected":"El dispositivo se ha desconectado","Device was kicked by automatic timeout.":"El dispositivo fue expulsado por un exceso de tiempo automático","Devices":"Dispositivos","Disable WiFi":"Deshabilitar WIFI","Discharging":"Descargando","Disconnected":"Desconectado","Display":"Pantalla","Domain":"Dominio","Drop file to upload":"Suelta aquí el fichero a subir","Enable WiFi":"Habilitar WIFI","Enable notifications":"Habilitar notificaciones","Encrypted":"Encriptado","Error":"Error","Error while getting data":"Error obteniendo datos","Error while reconnecting":"Error al reconectar","Ethernet":"Ethernet","Executes remote shell commands":"Ejecuta comandos de terminal remota","Failed to download file":"Fallo al descargar el fichero","Fast Forward":"Avance rápido","File Explorer":"Explorador de fichero","Filter":"Filtro","Find Device":"Encontrar dispositivo","Fingerprint":"Huella","Frequency":"Frecuencia","Full":"Lleno","General":"General","Generate Access Token":"Genera testimonio de acceso","Generate Login for VNC":"Genera inicio de sesión para VNC","Generate New Token":"Generar nuevo token","Get":"Obtener","Get clipboard contents":"Obtener contenido del portapapeles","Go Back":"Ir atrás","Go Forward":"Ir adelante","Go to Device List":"Ir a la lista de dispositivos","Good":"Bueno","Hardware":"Hardware","Health":"Salud","Height":"Ancho","Help":"Ayuda","Hide Screen":"Ocultar pantalla","Home":"Home","Host":"Terminal","Hostname":"Nombre de terminal","ICCID":"ICCID","ID":"ID","IMEI":"IMEI","IMSI":"IMSI","Incorrect login details":"Datos de inicio de sesión incorrectos","Info":"Información","Inspect Device":"Inspeccionar dispositivo","Inspecting is currently only supported in WebView":"La inspección sólo está soportada para WebView actualmente","Inspector":"Inspector","Installation canceled by user.":"Instalación cancelada por el usuario","Installation failed due to an unknown error.":"La instalación falló debido a un error desconocido","Installation succeeded.":"Instalado con éxito","Installation timed out.":"La instalación superó el tiempo de espera","Installing app...":"Instalando aplicación...","Key":"Llave","Keys":"Llaves","Language":"Idioma","Launch Activity":"Iniciar actividad","Launching activity...":"Iniciando actividad","Level":"Nivel","Location":"Posición","Lock Rotation":"Bloquear rotación","Logs":"Trazas","Maintenance":"Mantenimiento","Make sure to copy your access token now. You won\'t be able to see it again.":"Asegúrate de copiar el testigo de acceso ahora. Si lo pierde no se podrá recuperar.","Manage Apps":"Gestionar aplicaciones","Media":"Medio","Memory":"Memoria","Menu":"Menú","Mobile":"Móvil","Model":"Modelo","More about ADB Keys":"Más sobre llaves ADB","More about Access Tokens":"Más sobre Tokens de acceso","Mute":"Silencio","Name":"Nombre","Native":"Nativo","Navigation":"Navegación","Network":"Red","Next":"Siguiente","No":"No","No ADB keys":"No hay llaves ADB","No Ports Forwarded":"No hay puertos redirigidos","No access tokens":"Sin tokens de acceso","No clipboard data":"No hay datos en el portapapeles","No cookies to show":"No hay cookies que mostrar","No devices connected":"No hay dispositivos conectados","No photo available":"No hay imagen disponible","No screenshots taken":"No hay capturas de pantalla","Normal Mode":"Modo normal","Not Charging":"No se está cargando","Notes":"Notas","Nothing to inspect":"No hay nada que inspeccionar","Notifications":"Notificaciones","Number":"Número","Offline":"Offline","Oops!":"¡Ups!","Open":"Abrir","Orientation":"Orientación","Over Voltage":"Exceso de voltaje","Overheat":"Exceso de temperatura","PID":"PID","Package":"Paquete","Password":"Contraseña","Permissions":"Permisos","Phone":"Teléfono","Phone ICCID":"ICCID del teléfono","Phone IMEI":"IMEI del teléfono","Phone IMSI":"IMSI del teléfono","Physical Device":"Dispositivo físico","Place":"Lugar","Platform":"Plataforma","Play/Pause":"Inicio/Pausa","Please enter a valid email":"Por favor, introduce un email válido","Please enter your LDAP username":"Por favor, introduce tu usuario de LDAP","Please enter your Store password":"Por favor, introduce tu contraseña","Please enter your Store username":"Por favor, introduce to nombre de usuario","Please enter your email":"Por favor, introduce tu email","Please enter your name":"Por favor, introduce tu nombre","Please enter your password":"Por favor, introduce tu contraseña","Port":"Puerto","Port Forwarding":"Puerto de reenvío","Preparing":"Preparando","Press Back button":"Pulsa el botón Volver","Press Home button":"Pulsa el botón Home","Press Menu button":"Pulsa el botón Menú","Previous":"Anterior","Processing...":"Procesando...","Product":"Producto","RAM":"RAM","ROM":"ROM","Ready":"Listo","Reconnected successfully.":"Reconectado con éxito","Refresh":"Actualizar","Reload":"Recargar","Remote debug":"Conexión remota","Remove":"Eliminar","Reset":"Reiniciar","Reset Settings":"Restablecer ajustes","Reset all browser settings":"Restablecer todos los ajustes del navegador","Restart Device":"Reiniciar dispositivo","Retry":"Reintentar","Rotate Left":"Rotar a la izquierda","Rotate Right":"Rotar a la derecha","Run":"Ejecutar","Run JavaScript":"Ejecutar JavaScript","Run this command to copy the key to your clipboard":"Ejecuta este comando para copiar la clave al portapapeles","SDK":"SDK","SIM":"SIM","Save ScreenShot":"Guardar captura de pantalla","Save...":"Guardar","Screen":"Pantalla","Screenshot":"Captura de pantalla","Screenshots":"Capturas de Pantalla","Search":"Buscar","Serial":"Serie","Server":"Servidor","Settings":"Configuración","Shell":"Línea de Comandos","Show Screen":"Mostar pantalla","Sign In":"Acceder","Sign Out":"Desconectar","Silent Mode":"Modo silencio","Size":"Tamaño","Socket connection was lost":"Se perdió la conexión con el socket","Someone stole your device.":"Alguien robó tu dispositivo","Special Keys":"Teclas especiales","Status":"Estado","Stop":"Parar","Sub Type":"Subtipo","Tag":"Etiqueta","Take Screenshot":"Capturar pantalla","Temperature":"Temperatura","Text":"Texto","The current view is marked secure and cannot be viewed remotely.":"La vista actual está marcada como segura y no puede ser vista de forma remota","The device will be unavailable for a moment.":"El dispositivo no estará disponible durante unos instantes","The existing package could not be deleted.":"El paquete no se pudo eliminar","The new package couldn\'t be installed because the verification did not succeed.":"El nuevo paquete no se pudo instalar porque no se pudo verificar","The new package couldn\'t be installed because the verification timed out.":"El nuevo paquete no se pudo instalar porque se excedió el tiempo de espera al verificarlo","The new package couldn\'t be installed in the specified install location.":"El nuevo paquete no se pudo instalar en el sitio especificado para su instalación","The new package failed because the current SDK version is newer than that required by the package.":"El nuevo paquete falló porque la versión actual del SDK es más reciente que la que requiere el paquete","The new package failed because the current SDK version is older than that required by the package.":"El nuevo paquete falló porque la versión actual del SDK es más antigua que la que requiere el paquete","The new package has an older version code than the currently installed package.":"El nuevo paquete tiene una versión de código más antigua que el paquete instalado actualmente.","The new package uses a feature that is not available.":"El nuevo paquete utiliza una característica que no está disponible.","The package archive file is invalid.":"El archivo del paquete no es válido","The package being installed contains native code, but none that is compatible with the device\'s CPU_ABI.":"El paquete que se está instalando contiene código nativo que no es compatible con el CPU_ABI del dispositivo.","The package is already installed.":"El paquete ya está instalado","Tip:":"Truco:","Title":"Título","Total Devices":"Dispositivos Totales","Try to reconnect":"Volver a conectar","Type":"Tipo","USB":"USB","Unauthorized":"No autorizado","Uninstall":"Desinstalar","Unknown":"Desconocido","Unknown reason.":"Razón desconocida.","Unlock Rotation":"Desbloquear rotación","Unspecified Failure":"Fallo no especificado","Upload From Link":"Subir desde enlace","Upload failed":"Subida fallida","Upload unknown error":"Error de subida desconocido","Uploaded file is not valid":"El fichero de subida no es válido","Uploading...":"Subiendo...","Usb speed":"Velocidad de USB","Use":"Uso","User":"Usuario","Username":"Nombre de usuario","Using":"En uso","Version":"Versión","Vibrate Mode":"Modo vibración","Volume":"Volumen","Volume Down":"Bajar volumen","Volume Up":"Subir volumen","Warning:":"Atención:","Web":"Web","WiFi":"WIFI","Width":"Ancho","Yes":"Sí","translate":"traducir"}}');

/***/ }),
/* 640 */
/***/ ((module) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"fr":{"-":"-","A new version of STF is available":"Une nouvelle version de STF est disponible","A package is already installed with the same name.":"Un paquet est déjà installé avec le même nom","A previously installed package of the same name has a different signature than the new package (and the old package\'s data was not removed).":"Un paquet précédemment installée du même nom a une signature différente de celle du nouveau paquet (et les données de l\'ancien paquet n\'a pas été supprimée).","A secure container mount point couldn\'t be accessed on external media.":"Un conteneur sécurisé équipé ne peut pas être accessible sur un support externe.","ABI":"IBP","AC":"AC","ADB Keys":"Clefs ADB","Access Tokens":"Jetons d\'Accès","Account":"Compte","Action":"Action","Actions":"Actions","Activity":"Activité","Add":"Ajouter","Add ADB Key":"Ajouter une Clef ADB","Add Key":"Ajouter une Clef","Add the following ADB Key to STF?":"Ajouter la Clef ADB suivante dans STF?","Admin mode has been disabled.":"Le Mode Administrateur a été désactivé","Admin mode has been enabled.":"Le Mode Administrateur a été activé","Advanced":"Avancé","Advanced Input":"Entrée Avancé","Airplane Mode":"Mode Avion","App Store":"App Store","App Upload":"Téléverser une Application","Apps":"Applications","Are you sure you want to reboot this device?":"Est vous sûr de vouloir redémarrer ce terminal?","Automating":"En cours d\'automatisation","Automation":"Automatisation","Available":"Disponible","Back":"Précédent","Battery":"Batterie","Battery Health":"Santé de la Batterie","Battery Level":"Niveau de la Batterie","Battery Source":"Source de la Batterie","Battery Status":"Statut de la Batterie","Battery Temp":"Température de la Batterie","Bluetooth":"Bluetooth","Browser":"Navigateur","Busy":"Occupé","Busy Devices":"Terminaux Occupés","CPU":"CPU","Camera":"Caméra","Cancel":"Annuler","Cannot access specified URL":"Impossible d’accéder à l\'URL spécifiée","Carrier":"Opérateur","Category":"Catégorie","Charging":"Chargement","Check errors below":"Vérifier les erreurs ci-dessous","Clear":"Nettoyer","Clipboard":"Presse-papier","Cold":"Froid","Connected":"Connecté","Connected successfully.":"Connexion réussie","Control":"Contrôle","Cookies":"Cookies","Cores":"Coeurs","Current rotation:":"Rotation actuelle","Customize":"Personnaliser","D-pad Center":"D-pad Centre","D-pad Down":"D-pad Bas","D-pad Left":"D-pad Gauche","D-pad Right":"D-pad Droite","D-pad Up":"D-pad Haut","Dashboard":"Tableau","Data":"Données","Date":"Date","Dead":"Mort","Delete":"Supprimer","Density":"Densité","Details":"Détails","Developer":"Développeur","Device":"Terminal","Device Photo":"Photos du Terminal","Device Settings":"Paramètres du Terminal","Device cannot get kicked from the group":"Le Terminal ne peut pas être exclu du groupe","Device is not present anymore for some reason.":"Le Terminal n\'est plus présent pour certaines raisons","Device is present but offline.":"Le Terminal est présent mais Hors-Ligne","Device was disconnected":"Le Terminal était déconnecté","Device was kicked by automatic timeout.":"Le Terminal a été exclu par le Timeout automatique","Devices":"Terminaux","Disable WiFi":"Désactiver le Wifi","Discharging":"En Décharge","Disconnected":"Déconnecté","Display":"écran","Domain":"Domaine","Drop file to upload":"Déposer le fichier à téléverser","Dummy":"Mannequin","Enable WiFi":"Activer le Wifi","Enable notifications":"Activer les notifications","Encrypted":"Crypté","Error":"Erreur","Error while getting data":"Erreur lors de l\'obtention de données","Error while reconnecting":"Erreur lors de la reconnexion","Ethernet":"Ethernet","Executes remote shell commands":"Exécute des commandes Shell à distance","FPS":"FPS","Failed to download file":"Impossible de télécharger le fichier","Fast Forward":"Avance Rapide","File Explorer":"Explorateur de Fichiers","Filter":"Filtrer","Find Device":"Trouver un Terminal","Fingerprint":"Empreinte Digitale","Frequency":"Fréquence","Full":"Rempli","General":"Général","Generate Access Token":"Générer un Jeton d\'Accès","Generate Login for VNC":"Générer un identifiant pour VNC","Generate New Token":"Générer un Nouveau Jeton","Get":"Obtenir","Get clipboard contents":"Obtenir le contenu du Presse-Papier","Go Back":"Retour","Go Forward":"Avancer","Go to Device List":"Aller à la Liste des Terminaux","Good":"Bien","Hardware":"Matériel","Health":"Santé","Height":"Taille","Help":"Aide","Hide Screen":"Cacher l\'écran","Home":"Accueil","Host":"Hôte","Hostname":"Nom de l\'Hôte","ICCID":"ICCID","ID":"ID","IMEI":"IMEI","IMSI":"IMSI","Incorrect login details":"Informations de connexion incorrectes","Info":"Informations","Inspect Device":"Inspecter le Terminal","Inspecting is currently only supported in WebView":"L\'inspection est actuellement pris en charge uniquement dans WebView","Inspector":"Inspecteur","Installation canceled by user.":"Installation annulée par l\'utilisateur","Installation failed due to an unknown error.":"Installation échouée due à une erreur inconnue","Installation succeeded.":"Installation réussie","Installation timed out.":"L\'installation a expirée.","Installing app...":"En cours d\'installation de l\'application","Key":"Clef","Keys":"Clefs","Landscape":"Paysage","Language":"Langage","Launch Activity":"Lancer l\'Activité","Launching activity...":"En cours de lancement de l\'activité ...","Level":"Niveau","Local Settings":"Paramètres locaux","Location":"Localisation","Lock Rotation":"Bloquer la Rotation","Logs":"Logs","Maintenance":"Maintenance","Make sure to copy your access token now. You won\'t be able to see it again.":"Assurez-vous de copier votre jeton d\'accès maintenant. Vous ne serez pas en mesure de le voir à nouveau.","Manage Apps":"Gérer les Applications","Manner Mode":"Mode Silencieux","Manufacturer":"Fabricant","Media":"Médias","Memory":"Mémoire","Menu":"Menu","Mobile":"Mobile","Mobile DUN":"Réseau Commuté","Mobile High Priority":"Mobile en Priorité Haute","Mobile MMS":"MMS","Mobile SUPL":"SUPL","Model":"Modèle","More about ADB Keys":"En savoir plus sur les Clefs ADB","More about Access Tokens":"En savoir plus sur les Jetons d\'Accès","Mute":"Muet","Name":"Nom","Native":"Natif","Navigation":"Navigation","Network":"Réseau","Next":"Suivant","No":"Non","No ADB keys":"Pas de clefs ADB","No Ports Forwarded":"Pas de ports redirigés","No access tokens":"Pas d\'accès aux jetons","No clipboard data":"Pas de données dans le Presse-Papier","No cookies to show":"Pas de cookies à afficher","No device screen":"Pas d\'écran de terminal","No devices connected":"Pas de terminaux connectés","No photo available":"Pas de photos disponibles","No screenshots taken":"Pas de captures d\'écran prises","Normal Mode":"Mode Normal","Not Charging":"Pas en charge","Notes":"Notes","Nothing to inspect":"Rien à inspecter","Notifications":"Notifications","Number":"Nombre","OS":"OS","Offline":"Hors Ligne","Oops!":"Oups!","Open":"Ouvrir","Orientation":"Orientation","Over Voltage":"Surtension","Overheat":"Surchauffe","PID":"PID","Package":"Paquet","Password":"Mot de Passe","Path":"Chemin","Permissions":"Permissions","Phone":"Téléphone","Phone ICCID":"ICCID du Téléphone","Phone IMEI":"IMEI du Téléphone","Phone IMSI":"IMSI du Téléphone","Physical Device":"Terminal Physique","Place":"Place","Platform":"Plateforme","Play/Pause":"Jouer/Pause","Please enter a valid email":"S\'il vous plaît entrez un e-mail valide","Please enter your LDAP username":"S\'il vous plaît entrez vôtre compte LDAP","Please enter your Store password":"S\'il vous plaît entrez vôtre mot de passe du Store","Please enter your Store username":"S\'il vous plaît entrez vôtre identifiant du Store","Please enter your email":"S\'il vous plaît entrez vôtre e-mail","Please enter your name":"S\'il vous plaît entrez vôtre nom","Please enter your password":"S\'il vous plaît entrez vôtre mot de passe","Port":"Port","Port Forwarding":"Redirection de Ports","Portrait":"Portrait","Power":"Alimentation","Power Source":"Source d\'Alimentation","Preparing":"En Préparation","Press Back button":"Appuyer sur le bouton Retour","Press Home button":"Appuyer sur le bouton Accueil","Press Menu button":"Appuyer sur le bouton Menu","Previous":"Précédent","Processing...":"En Traitement ....","Product":"Produit","Pushing app...":"En cours de téléversement des Applications ....","RAM":"RAM","ROM":"ROM","Ready":"Prêt","Reconnected successfully.":"Reconnexions réussis","Refresh":"Rafraîchir","Released":"Versionée","Reload":"Recharger","Remote debug":"Débogage à distance","Remove":"Enlever","Reset":"Réinitialiser","Reset Settings":"Réinitialiser les paramètres","Reset all browser settings":"Réinitialiser tous les paramètres des navigateurs","Restart Device":"Redémarrer le Terminal","Retrieving the device screen has timed out.":"La récupération de l\'écran de l\'appareil a expiré.","Retry":"Recommencer","Rewind":"Rembobiner","Roaming":"Roaming","Rotate Left":"Tourner vers la gauche","Rotate Right":"Tourner vers la droite","Run":"Exécuter","Run JavaScript":"Exécuter JavaScript","Run the following on your command line to debug the device from your Browser":"Exécutez la commande suivante sur la ligne de commande pour déboguer le périphérique de votre navigateur","Run the following on your command line to debug the device from your IDE":"Exécutez la commande suivante sur la ligne de commande pour déboguer le périphérique de votre IDE","Run this command to copy the key to your clipboard":"Exécutez cette commande pour copier la clef de votre presse-papier","SD Card Mounted":"Carte SD Monté","SDK":"SDK","SIM":"SIM","Save ScreenShot":"Sauver la capture d\'écran","Save...":"Sauvegarde ...","Screen":"écran","Screenshot":"Capture d\'écran","Screenshots":"Captures d\'écran","Search":"Rechercher","Secure":"Protéger","Selects Next IME":"Sélectionner le prochain IME","Serial":"Sériel","Server":"Serveur","Server error. Check log output.":"Erreur Serveur. Vérifier les logs de sortie.","Set":"Paramétrer","Set Cookie":"Paramétrer le Cookie","Settings":"Paramètres","Shell":"Shell","Show Screen":"Afficher l\'écran","Sign In":"S\'enregistrer","Sign Out":"Se déconnecter","Silent Mode":"Mode Silencieux","Size":"Taille","Socket connection was lost":"La connexion au Socket a été perdu","Someone stole your device.":"Quelqu\'un a volé votre terminal.","Special Keys":"Clefs spéciales","Start/Stop Logging":"Démarrer/Arrêter les logs","Status":"Statut","Stop":"Arrêter","Stop Automation":"Arrêter l\'automatisation","Stop Using":"Cesser d\'utiliser","Store Account":"Compte du Store","Sub Type":"Sous Type","Switch Charset":"Permuter le Charset","TID":"TID","Tag":"étiquette","Take Pageshot (Needs WebView running)":"Prendre une Prise de vue de la page (besoin de WebView)","Take Screenshot":"Prendre une Capture d\'écran","Temperature":"Température","Text":"Texte","The URI passed in is invalid.":"L\'URI transmise n\'est pas invalide.","The current view is marked secure and cannot be viewed remotely.":"La vue actuelle est marqué sécurisé et ne peut être consulté à distance.","The device will be unavailable for a moment.":"Le terminal ne sera pas disponible pour un moment","The existing package could not be deleted.":"Le package existant ne peut pas être supprimé.","The new package couldn\'t be installed because the verification did not succeed.":"Le nouveau paquet n\'a pas pu être installé car la vérification n\'a pas réussi.","The new package couldn\'t be installed because the verification timed out.":"Le nouveau paquet n\'a pas pu être installé car la vérification a expiré.","The new package couldn\'t be installed in the specified install location because the media is not available.":"Le nouveau paquet n\'a pas pu être installé à l\'emplacement spécifié pour l\'installation parce que les médias ne sont pas disponibles.","The new package couldn\'t be installed in the specified install location.":"Le nouveau paquet n\'a pas pu être installé à l\'emplacement spécifié pour installation.","The new package failed because it contains a content provider with thesame authority as a provider already installed in the system.":"Le nouveau paquet a échoué car it contient un fournisseur de contenu avec la même autorité en tant que fournisseur déjà installé dans le système.","The new package failed because it has specified that it is a test-only package and the caller has not supplied the INSTALL_ALLOW_TEST flag.":"Le nouveau paquet a échoué car il a précisé qu\'il est un paquet de test uniquement et l\'appelant n\'a pas fourni le drapeau INSTALL_ALLOW_TEST.","The new package failed because the current SDK version is newer than that required by the package.":"Le nouveau paquet a échoué parce que la version actuelle du SDK est plus récente que celle requise par le paquet.","The new package failed because the current SDK version is older than that required by the package.":"Le nouveau paquet a échoué parce que la version actuelle du SDK est plus ancienne que celle requise par le paquet.","The new package failed while optimizing and validating its dex files, either because there was not enough storage or the validation failed.":"Le nouveau paquet a échoué lors de l\'optimisation et l\'évaluation de ses fichiers dex, soit parce qu\'il n\'y avait pas assez de stockage ou la validation a échoué.","The new package has an older version code than the currently installed package.":"Le nouveau paquet a un code de version plus ancien que le paquet actuellement installé.","The new package is assigned a different UID than it previously held.":"Le nouveau paquet est affecté un ID différent qu\'il détenait auparavant.","The new package uses a feature that is not available.":"Le nouveau paquet utilise une fonctionnalité qui n\'est pas disponible.","The new package uses a shared library that is not available.":"Le nouveau paquet utilise une bibliothèque partagée qui n\'est pas disponible.","The package archive file is invalid.":"Le fichier d\'archive de paquet est invalide.","The package being installed contains native code, but none that is compatible with the device\'s CPU_ABI.":"Le package installé contient du code natif, mais aucun qui soit compatible avec le CPU_ABI du terminal.","The package changed from what the calling program expected.":"Le paquet a changé de ce que le programme appelant avait prévu.","The package is already installed.":"Le paquet est déjà installé","The package manager service found that the device didn\'t have enough storage space to install the app.":"Le service de gestionnaire de paquets a constaté que le terminal ne dispose pas de suffisamment d\'espace de stockage pour installer l\'application.","The parser did not find any actionable tags (instrumentation or application) in the manifest.":"L\'analyseur n\'a pas trouvé toutes les tags actionnables (de l\'instrumentation et des applications) dans le manifest.","The parser did not find any certificates in the .apk.":"L\'analyseur n\'a pas trouvé de certificat dans le fichier .apk.","The parser encountered a CertificateEncodingException in one of the files in the .apk.":"L\'analyseur a rencontré une CertificateEncodingException dans l\'un des fichiers de l\'apk.","The parser encountered a bad or missing package name in the manifest.":"L\'analyseur a rencontré un mauvais ou manquant nom du paquet dans le manifest.","The parser encountered a bad shared user id name in the manifest.":"L\'analyseur a rencontré un mauvais nom d\'utilisateur partagé dans le manifest.","The parser encountered an unexpected exception.":"L\'analyseur a rencontré une exception inattendue.","The parser encountered some structural problem in the manifest.":"L\'analyseur a rencontré un problème structurel dans le manifest.","The parser found inconsistent certificates on the files in the .apk.":"L\'analyseur a trouvé des certificats contradictoires sur les fichiers de l\'apk.","The parser was given a path that is not a file, or does not end with the expected \'.apk\' extension.":"L\'analyseur a donné un chemin qui n\'est pas un fichier, ou ne se termine pas avec le \\".apk\\" extension attendue.","The parser was unable to retrieve the AndroidManifest.xml file.":"L\'analyseur n\'a pas pu extraire le fichier AndroidManifest.xml.","The requested shared user does not exist.":"L\'utilisateur requêté partagé n\'existe pas.","The system failed to install the package because its packaged native code did not match any of the ABIs supported by the system.":"Le système n\'a pas réussi à installer le paquet parce que son code natif emballé ne correspond à aucune ABI supporté par le système.","The system failed to install the package because of system issues.":"Le système n\'a pas réussi à installer le paquet en raison de problèmes du système.","The system failed to install the package because the user is restricted from installing apps.":"Le système n\'a pas réussi à installer le paquet parce que l\'utilisateur est limité à partir de l\'installation d\'applications.","Time":"Temps","Tip:":"Astuce:","Title":"Titre","Toggle Web/Native":"Basculer de Web/Natif","Total Devices":"Nombre total de Terminaux","Try to reconnect":"Essayer de se reconnecter","Type":"Type","USB":"USB","Unauthorized":"Non Autorisé","Uninstall":"Désinstaller","Unknown":"Inconnu","Unknown reason.":"Raison inconnue.","Unlock Rotation":"Débloquer la Rotation","Unspecified Failure":"Défaillance non spécifiée","Upload From Link":"Téléverser depuis le Lien","Upload failed":"Téléversement raté","Upload unknown error":"Erreur inconnue lors du Téléversement","Uploaded file is not valid":"Le fichier téléversé n\'est pas valide","Uploading...":"En cours de téléversement ...","Usable Devices":"Terminaux utilisables","Usb speed":"Vitesse USB","Use":"Utiliser","User":"Utilisateur","Username":"Nom de l\'utilisateur","Using":"En Utilisation","Using Fallback":"Reprise de l\'Utilisation","VNC":"VNC","Value":"Valeur","Version":"Version","Version Update":"Version de la mise à jour","Vibrate Mode":"Mode Vibration","Voltage":"Tension","Volume":"Volume","Volume Down":"Baisser le Volume","Volume Up":"Augmenter le Volume","Warning:":"Avertissement:","Web":"Web","WiFi":"Wifi","WiMAX":"WiMax","Width":"Largeur","Wireless":"Sans Fil","X DPI":"X DPI","Y DPI":"Y DPI","Yes":"Oui","You (or someone else) kicked the device.":"Vous (ou quelqu\'un d\'autre) a exclu le Terminal.","translate":"Traduire"}}');

/***/ }),
/* 641 */
/***/ ((module) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"ja":{"-":"-","A new version of STF is available":"STFの新しいバージョンがリリースされました","ABI":"ABI","AC":"AC","Access Tokens":"アクセストークン","Account":"アカウント","Action":"アクション","Actions":"アクション","Activity":"アクティビティ","ADB Keys":"ADBキー","Add":"追加","Add ADB Key":"ADBキーを追加","Add Key":"キー追加","Add the following ADB Key to STF?":"STFに下記のADBキーを追加しますか？","Admin mode has been disabled.":"管理モードは無効になりました。","Admin mode has been enabled.":"管理モードは有効になりました。","Advanced":"高度機能","Advanced Input":"高度な入力","Airplane Mode":"機内モード","App Store":"アプリストア","App Upload":"アプリアップロード","Apps":"アプリ","Are you sure you want to reboot this device?":"この端末を再起動しますか？","Automation":"自動化","Available":"利用可能","Back":"戻る","Battery":"バッテリー","Battery Health":"バッテリー健康状態","Battery Level":"バッテリーレベル","Battery Source":"バッテリー電力源","Battery Status":"バッテリー状態","Battery Temp":"バッテリー温度","Bluetooth":"Bluetooth","Browser":"ブラウザ","Busy":"貸し出し中","Busy Devices":"貸出し中","Camera":"カメラ","Cancel":"キャンセル","Cannot access specified URL":"指定されたURLはアクセスできません","Carrier":"キャリア","Category":"カテゴリー","Charging":"充電中","Check errors below":"下記エラーがありました","Clear":"クリア","Clipboard":"クリップボード","Cold":"コールド","Connected":"接続中","Connected successfully.":"接続できました。","Control":"リモート操作","Cookies":"クッキー","Cores":"コア数","CPU":"CPU","Customize":"カスタマイズ","D-pad Center":"D-padセンター","D-pad Down":"D-pad下","D-pad Left":"D-pad左","D-pad Right":"D-pad右","D-pad Up":"D-pad上","Dashboard":"ダッシュボード","Data":"データ","Date":"日付","Dead":"残量なし","Delete":"削除","Density":"表示密度","Details":"詳細","Developer":"開発者","Device":"デバイス","Device cannot get kicked from the group":"このデバイスはグループからキックできません。","Device is not present anymore for some reason.":"実機が見えなくなりました。","Device is present but offline.":"デバイスは接続されているが、オフラインになっています。","Device Photo":"実機写真","Device Settings":"実機設定","Device was disconnected":"デバイスへの接続が切れました","Device was kicked by automatic timeout.":"デバイスは自動タイムアウトにより切断されました。","Devices":"端末リスト","Disable WiFi":"無線LANを無効にする","Discharging":"放電中","Disconnected":"切断中","Display":"ディスプレー","Drop file to upload":"ここにファイルをドロップ","Dummy":"ダミー","Enable notifications":"通知を有効にする","Enable WiFi":"無線LANを有効にする","Encrypted":"暗号化","Error":"エラー","Error while getting data":"データ取得中にエラーが発生しました。","Error while reconnecting":"再接続時にエラーが発生しました","Ethernet":"イーサーネット","Executes remote shell commands":"リモートシェルコマンドを実行する","Failed to download file":"ファイルのダウンロードが失敗しした。","Fast Forward":"早送り","File Explorer":"エクスプローラー","File Name":"ファイル名","Filter":"フィルター","Find Device":"実機を探す","Fingerprint":"指紋","FPS":"FPS","Frequency":"クロック","Full":"フル","General":"一般","Generate Access Token":"アクセストークン生成","Generate Login for VNC":"VNC用にログイン情報生成","Generate New Token":"新規トークン生成","Get":"取得","Get clipboard contents":"クリップボードの中身を取得する","Go Back":"戻る","Go Forward":"進む","Go to Device List":"端末リストへ","Good":"良い","Hardware":"ハードウェア","Health":"健康状態","Height":"高さ","Help":"ヘルプ","Hide Screen":"画面を非表しない","Home":"ホーム","Host":"ホスト","Hostname":"ホスト名","ICCID":"ICCID","ID":"ID","IMEI":"IMEI","Incorrect login details":"不正ログイン情報","Info":"情報","Inspect Device":"端末の要素検証","Inspecting is currently only supported in WebView":"要素の検証機能は、現在WebViewのみ対応","Inspector":"要素の検証","Installation canceled by user.":"インストールはユーザーによってキャンセルされました。","Installation failed due to an unknown error.":"インストールが未知のエラーで失敗しました。","Installation succeeded.":"インストールが完了しました。","Installation timed out.":"インストールがタイムアウトしました。","Installing app...":"アプリをインストール中...","Key":"キー","Keys":"認証キー","Landscape":"横","Language":"言語","Launch Activity":"アクティビティを起動する","Launching activity...":"アクティビティを起動中...","Level":"レベル","Local Settings":"ローカル設定","Location":"場所","Lock Rotation":"回転ロック","Logs":"ログ","Maintenance":"メンテナンス","Manage Apps":"アプリ管理","Manner Mode":"マナーモード","Manufacturer":"メーカー","Media":"メディア","Memory":"メモリー","Menu":"メニュー","Mobile":"モバイル","Mobile DUN":"モバイルDUN","Mobile High Priority":"モバイル最優先","Mobile MMS":"モバイルMMS","Mobile SUPL":"モバイルSUPL","Model":"機種名","More about Access Tokens":"アクセストークンについて","More about ADB Keys":"ADBキーについて","Mute":"音を消す","Name":"名称","Native":"Native","Navigation":"ブラウジング","Network":"ネットワーク","Next":"次","No":"いいえ","No access tokens":"アクセストークンはありません","No ADB keys":"ADBキーはありません","No clipboard data":"クリップボードデータはありません","No cookies to show":"クッキーはありません","No device screen":"画面が表示できません","No devices connected":"端末が接続されていません","No photo available":"写真はありません","No Ports Forwarded":"フォワードされたポートはありません","No screenshots taken":"キャプチャはありません","Normal Mode":"通常モード","Not Charging":"充電されていない","Notes":"注釈","Nothing to inspect":"要素の検証対象はありません","Notifications":"通知","Number":"番号","Offline":"オフライン","Oops!":"おっと！","Open":"開く","Orientation":"方向","OS":"OS","Over Voltage":"過電圧","Overheat":"過熱","Package":"パッケージ","Password":"パスワード","Permissions":"権限","Phone":"電話番号","Phone ICCID":"携帯ICCID","Phone IMEI":"携帯IMEI","Physical Device":"物理デバイス","PID":"PID","Place":"場所","Platform":"プラットホーム","Play/Pause":"再生/停止","Please enter a valid email":"有効なメールアドレスを入力してください","Please enter your email":"メールアドレスを入力してください","Please enter your LDAP username":"LDAPユーザー名を入力してください","Please enter your name":"お名前を入力してください","Please enter your password":"パスワードを入力してください","Please enter your Store password":"ストアのパスワードを入力してください","Please enter your Store username":"ストアのユーザ名を入力してください","Port":"ポート","Port Forwarding":"ポートフォワーディング","Portrait":"縦","Power":"電源","Power Source":"電力源","Preparing":"準備中","Press Back button":"戻るボタンを押す","Press Home button":"ホームボタンを押す","Press Menu button":"メニューボタンを押す","Previous":"前","Processing...":"処理中...","Product":"型番","Pushing app...":"アプリをプッシュ中...","RAM":"RAM","Ready":"利用可能","Reconnected successfully.":"正常に再接続しました。","Refresh":"更新","Released":"発売日","Reload":"再読込","Remote debug":"リモートデバッグ","Remove":"削除","Reset":"初期化","Reset all browser settings":"ブラウザの設定をリセットする","Reset Settings":"すべての設定をリセット","Restart Device":"端末を再起動","Retrieving the device screen has timed out.":"実機画面の取得はタイムアウトになりました。","Retry":"再試行","Rewind":"巻き戻す","Roaming":"ローミング","ROM":"ROM","Rotate Left":"左回りに回転","Rotate Right":"右回りに回転","Run":"実行","Run JavaScript":"JavaScript注入","Run the following on your command line to debug the device from your Browser":"次のコマンドをコマンドラインで実行しますと、お使いのブラウザより端末のデバッグができます。","Run the following on your command line to debug the device from your IDE":"次のコマンドをコマンドラインで実行しますと、お使いのIDEより端末のデバッグができます。","Run this command to copy the key to your clipboard":"次のコマンドを実行しますと、キーがコピーされます","Sample of log format":"ログ形式のサンプル","Save Logs":"ログを保存する","Save ScreenShot":"スクリーンショットを保存する","Save...":"保存する...","Screen":"解像度","Screenshot":"キャプチャ","Screenshots":"キャプチャ","SD Card Mounted":"SDカード","SDK":"SDK","Search":"検索","Selects Next IME":"入力モードの切り替え","Serial":"シリアル","Server":"サーバー","Server error. Check log output.":"サーバーエラー。ログを確認してください。","Set":"設定","Set Cookie":"クッキー設定","Settings":"設定","Shell":"シェル","Show Screen":"画面を表示する","Sign In":"サインイン","Sign Out":"サインアウト","Silent Mode":"マナーモード","SIM":"SIM","Size":"サイズ","Socket connection was lost":"ソケットへの接続が切れました","Someone stole your device.":"誰かはデバイスを盗みました。","Special Keys":"特別なキー","Start/Stop Logging":"ログ取得の開始／停止","Status":"ステータス","Stop":"停止","Stop Using":"停止する","Store Account":"ストアアカウント","Sub Type":"サブタイプ","Switch Charset":"文字入力の切り替え","Tag":"タグ","Take Pageshot (Needs WebView running)":"ページ全体ショットを撮る（現在はWebViewのみ対応）","Take Screenshot":"スクリーンショットを撮る","Temperature":"温度","Text":"テキスト","The device will be unavailable for a moment.":"しばらく端末が利用できなくなります。","The existing package could not be deleted.":"既存のパッケージは削除できませんでした。","The URI passed in is invalid.":"渡されたURIは無効です。","TID":"TID","Time":"時刻","Tip:":"ヒント：","Title":"タイトル","Toggle Web/Native":"ウェブ/ネイティブを選択","Total Devices":"全機種","Try to reconnect":"再接続する","Type":"タイプ","Unauthorized":"権限外","Uninstall":"削除","Unknown":"未知","Unknown reason.":"未知。","Unlock Rotation":"回転アンロック","Unspecified Failure":"未定義の失敗","Upload failed":"アップロードが失敗しました","Upload From Link":"リンク先よりアップロードする","Upload unknown error":"アップロード未知エラー","Uploaded file is not valid":"アップロードされたファイル","Uploading...":"アップロード中...","Usable Devices":"利用可能","USB":"USB","Usb speed":"USB速度","Use":"利用する","User":"ユーザ","Username":"ユーザ名","Using":"利用中","Using Fallback":"フォールバックを使用中","Version":"バージョン","Version Update":"バージョンアップ","Vibrate Mode":"マナーモード（バイブON）","VNC":"VNC","Voltage":"電圧","Volume":"音量","Volume Down":"音量↓","Volume Up":"音量↑","Warning:":"注意:","Web":"Web","Width":"幅","WiFi":"無線LAN","WiMAX":"WiMAX","Wireless":"無線","X DPI":"X DPI","Y DPI":"Y DPI","Yes":"はい","You (or someone else) kicked the device.":"この実機はキックされました。"}}');

/***/ }),
/* 642 */
/***/ ((module) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"ko_KR":{"-":"-","A new version of STF is available":"새 버전의 STF를 사용 가능 합니다","A package is already installed with the same name.":"동일한 패키지가 설치되어 있습니다.","A previously installed package of the same name has a different signature than the new package (and the old package\'s data was not removed).":"이전에 설치된 패키지와 새로운 패키지의 서명이 다릅니다(또한 이전에 설치된 패키지 데이터가 삭제되지 않았습니다).","ABI":"ABI","AC":"AC","Access Tokens":"액세스 토큰","Account":"계정","Action":"동작","Actions":"동작","Activity":"액티비티","ADB Keys":"ADB 키","Add":"추가","Add ADB Key":"ADB 키 추가","Add Key":"키 추가","Add the following ADB Key to STF?":"다음 ADB 키를 STF에 추가 하시겠습니까?","Admin mode has been disabled.":"관리자 모드가 비활성화 되었습니다.","Admin mode has been enabled.":"관리자 모드가 활성화 되었습니다.","Advanced":"고급","Advanced Input":"고급 입력","Airplane Mode":"비행기 모드","App Store":"앱 스토어","App Upload":"앱 업로드","Apps":"앱","Are you sure you want to reboot this device?":"해당 단말기를 재시작 하시겠습니까?","Automation":"자동화","Available":"사용 가능","Back":"뒤로 가기","Battery":"배터리","Battery Health":"베터리 상태","Battery Level":"베터리 수준","Battery Source":"베터리 종류","Battery Status":"배터리 충전 상태","Battery Temp":"배터리 온도","Bluetooth":"블루투스","Browser":"브라우저","Busy":"점유중","Busy Devices":"사용 중인 단말기","Camera":"카메라","Cancel":"취소","Cannot access specified URL":"지정한 URL에 접근 할 수 없습니다","Carrier":"통신사","Category":"범주","Charging":"충전중","Check errors below":"아래 오류를 확인 하세요","Clear":"지우기","Clipboard":"클립보드","Cold":"양호","Connected":"연결","Connected successfully.":"연결했습니다","Control":"컨트롤 화면","Cookies":"쿠키","Cores":"코어 종류","CPU":"CPU","Customize":"사용자 지정","D-pad Center":"D-pad 가운데","D-pad Down":"D-pad 아래쪽","D-pad Left":"D-pad 왼쪽","D-pad Right":"D-pad 오른쪽","D-pad Up":"D-pad 위쪽","Dashboard":"대시보드","Data":"데이터","Date":"날짜","Dead":"정지","Delete":"삭제","Density":"해상도","Details":"세부 정보","Developer":"개발자 옵션","Device":"단말기","Device is not present anymore for some reason.":"더이상 단말기가 존재하지 않습니다.","Device is present but offline.":"장치가 연결되어 있지만 오프라인 상태입니다.","Device Photo":"단말기 사진","Device Settings":"단말기 설정","Device was disconnected":"연결이 끊어졌습니다","Device was kicked by automatic timeout.":"시간초과로 인해 단말기 사용이 종료되었습니다.","Devices":"단말기 리스트","Disable WiFi":"WiFi 비활성화","Discharging":"충전중이 아님","Disconnected":"연결 끊김","Display":"화면","Drop file to upload":"업로드 할 파일을 올려놓으세요","Dummy":"더미","Enable notifications":"알림 사용","Enable WiFi":"WiFi 활성화","Encrypted":"암호화","Error":"오류","Error while getting data":"데이터를 얻어오는데 실패했습니다","Error while reconnecting":"재연결이 실패 했습니다","Ethernet":"이더넷","Executes remote shell commands":"원격 쉘 명령을 실행합니다","Failed to download file":"파일을 다운로드 할 수 없습니다","Fast Forward":"빨리 감기","File Explorer":"파일 탐색기","File Name":"파일 이름","Filter":"필터","Find Device":"장치 찾기","Fingerprint":"지문","FPS":"FPS","Frequency":"속도","Full":"전체","General":"일반","Generate Access Token":"액세스 토큰 생성","Generate Login for VNC":"VNC 로그인 생성","Generate New Token":"새로운 토큰 생성","Get":"시작","Get clipboard contents":"클립보드 내용을 가져옵니다","Go Back":"뒤로 이동","Go Forward":"앞으로 이동","Go to Device List":"단말기 목록으로 이동","Good":"양호","Hardware":"하드웨어","Health":"상태","Height":"높이","Help":"도움말","Hide Screen":"화면 숨김","Home":"홈","Host":"호스트","Hostname":"호스트이름","ICCID":"ICCID","ID":"ID","IMEI":"IMEI","Incorrect login details":"잘못된 로그인 정보","Info":"단말기 정보","Inspect Device":"단말기 검사","Inspecting is currently only supported in WebView":"검사는 웹뷰에서만 지원합니다","Inspector":"검사기","Installation canceled by user.":"사용자가 설치를 취소했습니다","Installation failed due to an unknown error.":"알 수 없는 오류로 설치가 실패했습니다","Installation succeeded.":"설치가 성공했습니다","Installation timed out.":"설치 시간 초과","Installing app...":"앱 설치중...","Key":"키","Keys":"키","Landscape":"가로","Language":"언어","Launch Activity":"액티비티 실행","Launching activity...":"액티비티 실행중...","Level":"수준","Local Settings":"로컬 설정","Location":"위치","Lock Rotation":"화면 잠금","Logs":"로그","Maintenance":"유지 관리","Make sure to copy your access token now. You won\'t be able to see it again!":"엑세스 토큰을 복사하세요. 다시 확인할 수 없습니다!","Manage Apps":"앱 관리","Manner Mode":"매너 모드","Manufacturer":"제조사","Media":"미디어","Memory":"메모리","Menu":"메뉴","Mobile":"모바일","Mobile DUN":"모바일 DUN","Mobile MMS":"모바일 MMS","Mobile SUPL":"모바일 SUPL","Model":"모델","More about Access Tokens":"좀 더 자세한 엑세스 토큰에 대해서 확인하기","More about ADB Keys":"좀 더 자세하게 ADB 키에 대해서 확인하기","Mute":"음소거","Name":"이름","Native":"네이티브","Navigation":"탐색","Network":"네트워크","Next":"다음","No":"아니오","No access tokens":"등록된 엑세스 토큰이 없습니다","No ADB keys":"등록된 ADB 키가 없습니다","No clipboard data":"클립보드 데이터가 없습니다","No cookies to show":"어떤 쿠키도 없습니다","No devices connected":"연결된 단말기가 없습니다","No photo available":"이용 가능한 사진이 없습니다","No Ports Forwarded":"포트 포워딩 설정이 없습니다","No screenshots taken":"저장된 스크린샷이 없습니다","Normal Mode":"표준 모드","Not Charging":"충전 안함","Notes":"메모","Notifications":"알림","Number":"전화번호","Offline":"오프라인","Oops!":"웁스!","Open":"열기","Orientation":"화면 방향","OS":"운영체제","Over Voltage":"과전압","Overheat":"과열","Package":"패키지","Password":"비밀번호","Permissions":"권한","Phone":"휴대폰","Phone ICCID":"휴대폰 ICCID","Phone IMEI":"휴대폰 IMEI","Physical Device":"물리 단말기","PID":"PID","Place":"위치","Platform":"플랫폼","Play/Pause":"재생/일시 중지","Please enter a valid email":"유효한 이메일 주소를 입력하세요","Please enter your email":"이메일 주소를 입력하세요","Please enter your LDAP username":"LDAP 사용자 이름을 입력하세요","Please enter your name":"이름을 입력하세요","Please enter your password":"비밀번호를 입력하세요","Please enter your Store password":"앱 스토어 비밀번호를 입력하세요","Please enter your Store username":"앱 스토어 아이디를 입력하세요","Port":"포트","Port Forwarding":"포트 포워딩","Portrait":"세로","Power":"전력","Power Source":"전력원","Preparing":"준비중","Press Back button":"뒤로가기 버튼을 누르세요","Press Home button":"홈 버튼을 누르세요","Press Menu button":"메뉴 버튼을 누르세요","Previous":"이전","Processing...":"처리중...","Product":"제품명","Pushing app...":"앱 전송중...","RAM":"RAM","Reconnected successfully.":"재연결이 성공했습니다","Refresh":"새로고침","Released":"릴리즈","Reload":"다시 로드","Remote debug":"원격 디버그","Remove":"제거","Reset":"초기화","Reset all browser settings":"모든 브라우저 설정 초기화","Reset Settings":"설정 초기화","Restart Device":"단말기 재시작","Retrieving the device screen has timed out.":"단말기 화면을 가져 오는 시간이 초과 되었습니다.","Retry":"재시도","Rewind":"되감기","Roaming":"로밍","ROM":"ROM","Rotate Left":"왼쪽으로 회전","Rotate Right":"오른쪽으로 회전","Run":"실행","Run JavaScript":"자바스크립트 실행","Run the following on your command line to debug the device from your IDE":"아래의 명령줄을 실행하여 IDE에서 디버그를 실행하세요","Sample of log format":"로그 형식의 샘플","Save Logs":"로그 샘플","Save ScreenShot":"스크린 샷 저장","Save...":"저장...","Screen":"화면","Screenshot":"스크린 샷","Screenshots":"스크린 샷","SD Card Mounted":"SD카드 마운트","SDK":"SDK","Search":"검색","Serial":"일련 번호","Server":"서버","Server error. Check log output.":"서버 에러. 로그를 확인하세요","Set":"Set","Set Cookie":"쿠키 설정","Settings":"설정","Shell":"셸","Show Screen":"화면 표시","Sign In":"로그인","Sign Out":"로그아웃","Silent Mode":"음소거","SIM":"SIM","Size":"크기","Socket connection was lost":"소켓 연결이 끊겼습니다","Special Keys":"특수 키","Start/Stop Logging":"시작/종료 로깅","Status":"상태","Stop":"정지","Stop Using":"사용 종료","Store Account":"저장소 계정","Sub Type":"하위 유형","Switch Charset":"문자 집합 변경","Tag":"태그","Take Screenshot":"스크린샷 캡처","Temperature":"온도","Text":"텍스트","The device will be unavailable for a moment.":"이 단말기는 잠시동안 사용 할 수 없습니다.","The existing package could not be deleted.":"기존 패키지를 삭제 할 수 없습니다.","The new package couldn\'t be installed because the verification did not succeed.":"검증되지 않은 새로운 패키지는 설치 할 수 없습니다.","The new package couldn\'t be installed because the verification timed out.":"검증 시간이 초과하여 새로운 패키지를 설치 할 수 없습니다.","The new package couldn\'t be installed in the specified install location because the media is not available.":"미디어를 사용할 수 없어 지정한 위치에 새로운 패키지를 설치 할 수 없습니다.","The new package couldn\'t be installed in the specified install location.":"지정한 위치에 새로운 패키지를 설치 할 수 없습니다.","The new package failed because it contains a content provider with thesame authority as a provider already installed in the system.":"이미 동일한 패키지가 설치되어 있어 설치 할 수 없습니다.","The new package failed because the current SDK version is newer than that required by the package.":"SDK 버전이 높아 새로운 패키지를 설치 할 수 없습니다.","The new package failed because the current SDK version is older than that required by the package.":"SDK 버전이 낮아 새로운 패키지를 설치 할 수 없습니다.","The new package has an older version code than the currently installed package.":"새로운 패키지에 오래된 버전의 코드가 존재하여 설치 할 수 없습니다.","The new package is assigned a different UID than it previously held.":"새로운 패키지는 이전 패키지와 다른 UID가 할당 됐습니다.","The package archive file is invalid.":"패키지 아카이브 파일이 잘못 되었습니다.","The package is already installed.":"패키지가 이미 설치 되어 있습니다.","The parser encountered a bad or missing package name in the manifest.":"매니페스트에 잘못되거나 누락된 패키지 이름을 발견했습니다.","The parser encountered a bad shared user id name in the manifest.":"매니페스트에 잘못된 아이디나 이름을 발견했습니다.","The parser encountered an unexpected exception.":"예상하지 못한 예외가 발생하였습니다.","The parser encountered some structural problem in the manifest.":"매니페스트에 몇 가지 구조적인 문제가 발생 했습니다.","The parser found inconsistent certificates on the files in the .apk.":".apk 파일에서 일치하지 않은 인증서를 발견 했습니다.","The requested shared user does not exist.":"요청된 공용 사용자가 존재하지 않습니다.","The URI passed in is invalid.":"URL이 잘못 전달 됐습니다.","TID":"TID","Time":"시간","Tip:":"팁","Title":"제목","Toggle Web/Native":"웹/네이티브 전환","Total Devices":"총 단말기 수","translate":"번역","Try to reconnect":"다시 연결","Type":"유형","Unauthorized":"미인증","Uninstall":"설치 제거","Unknown":"알 수 없음","Unknown reason.":"알 수 없는 이유","Unlock Rotation":"회전 잠금 해제","Unspecified Failure":"지정되지 않은 오류","Upload failed":"업로드 실패","Upload From Link":"링크로 업로드","Upload unknown error":"업로드시 알수 없는 에러가 발생하였습니다","Uploaded file is not valid":"업로드된 파일이 유효하지 않습니다","Uploading...":"업로드중...","Usable Devices":"사용 가능한 단말기","USB":"USB","Usb speed":"Usb 속도","Use":"사용","User":"사용자","Username":"사용자 이름","Using":"사용중","Using Fallback":"대체","Version":"버전","Version Update":"버전 업데이트","Vibrate Mode":"진동","VNC":"VNC","Voltage":"전압","Volume":"음량","Volume Down":"음량 줄이기","Volume Up":"음량 올리기","Warning:":"경고","Web":"웹","Width":"너비","WiFi":"WiFi","WiMAX":"WiMAX","Wireless":"무선","X DPI":"X DPI","Y DPI":"Y DPI","Yes":"네","You (or someone else) kicked the device.":"당신(혹은 다른 누군가)이 단말기를 사용 종료 하였습니다."}}');

/***/ }),
/* 643 */
/***/ ((module) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"pl":{"-":"-","A new version of STF is available":"Nowa wersja STF jest dostępna","A package is already installed with the same name.":"Pakiet o tej samej nazwie jest już zainstalowany","A previously installed package of the same name has a different signature than the new package (and the old package\'s data was not removed).":"Poprzednio zainstalowana paczka o tej samej nazwie ma inną sygnaturę od nowej (oraz dane starej paczki nie zostały usunięte).","A secure container mount point couldn\'t be accessed on external media.":"Zewnętrzne media nie mogą uzyskać dostępu do punktu montowania zabezpieczonego kontenera.","ABI":"ABI","AC":"AC","Access Tokens":"Tokeny dostępu","Account":"Konto","Action":"Akcja","Actions":"Akcje","Activity":"Aktywność","ADB Keys":"Klucze ADB","Add":"Dodaj","Add ADB Key":"Dodaj klucz ADB","Add Key":"Dodaj klucz","Add the following ADB Key to STF?":"Dodać następujący klucz ADB do STF?","Admin mode has been disabled.":"Tryb admina został wyłączony.","Admin mode has been enabled.":"Tryb admina został włączony","Advanced":"Zaawansowany","Advanced Input":"Wprowadzanie zaawansowane","Airplane Mode":"Tryb samolotowy","App Store":"Sklep","App Upload":"Wysyłanie aplikacji","Apps":"Aplikacje","Are you sure you want to reboot this device?":"Czy na pewno chcesz zrestartować to urządzenie?","Automation":"Automatyzacja","Available":"Dostępny","Back":"Wróć","Battery":"Bateria","Battery Health":"Kondycja baterii","Battery Level":"Poziom baterii","Battery Source":"Źródło baterii","Battery Status":"Status baterii","Battery Temp":"Temperatura baterii","Bluetooth":"Bluetooth","Browser":"Przeglądarka","Busy":"Zajęty","Busy Devices":"Zajęte urządzenia","Camera":"Aparat","Cancel":"Anuluj","Cannot access specified URL":"Nie można uzyskać dostępu do podanego adresu URL","Carrier":"Operator","Category":"Kategoria","Charging":"Ładowanie","Check errors below":"Zwróć uwagę na błędy","Clear":"Wyczyść logi","Clipboard":"Schowek","Cold":"Chłodny","Connected":"Połączony","Connected successfully.":"Połączono pomyślnie.","Control":"Kontrola","Cookies":"Ciasteczka","Cores":"Liczba Rdzeni","CPU":"CPU","Customize":"Personalizuj","D-pad Center":"D-Pad Środek","D-pad Down":"D-pad Dół","D-pad Left":"D-pad Lewo","D-pad Right":"D-pad Prawo","D-pad Up":"D-pad Góra","Dashboard":"Kokpit","Data":"Dane","Dead":"Martwy","Delete":"Usuń","Density":"Gęstość","Details":"Szczegóły","Developer":"Developer","Device":"Urządzenie","Device cannot get kicked from the group":"Urządzenie nie może zostać wyrzucone z grupy","Device is not present anymore for some reason.":"Urządzenie z jakiegoś powodu nie jest już dostępne","Device is present but offline.":"Urządzenie jest dostępne, lecz jest offline.","Device Photo":"Zdjęcie urządzenia","Device Settings":"Ustawienia urządzenia","Device was disconnected":"Urządzenie zostało odłączone","Device was kicked by automatic timeout.":"Urządzenie zostało wyrzucone z powodu braku aktywności.","Devices":"Urządzenia","Disable WiFi":"Wyłącz WiFi","Discharging":"Rozładowywanie","Disconnected":"Odłączone","Display":"Wyświetlacz","Drop file to upload":"Upuść plik aby go wysłać","Dummy":"Głupie","Enable notifications":"Włącz powiadomienia","Enable WiFi":"Włącz WiFi","Encrypted":"Zaszyfrowane","Error":"Błąd","Error while getting data":"Zapytanie o dane zakończone błędem","Error while reconnecting":"Ponowne połączenie nie powiodło się","Ethernet":"Ethernet","Executes remote shell commands":"Wykonuje zdalne polecenia powłoki","Failed to download file":"Pobieranie zakończone niepowodzeniem","Fast Forward":"Przekaż do","File Explorer":"Przeglądaj pliki","File Name":"Nazwa pliku","Filter":"Filtr","Find Device":"Znajdź urządzenie","Fingerprint":"Odcisk palca","FPS":"FPS","Frequency":"Częstotliwość","Full":"Pełny","General":"Ogólne","Generate Access Token":"Generuj token dostępu","Generate Login for VNC":"Generuj login do VNC","Generate New Token":"Wygeneruj nowy token","Get":"Pobierz","Get clipboard contents":"Kopiuj zawartość schowka","Go Back":"Wróć","Go Forward":"Przejdź do","Go to Device List":"Przejdź do listy urządzeń","Good":"Dobrze","Hardware":"Hardware","Health":"Kondycja","Height":"Wysokość","Help":"Pomoc","Hide Screen":"Ukryj ekran","Home":"Dom","Host":"Gospodarz","Hostname":"Nazwa gospodarza","ICCID":"ICCID","ID":"ID","IMEI":"IMEI","Incorrect login details":"Niepoprawne dane logowania","Info":"Info","Inspect Device":"Zbadaj urządzenie","Inspector":"Inspektor","Installation canceled by user.":"Instalacja anulowana przez użytkownika.","Installation failed due to an unknown error.":"Instalacja nie powiodła się z powodu nieznanego błedu.","Installation succeeded.":"Instalacja powiodła się.","Installing app...":"Instalowanie aplikacji..","Key":"Klucz","Keys":"Klucze","Language":"Język","Launch Activity":"Uruchom aktywność","Launching activity...":"Uruchamianie aktywności..","Level":"Poziom","Local Settings":"Ustawienia lokalne","Location":"Lokacja","Lock Rotation":"Zablokuj rotację","Logs":"Logi","Manage Apps":"Zarządzaj aplikacjami","Memory":"Pamięć","Menu":"Menu","Model":"Model","Mute":"Wycisz","Name":"Nazwa","Navigation":"Nawigacja","Network":"Sieć","Next":"Dalej","No":"Nie","No access tokens":"Brak kluczy dostępu","No ADB keys":"Brak kluczy ADB","No clipboard data":"Brak danych w schowku","No cookies to show":"Brak ciastek do pokazania","No device screen":"Brak obrazu urządzenia","No devices connected":"Brak podłączonych urządzeń","No photo available":"Brak zdjęć","No Ports Forwarded":"Brak przekierowań portów","Notifications":"Notyfikacje","Offline":"Offline","Oops!":"Ups!","Open":"Otwórz","Orientation":"Orientacja","OS":"OS","Package":"Paczka","Password":"Hasło","Permissions":"Pozwolenia","PID":"PID","Place":"Lokalizacja","Platform":"Platforma","Please enter a valid email":"Proszę wpisać poprawny adres email","Please enter your email":"Proszę wpisać adres email","Please enter your password":"Proszę wpisać swoje hasło","Please enter your Store password":"Proszę wpisać swoje hasło do sklepu","Port":"Port","Port Forwarding":"Przekierowanie portów","Power":"Zasilanie","Power Source":"Źródło zasilania","Preparing":"Przygotowywanie","Press Back button":"Naciśnij klawisz \\"Wstecz\\"","Press Home button":"Naciśnij klawicz \\"Home\\"","Press Menu button":"Naciśnij klawicz \\"Menu\\"","Previous":"Poprzednie","Processing...":"Przetwarzanie..","Product":"Produkt","Pushing app...":"Pushowanie aplikacji..","RAM":"RAM","Ready":"Gotowe","Refresh":"Odśwież","Remove":"Usuń","Sample of log format":"Przykładowy zapis logów","Save Logs":"Zapisz logi","Settings":"Ustawienia","Size":"Rozmiar","Temperature":"Temperatura","User":"Użytkownik","Width":"Szerokość","Version":"Wersja"}}');

/***/ }),
/* 644 */
/***/ ((module) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"pt_BR":{"-":"-","A new version of STF is available":"Uma nova versão do STF está disponível","A package is already installed with the same name.":"Já existe um pacote instalado com este nome.","A previously installed package of the same name has a different signature than the new package (and the old package\'s data was not removed).":"Um pacote instalado anteriormente com o mesmo nome tem uma assinatura diferente do novo pacote (e os dados do pacote antigo não foram removidos).","A secure container mount point couldn\'t be accessed on external media.":"Não foi possível acessar um ponto de montagem de um contêiner seguro em uma mídia externa.","ABI":"ABI","AC":"ACI","ADB Keys":"Chaves ADB","Access Tokens":"Tokens de Acesso","Account":"Conta","Action":"Ação","Actions":"Ações","Activity":"Atividades","Add":"Adicionar","Add ADB Key":"Adicionar chave ADB","Add Key":"Adicionar chave","Add the following ADB Key to STF?":"Adicionar esta chave ADB no STF?","Admin mode has been disabled.":"Modo administrador foi desabilitado","Admin mode has been enabled.":"Modo administrador foi habilitado","Advanced":"Avançado","Advanced Input":"Entrada Avançada","Airplane Mode":"Modo Avião","App Store":"App Store","App Upload":"Instalar Aplicativo","Apps":"Aplicativos","Are you sure you want to reboot this device?":"Você tem certeza que deseja reiniciar o dispositivo?","Automating":"Automatizando","Automation":"Automação","Available":"Disponível","Back":"Voltar","Battery":"Bateria","Battery Health":"Saúde da Bateria","Battery Level":"Nível da Bateria","Battery Source":"Fonte da Bateria","Battery Status":"Estado da Bateria","Battery Temp":"Temperatura da Bateria","Bluetooth":"Bluetooth","Browser":"Navegador","Busy":"Ocupado","Busy Devices":"Devices Ocupados","CPU":"CPU","Camera":"Câmera","Cancel":"Cancelar","Cannot access specified URL":"Não pode acessar a URL inserida","Carrier":"Operadora","Category":"Categoria","Charging":"Carregando","Check errors below":"Verifique os erros abaixo","Clear":"Limpar","Clipboard":"Área de Transferência","Cold":"Frio","Connected":"Conectado","Connected successfully.":"Conectado com sucesso.","Control":"Controlar","Cookies":"Cookies","Cores":"Núcleos","Current rotation:":"Rotação atual","Customize":"Customizar","D-pad Center":"D-pad Centralizado","D-pad Down":"D-pad abaixo","D-pad Left":"D-pad Esquerda","D-pad Right":"D-pad Direita","D-pad Up":"D-pad Acima","Dashboard":"Painel de Controle","Data":"Dados","Date":"Data","Dead":"Parado","Delete":"Deletar","Density":"Densidade","Details":"Detalhes","Developer":"Desenvolvedor","Device":"Dispositivo","Device Photo":"Foto do Dispositivo","Device Settings":"Configurações do Dispositivo","Device cannot get kicked from the group":"O dispositivo não pode ser removido do grupo","Device is not present anymore for some reason.":"O dispositivo não está mais disponível por algum motivo.","Device is present but offline.":"Dispositivo presenta mas está indisponível","Device was disconnected":"Dispositivo desconectado","Device was kicked by automatic timeout.":"Dispositivo foi removido por tempo limite automático.","Devices":"Dispositivos","Disable WiFi":"Desabilitar WiFi","Discharging":"Descarregando","Disconnected":"Disconectado","Display":"Exibição","Domain":"Domínio","Drop file to upload":"Arrastar arquivo para instalar","Dummy":"Modelo","Enable WiFi":"Ativar Wifi","Enable notifications":"Habilitar notificações","Encrypted":"Encriptar","Error":"Erro","Error while getting data":"Erro ao pegar os dados","Error while reconnecting":"Erro ao reconectar","Ethernet":"Ethernet","Executes remote shell commands":"Executar comandos shell remotos","FPS":"FPS","Failed to download file":"Falha ao baixar arquivo","Fast Forward":"Avanço Rápido ","File Explorer":"Explorar Arquivo","Filter":"Filtrar","Find Device":"Encontrar Dispositivo","Fingerprint":"Impressão Digital","Frequency":"Frequencia","Full":"Completo","General":"Geral","Generate Access Token":"Gerar Token de Acesso","Generate Login for VNC":"Gerar acesso por VNC","Generate New Token":"Gerar Novo Token","Get":"Obter","Get clipboard contents":"Obter conteúdo da área de transferência","Go Back":"Voltar","Go Forward":"Avançar","Go to Device List":"Ir para Lista de Dispositivos","Good":"Bom","Hardware":"Hardware","Health":"Saúde","Height":"Altura","Help":"Ajuda","Hide Screen":"Ocultar Tela","Home":"Início","Host":"Host","Hostname":"Nome do Host","ICCID":"ICCID","ID":"ID","IMEI":"IMEI","IMSI":"IMSI","Incorrect login details":"Informações de acesso incorretas","Info":"Informações","Inspect Device":"Inspecionar Dispositivo","Inspecting is currently only supported in WebView":"Atualmente a inspeção só é suportada no WebView","Inspector":"Inspetor","Installation canceled by user.":"Instalação cancelada pelo usuário.","Installation failed due to an unknown error.":"A instalação falhou devido a um erro desconhecido.","Installation succeeded.":"Instalado com sucesso.","Installation timed out.":"Timeout durante instalacão.","Installing app...":"Instalando aplicativo...","Key":"Chave","Keys":"Chaves","Landscape":"Paisagem","Language":"Idioma","Launch Activity":"Abrir Activity","Launching activity...":"Abrindo activity...","Level":"Nível","Local Settings":"Configurações Locais","Location":"Localização","Lock Rotation":"Desabilitar Rotação da Tela","Logs":"Logs","Maintenance":"Manutenção","Make sure to copy your access token now. You won\'t be able to see it again.":"Certifique-se de copiar o seu token de acesso agora. Você não será capaz de vê-lo novamente.","Manage Apps":"Gerenciar Aplicativos","Manner Mode":"Manner Mode","Manufacturer":"Fabricante","Media":"Mídia","Memory":"Memória","Menu":"Menu","Mobile":"Dispositivo","Mobile DUN":"DUN do Dispositivo","Mobile High Priority":"Dispositivo com Prioridade Alta","Mobile MMS":"MMS do Dispositivo","Mobile SUPL":"SUPL do Dispositivo","Model":"Modelo","More about ADB Keys":"Mais sobre Chaves ADB","More about Access Tokens":"Mais sobre Token de Acesso","Mute":"Mudo","Name":"Nome","Native":"Nativo","Navigation":"Navegação","Network":"Rede","Next":"Próximo","No":"Não","No ADB keys":"Nenhuma chave ADB","No Ports Forwarded":"Sem portas","No access tokens":"Nenhum token de acesso","No clipboard data":"Nenhum dado na área de transferencia","No cookies to show":"Sem cookies para mostrar","No device screen":"Nenhuma tela de dispositivo","No devices connected":"Nenhum device conectado","No photo available":"Nenhuma foto disponível ","No screenshots taken":"Nenhuma captura de tela","Normal Mode":"Modo Normal","Not Charging":"Nada Carregando","Notes":"Notas","Nothing to inspect":"Nada para inspecionar","Notifications":"Notificações","Number":"Número","OS":"SO","Offline":"Indisponível","Oops!":"Oops!","Open":"Aberto","Orientation":"Orientação","Over Voltage":"Tensão excessiva","Overheat":"Superaquecimento","PID":"PID","Package":"Pacote","Password":"Senha","Path":"Caminho","Permissions":"Permissões","Phone":"Telefone","Phone ICCID":"ICCID do Dispositivo","Phone IMEI":"IMEI do Dispositivo","Phone IMSI":"IMSI do Dispositivo","Physical Device":"Dispositivo Físico","Place":"Lugar","Platform":"Plataforma","Play/Pause":"Play/Pause","Please enter a valid email":"Por Favor, insira um e-mail válido","Please enter your LDAP username":"Por Favor entre com seu usuário LDAP","Please enter your Store password":"Por Favor entre com sua senha da Loja","Please enter your Store username":"Por Favor entre com seu usuário da Loja","Please enter your email":"Por Favor entre com seu e-mail","Please enter your name":"Por Favor entre com seu nome","Please enter your password":"Por Favor entre com sua senha","Port":"Porta","Port Forwarding":"Porta de envio","Portrait":"Retrato","Power":"Ligar","Power Source":"Fonte de energia","Preparing":"Preparando","Press Back button":"Pressionar botão Voltar","Press Home button":"Pressionar botão Início","Press Menu button":"Pressionar botão Menu","Previous":"Anterior","Processing...":"Processando...","Product":"Produto","Pushing app...":"Publicando aplicativo...","RAM":"RAM","ROM":"ROM","Ready":"Pronto","Reconnected successfully.":"Reconectado com sucesso.","Refresh":"Atualizar","Released":"Liberado","Reload":"Recaregar","Remote debug":"Dupurar remotamente","Remove":"Remover","Reset":"Resetar","Reset Settings":"Limpar Configurações","Reset all browser settings":"Restar todas as configurações do navegador","Restart Device":"Reiniciar Dipositivo","Retrieving the device screen has timed out.":"Recuperar a tela do dispositivo que expirou.","Retry":"Tentar novamente","Rewind":"Rebobinar","Roaming":"Roaming","Rotate Left":"Rotar para Esquerda","Rotate Right":"Rodar para Direita","Run":"Rodar","Run JavaScript":"Rodar JavaScript","Run the following on your command line to debug the device from your Browser":"Executar a seguinte linha de comando para depurar o navegador do seu dispositivo","Run the following on your command line to debug the device from your IDE":"Executar a seguinte linha de comando para depurar o IDE do seu dispositivo","Run this command to copy the key to your clipboard":"Executar este comando para copiar a chave para a área de transferência","SD Card Mounted":"Catão SD Montado","SDK":"DSK","SIM":"Cartão SIM","Save ScreenShot":"Salvar Captura da Tela","Save...":"Salvar...","Screen":"Tela","Screenshot":"Captura da Tela","Screenshots":"Capturas das Telas","Search":"Buscar","Secure":"Seguro","Selects Next IME":"Selecionar Próximo IME","Serial":"Serial","Server":"Servidor","Server error. Check log output.":"Servidor com erro. Verifique o log de saída","Set":"Inserir","Set Cookie":"Inserir Cookie","Settings":"Configurações","Shell":"Shell","Show Screen":"Mostrar Tela","Sign In":"Entrar","Sign Out":"Sair","Silent Mode":"Modo Silencioso","Size":"Tamanho","Socket connection was lost":"Conexão Socket foi perdida","Someone stole your device.":"Alguém roubou seu dispositivo.","Special Keys":"Chaves Especiais","Start/Stop Logging":"Iniciar/Pausar Entrada","Status":"Estado","Stop":"Parar","Stop Automation":"Parar Automação","Stop Using":"Parar de Usar","Store Account":"Conta da Loja","Sub Type":"Sub Tipo","Switch Charset":"Switch Charset","TID":"TID","Tag":"Tag","Take Pageshot (Needs WebView running)":"Capturar a Página (Necessita que o WebView seja executado)","Take Screenshot":"Captura Tela","Temperature":"Temperatura","Text":"Texto","The URI passed in is invalid.":"URI informada é invalida.","The current view is marked secure and cannot be viewed remotely.":"A visualização atual foi marcada como segura e não pode ser visualizada remotamente.","The device will be unavailable for a moment.":"Este dispositivo estará indisponível por algum momento.","The existing package could not be deleted.":"O pacote existente não pode ser deletado.","The new package couldn\'t be installed because the verification did not succeed.":"O novo pacote não pode ser instalado porque o arquivo verificado não está correto.","The new package couldn\'t be installed because the verification timed out.":"O novo pacote não pode ser instalado porque o tempo de verificação expirou.","The new package couldn\'t be installed in the specified install location because the media is not available.":"O novo pacote não pode ser instalado no local específico porque a mídia não está disponível.","The new package couldn\'t be installed in the specified install location.":"O novo pacote não pode ser instalado no local específico.","The new package failed because it contains a content provider with thesame authority as a provider already installed in the system.":"O novo pacote falhou porque ele contém um provedor de conteúdo com a mesma autoridade como um provedor já instalado no sistema.","The new package failed because it has specified that it is a test-only package and the caller has not supplied the INSTALL_ALLOW_TEST flag.":"O novo pacote falhou porque ele especificou que ele é um pacote test-only e a função que chama não forneceu o sinalizador INSTALL_ALLOW_TEST.","The new package failed because the current SDK version is newer than that required by the package.":"O novo pacote falhou porque a versão atual do SDK é mais recente do que a exigida pelo pacote.","The new package failed because the current SDK version is older than that required by the package.":"The new package failed because the current SDK version is older than that required by the package.","The new package failed while optimizing and validating its dex files, either because there was not enough storage or the validation failed.":"O novo pacote falhou ao otimizar e validar seus arquivos dex, porque não havia armazenamento suficiente ou a validação falhou.","The new package has an older version code than the currently installed package.":"O novo pacote falhou para otimizar e validar os seus arquivos dex, porque não existe uma exploração suficiente ou uma validação falhou.","The new package is assigned a different UID than it previously held.":"O novo pacote é atribuído um UID diferente do que anteriormente realizada.","The new package uses a feature that is not available.":"O novo pacote usa um recurso que não está disponível.","The new package uses a shared library that is not available.":"O novo pacote usa uma biblioteca compartilhada que não está disponível.","The package archive file is invalid.":"Arquivo no pacote é inválido.","The package being installed contains native code, but none that is compatible with the device\'s CPU_ABI.":"O pacote que está sendo instalado contém código nativo, mas nenhum compatível com o CPU_ABI do dispositivo.","The package changed from what the calling program expected.":"O pacote mudou do que o programa esperava.","The package is already installed.":"Pacote já instalado.","The package manager service found that the device didn\'t have enough storage space to install the app.":"O serviço gerenciador de pacotes descobriu que o dispositivo não tinha espaço de armazenamento suficiente para instalar o aplicativo.","The parser did not find any actionable tags (instrumentation or application) in the manifest.":"A análise não encontrou nenhum marcador acionável (instrumentação ou aplicação) no manifesto.","The parser did not find any certificates in the .apk.":"A análise não encontrou nenhum certificado no .apk.","The parser encountered a CertificateEncodingException in one of the files in the .apk.":"A Análise encontrou o CertificateEncodingException em um dos arquivos no .apk.","The parser encountered a bad or missing package name in the manifest.":"A análise encontrou um nome de pacote incorreto ou ausente no manifesto.","The parser encountered a bad shared user id name in the manifest.":"A análise encontrou um nome de ID de usuário compartilhado incorreto no manifesto.","The parser encountered an unexpected exception.":"A análise encontrou uma exceção não esperada. ","The parser encountered some structural problem in the manifest.":"A análise encontrou algum problema na estrutura do manifesto.","The parser found inconsistent certificates on the files in the .apk.":"A análise encontrou uma inconsistência no certificado presente nos arquivos do .apk.","The parser was given a path that is not a file, or does not end with the expected \'.apk\' extension.":"A análise encontrou: foi dado um caminho que não é um arquivo, ou não termina com a extensão \'.apk\' esperado.","The parser was unable to retrieve the AndroidManifest.xml file.":"Não foi possível analizar o arquivo AndroidManifest.xml.","The requested shared user does not exist.":"O usuário compartilhado solicitado não existe.","The system failed to install the package because its packaged native code did not match any of the ABIs supported by the system.":"O sistema falhou ao instalar o pacote porque seu código nativo não correspondia a nenhuma das ABIs suportadas pelo sistema.","The system failed to install the package because of system issues.":"O sistema falhou ao instalar o pacote devido a problemas do sistema.","The system failed to install the package because the user is restricted from installing apps.":"O sistema falhou ao instalar o pacote porque o usuário não é autorizado a instalar aplicativos.","Time":"Horário","Tip:":"Dica:","Title":"Título","Toggle Web/Native":"Alterar entre Web e Nativo","Total Devices":"Total de Dispositivos","Try to reconnect":"Tentar reconectar","Type":"Tipo","USB":"USB","Unauthorized":"Não Autorizado","Uninstall":"Desinstalar","Unknown":"Desconhecido","Unknown reason.":"Razão desconhecida.","Unlock Rotation":"Desabilitar Rotação","Unspecified Failure":"Falha não especificada","Upload From Link":"Fazer envio por Link","Upload failed":"Envio falhou","Upload unknown error":"Envio com erro desconhecido","Uploaded file is not valid":"Arquivo enviado não é válido","Uploading...":"Enviado...","Usable Devices":"Dispositivos Utilizáveis","Usb speed":"Velocidade do USB","Use":"Usar","User":"Usuário","Username":"Usuário","Using":"Usando","Using Fallback":"Retornar verssão","VNC":"VNC","Value":"Valor","Version":"Versão","Version Update":"Atualização da Versão","Vibrate Mode":"Modo vibrar","Voltage":"Voltage","Volume":"Volume","Volume Down":"Baixar Volume","Volume Up":"Aumentar Volume","Warning:":"Atenção:","Web":"Web","WiFi":"WiFi","WiMAX":"WiMAX","Width":"Largura","Wireless":"Wireless","X DPI":"DPI X","Y DPI":"DPI Y","Yes":"Sim","You (or someone else) kicked the device.":"Você removeu o dispositivo.","translate":"traduzir"}}');

/***/ }),
/* 645 */
/***/ ((module) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"ru_RU":{"A new version of STF is available":"Доступна новая версия STF","A package is already installed with the same name.":"Пакет уже установлен с таким же названием.","A previously installed package of the same name has a different signature than the new package (and the old package\'s data was not removed).":"Ранее установленный пакет с таким же названием имеет отличающуюся цифровую подпись (также не удалены данные старого пакета)","Account":"Учетная запись","Action":"Действие","Actions":"Действия","ADB Keys":"Ключи ADB","Add":"Добавить","Add ADB Key":"Добавить ADB ключ","Add Key":"Добавить ключ","Add the following ADB Key to STF?":"Добавить ADB ключ к STF?","Admin mode has been disabled.":"Режим администратора отключен.","Admin mode has been enabled.":"Режим администратора включен.","Advanced":"Расширенный","Advanced Input":"Расширенный ввод","Airplane Mode":"Режим В самолёте","App Store":"Play Маркет","App Upload":"Загрузка приложения","Apps":"Приложения","Are you sure you want to reboot this device?":"Вы уверены, что хотите перезагрузить устройство?","Automation":"Автоматизация","Available":"Доступен","Back":"Назад","Battery":"Аккумулятор","Battery Health":"Состояние батареи","Battery Level":"Уровень зарядки аккумулятора","Battery Status":"Статус аккумулятора","Battery Temp":"Температура аккумулятора","Browser":"Браузер","Busy":"Занято","Busy Devices":"Используемые устройства","Camera":"Камера","Cancel":"Отменить","Cannot access specified URL":"Невозможно отрыть заданный URL","Carrier":"Оператор","Category":"Категория","Charging":"Заряжается","Check errors below":"Проверьте сообщения об ошибках ниже","Clear":"Очистить","Clipboard":"Буфер обмена","Cold":"Холодно","Connected":"Подключено","Connected successfully.":"Подключено успешно.","Cores":"Ядер","CPU":"Процессор","Customize":"Настроить","D-pad Center":"Центральная кнопка D-pad","D-pad Down":"Вниз","D-pad Left":"Влево","D-pad Right":"Вправо","D-pad Up":"Вверх","Dashboard":"Приборная панель","Data":"Данные","Dead":"Не отвечает","Delete":"Удалить","Density":"Плотность","Details":"Детали","Developer":"Разработчик","Device":"Устройство","Device cannot get kicked from the group":"Устройство не может быть исключено из группы","Device is not present anymore for some reason.":"Подключение к устройству отсутствует по неизвестной причине.","Device is present but offline.":"Устройство подключено, но не активно.","Device Photo":"Фото устройства","Device Settings":"Настройки устройства","Device was disconnected":"Устройство было отключено","Device was kicked by automatic timeout.":"Устройство было отключено по таймауту.","Devices":"Устройства","Disable WiFi":"Отключить WiFi","Discharging":"Разряжается","Disconnected":"Отключено","Display":"Экран","Drop file to upload":"Перетащите файл для загрузки","Dummy":"Макет","Enable notifications":"Включить уведомления","Enable WiFi":"Включить WiFi","Encrypted":"Зашифровано","Error":"Ошибка","Error while getting data":"Ошибка во время получения данных","Error while reconnecting":"Ошибка переподключения","Ethernet":"Проводная сеть","Executes remote shell commands":"Выполняет удалённые команды shell","Failed to download file":"Не удалось загрузить файл","Fast Forward":"Перемотка вперёд","File Name":"Имя файла","Filter":"Фильтр","Find Device":"Обнаружить устройство","Fingerprint":"Отпечаток пальца","Frequency":"Частота","Full":"Полный","General":"Общие","Get":"Получить","Get clipboard contents":"Получить содержимое буфера обмена","Go Back":"Назад","Go Forward":"Вперёд","Go to Device List":"Открыть список устройств","Good":"Хорошее","Hardware":"Железо","Health":"Состояние","Height":"Высота","Help":"Помощь","Hide Screen":"Спрятать экран","Home":"Домашний экран","Hostname":"Имя хоста","Incorrect login details":"Некорректные логин или пароль","Info":"Инфо","Inspect Device":"Инспектировать устройство","Inspecting is currently only supported in WebView":"Инспектирование пока поддерживается в WebView","Inspector":"Инспекто","Installation canceled by user.":"Установка отменена пользователем.","Installation failed due to an unknown error.":"Установка не удалась по неизвестной причине.","Installation succeeded.":"Установка прошла успешно.","Installation timed out.":"Время установки истекло.","Installing app...":"Устанавливаем приложение...","Key":"Ключ","Keys":"Ключи","Landscape":"Ландшафт","Language":"Язык","Launch Activity":"Запустить приложение","Launching activity...":"Приложение запускается...","Level":"Уровень","Local Settings":"Локальные настройки","Location":"Местоположение","Logs":"Журнал","Maintenance":"Обслуживание","Manage Apps":"Управление приложениями","Manufacturer":"Производитель","Memory":"Память","Menu":"Меню","Mobile":"Мобильный","Model":"Модель","More about Access Tokens":"Подробнее о ключах доступа","More about ADB Keys":"Подробнее о ADB ключах","Mute":"Выключить звук","Name":"Имя","Native":"Нативный","Navigation":"Навигация","Network":"Сеть","Next":"Следующий","No":"Нет","No access tokens":"Ключи доступа отсутствуют","No ADB keys":"ADB ключи отсутствуют","No clipboard data":"В буфере обмена нет данных","No cookies to show":"Отсутствуют cookies","No devices connected":"Нет подключенных устройств","No photo available":"Отсутствует фото","No Ports Forwarded":"Отсутствуют перенаправленные порты","No screenshots taken":"Снимки экрана отсутствуют","Normal Mode":"Нормальный режим","Not Charging":"Не заряжается","Notes":"Записи","Notifications":"Уведомления","Number":"Число","Oops!":"Ой","Open":"Открыть","Orientation":"Ориентация","Package":"Пакет","Password":"Пароль","Phone":"Телефон","Physical Device":"Физическое устройство","Place":"Место","Platform":"Платформа","Play/Pause":"Играть/Пауза","Please enter a valid email":"Пожалуйста, введите корректный email","Please enter your email":"Пожалуйста, введите email","Please enter your name":"Пожалуйста введите ваше имя","Please enter your password":"Пожалуйста введите пароль","Port":"Порт","Port Forwarding":"Перенаправление портов","Portrait":"Портетный","Power":"Энергия","Power Source":"Источник энергии","Preparing":"Подготовка","Press Back button":"Нажмите кнопку Назад","Press Home button":"Нажмите кнопку Домой","Press Menu button":"Нажмите кнопку Меню","Previous":"Предыдущий","Processing...":"Обрабатываю...","Product":"Продукт","Pushing app...":"Загружаю приложение на устройство...","Ready":"Готово","Reconnected successfully.":"Переподключился успешно.","Refresh":"Обновить","Released":"Свободно","Reload":"Перезагрузить","Remote debug":"Удалённая отладка","Remove":"Удалить","Reset":"Сбросить","Reset all browser settings":"Сбросить все настройки браузера","Reset Settings":"Сбросить настройки","Restart Device":"Перезагрузить устройство","Retrieving the device screen has timed out.":"Попытка получить снимок устройства не завершилась вовремя.","Retry":"Повторить","Rewind":"Перемотать назад","Rotate Left":"Повернуть влево","Rotate Right":"Повернуть вправо","Run":"Выполнить","Run JavaScript":"Выполнить JavaScript","Run the following on your command line to debug the device from your Browser":"Выполните эту команду, чтобы отладить устройство из вашего Браузера","Run the following on your command line to debug the device from your IDE":"Выполните эту команду, чтобы отладить устройство из вашего IDE","Run this command to copy the key to your clipboard":"Выполните эту команду, чтобы скопировать ключ в буфер обмена","Sample of log format":"Образец формата журнал","Save Logs":"сохранить журнал","Save ScreenShot":"Сохранить скриншот","Save...":"Сохранить..","Screen":"Экран","Screenshot":"Снимок экрана","Screenshots":"Снимки экрана","SD Card Mounted":"SD карта подключена","Search":"Поиск","Serial":"Серийный номер","Server error. Check log output.":"Ошибка сервера. Проверьте журнал.","Set":"Установить","Set Cookie":"Установить cookie","Settings":"Настройки","Shell":"Командная оболочка","Show Screen":"Показать экран","Sign In":"Войти","Sign Out":"Выйти","Silent Mode":"Тихий режим","Size":"Размер","Socket connection was lost":"Подключение через socket потеряно","Someone stole your device.":"Кто-то утащил ваше устройство","Special Keys":"Специальные кнопки","Start/Stop Logging":"Начать/Остановить журналирование","Status":"Статус","Stop":"Стоп","Stop Using":"Освободить","Store Account":"Учетная запись магазина приложений","Sub Type":"Подтип","Switch Charset":"Переключить кодировку","Take Pageshot (Needs WebView running)":"Сделать снимок странички (WebView должен быть запущен)","Take Screenshot":"Сделать снимок экрана","Temperature":"Температура","Text":"Текст","The current view is marked secure and cannot be viewed remotely.":"Текущий просмотр отмечен как безопасный и к нему нельзя получить доступ удалённо.","The device will be unavailable for a moment.":"Устройство будет временно недоступно.","The existing package could not be deleted.":"Существующий пакет не может быть удалён.","The new package couldn\'t be installed because the verification did not succeed.":"Пакет не может быть установлен из-за ошибки верификации.","The new package couldn\'t be installed because the verification timed out.":"Пакет не может быть установлен из-за превышения времени верификации.","The new package couldn\'t be installed in the specified install location because the media is not available.":"Пакет не может быть установлен в указанное место поскольку оно недоступно.","The new package couldn\'t be installed in the specified install location.":"Пакет не может быть установлен в указанное место.","The new package has an older version code than the currently installed package.":"Новый пакет имеет более старую версию, чем уже установленный.","The package archive file is invalid.":"Файл архива программы повреждён.","The package is already installed.":"Пакет уже установлен.","The parser encountered an unexpected exception.":"Возникла непредвиденная исключительная ситуация во время работы синтаксического анализатора.","The parser encountered some structural problem in the manifest.":"Синтаксический анализатор обнаружил структурные проблемы в манифесте.","The parser found inconsistent certificates on the files in the .apk.":"Синтаксический анализатор обнаружил несовместимый сертификат в .apk файле","The parser was given a path that is not a file, or does not end with the expected \'.apk\' extension.":"Синтаксическому анализатору был передан не путь к файлу, или имя файла не заканчивается на \'.apk\'.","The parser was unable to retrieve the AndroidManifest.xml file.":"Синтаксический анализатор не смог получить файл AndroidManifest.xml","The requested shared user does not exist.":"Требуемый общий пользователь не существует.","The system failed to install the package because of system issues.":"Не удалось установить пакет по причине системной ошибки","The system failed to install the package because the user is restricted from installing apps.":"Не удалось установить пакет, так как данному пользователю запрещена установка приложений.","The URI passed in is invalid.":"Невалидный URI.","TID":"TID","Time":"Время","Tip:":"Подсказка:","Toggle Web/Native":"Переключить Web/Native","Total Devices":"Всего устройств","Try to reconnect":"Попробовать подключиться","Type":"Тип","Unauthorized":"Неавторизован","Uninstall":"Удалить","Unknown":"Неизвестный","Unknown reason.":"Неизвестная причина.","Upload failed":"Загрузка завершилась неудачно","Upload From Link":"Загрузить по ссылке","Upload unknown error":"Неизвестная ошибка загрузки","Uploaded file is not valid":"Загруженный файл не валиден","Uploading...":"Загружается...","Usable Devices":"Доступные устройства","USB":"USB","Usb speed":"Скорость USB","Use":"Использовать","User":"Пользователь","Username":"Имя пользователя","Using":"Используется","Version":"Версия","Version Update":"Обновление версии","Vibrate Mode":"Режим вибрации","Voltage":"Напряжение","Volume":"Звук","Volume Down":"Тише","Volume Up":"Громче","Web":"Интернет","Width":"Ширина","WiFi":"WiFi","WiMAX":"WiMAX","Wireless":"Беспроводное","X DPI":"X DPI","Y DPI":"Y DPI","Yes":"Да","You (or someone else) kicked the device.":"Вы (или кто-то еще) отключили устройство."}}');

/***/ }),
/* 646 */
/***/ ((module) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"zh-Hant":{"-":"-","A new version of STF is available":"STF有新版本可下载","A package is already installed with the same name.":"已安裝相同名稱的軟體囉。","Access Tokens":"存取憑證","Account":"帳號","Action":"動作","Actions":"更多動作","Activity":"活動","Add":"新增","Admin mode has been disabled.":"停用 Admin 模式","Admin mode has been enabled.":"啟用 Admin 模式","Advanced":"進階","Airplane Mode":"飛行模式","App Store":"App Store","App Upload":"上傳 App","Apps":"Apps","Are you sure you want to reboot this device?":"你確定要重開這台裝置 ?","Automation":"自動化","Available":"可用","Back":"返回","Battery":"電池","Battery Health":"電池健康","Battery Level":"電池電量","Battery Source":"電池電源","Battery Status":"電池狀態","Battery Temp":"電池溫度","Bluetooth":"藍芽","Browser":"瀏覽器","Busy":"忙碌","Busy Devices":"忙碌中的裝置","Camera":"相機","Cancel":"取消","Cannot access specified URL":"無法進入指定網址","Carrier":"電信商","Category":"分類","Charging":"充電中","Check errors below":"請確認下面的錯誤","Clear":"清除","Clipboard":"剪貼簿","Connected":"已連線","Connected successfully.":"連線成功","Control":"控制","Cores":"核心","CPU":"CPU","Current rotation:":"目前螢幕方向：","Customize":"自訂","Data":"資料","Date":"日期","Delete":"刪除","Details":"細項","Developer":"開發者","Device":"裝置","Device Photo":"裝置相片","Device Settings":"裝置設定","Device was disconnected":"裝置已離線","Devices":"裝置","Disable WiFi":"關閉 WiFi","Discharging":"放電中","Disconnected":"離線","Display":"顯示","Drop file to upload":"拖曳到此上傳","Enable notifications":"開啟通知","Enable WiFi":"開啟 WiFi","Error":"錯誤","Error while getting data":"取得資料時錯誤","Error while reconnecting":"重新連線時錯誤","Failed to download file":"下載檔案失敗","Fast Forward":"快轉","File Explorer":"檔案瀏覽器","File Name":"文件名","Filter":"篩選","Find Device":"尋找裝置","Fingerprint":"指紋","FPS":"FPS","Frequency":"頻率","General":"一般","Generate Access Token":"產生存取憑證","Get":"擷取","Get clipboard contents":"取得剪貼簿內容","Go Back":"返回","Go to Device List":"前往裝置清單","Good":"良好","Hardware":"硬體","Health":"健康","Height":"高度","Help":"幫助","Hide Screen":"隱藏畫面","ID":"ID","IMEI":"IMEI","Incorrect login details":"不正確的登入資訊","Info":"資訊","Inspect Device":"查看裝置","Inspector":"檢查器","Installation canceled by user.":"使用者取消安裝","Installation failed due to an unknown error.":"不明原因的安裝錯誤","Installation succeeded.":"安裝成功","Installation timed out.":"安裝超時","Installing app...":"App 安裝中...","Landscape":"橫式","Language":"語言","Launch Activity":"執行活動","Launching activity...":"活動執行中","Level":"電量","Local Settings":"本機設定","Location":"位置","Lock Rotation":"鎖定螢幕旋轉","Maintenance":"維護","Manage Apps":"管理 Apps","Manner Mode":"管理模式","Manufacturer":"製造商","Media":"媒體","Memory":"記憶體","Menu":"選單","Model":"型號","More about Access Tokens":"關於存取憑證","Mute":"靜音","Name":"名稱","Navigation":"導航","Network":"網路","Next":"下一首","No access tokens":"沒有存取憑證","No clipboard data":"剪貼簿無資料","No device screen":"沒有裝置畫面","No devices connected":"無裝置連線","No photo available":"沒有可用的照片","No screenshots taken":"尚未拍截圖","Normal Mode":"正常模式","Not Charging":"未充電","Notes":"備註","Notifications":"通知","Offline":"離線","Oops!":"糟糕了！有錯誤發生","Open":"開啟","Orientation":"螢幕方向","OS":"平台","Overheat":"過熱","Package":"套件","Password":"密碼","Permissions":"權限","Phone":"手機","Phone ICCID":"手機 ICCID","Phone IMEI":"手機 IMEI","Physical Device":"實體裝置","Place":"位置","Platform":"平台","Play/Pause":"播放 / 暫停","Please enter a valid email":"請輸入正確的 email","Please enter your email":"請輸入你的 email","Please enter your LDAP username":"請輸入你的 LDAP 帳號","Please enter your name":"請輸入你的名字","Please enter your password":"請輸入你的密碼","Please enter your Store password":"請輸入你儲存的密碼","Please enter your Store username":"請輸入你儲存的帳號","Power":"電源鍵","Power Source":"電源","Preparing":"準備中","Press Back button":"按返回鍵","Press Home button":"按主目錄鍵","Press Menu button":"按選單鍵","Previous":"上一首","Processing...":"處理中...","Product":"產品","Pushing app...":"App 傳送中...","RAM":"記憶體","Ready":"就緒","Reconnected successfully.":"重新連線成功","Refresh":"更新","Released":"發佈","Reload":"重新讀取","Remote debug":"遠端除蟲","Remove":"移除","Reset":"重設","Reset all browser settings":"重設所有瀏覽器設定","Reset Settings":"重設設定","Restart Device":"裝置重新啟動","Retrieving the device screen has timed out.":"取得裝置畫面已超時","Retry":"重試","Rewind":"倒帶","ROM":"唯讀記憶體","Rotate Left":"向左旋轉","Rotate Right":"向右旋轉","Run":"執行","Run JavaScript":"執行 JavaScript","Sample of log format":"日誌格式示例","Save Logs":"保存日誌","Save ScreenShot":"儲存螢幕截圖","Screen":"螢幕尺寸","Screenshot":"螢幕截圖","Screenshots":"更多螢幕截圖","SD Card Mounted":"已安裝 SD 卡","Search":"搜尋","Selects Next IME":"選擇下一個輸入法","Serial":"序號","Server":"伺服器","Server error. Check log output.":"伺服器錯誤. 請確認輸出的紀錄","Settings":"設定","Show Screen":"顯示畫面","Sign In":"登入","Sign Out":"登出","Silent Mode":"靜音模式","SIM":"SIM","Size":"尺寸","Socket connection was lost":"Socket 失去連線","Someone stole your device.":"別人偷了你的裝置.","Special Keys":"特殊按鍵","Start/Stop Logging":"開始 / 停止 紀錄","Status":"狀態","Stop":"停止","Stop Using":"停止使用","Store Account":"儲存帳號","Sub Type":"次類別","Switch Charset":"切換大小寫","Tag":"標籤","Take Pageshot (Needs WebView running)":"取得頁面截圖 (需執行 WebView)","Take Screenshot":"截圖","Temperature":"溫度","Text":"文字","The current view is marked secure and cannot be viewed remotely.":"目前的畫面已被保護，無法從遠端監看","The device will be unavailable for a moment.":"此裝置暫時無法使用","The existing package could not be deleted.":"現存的套件無法刪除","The new package couldn\'t be installed because the verification did not succeed.":"新套件無法安裝，驗證不成功．","The new package couldn\'t be installed because the verification timed out.":"驗證超時，新套件無法安裝","The new package couldn\'t be installed in the specified install location because the media is not available.":"目前媒體無法使用，無法安裝新套件到指定位置","The new package couldn\'t be installed in the specified install location.":"無法安裝新套件到指定位置","The new package failed because it contains a content provider with thesame authority as a provider already installed in the system.":"新套件安裝失敗，相同的內容供應商授權已存在．","The new package failed because the current SDK version is newer than that required by the package.":" 新套件安裝失敗，因為目前的 SDK 版本太新","The new package failed because the current SDK version is older than that required by the package.":"新套件安裝失敗，目前 SDK 版本太舊","The new package uses a feature that is not available.":"新套件使用尚未支援的功能","The package is already installed.":"套件已安裝","Time":"時間","Tip:":"提示:","Title":"標題","Toggle Web/Native":"切換 Web / Native","Total Devices":"所有裝置","translate":"翻譯","Try to reconnect":"嘗試重新連線","Type":"類型","Unauthorized":"未授權","Uninstall":"移除","Unknown":"未知","Unknown reason.":"未知原因","Unlock Rotation":"解除螢幕旋轉","Upload failed":"上傳失敗","Upload From Link":"從連結上傳","Upload unknown error":"未知的上傳錯誤","Uploaded file is not valid":"上傳的檔案無效","Uploading...":"上傳中...","Usable Devices":"可用的裝置","USB":"USB","Usb speed":"Usb 速度","Use":"使用","User":"使用者","Username":"帳號","Using":"使用中","Version":"版本","Version Update":"版本更新","Vibrate Mode":"震動模式","VNC":"VNC","Voltage":"電壓","Volume":"音量","Volume Down":"降低音量","Volume Up":"提高音量","Warning:":"警告：","Web":"網頁","Width":"寬度","WiFi":"WiFi","WiMAX":"WiMAX","You (or someone else) kicked the device.":"你 (或別人) 把裝置踢掉了."}}');

/***/ }),
/* 647 */
/***/ ((module) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"zh_CN":{"-":"VNC（虚拟网络计算机远程工具）远程登录","A new version of STF is available":"STF有新版本可下载","A package is already installed with the same name.":"已经安装了一个相同名字的安装包","A previously installed package of the same name has a different signature than the new package (and the old package\'s data was not removed).":"新安装包同之前的某个同名安装包发生了签名冲突(老的安装包的数据没有移除)","A secure container mount point couldn\'t be accessed on external media.":"外部存储无法访问安全容器挂载点","ABI":"ABI","AC":"AC","Access Tokens":"访问令牌","Account":"帐户","Action":"动作","Actions":"更多动作","Activity":"活动","ADB Keys":"安卓调试桥密钥","Add":"添加","Add ADB Key":"添加ADB Key","Add Key":"添加Key","Add the following ADB Key to STF?":"添加以下的ADB Key到STF?","Admin mode has been disabled.":"管理员模式已关闭","Admin mode has been enabled.":"管理员模式已启用","Advanced":"高级","Advanced Input":"高级输入","Airplane Mode":"飞行模式","App Store":"应用商店","App Upload":"上传APP","Apps":"应用程序","Are you sure you want to reboot this device?":"你确定要重启这台设备么？","Automation":"自动化","Available":"可用","Back":"返回","Battery":"电池","Battery Health":"电池健康","Battery Level":"电池电量","Battery Source":"电池电源","Battery Status":"电池状态","Battery Temp":"电池温度","Bluetooth":"蓝牙","Browser":"浏览器","Busy":"繁忙","Busy Devices":"繁忙的设备","Camera":"相机","Cancel":"取消","Cannot access specified URL":"无法访问指定的URL","Carrier":"信号","Category":"分类","Charging":"充电中","Check errors below":"检查下列错误","Clear":"清除","Clipboard":"剪贴板","Cold":"冷却","Connected":"已连接","Connected successfully.":"连接成功","Control":"控制","Cookies":"Cookies","Cores":"核","CPU":"CPU","CPU Platform":"CPU平台","Current rotation:":"当前屏幕旋转","Customize":"自定义","D-pad Center":"模拟键--中间","D-pad Down":"模拟键--下","D-pad Left":"模拟键--左","D-pad Right":"模拟键--右","D-pad Up":"模拟键--上","Dashboard":"控制面板","Data":"数据","Date":"日期","Dead":"无效","Delete":"删除","Density":"密度","Details":"细节","Developer":"开发者","Device":"设备","Device cannot get kicked from the group":"设备无法从该组移出","Device is not present anymore for some reason.":"设备由于某些原因找不到","Device is present but offline.":"设备已找到但处于离线状态","Device Photo":"设备照片","Device Settings":"设备设置","Device was disconnected":"设备已断开连接","Device was kicked by automatic timeout.":"设备由于超时已被移出","Devices":"设备","Disable WiFi":"关闭WIFI","Discharging":"未充电","Disconnected":"断开连接","Display":"播放","Drop file to upload":"拖放文件到这里以上传","Dummy":"虚拟的","Enable notifications":"允许提醒","Enable WiFi":"启用WIFI","Encrypted":"加密的","Error":"错误","Error while getting data":"获取数据时发生错误","Error while reconnecting":"重新连接时发生错误","Ethernet":"以太网","Executes remote shell commands":"执行远程shell命令","Failed to download file":"文件下载失败","Fast Forward":"快进","File Explorer":"文件管理器","File Name":"文件名","Filter":"过滤器","Find Device":"查找设备","Fingerprint":"指纹","FPS":"FPS","Frequency":"频率","Full":"全部","General":"通用","Generate Access Token":"生成访问令牌","Generate Login for VNC":"生成登录VNC","Generate New Token":"生成新令牌","Get":"获取","Get clipboard contents":"获取剪贴板内容","Go Back":"返回","Go Forward":"前进","Go to Device List":"跳转到设备列表","Good":"良好","Hardware":"硬件","Health":"健康","Height":"高度","Help":"帮助","Hide Screen":"隐藏屏幕","Home":"主屏界面","Host":"主机地址","Hostname":"主机名","ICCID":"集成电路卡识别码","ID":"ID","IMEI":"IMEI","Incorrect login details":"登录信息错误","Info":"信息","Inspect Device":"被检查设备","Inspecting is currently only supported in WebView":"检查目前只支持网页视图","Inspector":"检查器","Installation canceled by user.":"用户已取消安装。","Installation failed due to an unknown error.":"未知原因导致安装失败","Installation succeeded.":"安装成功","Installation timed out.":"安装超时","Installing app...":"安装 app...","Key":"密钥","Keys":"按键","Landscape":"横排","Language":"语言","Launch Activity":"启动活动","Launching activity...":"活动启动中...","Level":"等级","Local Settings":"本地设置","Location":"位置","Lock Rotation":"锁定屏幕旋转","Logs":"日志","Maintenance":"维护","Make sure to copy your access token now. You won\'t be able to see it again.":"请确保已备份您的身份验证凭证，此凭证后续将不再显示！","Manage Apps":"管理Apps","Manner Mode":"管理模式","Manufacturer":"制造商","Media":"媒体","Memory":"内存","Menu":"菜单","Mobile":"手机","Mobile DUN":"手机网络桥接","Mobile High Priority":"移动网络最高优先级","Mobile MMS":"手机彩信","Mobile SUPL":"平面定位特定移动数据连接","Model":"型号","More about Access Tokens":"关于身份验证凭证","More about ADB Keys":"更多关于安卓调试桥密钥","Mute":"静音","Name":"名称","Native":"本地","Navigation":"导航","Network":"网络","Next":"下一步","No":"否","No access tokens":"没有身份验证凭证","No ADB keys":"没有安卓调试桥的密钥","No clipboard data":"剪贴板没有数据","No cookies to show":"没有本地cookies缓存","No device screen":"没有设备画面","No devices connected":"无设备连接","No photo available":"沒有可用的照片","No Ports Forwarded":"没有端口转发","No screenshots taken":"未拍截图","Normal Mode":"正常模式\\"","Not Charging":"未充电","Notes":"标注","Nothing to inspect":"无需检查","Notifications":"通知","Number":"数字","Offline":"离线","Oops!":"出错了！","Open":"打开","Orientation":"屏幕方向","OS":"操作系统","Over Voltage":"电压过高","Overheat":"过热","Package":"程序安装包","Password":"密码","Permissions":"权限","Phone":"手机","Phone ICCID":"手机集成电路卡识别码（手机SIM卡唯一识别码）","Phone IMEI":"手机国际移动设备标识","Physical Device":"物理设备","PID":"进程号","Place":"位置","Platform":"平台","Play/Pause":"播放/暂停","Please enter a valid email":"请输入正确格式的 email","Please enter your email":"请输入您的 email","Please enter your LDAP username":"请输入您的LDAP用户名","Please enter your name":"请输入您的姓名","Please enter your password":"请输入您的密码","Please enter your Store password":"请输入您所保存的密码","Please enter your Store username":"输入您所保存的用户名","Port":"端口","Port Forwarding":"转发端口","Portrait":"竖排","Power":"电源","Power Source":"电源来源","Preparing":"准备中","Press Back button":"按后退键","Press Home button":"按Home键","Press Menu button":"按菜单键","Previous":"先前的","Processing...":"处理中...","Product":"产品","Pushing app...":"正在推送 app...","RAM":"随机存取存储器","Ready":"就绪","Reconnected successfully.":"重新连接成功","Refresh":"刷新","Released":"释放","Reload":"重新加载","Remote debug":"远程调试","Remove":"移除","Reset":"重置","Reset all browser settings":"重置所有浏览器设置","Reset Settings":"重置设置","Restart Device":"重启设备","Retrieving the device screen has timed out.":"获取设备画面超时","Retry":"重试","Rewind":"回滚","Roaming":"漫游状态","ROM":"ROM","Rotate Left":"向左翻转","Rotate Right":"向右翻转","Run":"运行","Run JavaScript":"运行 JavaScript","Run the following on your command line to debug the device from your Browser":"运行下面的命令行从您的浏览器中调试设备","Run the following on your command line to debug the device from your IDE":"运行下面命令行从您的IDE调试设备","Run this command to copy the key to your clipboard":"运行此命令将密钥复制到剪贴板","Sample of log format":"日志格式示例","Save Logs":"保存日志","Save ScreenShot":"保存屏幕截图","Save...":"正在保存","Screen":"屏幕","Screenshot":"屏幕截图","Screenshots":"更多屏幕截图","SD Card Mounted":"SD卡已加载","SDK":"SDK","Search":"搜索","Selects Next IME":"选择下一个输入法","Serial":"串行","Server":"服务器","Server error. Check log output.":"服务器错误，请检查输出的日志纪录。","Set":"设置","Set Cookie":"设置cookies缓存","Settings":"设置","Shell":"Shell脚本","Show Screen":"显示屏幕","Sign In":"登录","Sign Out":"注销","Silent Mode":"静音模式","SIM":"SIM","Size":"大小","Socket connection was lost":"双向的通信连接丢失","Someone stole your device.":"有人占用了你的设备","Special Keys":"特殊要点","Start/Stop Logging":"开始 / 停止 日志纪录","Status":"状态","Stop":"停止","Stop Using":"停止使用","Store Account":"保存账号","Sub Type":"子类型","Switch Charset":"切换字符集","Tag":"标签","Take Pageshot (Needs WebView running)":"使用截图(需要WebView 运行)","Take Screenshot":"屏幕截图","Temperature":"温度","Text":"文字","The current view is marked secure and cannot be viewed remotely.":"当前视图有安全标记，并且不能远程查看","The device will be unavailable for a moment.":"此设备将暂时无法使用","The existing package could not be deleted.":"现有的程序包可能不会被删除","The new package couldn\'t be installed because the verification did not succeed.":"新包不能安装，因为验证没有成功。","The new package couldn\'t be installed because the verification timed out.":"新包不能安装，因为验证超时。","The new package couldn\'t be installed in the specified install location because the media is not available.":"新包不能安装在指定的安装位置，因为媒体是不可用。","The new package couldn\'t be installed in the specified install location.":"新包不能安装在指定的安装位置。","The new package failed because it contains a content provider with thesame authority as a provider already installed in the system.":"新的包安装失败，因为它包含了相同名字的认证已经安装在系统中提供一个内容提供商。","The new package failed because it has specified that it is a test-only package and the caller has not supplied the INSTALL_ALLOW_TEST flag.":"新包安装失败，因为它已被指定，它是一个用于测试的包和调用者并没有给它提供INSTALL_ALLOW_TEST标志。","The new package failed because the current SDK version is newer than that required by the package.":"新的包安装失败，因为当前的SDK版本比程序包所依赖的版本高。","The new package failed because the current SDK version is older than that required by the package.":"新的包安装失败，因为当前的SDK比安装包所依赖的版本低。","The new package failed while optimizing and validating its dex files, either because there was not enough storage or the validation failed.":"新的包安装失败，可能没有验证dex文件或者没有足够的存储导致验证失败。","The new package has an older version code than the currently installed package.":"新的软件包比目前安装的软件包代码版本旧。","The new package is assigned a different UID than it previously held.":"新包分配置的UID与它以前持有的不同。","The new package uses a feature that is not available.":"新包使用功能不可用。","The new package uses a shared library that is not available.":"新包使用的共享库不可用","The package archive file is invalid.":"包存档文件无效。","The package being installed contains native code, but none that is compatible with the device\'s CPU_ABI.":"正在安装软件包中包含源生内核，但都没有与该设备的CPU_ABI兼容。","The package changed from what the calling program expected.":"程序包被预期调用的程序所修改。","The package is already installed.":"程序包已经安装。","The package manager service found that the device didn\'t have enough storage space to install the app.":"包管理器服务发现该设备没有足够的存储空间来安装应用程序。","The parser did not find any actionable tags (instrumentation or application) in the manifest.":"解析器没有发现清单任何可操作的标签(工具或应用程序) 。","The parser did not find any certificates in the .apk.":"解析器没有发现在.apk文件的任何证书。","The parser encountered a bad or missing package name in the manifest.":"分析器在清单中遇到损坏或丢失的包名。","The parser encountered a bad shared user id name in the manifest.":"分析器在清单中遇到坏共享的用户ID名称。","The parser encountered a CertificateEncodingException in one of the files in the .apk.":"解析器在的apk的一个文件时遇到证书编码异常。","The parser encountered an unexpected exception.":"解析器遇到意外的异常。","The parser encountered some structural problem in the manifest.":"分析器在清单中遇到的一些结构性问题。","The parser found inconsistent certificates on the files in the .apk.":"分析器发现在的apk文件不一致的证书。","The parser was given a path that is not a file, or does not end with the expected \'.apk\' extension.":"解析器所获得的是一个路径而不是一个文件，或者文件没有以‘.apk’结尾。","The parser was unable to retrieve the AndroidManifest.xml file.":"分析器无法检索AndroidManifest.xml文件。","The requested shared user does not exist.":"所请求的共享用户不存在","The system failed to install the package because its packaged native code did not match any of the ABIs supported by the system.":"该系统无法安装此软件包，因为其包装原生内核没有匹配到应系统所支持的的ABI。","The system failed to install the package because of system issues.":"因为系统问题无法安装程序。","The system failed to install the package because the user is restricted from installing apps.":"程序安装失败，因为用户被限制安装该应用软件","The URI passed in is invalid.":"该URI传递无效","TID":"线程号","Time":"时间","Tip:":"提示：","Title":"标题","Toggle Web/Native":"切换网络/本地","Total Devices":"设备总数","translate":"翻译","Try to reconnect":"尝试重新连接","Type":"类型","Unauthorized":"未授权的","Uninstall":"卸载","Unknown":"未知","Unknown reason.":"未知的原因。","Unlock Rotation":"旋转解锁","Unspecified Failure":"未指定的故障","Upload failed":"上传失败","Upload From Link":"从超链接上传","Upload unknown error":"未知的上传错误","Uploaded file is not valid":"上传的文件是无效的","Uploading...":"上传中...","Usable Devices":"可用的设备","USB":"USB","Usb speed":"USB速度","Use":"使用","User":"用户","Username":"用户名","Using":"使用中","Using Fallback":"使用回退","Version":"版本","Version Update":"版本更新","Vibrate Mode":"振动模式","VNC":"VNC","Voltage":"电压","Volume":"音量","Volume Down":"减小音量","Volume Up":"增加音量","Warning:":"警告：","Web":"Web","Width":"宽度","WiFi":"WiFi","WiMAX":"WiMAX","Wireless":"无线","X DPI":"X DPI","Y DPI":"Y DPI","Yes":"是","You (or someone else) kicked the device.":"你 (或別人) 已移出了该设备。"}}');

/***/ })
]]);